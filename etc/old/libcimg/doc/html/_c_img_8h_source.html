<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/media/mylib/kantharos/workspace/STM/libcimg/CImg.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/media/mylib/kantharos/workspace/STM/libcimg/CImg.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> #</span>
<a name="l00003"></a>00003 <span class="comment"> #  File        : CImg.h</span>
<a name="l00004"></a>00004 <span class="comment"> #</span>
<a name="l00005"></a>00005 <span class="comment"> #  Description : The C++ Template Image Processing Library</span>
<a name="l00006"></a>00006 <span class="comment"> #                ( http://cimg.sourceforge.net )</span>
<a name="l00007"></a>00007 <span class="comment"> #</span>
<a name="l00008"></a>00008 <span class="comment"> #  Copyright   : David Tschumperle</span>
<a name="l00009"></a>00009 <span class="comment"> #                ( http://www.greyc.ensicaen.fr/~dtschump/ )</span>
<a name="l00010"></a>00010 <span class="comment"> #</span>
<a name="l00011"></a>00011 <span class="comment"> #  License     : CeCILL-C</span>
<a name="l00012"></a>00012 <span class="comment"> #</span>
<a name="l00013"></a>00013 <span class="comment"> #  This software is governed by the CeCILL-C license under French law and</span>
<a name="l00014"></a>00014 <span class="comment"> #  abiding by the rules of distribution of free software.  You can  use,</span>
<a name="l00015"></a>00015 <span class="comment"> #  modify and or redistribute the software under the terms of the CeCILL-C</span>
<a name="l00016"></a>00016 <span class="comment"> #  license as circulated by CEA, CNRS and INRIA at the following URL</span>
<a name="l00017"></a>00017 <span class="comment"> #  &quot;http://www.cecill.info&quot;.</span>
<a name="l00018"></a>00018 <span class="comment"> #</span>
<a name="l00019"></a>00019 <span class="comment"> #  As a counterpart to the access to the source code and  rights to copy,</span>
<a name="l00020"></a>00020 <span class="comment"> #  modify and redistribute granted by the license, users are provided only</span>
<a name="l00021"></a>00021 <span class="comment"> #  with a limited warranty  and the software&#39;s author,  the holder of the</span>
<a name="l00022"></a>00022 <span class="comment"> #  economic rights,  and the successive licensors  have only  limited</span>
<a name="l00023"></a>00023 <span class="comment"> #  liability.</span>
<a name="l00024"></a>00024 <span class="comment"> #</span>
<a name="l00025"></a>00025 <span class="comment"> #  In this respect, the user&#39;s attention is drawn to the risks associated</span>
<a name="l00026"></a>00026 <span class="comment"> #  with loading,  using,  modifying and/or developing or reproducing the</span>
<a name="l00027"></a>00027 <span class="comment"> #  software by the user in light of its specific status of free software,</span>
<a name="l00028"></a>00028 <span class="comment"> #  that may mean  that it is complicated to manipulate,  and  that  also</span>
<a name="l00029"></a>00029 <span class="comment"> #  therefore means  that it is reserved for developers  and  experienced</span>
<a name="l00030"></a>00030 <span class="comment"> #  professionals having in-depth computer knowledge. Users are therefore</span>
<a name="l00031"></a>00031 <span class="comment"> #  encouraged to load and test the software&#39;s suitability as regards their</span>
<a name="l00032"></a>00032 <span class="comment"> #  requirements in conditions enabling the security of their systems and/or</span>
<a name="l00033"></a>00033 <span class="comment"> #  data to be ensured and,  more generally, to use and operate it in the</span>
<a name="l00034"></a>00034 <span class="comment"> #  same conditions as regards security.</span>
<a name="l00035"></a>00035 <span class="comment"> #</span>
<a name="l00036"></a>00036 <span class="comment"> #  The fact that you are presently reading this means that you have had</span>
<a name="l00037"></a>00037 <span class="comment"> #  knowledge of the CeCILL-C license and that you accept its terms.</span>
<a name="l00038"></a>00038 <span class="comment"> #</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a>00040 <span class="preprocessor">#ifndef cimg_version</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#define cimg_version 1.20</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">// Detect Microsoft VC++ 6.0 compiler to get some workarounds afterwards.</span>
<a name="l00044"></a>00044 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER&lt;1300</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">#define cimg_use_visualcpp6</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="comment">// Avoid strange &#39;deprecated&#39; warning messages with Visual C++ .NET.</span>
<a name="l00049"></a>00049 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER&gt;=1300</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define _CRT_SECURE_NO_DEPRECATE 1</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#define _CRT_NONSTDC_NO_DEPRECATE 1</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">// Standard C++ includes.</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;cstdio&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;cstdarg&gt;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;cstring&gt;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &lt;ctime&gt;</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">// Overcome VisualC++ 6.0 compilers namespace &#39;std::&#39; bug.</span>
<a name="l00063"></a>00063 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span><span class="preprocessor">#define std</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a>00067 <span class="comment">/*</span>
<a name="l00068"></a>00068 <span class="comment"> #</span>
<a name="l00069"></a>00069 <span class="comment"> # Set CImg configuration flags.</span>
<a name="l00070"></a>00070 <span class="comment"> #</span>
<a name="l00071"></a>00071 <span class="comment"> # If compilation flags are not adapted to your system,</span>
<a name="l00072"></a>00072 <span class="comment"> # you may override their values, before including</span>
<a name="l00073"></a>00073 <span class="comment"> # the header file &quot;CImg.h&quot; (use the #define directive).</span>
<a name="l00074"></a>00074 <span class="comment"> #</span>
<a name="l00075"></a>00075 <span class="comment"> */</span>
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">// Try to detect the current system and set value of &#39;cimg_OS&#39;.</span>
<a name="l00078"></a>00078 <span class="preprocessor">#ifndef cimg_OS</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#if defined(sun)         || defined(__sun)      || defined(linux)       || defined(__linux) \</span>
<a name="l00080"></a>00080 <span class="preprocessor"> || defined(__linux__)   || defined(__CYGWIN__) || defined(BSD)         || defined(__FreeBSD__) \</span>
<a name="l00081"></a>00081 <span class="preprocessor"> || defined(__OPENBSD__) || defined(__MACOSX__) || defined(__APPLE__)   || defined(sgi) \</span>
<a name="l00082"></a>00082 <span class="preprocessor"> || defined(__sgi)</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="comment">// Unix-like (Linux, Solaris, BSD, MacOSX, Irix,...).</span>
<a name="l00084"></a>00084 <span class="preprocessor">#define cimg_OS            1</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span><span class="preprocessor">#ifndef cimg_display_type</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="preprocessor">#define cimg_display_type  1</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#ifndef cimg_color_terminal</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">#define cimg_color_terminal</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="preprocessor">#elif defined(_WIN32) || defined(__WIN32__)</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="comment">// Windows.</span>
<a name="l00093"></a>00093 <span class="preprocessor">#define cimg_OS            2</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">#ifndef cimg_display_type</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#define cimg_display_type  2</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="comment">// Unknown configuration : ask for minimal dependencies (no display).</span>
<a name="l00099"></a>00099 <span class="preprocessor">#define cimg_OS            0</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#ifndef cimg_display_type</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#define cimg_display_type  0</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a>00106 <span class="comment">// Debug configuration.</span>
<a name="l00107"></a>00107 <span class="comment">//</span>
<a name="l00108"></a>00108 <span class="comment">// Set &#39;cimg_debug&#39; to : 0 to remove debug messages (exceptions are still thrown anyway).</span>
<a name="l00109"></a>00109 <span class="comment">//                       1 to display debug messages on standard error output (console).</span>
<a name="l00110"></a>00110 <span class="comment">//                       2 to display debug messages with modal windows (default behavior).</span>
<a name="l00111"></a>00111 <span class="comment">//                       3 to do as 2 + add extra memory access warnings (may slow down the code)</span>
<a name="l00112"></a>00112 <span class="preprocessor">#ifndef cimg_debug</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span><span class="preprocessor">#define cimg_debug         2</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00116"></a>00116 <span class="comment">// Allow compatibility with older CImg versions.</span>
<a name="l00117"></a>00117 <span class="comment">//</span>
<a name="l00118"></a>00118 <span class="comment">// Define &#39;cimg_strict&#39; to avoid keeping the compatibility with older code</span>
<a name="l00119"></a>00119 <span class="preprocessor">#ifndef cimg_strict</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#define CImgl CImgList</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#define cimgl_map cimglist_for</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span><span class="preprocessor">#define cimglist_map cimglist_for</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map cimg_for</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapoff cimg_foroff</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapX cimg_forX</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapY cimg_forY</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapZ cimg_forZ</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapV cimg_forV</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXY cimg_forXY</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXZ cimg_forXZ</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXV cimg_forXV</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapYZ cimg_forYZ</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapYV cimg_forYV</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapZV cimg_forZV</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXYZ cimg_forXYZ</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXYV cimg_forXYV</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXZV cimg_forXZV</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapYZV cimg_forYZV</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#define cimg_mapXYZV cimg_forXYZV</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapX cimg_for_insideX</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapY cimg_for_insideY</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapZ cimg_for_insideZ</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapV cimg_for_insideV</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapXY cimg_for_insideXY</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#define cimg_imapXYZ cimg_for_insideXYZ</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapX cimg_for_borderX</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapY cimg_for_borderY</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapZ cimg_for_borderZ</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapV cimg_for_borderV</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapXY cimg_for_borderXY</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="preprocessor">#define cimg_bmapXYZ cimg_for_borderXYZ</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapX cimg_for2X</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapY cimg_for2Y</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapZ cimg_for2Z</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapXY cimg_for2XY</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapXZ cimg_for2XZ</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapYZ cimg_for2YZ</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="preprocessor">#define cimg_2mapXYZ cimg_for2XYZ</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapX cimg_for3X</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapY cimg_for3Y</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapZ cimg_for3Z</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapXY cimg_for3XY</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapXZ cimg_for3XZ</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapYZ cimg_for3YZ</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span><span class="preprocessor">#define cimg_3mapXYZ cimg_for3XYZ</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapX cimg_for4X</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapY cimg_for4Y</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapZ cimg_for4Z</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapXY cimg_for4XY</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapXZ cimg_for4XZ</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapYZ cimg_for4YZ</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span><span class="preprocessor">#define cimg_4mapXYZ cimg_for4XYZ</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapX cimg_for5X</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapY cimg_for5Y</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapZ cimg_for5Z</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapXY cimg_for5XY</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapXZ cimg_for5XZ</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapYZ cimg_for5YZ</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#define cimg_5mapXYZ cimg_for5XYZ</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map2x2x1 cimg_for2x2</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map3x3x1 cimg_for3x3</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map4x4x1 cimg_for4x4</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map5x5x1 cimg_for5x5</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map2x2 cimg_for2x2</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map3x3 cimg_for3x3</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map4x4 cimg_for4x4</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map5x5 cimg_for5x5</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map3x3x3 cimg_for3x3x3</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span><span class="preprocessor">#define cimg_map2x2x2 cimg_for2x2x2</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#define CImg_2x2x1 CImg_2x2</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3x3x1 CImg_3x3</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span><span class="preprocessor">#define CImg_4x4x1 CImg_4x4</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span><span class="preprocessor">#define CImg_5x5x1 CImg_5x5</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="preprocessor">#define scroll translate</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span><span class="preprocessor">#define cimg_convert_path cimg_imagemagick_path</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="preprocessor">#define load_convert load_imagemagick</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#define save_convert save_imagemagick</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span>
<a name="l00200"></a>00200 <span class="comment">// Architecture-dependent includes.</span>
<a name="l00201"></a>00201 <span class="preprocessor">#if cimg_OS==1</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00203"></a>00203 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00204"></a>00204 <span class="preprocessor">#elif cimg_OS==2</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="preprocessor">#include &lt;windows.h&gt;</span>
<a name="l00206"></a>00206 <span class="comment">// Discard unuseful macros in windows.h</span>
<a name="l00207"></a>00207 <span class="comment">// to allow compilation with VC++ 6.0.</span>
<a name="l00208"></a>00208 <span class="preprocessor">#ifdef min</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span><span class="preprocessor">#undef min</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span><span class="preprocessor">#undef max</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span><span class="preprocessor">#undef abs</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="comment">// Display-dependent includes.</span>
<a name="l00215"></a>00215 <span class="preprocessor">#if cimg_display_type==1</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span><span class="preprocessor">#include &lt;X11/Xlib.h&gt;</span>
<a name="l00217"></a>00217 <span class="preprocessor">#include &lt;X11/Xutil.h&gt;</span>
<a name="l00218"></a>00218 <span class="preprocessor">#include &lt;X11/keysym.h&gt;</span>
<a name="l00219"></a>00219 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00220"></a>00220 <span class="preprocessor">#ifdef cimg_use_xshm</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/ipc.h&gt;</span>
<a name="l00222"></a>00222 <span class="preprocessor">#include &lt;sys/shm.h&gt;</span>
<a name="l00223"></a>00223 <span class="preprocessor">#include &lt;X11/extensions/XShm.h&gt;</span>
<a name="l00224"></a>00224 <span class="preprocessor">#endif</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span><span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="preprocessor">#include &lt;X11/extensions/Xrandr.h&gt;</span>
<a name="l00227"></a>00227 <span class="preprocessor">#endif</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00230"></a>00230 <span class="comment">// Configuration for native PNG and JPEG support</span>
<a name="l00231"></a>00231 <span class="comment">//</span>
<a name="l00232"></a>00232 <span class="comment">// Define &#39;cimg_use_png&#39;, &#39;cimg_use_jpeg&#39; or &#39;cimg_use_tiff&#39; to enable native PNG, JPEG or TIFF files support.</span>
<a name="l00233"></a>00233 <span class="comment">// This requires you link your code with the zlib/png, jpeg or tiff libraries.</span>
<a name="l00234"></a>00234 <span class="comment">// Without these libraries, PNG,JPEG and TIFF support will be done by the Image Magick&#39;s &#39;convert&#39; tool,</span>
<a name="l00235"></a>00235 <span class="comment">// or byt the GraphicsMagick &#39;gm&#39; tool if installed</span>
<a name="l00236"></a>00236 <span class="comment">// (this is the case on most unix plateforms).</span>
<a name="l00237"></a>00237 <span class="preprocessor">#ifdef cimg_use_png</span>
<a name="l00238"></a>00238 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00239"></a>00239 <span class="preprocessor">#include &quot;png.h&quot;</span>
<a name="l00240"></a>00240 }
<a name="l00241"></a>00241 <span class="preprocessor">#endif</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span><span class="preprocessor">#ifdef cimg_use_jpeg</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00244"></a>00244 <span class="preprocessor">#include &quot;jpeglib.h&quot;</span>
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 <span class="preprocessor">#endif</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span><span class="preprocessor">#ifdef cimg_use_tiff</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00249"></a>00249 <span class="preprocessor">#include &quot;tiffio.h&quot;</span>
<a name="l00250"></a>00250 }
<a name="l00251"></a>00251 <span class="preprocessor">#endif</span>
<a name="l00252"></a>00252 <span class="preprocessor"></span><span class="preprocessor">#ifdef cimg_use_magick</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span><span class="preprocessor">#include &quot;Magick++.h&quot;</span>
<a name="l00254"></a>00254 <span class="preprocessor">#endif</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span><span class="preprocessor">#ifdef cimg_use_fftw3</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00257"></a>00257 <span class="preprocessor">#include &quot;fftw3.h&quot;</span>
<a name="l00258"></a>00258 }
<a name="l00259"></a>00259 <span class="preprocessor">#endif</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span>
<a name="l00261"></a>00261 <span class="comment">/*</span>
<a name="l00262"></a>00262 <span class="comment"> #</span>
<a name="l00263"></a>00263 <span class="comment"> #</span>
<a name="l00264"></a>00264 <span class="comment"> # Define some useful macros. Macros of the CImg Library are prefixed by &#39;cimg_&#39;</span>
<a name="l00265"></a>00265 <span class="comment"> # Documented macros below may be safely used in your own code</span>
<a name="l00266"></a>00266 <span class="comment"> # (particularly useful for option parsing, image loops and neighborhoods).</span>
<a name="l00267"></a>00267 <span class="comment"> #</span>
<a name="l00268"></a>00268 <span class="comment"> #</span>
<a name="l00269"></a>00269 <span class="comment"> */</span>
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">// Macros used to describe the program usage, and retrieve command line arguments</span>
<a name="l00272"></a>00272 <span class="comment">// (See corresponding module &#39;Retrieving command line arguments&#39; in the generated documentation).</span>
<a name="l00273"></a>00273 <span class="preprocessor">#define cimg_usage(usage) cimg_library::cimg::option((char*)0,argc,argv,(char*)0,usage)</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span><span class="preprocessor">#define cimg_help(str)    cimg_library::cimg::option((char*)0,argc,argv,str,(char*)0)</span>
<a name="l00275"></a>00275 <span class="preprocessor"></span><span class="preprocessor">#define cimg_option(name,defaut,usage) cimg_library::cimg::option(name,argc,argv,defaut,usage)</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span>
<a name="l00277"></a>00277 <span class="comment">// Macros used for neighborhood definitions and manipulations.</span>
<a name="l00278"></a>00278 <span class="comment">// (see module &#39;Using Image Loops&#39; in the generated documentation).</span>
<a name="l00279"></a>00279 <span class="preprocessor">#define CImg_2(I,T)   T   I##cc,I##nc=0</span>
<a name="l00280"></a>00280 <span class="preprocessor"></span><span class="preprocessor">#define CImg_2x2(I,T) T   I##cc,I##nc=0,I##cn,I##nn=0</span>
<a name="l00281"></a>00281 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3(I,T)   T   I##pp,I##cp,I##np=0</span>
<a name="l00282"></a>00282 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3x3(I,T) T   I##pp,I##cp,I##np=0,I##pc,I##cc,I##nc=0,I##pn,I##cn,I##nn=0</span>
<a name="l00283"></a>00283 <span class="preprocessor"></span><span class="preprocessor">#define CImg_4(I,T)   T   I##pp,I##cp,I##np=0,I##ap=0</span>
<a name="l00284"></a>00284 <span class="preprocessor"></span><span class="preprocessor">#define CImg_4x4(I,T) T   I##pp,I##cp,I##np=0,I##ap=0, \</span>
<a name="l00285"></a>00285 <span class="preprocessor">                          I##pc,I##cc,I##nc=0,I##ac=0, \</span>
<a name="l00286"></a>00286 <span class="preprocessor">                          I##pn,I##cn,I##nn=0,I##an=0, \</span>
<a name="l00287"></a>00287 <span class="preprocessor">                          I##pa,I##ca,I##na=0,I##aa=0</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span><span class="preprocessor">#define CImg_5(I,T)   T   I##bb,I##pb,I##cb,I##nb=0,I##ab=0</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span><span class="preprocessor">#define CImg_5x5(I,T) T   I##bb,I##pb,I##cb,I##nb=0,I##ab=0, \</span>
<a name="l00290"></a>00290 <span class="preprocessor">                          I##bp,I##pp,I##cp,I##np=0,I##ap=0, \</span>
<a name="l00291"></a>00291 <span class="preprocessor">                          I##bc,I##pc,I##cc,I##nc=0,I##ac=0, \</span>
<a name="l00292"></a>00292 <span class="preprocessor">                          I##bn,I##pn,I##cn,I##nn=0,I##an=0, \</span>
<a name="l00293"></a>00293 <span class="preprocessor">                          I##ba,I##pa,I##ca,I##na=0,I##aa=0</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span><span class="preprocessor">#define CImg_2x2x2(I,T) T I##ccc,I##ncc=0,I##cnc,I##nnc=0, \</span>
<a name="l00295"></a>00295 <span class="preprocessor">                          I##ccn,I##ncn=0,I##cnn,I##nnn=0</span>
<a name="l00296"></a>00296 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3x3x3(I,T) T I##ppp,I##cpp,I##npp=0,I##pcp,I##ccp,I##ncp=0,I##pnp,I##cnp,I##nnp=0, \</span>
<a name="l00297"></a>00297 <span class="preprocessor">                          I##ppc,I##cpc,I##npc=0,I##pcc,I##ccc,I##ncc=0,I##pnc,I##cnc,I##nnc=0, \</span>
<a name="l00298"></a>00298 <span class="preprocessor">                          I##ppn,I##cpn,I##npn=0,I##pcn,I##ccn,I##ncn=0,I##pnn,I##cnn,I##nnn=0</span>
<a name="l00299"></a>00299 <span class="preprocessor"></span>
<a name="l00300"></a>00300 <span class="preprocessor">#define CImg_2x2_ref(I,T,tab)   T &amp;I##cc=(tab)[0],&amp;I##nc=(tab)[1],&amp;I##cn=(tab)[2],&amp;I##nn=(tab)[3]</span>
<a name="l00301"></a>00301 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3x3_ref(I,T,tab)   T &amp;I##pp=(tab)[0],&amp;I##cp=(tab)[1],&amp;I##np=(tab)[2], \</span>
<a name="l00302"></a>00302 <span class="preprocessor">                                  &amp;I##pc=(tab)[3],&amp;I##cc=(tab)[4],&amp;I##nc=(tab)[5], \</span>
<a name="l00303"></a>00303 <span class="preprocessor">                                  &amp;I##pn=(tab)[6],&amp;I##cn=(tab)[7],&amp;I##nn=(tab)[8]</span>
<a name="l00304"></a>00304 <span class="preprocessor"></span><span class="preprocessor">#define CImg_4x4_ref(I,T,tab)   T &amp;I##pp=(tab)[0],&amp;I##cp=(tab)[1],&amp;I##np=(tab)[2],&amp;I##ap=(tab)[3], \</span>
<a name="l00305"></a>00305 <span class="preprocessor">                                  &amp;I##pc=(tab)[4],&amp;I##cc=(tab)[5],&amp;I##nc=(tab)[6],&amp;I##ap=(tab)[7], \</span>
<a name="l00306"></a>00306 <span class="preprocessor">                                  &amp;I##pn=(tab)[8],&amp;I##cn=(tab)[9],&amp;I##nn=(tab)[10],&amp;I##aa=(tab)[11], \</span>
<a name="l00307"></a>00307 <span class="preprocessor">                                  &amp;I##pa=(tab)[12],&amp;I##ca=(tab)[13],&amp;I##na=(tab)[14],&amp;I##aa=(tab)[15]</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span><span class="preprocessor">#define CImg_5x5_ref(I,T,tab)   T &amp;I##bb=(tab)[0],&amp;I##pb=(tab)[1],&amp;I##cb=(tab)[2],&amp;I##nb=(tab)[3],&amp;I##ab=(tab)[4], \</span>
<a name="l00309"></a>00309 <span class="preprocessor">                                  &amp;I##bp=(tab)[5],&amp;I##pp=(tab)[6],&amp;I##cp=(tab)[7],&amp;I##np=(tab)[8],&amp;I##ap=(tab)[9], \</span>
<a name="l00310"></a>00310 <span class="preprocessor">                                  &amp;I##bc=(tab)[10],&amp;I##pc=(tab)[11],&amp;I##cc=(tab)[12],&amp;I##nc=(tab)[13],&amp;I##ac=(tab)[14], \</span>
<a name="l00311"></a>00311 <span class="preprocessor">                                  &amp;I##bn=(tab)[15],&amp;I##pn=(tab)[16],&amp;I##cn=(tab)[17],&amp;I##nn=(tab)[18],&amp;I##an=(tab)[19], \</span>
<a name="l00312"></a>00312 <span class="preprocessor">                                  &amp;I##ba=(tab)[20],&amp;I##pa=(tab)[21],&amp;I##ca=(tab)[22],&amp;I##na=(tab)[23],&amp;I##aa=(tab)[24]</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span><span class="preprocessor">#define CImg_2x2x2_ref(I,T,tab) T &amp;I##ccc=(tab)[0],&amp;I##ncc=(tab)[1],&amp;I##cnc=(tab)[2],&amp;I##nnc=(tab)[3], \</span>
<a name="l00314"></a>00314 <span class="preprocessor">                                  &amp;I##ccn=(tab)[4],&amp;I##ncn=(tab)[5],&amp;I##cnn=(tab)[6],&amp;I##nnn=(tab)[7]</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span><span class="preprocessor">#define CImg_3x3x3_ref(I,T,tab) T &amp;I##ppp=(tab)[0],&amp;I##cpp=(tab)[1],&amp;I##npp=(tab)[2], \</span>
<a name="l00316"></a>00316 <span class="preprocessor">                                  &amp;I##pcp=(tab)[3],&amp;I##ccp=(tab)[4],&amp;I##ncp=(tab)[5], \</span>
<a name="l00317"></a>00317 <span class="preprocessor">                                  &amp;I##pnp=(tab)[6],&amp;I##cnp=(tab)[7],&amp;I##nnp=(tab)[8], \</span>
<a name="l00318"></a>00318 <span class="preprocessor">                                  &amp;I##ppc=(tab)[9],&amp;I##cpc=(tab)[10],&amp;I##npc=(tab)[11], \</span>
<a name="l00319"></a>00319 <span class="preprocessor">                                  &amp;I##pcc=(tab)[12],&amp;I##ccc=(tab)[13],&amp;I##ncc=(tab)[14], \</span>
<a name="l00320"></a>00320 <span class="preprocessor">                                  &amp;I##pnc=(tab)[15],&amp;I##cnc=(tab)[16],&amp;I##nnc=(tab)[17], \</span>
<a name="l00321"></a>00321 <span class="preprocessor">                                  &amp;I##ppn=(tab)[18],&amp;I##cpn=(tab)[19],&amp;I##npn=(tab)[20], \</span>
<a name="l00322"></a>00322 <span class="preprocessor">                                  &amp;I##pcn=(tab)[21],&amp;I##ccn=(tab)[22],&amp;I##ncn=(tab)[23], \</span>
<a name="l00323"></a>00323 <span class="preprocessor">                                  &amp;I##pnn=(tab)[24],&amp;I##cnn=(tab)[25],&amp;I##nnn=(tab)[26]</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span>
<a name="l00325"></a>00325 <span class="preprocessor">#define cimg_copy2x2(J,I)   I##cc=J##cc, I##nc=J##nc, I##cn=J##cn, I##nn=J##nn</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span><span class="preprocessor">#define cimg_copy3x3(J,I)   I##pp=J##pp, I##cp=J##cp, I##np=J##np, \</span>
<a name="l00327"></a>00327 <span class="preprocessor">                            I##pc=J##pc, I##cc=J##cc, I##nc=J##nc, \</span>
<a name="l00328"></a>00328 <span class="preprocessor">                            I##pn=J##pn, I##cn=J##cn, I##nn=J##nn</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span><span class="preprocessor">#define cimg_copy5x5(J,I)   I##bb=J##bb, I##pb=J##pb, I##cb=J##cb, I##nb=J##nb, I##ab=J##ab, \</span>
<a name="l00330"></a>00330 <span class="preprocessor">                            I##bp=J##bp, I##pp=J##pp, I##cp=J##cp, I##np=J##np, I##ap=J##ap, \</span>
<a name="l00331"></a>00331 <span class="preprocessor">                            I##bc=J##bc, I##pc=J##pc, I##cc=J##cc, I##nc=J##nc, I##ac=J##ac, \</span>
<a name="l00332"></a>00332 <span class="preprocessor">                            I##bn=J##bn, I##pn=J##pn, I##cn=J##cn, I##nn=J##nn, I##an=J##an, \</span>
<a name="l00333"></a>00333 <span class="preprocessor">                            I##ba=J##ba, I##pa=J##pa, I##ca=J##ca, I##na=J##na, I##aa=J##aa</span>
<a name="l00334"></a>00334 <span class="preprocessor"></span>
<a name="l00335"></a>00335 <span class="preprocessor">#define cimg_squaresum2x2(I)   ( I##cc*I##cc + I##nc*I##nc + I##cn*I##cn + I##nn*I##nn )</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span><span class="preprocessor">#define cimg_squaresum3x3(I)   ( I##pp*I##pp + I##cp*I##cp + I##np*I##np + \</span>
<a name="l00337"></a>00337 <span class="preprocessor">                                 I##pc*I##pc + I##cc*I##cc + I##nc*I##nc + \</span>
<a name="l00338"></a>00338 <span class="preprocessor">                                 I##pn*I##pn + I##cn*I##cn + I##nn*I##nn )</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span><span class="preprocessor">#define cimg_squaresum4x4(I)   ( I##pp*I##pp + I##cp*I##cp + I##np*I##np + I##ap*I##ap + \</span>
<a name="l00340"></a>00340 <span class="preprocessor">                                 I##pc*I##pc + I##cc*I##cc + I##nc*I##nc + I##ac*I##ac + \</span>
<a name="l00341"></a>00341 <span class="preprocessor">                                 I##pn*I##pn + I##cn*I##cn + I##nn*I##nn + I##an*I##an + \</span>
<a name="l00342"></a>00342 <span class="preprocessor">                                 I##pa*I##pa + I##ca*I##ca + I##na*I##na + I##aa*I##aa )</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span><span class="preprocessor">#define cimg_squaresum5x5(I)   ( I##bb*I##bb + I##pb*I##pb + I##cb*I##cb + I##nb*I##nb + I##ab*I##ab + \</span>
<a name="l00344"></a>00344 <span class="preprocessor">                                 I##bp*I##bp + I##pp*I##pp + I##cp*I##cp + I##np*I##np + I##ap*I##ap + \</span>
<a name="l00345"></a>00345 <span class="preprocessor">                                 I##bc*I##bc + I##pc*I##pc + I##cc*I##cc + I##nc*I##nc + I##ac*I##ac + \</span>
<a name="l00346"></a>00346 <span class="preprocessor">                                 I##bn*I##bn + I##pn*I##pn + I##cn*I##cn + I##nn*I##nn + I##an*I##an + \</span>
<a name="l00347"></a>00347 <span class="preprocessor">                                 I##ba*I##ba + I##pa*I##pa + I##ca*I##ca + I##na*I##na + I##aa*I##aa )</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span><span class="preprocessor">#define cimg_squaresum2x2x2(I) ( I##ccc*I##ccc + I##ncc*I##ncc + I##cnc*I##cnc + I##nnc*I##nnc + \</span>
<a name="l00349"></a>00349 <span class="preprocessor">                                 I##ccn*I##ccn + I##ncn*I##ncn + I##cnn*I##cnn + I##nnn*I##nnn )</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span><span class="preprocessor">#define cimg_squaresum3x3x3(I) ( I##ppp*I##ppp + I##cpp*I##cpp + I##npp*I##npp + \</span>
<a name="l00351"></a>00351 <span class="preprocessor">                                 I##pcp*I##pcp + I##ccp*I##ccp + I##ncp*I##ncp + \</span>
<a name="l00352"></a>00352 <span class="preprocessor">                                 I##pnp*I##pnp + I##cnp*I##cnp + I##nnp*I##nnp + \</span>
<a name="l00353"></a>00353 <span class="preprocessor">                                 I##ppc*I##ppc + I##cpc*I##cpc + I##npc*I##npc + \</span>
<a name="l00354"></a>00354 <span class="preprocessor">                                 I##pcc*I##pcc + I##ccc*I##ccc + I##ncc*I##ncc + \</span>
<a name="l00355"></a>00355 <span class="preprocessor">                                 I##pnc*I##pnc + I##cnc*I##cnc + I##nnc*I##nnc + \</span>
<a name="l00356"></a>00356 <span class="preprocessor">                                 I##ppn*I##ppn + I##cpn*I##cpn + I##npn*I##npn + \</span>
<a name="l00357"></a>00357 <span class="preprocessor">                                 I##pcn*I##pcn + I##ccn*I##ccn + I##ncn*I##ncn + \</span>
<a name="l00358"></a>00358 <span class="preprocessor">                                 I##pnn*I##pnn + I##cnn*I##cnn + I##nnn*I##nnn )</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span>
<a name="l00360"></a>00360 <span class="preprocessor">#define cimg_corr2x2(I,m)   ( I##cc*(m)(0,0)+I##nc*(m)(1,0)+I##cn*(m)(0,1)+I##nn*(m)(1,1) )</span>
<a name="l00361"></a>00361 <span class="preprocessor"></span><span class="preprocessor">#define cimg_corr3x3(I,m)   ( I##pp*(m)(0,0)+I##cp*(m)(1,0)+I##np*(m)(2,0) + \</span>
<a name="l00362"></a>00362 <span class="preprocessor">                              I##pc*(m)(0,1)+I##cc*(m)(1,1)+I##nc*(m)(2,1) + \</span>
<a name="l00363"></a>00363 <span class="preprocessor">                              I##pn*(m)(0,2)+I##cn*(m)(1,2)+I##nn*(m)(2,2) )</span>
<a name="l00364"></a>00364 <span class="preprocessor"></span><span class="preprocessor">#define cimg_corr4x4(I,m)   ( I##pp*(m)(0,0)+I##cp*(m)(1,0)+I##np*(m)(2,0)+I##ap*(m)(3,0) + \</span>
<a name="l00365"></a>00365 <span class="preprocessor">                              I##pc*(m)(0,1)+I##cc*(m)(1,1)+I##nc*(m)(2,1)+I##ac*(m)(3,1) + \</span>
<a name="l00366"></a>00366 <span class="preprocessor">                              I##pn*(m)(0,2)+I##cn*(m)(1,2)+I##nn*(m)(2,2)+I##an*(m)(3,2) + \</span>
<a name="l00367"></a>00367 <span class="preprocessor">                              I##pa*(m)(0,3)+I##ca*(m)(1,3)+I##na*(m)(2,3)+I##aa*(m)(3,3) )</span>
<a name="l00368"></a>00368 <span class="preprocessor"></span><span class="preprocessor">#define cimg_corr5x5(I,m)   ( I##bb*(m)(0,0)+I##pb*(m)(1,0)+I##cb*(m)(2,0)+I##nb*(m)(3,0)+I##ab*(m)(4,0) + \</span>
<a name="l00369"></a>00369 <span class="preprocessor">                              I##bp*(m)(0,1)+I##pp*(m)(1,1)+I##cp*(m)(2,1)+I##np*(m)(3,1)+I##ap*(m)(4,1) + \</span>
<a name="l00370"></a>00370 <span class="preprocessor">                              I##bc*(m)(0,2)+I##pc*(m)(1,2)+I##cc*(m)(2,2)+I##nc*(m)(3,2)+I##ac*(m)(4,2) + \</span>
<a name="l00371"></a>00371 <span class="preprocessor">                              I##bn*(m)(0,3)+I##pn*(m)(1,3)+I##cn*(m)(2,3)+I##nn*(m)(3,3)+I##an*(m)(4,3) + \</span>
<a name="l00372"></a>00372 <span class="preprocessor">                              I##ba*(m)(0,4)+I##pa*(m)(1,4)+I##ca*(m)(2,4)+I##na*(m)(3,4)+I##aa*(m)(4,4) )</span>
<a name="l00373"></a>00373 <span class="preprocessor"></span><span class="preprocessor">#define cimg_corr2x2x2(I,m) ( I##ccc*(m)(0,0,0)+I##ncc*(m)(1,0,0)+I##cnc*(m)(0,1,0)+I##nnc*(m)(1,1,0) + \</span>
<a name="l00374"></a>00374 <span class="preprocessor">                              I##ccn*(m)(0,0,1)+I##ncn*(m)(1,0,1)+I##cnn*(m)(0,1,1)+I##nnn*(m)(1,1,1) )</span>
<a name="l00375"></a>00375 <span class="preprocessor"></span><span class="preprocessor">#define cimg_corr3x3x3(I,m) ( I##ppp*(m)(0,0,0)+I##cpp*(m)(1,0,0)+I##npp*(m)(2,0,0) + \</span>
<a name="l00376"></a>00376 <span class="preprocessor">                              I##pcp*(m)(0,1,0)+I##ccp*(m)(1,1,0)+I##ncp*(m)(2,1,0) + \</span>
<a name="l00377"></a>00377 <span class="preprocessor">                              I##pnp*(m)(0,2,0)+I##cnp*(m)(1,2,0)+I##nnp*(m)(2,2,0) + \</span>
<a name="l00378"></a>00378 <span class="preprocessor">                              I##ppc*(m)(0,0,1)+I##cpc*(m)(1,0,1)+I##npc*(m)(2,0,1) + \</span>
<a name="l00379"></a>00379 <span class="preprocessor">                              I##pcc*(m)(0,1,1)+I##ccc*(m)(1,1,1)+I##ncc*(m)(2,1,1) + \</span>
<a name="l00380"></a>00380 <span class="preprocessor">                              I##pnc*(m)(0,2,1)+I##cnc*(m)(1,2,1)+I##nnc*(m)(2,2,1) + \</span>
<a name="l00381"></a>00381 <span class="preprocessor">                              I##ppn*(m)(0,0,2)+I##cpn*(m)(1,0,2)+I##npn*(m)(2,0,2) + \</span>
<a name="l00382"></a>00382 <span class="preprocessor">                              I##pcn*(m)(0,1,2)+I##ccn*(m)(1,1,2)+I##ncn*(m)(2,1,2) + \</span>
<a name="l00383"></a>00383 <span class="preprocessor">                              I##pnn*(m)(0,2,2)+I##cnn*(m)(1,2,2)+I##nnn*(m)(2,2,2) )</span>
<a name="l00384"></a>00384 <span class="preprocessor"></span>
<a name="l00385"></a>00385 <span class="preprocessor">#define cimg_conv2x2(I,m)   ( I##cc*(m)(1,1)+I##nc*(m)(0,1)+I##cn*(m)(1,0)+I##nn*(m)(0,0) )</span>
<a name="l00386"></a>00386 <span class="preprocessor"></span><span class="preprocessor">#define cimg_conv3x3(I,m)   ( I##pp*(m)(2,2)+I##cp*(m)(1,2)+I##np*(m)(0,2) + \</span>
<a name="l00387"></a>00387 <span class="preprocessor">                              I##pc*(m)(2,1)+I##cc*(m)(1,1)+I##nc*(m)(0,1) + \</span>
<a name="l00388"></a>00388 <span class="preprocessor">                              I##pn*(m)(2,0)+I##cn*(m)(1,0)+I##nn*(m)(0,0) )</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span><span class="preprocessor">#define cimg_conv4x4(I,m)   ( I##pp*(m)(3,3)+I##cp*(m)(2,3)+I##np*(m)(1,3)+I##ap*(m)(0,3) + \</span>
<a name="l00390"></a>00390 <span class="preprocessor">                              I##pc*(m)(3,2)+I##cc*(m)(2,2)+I##nc*(m)(1,2)+I##ac*(m)(0,2) + \</span>
<a name="l00391"></a>00391 <span class="preprocessor">                              I##pn*(m)(3,1)+I##cn*(m)(2,1)+I##nn*(m)(1,1)+I##an*(m)(0,1) + \</span>
<a name="l00392"></a>00392 <span class="preprocessor">                              I##pa*(m)(3,0)+I##ca*(m)(2,0)+I##na*(m)(1,0)+I##aa*(m)(0,0) )</span>
<a name="l00393"></a>00393 <span class="preprocessor"></span><span class="preprocessor">#define cimg_conv5x5(I,m)   ( I##bb*(m)(4,4)+I##pb*(m)(3,4)+I##cb*(m)(2,4)+I##nb*(m)(1,4)+I##ab*(m)(0,4) + \</span>
<a name="l00394"></a>00394 <span class="preprocessor">                              I##bp*(m)(4,3)+I##pp*(m)(3,3)+I##cp*(m)(2,3)+I##np*(m)(1,3)+I##ap*(m)(0,3) + \</span>
<a name="l00395"></a>00395 <span class="preprocessor">                              I##bc*(m)(4,2)+I##pc*(m)(3,2)+I##cc*(m)(2,2)+I##nc*(m)(1,2)+I##ac*(m)(0,2) + \</span>
<a name="l00396"></a>00396 <span class="preprocessor">                              I##bn*(m)(4,1)+I##pn*(m)(3,1)+I##cn*(m)(2,1)+I##nn*(m)(1,1)+I##an*(m)(0,1) + \</span>
<a name="l00397"></a>00397 <span class="preprocessor">                              I##ba*(m)(4,0)+I##pa*(m)(3,0)+I##ca*(m)(2,0)+I##na*(m)(1,0)+I##aa*(m)(0,0) )</span>
<a name="l00398"></a>00398 <span class="preprocessor"></span><span class="preprocessor">#define cimg_conv2x2x2(I,m) ( I##ccc*(m)(1,1,1)+I##ncc*(m)(0,1,1)+I##cnc*(m)(1,0,1)+I##nnc*(m)(0,0,1) + \</span>
<a name="l00399"></a>00399 <span class="preprocessor">                              I##ccn*(m)(1,1,0)+I##ncn*(m)(0,1,0)+I##cnn*(m)(1,0,0)+I##nnn*(m)(0,0,0) )</span>
<a name="l00400"></a>00400 <span class="preprocessor"></span><span class="preprocessor">#define cimg_conv3x3x3(I,m) ( I##ppp*(m)(2,2,2)+I##cpp*(m)(1,2,2)+I##npp*(m)(0,2,2) + \</span>
<a name="l00401"></a>00401 <span class="preprocessor">                              I##pcp*(m)(2,1,2)+I##ccp*(m)(1,1,2)+I##ncp*(m)(0,1,2) + \</span>
<a name="l00402"></a>00402 <span class="preprocessor">                              I##pnp*(m)(2,0,2)+I##cnp*(m)(1,0,2)+I##nnp*(m)(0,0,2) + \</span>
<a name="l00403"></a>00403 <span class="preprocessor">                              I##ppc*(m)(2,2,1)+I##cpc*(m)(1,2,1)+I##npc*(m)(0,2,1) + \</span>
<a name="l00404"></a>00404 <span class="preprocessor">                              I##pcc*(m)(2,1,1)+I##ccc*(m)(1,1,1)+I##ncc*(m)(0,1,1) + \</span>
<a name="l00405"></a>00405 <span class="preprocessor">                              I##pnc*(m)(2,0,1)+I##cnc*(m)(1,0,1)+I##nnc*(m)(0,0,1) + \</span>
<a name="l00406"></a>00406 <span class="preprocessor">                              I##ppn*(m)(2,2,0)+I##cpn*(m)(1,2,0)+I##npn*(m)(0,2,0) + \</span>
<a name="l00407"></a>00407 <span class="preprocessor">                              I##pcn*(m)(2,1,0)+I##ccn*(m)(1,1,0)+I##ncn*(m)(0,1,0) + \</span>
<a name="l00408"></a>00408 <span class="preprocessor">                              I##pnn*(m)(2,0,0)+I##cnn*(m)(1,0,0)+I##nnn*(m)(0,0,0) )</span>
<a name="l00409"></a>00409 <span class="preprocessor"></span>
<a name="l00410"></a>00410 <span class="preprocessor">#define cimg_get2x2(img,x,y,z,v,I) \</span>
<a name="l00411"></a>00411 <span class="preprocessor">   I##cc=(img)(x,    y,z,v), I##nc=(img)(_n##x,    y,z,v), \</span>
<a name="l00412"></a>00412 <span class="preprocessor">   I##cn=(img)(x,_n##y,z,v), I##nn=(img)(_n##x,_n##y,z,v)</span>
<a name="l00413"></a>00413 <span class="preprocessor"></span><span class="preprocessor">#define cimg_get3x3(img,x,y,z,v,I) \</span>
<a name="l00414"></a>00414 <span class="preprocessor">  I##pp=(img)(_p##x,_p##y,z,v), I##cp=(img)(x,_p##y,z,v), I##np=(img)(_n##x,_p##y,z,v), \</span>
<a name="l00415"></a>00415 <span class="preprocessor">  I##pc=(img)(_p##x,    y,z,v), I##cc=(img)(x,    y,z,v), I##nc=(img)(_n##x,    y,z,v), \</span>
<a name="l00416"></a>00416 <span class="preprocessor">  I##pn=(img)(_p##x,_n##y,z,v), I##cn=(img)(x,_n##y,z,v), I##nn=(img)(_n##x,_n##y,z,v)</span>
<a name="l00417"></a>00417 <span class="preprocessor"></span><span class="preprocessor">#define cimg_get4x4(img,x,y,z,v,I) \</span>
<a name="l00418"></a>00418 <span class="preprocessor">  I##pp=(img)(_p##x,_p##y,z,v), I##cp=(img)(x,_p##y,z,v), I##np=(img)(_n##x,_p##y,z,v), I##ap=(img)(_a##x,_p##y,z,v), \</span>
<a name="l00419"></a>00419 <span class="preprocessor">  I##pc=(img)(_p##x,    y,z,v), I##cc=(img)(x,    y,z,v), I##nc=(img)(_n##x,    y,z,v), I##ac=(img)(_a##x,    y,z,v), \</span>
<a name="l00420"></a>00420 <span class="preprocessor">  I##pn=(img)(_p##x,_n##y,z,v), I##cn=(img)(x,_n##y,z,v), I##nn=(img)(_n##x,_n##y,z,v), I##an=(img)(_a##x,_n##y,z,v), \</span>
<a name="l00421"></a>00421 <span class="preprocessor">  I##pa=(img)(_p##x,_a##y,z,v), I##ca=(img)(x,_a##y,z,v), I##na=(img)(_n##x,_a##y,z,v), I##aa=(img)(_a##x,_a##y,z,v)</span>
<a name="l00422"></a>00422 <span class="preprocessor"></span><span class="preprocessor">#define cimg_get5x5(img,x,y,z,v,I) \</span>
<a name="l00423"></a>00423 <span class="preprocessor">  I##bb=(img)(_b##x,_b##y,z,v), I##pb=(img)(_p##x,_b##y,z,v), I##cb=(img)(x,_b##y,z,v), I##nb=(img)(_n##x,_b##y,z,v), I##ab=(img)(_a##x,_b##y,z,v), \</span>
<a name="l00424"></a>00424 <span class="preprocessor">  I##bp=(img)(_b##x,_p##y,z,v), I##pp=(img)(_p##x,_p##y,z,v), I##cp=(img)(x,_p##y,z,v), I##np=(img)(_n##x,_p##y,z,v), I##ap=(img)(_a##x,_p##y,z,v), \</span>
<a name="l00425"></a>00425 <span class="preprocessor">  I##bc=(img)(_b##x,    y,z,v), I##pc=(img)(_p##x,    y,z,v), I##cc=(img)(x,    y,z,v), I##nc=(img)(_n##x,    y,z,v), I##ac=(img)(_a##x,    y,z,v), \</span>
<a name="l00426"></a>00426 <span class="preprocessor">  I##bn=(img)(_b##x,_n##y,z,v), I##pn=(img)(_p##x,_n##y,z,v), I##cn=(img)(x,_n##y,z,v), I##nn=(img)(_n##x,_n##y,z,v), I##an=(img)(_a##x,_n##y,z,v), \</span>
<a name="l00427"></a>00427 <span class="preprocessor">  I##ba=(img)(_b##x,_a##y,z,v), I##pa=(img)(_p##x,_a##y,z,v), I##ca=(img)(x,_a##y,z,v), I##na=(img)(_n##x,_a##y,z,v), I##aa=(img)(_a##x,_a##y,z,v)</span>
<a name="l00428"></a>00428 <span class="preprocessor"></span><span class="preprocessor">#define cimg_get2x2x2(img,x,y,z,v,I) \</span>
<a name="l00429"></a>00429 <span class="preprocessor">  I##ccc=(img)(x,y,    z,v), I##ncc=(img)(_n##x,y,    z,v), I##cnc=(img)(x,_n##y,    z,v), I##nnc=(img)(_n##x,_n##y,    z,v), \</span>
<a name="l00430"></a>00430 <span class="preprocessor">  I##ccc=(img)(x,y,_n##z,v), I##ncc=(img)(_n##x,y,_n##z,v), I##cnc=(img)(x,_n##y,_n##z,v), I##nnc=(img)(_n##x,_n##y,_n##z,v)</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span><span class="preprocessor">#define cimg_get3x3x3(img,x,y,z,v,I) \</span>
<a name="l00432"></a>00432 <span class="preprocessor">  I##ppp=(img)(_p##x,_p##y,_p##z,v), I##cpp=(img)(x,_p##y,_p##z,v), I##npp=(img)(_n##x,_p##y,_p##z,v), \</span>
<a name="l00433"></a>00433 <span class="preprocessor">  I##pcp=(img)(_p##x,    y,_p##z,v), I##ccp=(img)(x,    y,_p##z,v), I##ncp=(img)(_n##x,    y,_p##z,v), \</span>
<a name="l00434"></a>00434 <span class="preprocessor">  I##pnp=(img)(_p##x,_n##y,_p##z,v), I##cnp=(img)(x,_n##y,_p##z,v), I##nnp=(img)(_n##x,_n##y,_p##z,v), \</span>
<a name="l00435"></a>00435 <span class="preprocessor">  I##ppc=(img)(_p##x,_p##y,    z,v), I##cpc=(img)(x,_p##y,    z,v), I##npc=(img)(_n##x,_p##y,    z,v), \</span>
<a name="l00436"></a>00436 <span class="preprocessor">  I##pcc=(img)(_p##x,    y,    z,v), I##ccc=(img)(x,    y,    z,v), I##ncc=(img)(_n##x,    y,    z,v), \</span>
<a name="l00437"></a>00437 <span class="preprocessor">  I##pnc=(img)(_p##x,_n##y,    z,v), I##cnc=(img)(x,_n##y,    z,v), I##nnc=(img)(_n##x,_n##y,    z,v), \</span>
<a name="l00438"></a>00438 <span class="preprocessor">  I##ppn=(img)(_p##x,_p##y,_n##z,v), I##cpn=(img)(x,_p##y,_n##z,v), I##npn=(img)(_n##x,_p##y,_n##z,v), \</span>
<a name="l00439"></a>00439 <span class="preprocessor">  I##pcn=(img)(_p##x,    y,_n##z,v), I##ccn=(img)(x,    y,_n##z,v), I##ncn=(img)(_n##x,    y,_n##z,v), \</span>
<a name="l00440"></a>00440 <span class="preprocessor">  I##pnn=(img)(_p##x,_n##y,_n##z,v), I##cnn=(img)(x,_n##y,_n##z,v), I##nnn=(img)(_n##x,_n##y,_n##z,v)</span>
<a name="l00441"></a>00441 <span class="preprocessor"></span>
<a name="l00442"></a>00442 <span class="comment">// Macros used to define special image loops.</span>
<a name="l00443"></a>00443 <span class="comment">// (see module &#39;Using Image Loops&#39; in the generated documentation).</span>
<a name="l00444"></a>00444 <span class="preprocessor">#define cimg_for(img,ptr,T_ptr)   for (T_ptr *ptr=(img).data+(img).size(); (ptr--)&gt;(img).data; )</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span><span class="preprocessor">#define cimglist_for(list,l)      for (unsigned int l=0; l&lt;(list).size; l++)</span>
<a name="l00446"></a>00446 <span class="preprocessor"></span><span class="preprocessor">#define cimglist_apply(list,fn)   cimglist_for(list,__##fn) (list)[__##fn].fn</span>
<a name="l00447"></a>00447 <span class="preprocessor"></span><span class="preprocessor">#define cimg_foroff(img,off)      for (unsigned int off=0; off&lt;(img).size(); off++)</span>
<a name="l00448"></a>00448 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forX(img,x)          for (int x=0; x&lt;(int)((img).width); x++)</span>
<a name="l00449"></a>00449 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forY(img,y)          for (int y=0; y&lt;(int)((img).height);y++)</span>
<a name="l00450"></a>00450 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forZ(img,z)          for (int z=0; z&lt;(int)((img).depth); z++)</span>
<a name="l00451"></a>00451 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forV(img,v)          for (int v=0; v&lt;(int)((img).dim);   v++)</span>
<a name="l00452"></a>00452 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXY(img,x,y)       cimg_forY(img,y) cimg_forX(img,x)</span>
<a name="l00453"></a>00453 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXZ(img,x,z)       cimg_forZ(img,z) cimg_forX(img,x)</span>
<a name="l00454"></a>00454 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forYZ(img,y,z)       cimg_forZ(img,z) cimg_forY(img,y)</span>
<a name="l00455"></a>00455 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXV(img,x,v)       cimg_forV(img,v) cimg_forX(img,x)</span>
<a name="l00456"></a>00456 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forYV(img,y,v)       cimg_forV(img,v) cimg_forY(img,y)</span>
<a name="l00457"></a>00457 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forZV(img,z,v)       cimg_forV(img,v) cimg_forZ(img,z)</span>
<a name="l00458"></a>00458 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXYZ(img,x,y,z)    cimg_forZ(img,z) cimg_forXY(img,x,y)</span>
<a name="l00459"></a>00459 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXYV(img,x,y,v)    cimg_forV(img,v) cimg_forXY(img,x,y)</span>
<a name="l00460"></a>00460 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXZV(img,x,z,v)    cimg_forV(img,v) cimg_forXZ(img,x,z)</span>
<a name="l00461"></a>00461 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forYZV(img,y,z,v)    cimg_forV(img,v) cimg_forYZ(img,y,z)</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span><span class="preprocessor">#define cimg_forXYZV(img,x,y,z,v) cimg_forV(img,v) cimg_forXYZ(img,x,y,z)</span>
<a name="l00463"></a>00463 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideX(img,x,n)       for (int x=(n); x&lt;(int)((img).width-(n)); x++)</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideY(img,y,n)       for (int y=(n); y&lt;(int)((img).height-(n)); y++)</span>
<a name="l00465"></a>00465 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideZ(img,z,n)       for (int z=(n); z&lt;(int)((img).depth-(n)); z++)</span>
<a name="l00466"></a>00466 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideV(img,v,n)       for (int v=(n); v&lt;(int)((img).dim-(n)); v++)</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideXY(img,x,y,n)    cimg_for_insideY(img,y,n) cimg_for_insideX(img,x,n)</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_insideXYZ(img,x,y,z,n) cimg_for_insideZ(img,z,n) cimg_for_insideXY(img,x,y,n)</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderX(img,x,n)       for (int x=0; x&lt;(int)((img).width);  x==(n)-1?(x=(img).width-(n)): x++)</span>
<a name="l00470"></a>00470 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderY(img,y,n)       for (int y=0; y&lt;(int)((img).height); y==(n)-1?(x=(img).height-(n)):y++)</span>
<a name="l00471"></a>00471 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderZ(img,z,n)       for (int z=0; z&lt;(int)((img).depth);  z==(n)-1?(x=(img).depth-(n)): z++)</span>
<a name="l00472"></a>00472 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderV(img,v,n)       for (int v=0; v&lt;(int)((img).dim);    v==(n)-1?(x=(img).dim-(n)):   v++)</span>
<a name="l00473"></a>00473 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderXY(img,x,y,n)    cimg_forY(img,y) for (int x=0; x&lt;(int)((img).width); (y&lt;(n) || y&gt;=(int)((img).height)-(n))?x++: \</span>
<a name="l00474"></a>00474 <span class="preprocessor">                                                          ((x&lt;(n)-1 || x&gt;=(int)((img).width)-(n))?x++:(x=(img).width-(n))))</span>
<a name="l00475"></a>00475 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for_borderXYZ(img,x,y,z,n) cimg_forYZ(img,y,z) for (int x=0; x&lt;(int)((img).width); (y&lt;(n) || y&gt;=(int)((img).height)-(n) || z&lt;(n) || z&gt;=(int)((img).depth)-(n))?x++: \</span>
<a name="l00476"></a>00476 <span class="preprocessor">                                                             ((x&lt;(n)-1 || x&gt;=(int)((img).width)-(n))?x++:(x=(img).width-(n))))</span>
<a name="l00477"></a>00477 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2X(img,x)         for (int x=0,_n##x=1; _n##x&lt;(int)((img).width)   || x==--_n##x; x++, _n##x++)</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2Y(img,y)         for (int y=0,_n##y=1; _n##y&lt;(int)((img).height)  || y==--_n##y; y++, _n##y++)</span>
<a name="l00479"></a>00479 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2Z(img,z)         for (int z=0,_n##z=1; _n##z&lt;(int)((img).depth)   || z==--_n##z; z++, _n##z++)</span>
<a name="l00480"></a>00480 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2XY(img,x,y)      cimg_for2Y(img,y) cimg_for2X(img,x)</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2XZ(img,x,z)      cimg_for2Z(img,z) cimg_for2X(img,x)</span>
<a name="l00482"></a>00482 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2YZ(img,y,z)      cimg_for2Z(img,z) cimg_for2Y(img,y)</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for2XYZ(img,x,y,z)   cimg_for2Z(img,z) cimg_for2XY(img,x,y)</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3X(img,x)         for (int x=0,_p##x=0,_n##x=1; _n##x&lt;(int)((img).width)  || x==--_n##x;  _p##x=x++,_n##x++)</span>
<a name="l00485"></a>00485 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3Y(img,y)         for (int y=0,_p##y=0,_n##y=1; _n##y&lt;(int)((img).height) || y==--_n##y;  _p##y=y++,_n##y++)</span>
<a name="l00486"></a>00486 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3Z(img,z)         for (int z=0,_p##z=0,_n##z=1; _n##z&lt;(int)((img).depth)  || z==--_n##z;  _p##z=z++,_n##z++)</span>
<a name="l00487"></a>00487 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3XY(img,x,y)      cimg_for3Y(img,y) cimg_for3X(img,x)</span>
<a name="l00488"></a>00488 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3XZ(img,x,z)      cimg_for3Z(img,z) cimg_for3X(img,x)</span>
<a name="l00489"></a>00489 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3YZ(img,y,z)      cimg_for3Z(img,z) cimg_for3Y(img,y)</span>
<a name="l00490"></a>00490 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for3XYZ(img,x,y,z)   cimg_for3Z(img,z) cimg_for3XY(img,x,y)</span>
<a name="l00491"></a>00491 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4X(img,x)         for (int _p##x=0,x=0,_n##x=1,_a##x=2; \</span>
<a name="l00492"></a>00492 <span class="preprocessor">                                       _a##x&lt;(int)((img).width)  || _n##x==--_a##x || x==(_a##x=--_n##x); \</span>
<a name="l00493"></a>00493 <span class="preprocessor">                                       _p##x=x++,_n##x++,_a##x++)</span>
<a name="l00494"></a>00494 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4Y(img,y)         for (int _p##y=0,y=0,_n##y=1,_a##y=2; \</span>
<a name="l00495"></a>00495 <span class="preprocessor">                                       _a##y&lt;(int)((img).height) || _n##y==--_a##y || y==(_a##y=--_n##y); \</span>
<a name="l00496"></a>00496 <span class="preprocessor">                                       _p##y=y++,_n##y++,_a##y++)</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4Z(img,z)         for (int _p##z=0,z=0,_n##z=1,_a##z=2; \</span>
<a name="l00498"></a>00498 <span class="preprocessor">                                       _a##z&lt;(int)((img).depth)  || _n##z==--_a##z || z==(_a##z=--_n##z); \</span>
<a name="l00499"></a>00499 <span class="preprocessor">                                       _p##z=z++,_n##z++,_a##z++)</span>
<a name="l00500"></a>00500 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4XY(img,x,y)      cimg_for4Y(img,y) cimg_for4X(img,x)</span>
<a name="l00501"></a>00501 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4XZ(img,x,z)      cimg_for4Z(img,z) cimg_for4X(img,x)</span>
<a name="l00502"></a>00502 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4YZ(img,y,z)      cimg_for4Z(img,z) cimg_for4Y(img,y)</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for4XYZ(img,x,y,z)   cimg_for4Z(img,z) cimg_for4XY(img,x,y)</span>
<a name="l00504"></a>00504 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5X(img,x)         for (int _b##x=0,_p##x=0,x=0,_n##x=1,_a##x=2; \</span>
<a name="l00505"></a>00505 <span class="preprocessor">                                       _a##x&lt;(int)((img).width)  || _n##x==--_a##x || x==(_a##x=--_n##x); \</span>
<a name="l00506"></a>00506 <span class="preprocessor">                                       _b##x=_p##x,_p##x=x++,_n##x++,_a##x++)</span>
<a name="l00507"></a>00507 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5Y(img,y)         for (int _b##y=0,_p##y=0,y=0,_n##y=1,_a##y=2; \</span>
<a name="l00508"></a>00508 <span class="preprocessor">                                       _a##y&lt;(int)((img).height) || _n##y==--_a##y || y==(_a##y=--_n##y); \</span>
<a name="l00509"></a>00509 <span class="preprocessor">                                       _b##y=_p##y,_p##y=y++,_n##y++,_a##y++)</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5Z(img,z)         for (int _b##z=0,_p##z=0,z=0,_n##z=1,_a##z=2; \</span>
<a name="l00511"></a>00511 <span class="preprocessor">                                       _a##z&lt;(int)((img).depth)  || _n##z==--_a##z || z==(_a##z=--_n##z); \</span>
<a name="l00512"></a>00512 <span class="preprocessor">                                       _b##z=_p##z,_p##z=z++,_n##z++,_a##z++)</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5XY(img,x,y)      cimg_for5Y(img,y) cimg_for5X(img,x)</span>
<a name="l00514"></a>00514 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5XZ(img,x,z)      cimg_for5Z(img,z) cimg_for5X(img,x)</span>
<a name="l00515"></a>00515 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5YZ(img,y,z)      cimg_for5Z(img,z) cimg_for5Y(img,y)</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span><span class="preprocessor">#define cimg_for5XYZ(img,x,y,z)   cimg_for5Z(img,z) cimg_for5XY(img,x,y)</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>
<a name="l00518"></a>00518 <span class="preprocessor">#define cimg_for2x2(img,x,y,z,v,I) cimg_for2Y(img,y) \</span>
<a name="l00519"></a>00519 <span class="preprocessor">       for (int _n##x=1, x=(int)((I##cc=(img)(0,    y,z,v)), \</span>
<a name="l00520"></a>00520 <span class="preprocessor">                                 (I##cn=(img)(0,_n##y,z,v)), \</span>
<a name="l00521"></a>00521 <span class="preprocessor">                                 0); \</span>
<a name="l00522"></a>00522 <span class="preprocessor">            (_n##x&lt;(int)((img).width) &amp;&amp; ((I##nc=(img)(_n##x,    y,z,v)), \</span>
<a name="l00523"></a>00523 <span class="preprocessor">                                          (I##nn=(img)(_n##x,_n##y,z,v)), \</span>
<a name="l00524"></a>00524 <span class="preprocessor">                                          1)) || x==--_n##x; \</span>
<a name="l00525"></a>00525 <span class="preprocessor">            I##cc=I##nc, I##cn=I##nn, \</span>
<a name="l00526"></a>00526 <span class="preprocessor">            x++,_n##x++ )</span>
<a name="l00527"></a>00527 <span class="preprocessor"></span>
<a name="l00528"></a>00528 <span class="preprocessor">#define cimg_for3x3(img,x,y,z,v,I) cimg_for3Y(img,y) \</span>
<a name="l00529"></a>00529 <span class="preprocessor">       for (int _n##x=1, _p##x=(int)((I##cp=I##pp=(img)(0,_p##y,z,v)), \</span>
<a name="l00530"></a>00530 <span class="preprocessor">                                     (I##cc=I##pc=(img)(0,  y,z,v)), \</span>
<a name="l00531"></a>00531 <span class="preprocessor">                                     (I##cn=I##pn=(img)(0,_n##y,z,v))), \</span>
<a name="l00532"></a>00532 <span class="preprocessor">                                     x=_p##x=0; \</span>
<a name="l00533"></a>00533 <span class="preprocessor">            (_n##x&lt;(int)((img).width) &amp;&amp; ((I##np=(img)(_n##x,_p##y,z,v)), \</span>
<a name="l00534"></a>00534 <span class="preprocessor">                                          (I##nc=(img)(_n##x,    y,z,v)), \</span>
<a name="l00535"></a>00535 <span class="preprocessor">                                          (I##nn=(img)(_n##x,_n##y,z,v)), \</span>
<a name="l00536"></a>00536 <span class="preprocessor">                                          1)) || x==--_n##x; \</span>
<a name="l00537"></a>00537 <span class="preprocessor">              I##pp=I##cp, I##pc=I##cc, I##pn=I##cn, \</span>
<a name="l00538"></a>00538 <span class="preprocessor">              I##cp=I##np, I##cc=I##nc, I##cn=I##nn, \</span>
<a name="l00539"></a>00539 <span class="preprocessor">              _p##x=x++,_n##x++ )</span>
<a name="l00540"></a>00540 <span class="preprocessor"></span>
<a name="l00541"></a>00541 
<a name="l00542"></a>00542 <span class="preprocessor">#define cimg_for4x4(img,x,y,z,v,I) cimg_for4Y(img,y) \</span>
<a name="l00543"></a>00543 <span class="preprocessor">       for (int _a##x=2, _n##x=1, x=(int)((I##cp=I##pp=(img)(0,_p##y,z,v)), \</span>
<a name="l00544"></a>00544 <span class="preprocessor">                                          (I##cc=I##pc=(img)(0,    y,z,v)), \</span>
<a name="l00545"></a>00545 <span class="preprocessor">                                          (I##cn=I##pn=(img)(0,_n##y,z,v)), \</span>
<a name="l00546"></a>00546 <span class="preprocessor">                                          (I##ca=I##pa=(img)(0,_a##y,z,v)), \</span>
<a name="l00547"></a>00547 <span class="preprocessor">                                          (I##np=(img)(_n##x,_p##y,z,v)), \</span>
<a name="l00548"></a>00548 <span class="preprocessor">                                          (I##nc=(img)(_n##x,    y,z,v)), \</span>
<a name="l00549"></a>00549 <span class="preprocessor">                                          (I##nn=(img)(_n##x,_n##y,z,v)), \</span>
<a name="l00550"></a>00550 <span class="preprocessor">                                          (I##na=(img)(_n##x,_a##y,z,v)), \</span>
<a name="l00551"></a>00551 <span class="preprocessor">                                          0), _p##x=0; \</span>
<a name="l00552"></a>00552 <span class="preprocessor">            (_a##x&lt;(int)((img).width) &amp;&amp; ((I##ap=(img)(_a##x,_p##y,z,v)), \</span>
<a name="l00553"></a>00553 <span class="preprocessor">                                          (I##ac=(img)(_a##x,    y,z,v)), \</span>
<a name="l00554"></a>00554 <span class="preprocessor">                                          (I##an=(img)(_a##x,_n##y,z,v)), \</span>
<a name="l00555"></a>00555 <span class="preprocessor">                                          (I##aa=(img)(_a##x,_a##y,z,v)), \</span>
<a name="l00556"></a>00556 <span class="preprocessor">                                          1)) || _n##x==--_a##x || x==(_a##x=--_n##x); \</span>
<a name="l00557"></a>00557 <span class="preprocessor">              I##pp=I##cp, I##pc=I##cc, I##pn=I##cn, I##pa=I##ca, \</span>
<a name="l00558"></a>00558 <span class="preprocessor">              I##cp=I##np, I##cc=I##nc, I##cn=I##nn, I##ca=I##na, \</span>
<a name="l00559"></a>00559 <span class="preprocessor">              I##np=I##ap, I##nc=I##ac, I##nn=I##an, I##na=I##aa, \</span>
<a name="l00560"></a>00560 <span class="preprocessor">              _p##x=x++, _n##x++, _a##x++ )</span>
<a name="l00561"></a>00561 <span class="preprocessor"></span>
<a name="l00562"></a>00562 <span class="preprocessor">#define cimg_for5x5(img,x,y,z,v,I) cimg_for5Y(img,y) \</span>
<a name="l00563"></a>00563 <span class="preprocessor">       for (int _a##x=2, _n##x=1, _b##x=(int)((I##cb=I##pb=I##bb=(img)(0,_b##y,z,v)), \</span>
<a name="l00564"></a>00564 <span class="preprocessor">                                              (I##cp=I##pp=I##bp=(img)(0,_p##y,z,v)), \</span>
<a name="l00565"></a>00565 <span class="preprocessor">                                              (I##cc=I##pc=I##bc=(img)(0,    y,z,v)), \</span>
<a name="l00566"></a>00566 <span class="preprocessor">                                              (I##cn=I##pn=I##bn=(img)(0,_n##y,z,v)), \</span>
<a name="l00567"></a>00567 <span class="preprocessor">                                              (I##ca=I##pa=I##ba=(img)(0,_a##y,z,v)), \</span>
<a name="l00568"></a>00568 <span class="preprocessor">                                              (I##nb=(img)(_n##x,_b##y,z,v)), \</span>
<a name="l00569"></a>00569 <span class="preprocessor">                                              (I##np=(img)(_n##x,_p##y,z,v)), \</span>
<a name="l00570"></a>00570 <span class="preprocessor">                                              (I##nc=(img)(_n##x,   y,z,v)), \</span>
<a name="l00571"></a>00571 <span class="preprocessor">                                              (I##nn=(img)(_n##x,_n##y,z,v)), \</span>
<a name="l00572"></a>00572 <span class="preprocessor">                                              (I##na=(img)(_n##x,_a##y,z,v))), \</span>
<a name="l00573"></a>00573 <span class="preprocessor">                                              x=0, _p##x=_b##x=0; \</span>
<a name="l00574"></a>00574 <span class="preprocessor">            (_a##x&lt;(int)((img).width) &amp;&amp; ((I##ab=(img)(_a##x,_b##y,z,v)), \</span>
<a name="l00575"></a>00575 <span class="preprocessor">                                          (I##ap=(img)(_a##x,_p##y,z,v)), \</span>
<a name="l00576"></a>00576 <span class="preprocessor">                                          (I##ac=(img)(_a##x,    y,z,v)), \</span>
<a name="l00577"></a>00577 <span class="preprocessor">                                          (I##an=(img)(_a##x,_n##y,z,v)), \</span>
<a name="l00578"></a>00578 <span class="preprocessor">                                          (I##aa=(img)(_a##x,_a##y,z,v)), \</span>
<a name="l00579"></a>00579 <span class="preprocessor">                                          1)) || _n##x==--_a##x || x==(_a##x=--_n##x); \</span>
<a name="l00580"></a>00580 <span class="preprocessor">              I##bb=I##pb, I##bp=I##pp, I##bc=I##pc, I##bn=I##pn, I##ba=I##pa, \</span>
<a name="l00581"></a>00581 <span class="preprocessor">              I##pb=I##cb, I##pp=I##cp, I##pc=I##cc, I##pn=I##cn, I##pa=I##ca, \</span>
<a name="l00582"></a>00582 <span class="preprocessor">              I##cb=I##nb, I##cp=I##np, I##cc=I##nc, I##cn=I##nn, I##ca=I##na, \</span>
<a name="l00583"></a>00583 <span class="preprocessor">              I##nb=I##ab, I##np=I##ap, I##nc=I##ac, I##nn=I##an, I##na=I##aa, \</span>
<a name="l00584"></a>00584 <span class="preprocessor">              _b##x=_p##x, _p##x=x++, _n##x++, _a##x++ )</span>
<a name="l00585"></a>00585 <span class="preprocessor"></span>
<a name="l00586"></a>00586 <span class="preprocessor">#define cimg_for2x2x2(img,x,y,z,v,I) cimg_for2YZ(img,y,z) \</span>
<a name="l00587"></a>00587 <span class="preprocessor">       for (int _n##x=1, x=(int)((I##ccc=(img)(0,    y,    z,v)), \</span>
<a name="l00588"></a>00588 <span class="preprocessor">                                 (I##cnc=(img)(0,_n##y,    z,v)), \</span>
<a name="l00589"></a>00589 <span class="preprocessor">                                 (I##ccn=(img)(0,    y,_n##z,v)), \</span>
<a name="l00590"></a>00590 <span class="preprocessor">                                 (I##cnn=(img)(0,_n##y,_n##z,v)), \</span>
<a name="l00591"></a>00591 <span class="preprocessor">                                 0); \</span>
<a name="l00592"></a>00592 <span class="preprocessor">            (_n##x&lt;(int)((img).width) &amp;&amp; ((I##ncc=(img)(_n##x,    y,    z,v)), \</span>
<a name="l00593"></a>00593 <span class="preprocessor">                                          (I##nnc=(img)(_n##x,_n##y,    z,v)), \</span>
<a name="l00594"></a>00594 <span class="preprocessor">                                          (I##ncn=(img)(_n##x,    y,_n##z,v)), \</span>
<a name="l00595"></a>00595 <span class="preprocessor">                                          (I##nnn=(img)(_n##x,_n##y,_n##z,v)), \</span>
<a name="l00596"></a>00596 <span class="preprocessor">                                          1)) || x==--_n##x; \</span>
<a name="l00597"></a>00597 <span class="preprocessor">              I##ccc=I##ncc, I##cnc=I##nnc, \</span>
<a name="l00598"></a>00598 <span class="preprocessor">              I##ccn=I##ncn, I##cnn=I##nnn, \</span>
<a name="l00599"></a>00599 <span class="preprocessor">              x++, _n##x++ )</span>
<a name="l00600"></a>00600 <span class="preprocessor"></span>
<a name="l00601"></a>00601 <span class="preprocessor">#define cimg_for3x3x3(img,x,y,z,v,I) cimg_for3YZ(img,y,z) \</span>
<a name="l00602"></a>00602 <span class="preprocessor">       for (int _n##x=1, _p##x=(int)((I##cpp=I##ppp=(img)(0,_p##y,_p##z,v)), \</span>
<a name="l00603"></a>00603 <span class="preprocessor">                                     (I##ccp=I##pcp=(img)(0,    y,_p##z,v)), \</span>
<a name="l00604"></a>00604 <span class="preprocessor">                                     (I##cnp=I##pnp=(img)(0,_n##y,_p##z,v)), \</span>
<a name="l00605"></a>00605 <span class="preprocessor">                                     (I##cpc=I##ppc=(img)(0,_p##y,    z,v)), \</span>
<a name="l00606"></a>00606 <span class="preprocessor">                                     (I##ccc=I##pcc=(img)(0,    y,    z,v)), \</span>
<a name="l00607"></a>00607 <span class="preprocessor">                                     (I##cnc=I##pnc=(img)(0,_n##y,    z,v)), \</span>
<a name="l00608"></a>00608 <span class="preprocessor">                                     (I##cpn=I##ppn=(img)(0,_p##y,_n##z,v)), \</span>
<a name="l00609"></a>00609 <span class="preprocessor">                                     (I##ccn=I##pcn=(img)(0,    y,_n##z,v)), \</span>
<a name="l00610"></a>00610 <span class="preprocessor">                                     (I##cnn=I##pnn=(img)(0,_n##y,_n##z,v))),\</span>
<a name="l00611"></a>00611 <span class="preprocessor">                                     x=_p##x=0; \</span>
<a name="l00612"></a>00612 <span class="preprocessor">            (_n##x&lt;(int)((img).width) &amp;&amp; ((I##npp=(img)(_n##x,_p##y,_p##z,v)), \</span>
<a name="l00613"></a>00613 <span class="preprocessor">                                          (I##ncp=(img)(_n##x,    y,_p##z,v)), \</span>
<a name="l00614"></a>00614 <span class="preprocessor">                                          (I##nnp=(img)(_n##x,_n##y,_p##z,v)), \</span>
<a name="l00615"></a>00615 <span class="preprocessor">                                          (I##npc=(img)(_n##x,_p##y,    z,v)), \</span>
<a name="l00616"></a>00616 <span class="preprocessor">                                          (I##ncc=(img)(_n##x,    y,    z,v)), \</span>
<a name="l00617"></a>00617 <span class="preprocessor">                                          (I##nnc=(img)(_n##x,_n##y,    z,v)), \</span>
<a name="l00618"></a>00618 <span class="preprocessor">                                          (I##npn=(img)(_n##x,_p##y,_n##z,v)), \</span>
<a name="l00619"></a>00619 <span class="preprocessor">                                          (I##ncn=(img)(_n##x,    y,_n##z,v)), \</span>
<a name="l00620"></a>00620 <span class="preprocessor">                                          (I##nnn=(img)(_n##x,_n##y,_n##z,v)), \</span>
<a name="l00621"></a>00621 <span class="preprocessor">                                          1)) || x==--_n##x; \</span>
<a name="l00622"></a>00622 <span class="preprocessor">              I##ppp=I##cpp, I##pcp=I##ccp, I##pnp=I##cnp, \</span>
<a name="l00623"></a>00623 <span class="preprocessor">              I##cpp=I##npp, I##ccp=I##ncp, I##cnp=I##nnp, \</span>
<a name="l00624"></a>00624 <span class="preprocessor">              I##ppc=I##cpc, I##pcc=I##ccc, I##pnc=I##cnc, \</span>
<a name="l00625"></a>00625 <span class="preprocessor">              I##cpc=I##npc, I##ccc=I##ncc, I##cnc=I##nnc, \</span>
<a name="l00626"></a>00626 <span class="preprocessor">              I##ppn=I##cpn, I##pcn=I##ccn, I##pnn=I##cnn, \</span>
<a name="l00627"></a>00627 <span class="preprocessor">              I##cpn=I##npn, I##ccn=I##ncn, I##cnn=I##nnn, \</span>
<a name="l00628"></a>00628 <span class="preprocessor">              _p##x=x++, _n##x++ )</span>
<a name="l00629"></a>00629 <span class="preprocessor"></span>
<a name="l00630"></a>00630 <span class="comment">/*</span>
<a name="l00631"></a>00631 <span class="comment"> #------------------------------------------------</span>
<a name="l00632"></a>00632 <span class="comment"> #</span>
<a name="l00633"></a>00633 <span class="comment"> #</span>
<a name="l00634"></a>00634 <span class="comment"> #  Definition of the cimg_library:: namespace</span>
<a name="l00635"></a>00635 <span class="comment"> #</span>
<a name="l00636"></a>00636 <span class="comment"> #</span>
<a name="l00637"></a>00637 <span class="comment"> #------------------------------------------------</span>
<a name="l00638"></a>00638 <span class="comment"> */</span>
<a name="l00639"></a>00639 
<a name="l00641"></a>00641 
<a name="l00652"></a><a class="code" href="namespacecimg__library.html">00652</a> <span class="keyword">namespace </span>cimg_library {
<a name="l00653"></a>00653 
<a name="l00654"></a>00654   <span class="comment">// Define the CImg classes.</span>
<a name="l00655"></a>00655   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T=<span class="keywordtype">float</span>&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>;
<a name="l00656"></a>00656   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T=<span class="keywordtype">float</span>&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>;
<a name="l00657"></a>00657   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>;
<a name="l00658"></a>00658   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>;
<a name="l00659"></a>00659   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>;
<a name="l00660"></a>00660 
<a name="l00661"></a><a class="code" href="namespacecimg__library_1_1cimg.html">00661</a>   <span class="keyword">namespace </span>cimg {
<a name="l00662"></a>00662 
<a name="l00663"></a>00663     <span class="comment">// The bodies of the functions below are defined afterwards</span>
<a name="l00664"></a>00664     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecimg__library_1_1cimg.html#aca9c244dc4cff3bc596ed8b0cd7570ee" title="Print informations about CImg environement variables.">info</a>();
<a name="l00665"></a>00665 
<a name="l00666"></a>00666     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; exception_mode();
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="keyword">inline</span> <span class="keywordtype">int</span> dialog(<span class="keyword">const</span> <span class="keywordtype">char</span> *title,<span class="keyword">const</span> <span class="keywordtype">char</span> *msg,<span class="keyword">const</span> <span class="keywordtype">char</span> *button1_txt=<span class="stringliteral">&quot;OK&quot;</span>,
<a name="l00669"></a>00669                       <span class="keyword">const</span> <span class="keywordtype">char</span> *button2_txt=0,<span class="keyword">const</span> <span class="keywordtype">char</span> *button3_txt=0,
<a name="l00670"></a>00670                       <span class="keyword">const</span> <span class="keywordtype">char</span> *button4_txt=0,<span class="keyword">const</span> <span class="keywordtype">char</span> *button5_txt=0,
<a name="l00671"></a>00671                       <span class="keyword">const</span> <span class="keywordtype">char</span> *button6_txt=0,<span class="keyword">const</span> <span class="keywordtype">bool</span> centering = <span class="keyword">false</span>);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tfunc, <span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l00674"></a>00674     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a16302418e97815e8ef7aa90d983dba1f" title="Polygonize an implicit function.">marching_cubes</a>(<span class="keyword">const</span> tfunc&amp; func, <span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l00675"></a>00675                                <span class="keyword">const</span> <span class="keywordtype">float</span> x0,<span class="keyword">const</span> <span class="keywordtype">float</span> y0,<span class="keyword">const</span> <span class="keywordtype">float</span> z0,
<a name="l00676"></a>00676                                <span class="keyword">const</span> <span class="keywordtype">float</span> x1,<span class="keyword">const</span> <span class="keywordtype">float</span> y1,<span class="keyword">const</span> <span class="keywordtype">float</span> z1,
<a name="l00677"></a>00677                                <span class="keyword">const</span> <span class="keywordtype">float</span> resx,<span class="keyword">const</span> <span class="keywordtype">float</span> resy,<span class="keyword">const</span> <span class="keywordtype">float</span> resz,
<a name="l00678"></a>00678                                <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l00679"></a>00679                                <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces = <span class="keyword">false</span>);
<a name="l00680"></a>00680 
<a name="l00681"></a>00681     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tfunc, <span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l00682"></a>00682     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a4b717b5f772d40d4026e42a0b943124d" title="Polygonize an implicit 2D function by the marching squares algorithm.">marching_squares</a>(<span class="keyword">const</span> tfunc&amp; func, <span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l00683"></a>00683                                  <span class="keyword">const</span> <span class="keywordtype">float</span> x0,<span class="keyword">const</span> <span class="keywordtype">float</span> y0,
<a name="l00684"></a>00684                                  <span class="keyword">const</span> <span class="keywordtype">float</span> x1,<span class="keyword">const</span> <span class="keywordtype">float</span> y1,
<a name="l00685"></a>00685                                  <span class="keyword">const</span> <span class="keywordtype">float</span> resx,<span class="keyword">const</span> <span class="keywordtype">float</span> resy,
<a name="l00686"></a>00686                                  <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives);
<a name="l00687"></a>00687   }
<a name="l00688"></a>00688 
<a name="l00689"></a>00689   <span class="comment">/*</span>
<a name="l00690"></a>00690 <span class="comment">   #----------------------------------------------</span>
<a name="l00691"></a>00691 <span class="comment">   #</span>
<a name="l00692"></a>00692 <span class="comment">   #</span>
<a name="l00693"></a>00693 <span class="comment">   # Definition of the CImgException structures</span>
<a name="l00694"></a>00694 <span class="comment">   #</span>
<a name="l00695"></a>00695 <span class="comment">   #</span>
<a name="l00696"></a>00696 <span class="comment">   #----------------------------------------------</span>
<a name="l00697"></a>00697 <span class="comment">   */</span>
<a name="l00698"></a>00698 
<a name="l00699"></a>00699   <span class="comment">// Never use the following macro in your own code !</span>
<a name="l00700"></a>00700 <span class="preprocessor">#define cimg_exception_err(etype,disp_flag) \</span>
<a name="l00701"></a>00701 <span class="preprocessor">  if (cimg::exception_mode()&gt;=1) { \</span>
<a name="l00702"></a>00702 <span class="preprocessor">    std::va_list ap; \</span>
<a name="l00703"></a>00703 <span class="preprocessor">    va_start(ap,format); \</span>
<a name="l00704"></a>00704 <span class="preprocessor">    std::vsprintf(message,format,ap); \</span>
<a name="l00705"></a>00705 <span class="preprocessor">    va_end(ap); \</span>
<a name="l00706"></a>00706 <span class="preprocessor">    if (cimg::exception_mode()&gt;=2 &amp;&amp; disp_flag) { \</span>
<a name="l00707"></a>00707 <span class="preprocessor">      try { cimg::dialog(etype,message,&quot;Abort&quot;); } \</span>
<a name="l00708"></a>00708 <span class="preprocessor">      catch (CImgException&amp;) { std::fprintf(stderr,&quot;\n# %s :\n%s\n\n&quot;,etype,message); } \</span>
<a name="l00709"></a>00709 <span class="preprocessor">    } else std::fprintf(stderr,&quot;\n# %s :\n%s\n\n&quot;,etype,message); \</span>
<a name="l00710"></a>00710 <span class="preprocessor">  } \</span>
<a name="l00711"></a>00711 <span class="preprocessor">  if (cimg::exception_mode()&gt;=3) cimg_library::cimg::info(); \</span>
<a name="l00712"></a>00712 <span class="preprocessor"></span>
<a name="l00713"></a>00713 <span class="preprocessor"></span>
<a name="l00714"></a>00714 
<a name="l00778"></a><a class="code" href="structcimg__library_1_1_c_img_exception.html">00778</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a> {
<a name="l00779"></a><a class="code" href="structcimg__library_1_1_c_img_exception.html#a0d6ea22499e9e0fd52c5995ecb99cba2">00779</a>     <span class="keywordtype">char</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html#a0d6ea22499e9e0fd52c5995ecb99cba2" title="Message associated with the error that thrown the exception.">message</a>[1024]; 
<a name="l00780"></a>00780     <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>() { <a class="code" href="structcimg__library_1_1_c_img_exception.html#a0d6ea22499e9e0fd52c5995ecb99cba2" title="Message associated with the error that thrown the exception.">message</a>[0]=<span class="charliteral">&#39;\0&#39;</span>; }
<a name="l00781"></a>00781     <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) { cimg_exception_err(<span class="stringliteral">&quot;CImgException&quot;</span>,<span class="keyword">true</span>); }
<a name="l00782"></a>00782   };
<a name="l00783"></a>00783 
<a name="l00784"></a>00784   <span class="comment">// The \ref CImgInstanceException class is used to throw an exception related</span>
<a name="l00785"></a>00785   <span class="comment">// to a non suitable instance encountered in a library function call.</span>
<a name="l00786"></a><a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">00786</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a> : <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a> {
<a name="l00787"></a>00787     <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) { cimg_exception_err(<span class="stringliteral">&quot;CImgInstanceException&quot;</span>,<span class="keyword">true</span>); }
<a name="l00788"></a>00788   };
<a name="l00789"></a>00789 
<a name="l00790"></a>00790   <span class="comment">// The \ref CImgArgumentException class is used to throw an exception related</span>
<a name="l00791"></a>00791   <span class="comment">// to invalid arguments encountered in a library function call.</span>
<a name="l00792"></a><a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">00792</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a> : <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a> {
<a name="l00793"></a>00793     <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) { cimg_exception_err(<span class="stringliteral">&quot;CImgArgumentException&quot;</span>,<span class="keyword">true</span>); }
<a name="l00794"></a>00794   };
<a name="l00795"></a>00795 
<a name="l00796"></a>00796   <span class="comment">// The \ref CImgIOException class is used to throw an exception related</span>
<a name="l00797"></a>00797   <span class="comment">// to Input/Output file problems encountered in a library function call.</span>
<a name="l00798"></a><a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">00798</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a> : <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a> {
<a name="l00799"></a>00799     <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) { cimg_exception_err(<span class="stringliteral">&quot;CImgIOException&quot;</span>,<span class="keyword">true</span>); }
<a name="l00800"></a>00800   };
<a name="l00801"></a>00801 
<a name="l00802"></a>00802   <span class="comment">// The CImgDisplayException class is used to throw an exception related to display problems</span>
<a name="l00803"></a>00803   <span class="comment">// encountered in a library function call.</span>
<a name="l00804"></a><a class="code" href="structcimg__library_1_1_c_img_display_exception.html">00804</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_display_exception.html">CImgDisplayException</a> : <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a> {
<a name="l00805"></a>00805     <a class="code" href="structcimg__library_1_1_c_img_display_exception.html">CImgDisplayException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) { cimg_exception_err(<span class="stringliteral">&quot;CImgDisplayException&quot;</span>,<span class="keyword">false</span>); }
<a name="l00806"></a>00806   };
<a name="l00807"></a>00807 
<a name="l00808"></a>00808   <span class="comment">/*</span>
<a name="l00809"></a>00809 <span class="comment">   #-------------------------------------</span>
<a name="l00810"></a>00810 <span class="comment">   #</span>
<a name="l00811"></a>00811 <span class="comment">   #</span>
<a name="l00812"></a>00812 <span class="comment">   # Definition of the namespace &#39;cimg&#39;</span>
<a name="l00813"></a>00813 <span class="comment">   #</span>
<a name="l00814"></a>00814 <span class="comment">   #</span>
<a name="l00815"></a>00815 <span class="comment">   #-------------------------------------</span>
<a name="l00816"></a>00816 <span class="comment">   */</span>
<a name="l00817"></a>00817 
<a name="l00819"></a>00819 
<a name="l00826"></a>00826   <span class="keyword">namespace </span>cimg {
<a name="l00827"></a>00827 
<a name="l00828"></a>00828     <span class="comment">// Define the trait that will be used to determine the best data type to work with.</span>
<a name="l00829"></a>00829     <span class="comment">// Considered types are : bool, uchar, char, short, ushort, int, uint, long, ulong, float and double.</span>
<a name="l00830"></a>00830     <span class="comment">// Two rules applies there :</span>
<a name="l00831"></a>00831     <span class="comment">// - largest of two integer types is an integer type.</span>
<a name="l00832"></a>00832     <span class="comment">// - largest of integer/float type is a float type.</span>
<a name="l00833"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">00833</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T,<span class="keyword">typename</span> t&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>          { <span class="keyword">typedef</span> t type; };
<a name="l00834"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01char_00_01bool_01_4.html">00834</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned char,bool&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> type; };
<a name="l00835"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01char_00_01char_01_4.html">00835</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned char,char&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">short</span> type; };
<a name="l00836"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01char_00_01bool_01_4.html">00836</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;char,bool&gt;                    { <span class="keyword">typedef</span> <span class="keywordtype">char</span> type; };
<a name="l00837"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01char_00_01unsigned_01char_01_4.html">00837</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;char,unsigned char&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">short</span> type; };
<a name="l00838"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01char_00_01unsigned_01short_01_4.html">00838</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;char,unsigned short&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00839"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01char_00_01unsigned_01int_01_4.html">00839</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;char,unsigned int&gt;            { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00840"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01char_00_01unsigned_01long_01_4.html">00840</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;char,unsigned long&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type; };
<a name="l00841"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01short_00_01bool_01_4.html">00841</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned short,bool&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> type; };
<a name="l00842"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01short_00_01unsigned_01char_01_4.html">00842</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned short,unsigned char&gt; { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> type; };
<a name="l00843"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01short_00_01char_01_4.html">00843</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned short,char&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00844"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01short_00_01short_01_4.html">00844</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned short,short&gt;         { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00845"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01bool_01_4.html">00845</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,bool&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">short</span> type; };
<a name="l00846"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01unsigned_01char_01_4.html">00846</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,unsigned char&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">short</span> type; };
<a name="l00847"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01char_01_4.html">00847</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,char&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">short</span> type; };
<a name="l00848"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01unsigned_01short_01_4.html">00848</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,unsigned short&gt;         { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00849"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01unsigned_01int_01_4.html">00849</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,unsigned int&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00850"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01short_00_01unsigned_01long_01_4.html">00850</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;short,unsigned long&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type; };
<a name="l00851"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01bool_01_4.html">00851</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,bool&gt;            { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00852"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01unsigned_01char_01_4.html">00852</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,unsigned char&gt;   { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00853"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01char_01_4.html">00853</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,char&gt;            { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00854"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01unsigned_01short_01_4.html">00854</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,unsigned short&gt;  { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00855"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01short_01_4.html">00855</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,short&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00856"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01unsigned_01int_00_01int_01_4.html">00856</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;unsigned int,int&gt;             { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00857"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01bool_01_4.html">00857</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,bool&gt;                     { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00858"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01unsigned_01char_01_4.html">00858</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,unsigned char&gt;            { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00859"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01char_01_4.html">00859</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,char&gt;                     { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00860"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01unsigned_01short_01_4.html">00860</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,unsigned short&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00861"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01short_01_4.html">00861</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,short&gt;                    { <span class="keyword">typedef</span> <span class="keywordtype">int</span> type; };
<a name="l00862"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01unsigned_01int_01_4.html">00862</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,unsigned int&gt;             { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type; };
<a name="l00863"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01int_00_01unsigned_01long_01_4.html">00863</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;int,unsigned long&gt;            { <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type; };
<a name="l00864"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01bool_01_4.html">00864</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,bool&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00865"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01unsigned_01char_01_4.html">00865</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,unsigned char&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00866"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01char_01_4.html">00866</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,char&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00867"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01unsigned_01short_01_4.html">00867</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,unsigned short&gt;         { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00868"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01short_01_4.html">00868</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,short&gt;                  { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00869"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01unsigned_01int_01_4.html">00869</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,unsigned int&gt;           { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00870"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01int_01_4.html">00870</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,int&gt;                    { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00871"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01unsigned_01long_01_4.html">00871</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,unsigned long&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00872"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01float_00_01long_01_4.html">00872</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;float,long&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">float</span> type; };
<a name="l00873"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01bool_01_4.html">00873</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,bool&gt;                  { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00874"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01unsigned_01char_01_4.html">00874</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,unsigned char&gt;         { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00875"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01char_01_4.html">00875</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,char&gt;                  { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00876"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01unsigned_01short_01_4.html">00876</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,unsigned short&gt;        { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00877"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01short_01_4.html">00877</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,short&gt;                 { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00878"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01unsigned_01int_01_4.html">00878</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,unsigned int&gt;          { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00879"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01int_01_4.html">00879</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,int&gt;                   { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00880"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01unsigned_01long_01_4.html">00880</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,unsigned long&gt;         { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00881"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01long_01_4.html">00881</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,long&gt;                  { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00882"></a><a class="code" href="structcimg__library_1_1cimg_1_1largest_3_01double_00_01float_01_4.html">00882</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1largest.html">largest</a>&lt;double,float&gt;                 { <span class="keyword">typedef</span> <span class="keywordtype">double</span> type; };
<a name="l00883"></a>00883 
<a name="l00884"></a><a class="code" href="structcimg__library_1_1cimg_1_1type.html">00884</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a> {
<a name="l00885"></a>00885       <span class="keyword">static</span> T min()  { <span class="keywordflow">return</span> (T)-1&gt;0?(T)0:(T)-1&lt;&lt;(8*<span class="keyword">sizeof</span>(T)-1); }
<a name="l00886"></a>00886       <span class="keyword">static</span> T max()  { <span class="keywordflow">return</span> (T)-1&gt;0?(T)-1:~((T)-1&lt;&lt;(8*<span class="keyword">sizeof</span>(T)-1)); }
<a name="l00887"></a>00887       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00888"></a>00888       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;unknown&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00889"></a>00889     };
<a name="l00890"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01bool_01_4.html">00890</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;bool&gt; {
<a name="l00891"></a>00891       <span class="keyword">static</span> <span class="keywordtype">bool</span> min() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00892"></a>00892       <span class="keyword">static</span> <span class="keywordtype">bool</span> max() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00893"></a>00893       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00894"></a>00894       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;bool&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00895"></a>00895     };
<a name="l00896"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01unsigned_01char_01_4.html">00896</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;unsigned char&gt; {
<a name="l00897"></a>00897       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> min() { <span class="keywordflow">return</span> 0; }
<a name="l00898"></a>00898       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> max() { <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)~0U; }
<a name="l00899"></a>00899       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00900"></a>00900       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;unsigned char&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00901"></a>00901     };
<a name="l00902"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01char_01_4.html">00902</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;char&gt; {
<a name="l00903"></a>00903       <span class="keyword">static</span> <span class="keywordtype">char</span> min() { <span class="keywordflow">return</span> (<span class="keywordtype">char</span>)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(char)-1)); }
<a name="l00904"></a>00904       <span class="keyword">static</span> <span class="keywordtype">char</span> max() { <span class="keywordflow">return</span> ~((char)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)-1))); }
<a name="l00905"></a>00905       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00906"></a>00906       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;char&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00907"></a>00907     };
<a name="l00908"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01unsigned_01short_01_4.html">00908</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;unsigned short&gt; {
<a name="l00909"></a>00909       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> min() { <span class="keywordflow">return</span> 0; }
<a name="l00910"></a>00910       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> max() { <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)~0U; }
<a name="l00911"></a>00911       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00912"></a>00912       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;unsigned short&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00913"></a>00913     };
<a name="l00914"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01short_01_4.html">00914</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;short&gt; {
<a name="l00915"></a>00915       <span class="keyword">static</span> <span class="keywordtype">short</span> min() { <span class="keywordflow">return</span> (<span class="keywordtype">short</span>)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(short)-1)); }
<a name="l00916"></a>00916       <span class="keyword">static</span> <span class="keywordtype">short</span> max() { <span class="keywordflow">return</span> ~((short)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>)-1))); }
<a name="l00917"></a>00917       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00918"></a>00918       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;short&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00919"></a>00919     };
<a name="l00920"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01unsigned_01int_01_4.html">00920</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;unsigned int&gt; {
<a name="l00921"></a>00921       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> min() { <span class="keywordflow">return</span> 0; }
<a name="l00922"></a>00922       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max() { <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)~0U; }
<a name="l00923"></a>00923       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00924"></a>00924       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;unsigned int&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00925"></a>00925     };
<a name="l00926"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01int_01_4.html">00926</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;int&gt; {
<a name="l00927"></a>00927       <span class="keyword">static</span> <span class="keywordtype">int</span> min() { <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(int)-1)); }
<a name="l00928"></a>00928       <span class="keyword">static</span> <span class="keywordtype">int</span> max() { <span class="keywordflow">return</span> ~((int)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)-1))); }
<a name="l00929"></a>00929       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00930"></a>00930       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;int&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00931"></a>00931     };
<a name="l00932"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01unsigned_01long_01_4.html">00932</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;unsigned long&gt; {
<a name="l00933"></a>00933       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> min() { <span class="keywordflow">return</span> 0; }
<a name="l00934"></a>00934       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> max() { <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)~0UL; }
<a name="l00935"></a>00935       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00936"></a>00936       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;unsigned long&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00937"></a>00937     };
<a name="l00938"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01long_01_4.html">00938</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;long&gt; {
<a name="l00939"></a>00939       <span class="keyword">static</span> <span class="keywordtype">long</span> min() { <span class="keywordflow">return</span> (<span class="keywordtype">long</span>)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(long)-1)); }
<a name="l00940"></a>00940       <span class="keyword">static</span> <span class="keywordtype">long</span> max() { <span class="keywordflow">return</span> ~((long)(-1L&lt;&lt;(8*<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)-1))); }
<a name="l00941"></a>00941       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00942"></a>00942       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;long&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00943"></a>00943     };
<a name="l00944"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01float_01_4.html">00944</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;float&gt; {
<a name="l00945"></a>00945       <span class="keyword">static</span> <span class="keywordtype">float</span> min() { <span class="keywordflow">return</span> -3.4E38f; }
<a name="l00946"></a>00946       <span class="keyword">static</span> <span class="keywordtype">float</span> max() { <span class="keywordflow">return</span>  3.4E38f; }
<a name="l00947"></a>00947       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00948"></a>00948       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;float&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00949"></a>00949     };
<a name="l00950"></a><a class="code" href="structcimg__library_1_1cimg_1_1type_3_01double_01_4.html">00950</a>     <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1cimg_1_1type.html">type</a>&lt;double&gt; {
<a name="l00951"></a>00951       <span class="keyword">static</span> <span class="keywordtype">double</span> min() { <span class="keywordflow">return</span> -1.7E308; }
<a name="l00952"></a>00952       <span class="keyword">static</span> <span class="keywordtype">double</span> max() { <span class="keywordflow">return</span>  1.7E308; }
<a name="l00953"></a>00953       <span class="keyword">static</span> <span class="keywordtype">bool</span> is_float() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00954"></a>00954       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* id() { <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> s = <span class="stringliteral">&quot;double&quot;</span>; <span class="keywordflow">return</span> s; }
<a name="l00955"></a>00955     };
<a name="l00956"></a>00956 
<a name="l00957"></a>00957     <span class="comment">// Define internal library variables.</span>
<a name="l00958"></a>00958 <span class="preprocessor">#if cimg_display_type==1</span>
<a name="l00959"></a>00959 <span class="preprocessor"></span>    <span class="keyword">struct </span>X11info {
<a name="l00960"></a>00960       <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_wins;
<a name="l00961"></a>00961       pthread_mutex_t* mutex;
<a name="l00962"></a>00962       pthread_t*       event_thread;
<a name="l00963"></a>00963       <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>*     wins[1024];
<a name="l00964"></a>00964       Display*         display;
<a name="l00965"></a>00965       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>     nb_bits;
<a name="l00966"></a>00966       GC*              gc;
<a name="l00967"></a>00967       <span class="keywordtype">bool</span>             blue_first;
<a name="l00968"></a>00968       <span class="keywordtype">bool</span>             byte_order;
<a name="l00969"></a>00969       <span class="keywordtype">bool</span>             shm_enabled;
<a name="l00970"></a>00970 <span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span>      XRRScreenSize *resolutions;
<a name="l00972"></a>00972       Rotation curr_rotation;
<a name="l00973"></a>00973       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_resolution;
<a name="l00974"></a>00974       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_resolutions;
<a name="l00975"></a>00975 <span class="preprocessor">#endif</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span>      X11info():nb_wins(0),mutex(0),event_thread(0),display(0),
<a name="l00977"></a>00977                 nb_bits(0),gc(0),blue_first(false),byte_order(false),shm_enabled(false) {
<a name="l00978"></a>00978 <span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l00979"></a>00979 <span class="preprocessor"></span>        resolutions = 0;
<a name="l00980"></a>00980         curr_rotation = 0;
<a name="l00981"></a>00981         curr_resolution = nb_resolutions = 0;
<a name="l00982"></a>00982 <span class="preprocessor">#endif</span>
<a name="l00983"></a>00983 <span class="preprocessor"></span>      }
<a name="l00984"></a>00984     };
<a name="l00985"></a>00985 <span class="preprocessor">#if defined(cimg_module)</span>
<a name="l00986"></a>00986 <span class="preprocessor"></span>    X11info&amp; X11attr();
<a name="l00987"></a>00987 <span class="preprocessor">#elif defined(cimg_main)</span>
<a name="l00988"></a>00988 <span class="preprocessor"></span>    X11info&amp; X11attr() { <span class="keyword">static</span> X11info val; <span class="keywordflow">return</span> val; }
<a name="l00989"></a>00989 <span class="preprocessor">#else</span>
<a name="l00990"></a>00990 <span class="preprocessor"></span>    <span class="keyword">inline</span> X11info&amp; X11attr() { <span class="keyword">static</span> X11info val; <span class="keywordflow">return</span> val; }
<a name="l00991"></a>00991 <span class="preprocessor">#endif</span>
<a name="l00992"></a>00992 <span class="preprocessor"></span>
<a name="l00993"></a>00993 <span class="preprocessor">#elif cimg_display_type==2</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span>    <span class="keyword">struct </span>Win32info {
<a name="l00995"></a>00995       HANDLE wait_event;
<a name="l00996"></a>00996       Win32info() { wait_event = CreateEvent(0,FALSE,FALSE,0); }
<a name="l00997"></a>00997     };
<a name="l00998"></a>00998 <span class="preprocessor">#if defined(cimg_module)</span>
<a name="l00999"></a>00999 <span class="preprocessor"></span>    Win32info&amp; Win32attr();
<a name="l01000"></a>01000 <span class="preprocessor">#elif defined(cimg_main)</span>
<a name="l01001"></a>01001 <span class="preprocessor"></span>    Win32info&amp; Win32attr() { <span class="keyword">static</span> Win32info val; <span class="keywordflow">return</span> val; }
<a name="l01002"></a>01002 <span class="preprocessor">#else</span>
<a name="l01003"></a>01003 <span class="preprocessor"></span>    <span class="keyword">inline</span> Win32info&amp; Win32attr() { <span class="keyword">static</span> Win32info val; <span class="keywordflow">return</span> val; }
<a name="l01004"></a>01004 <span class="preprocessor">#endif</span>
<a name="l01005"></a>01005 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01006"></a>01006 <span class="preprocessor"></span>
<a name="l01007"></a>01007     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; exception_mode() { <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mode=cimg_debug; <span class="keywordflow">return</span> mode; }
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 <span class="preprocessor">#ifdef cimg_color_terminal</span>
<a name="l01010"></a>01010 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> t_normal[9]  = {0x1b,<span class="charliteral">&#39;[&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;\0&#39;</span>};
<a name="l01011"></a>01011     <span class="keyword">const</span> <span class="keywordtype">char</span> t_red[11]    = {0x1b,<span class="charliteral">&#39;[&#39;</span>,<span class="charliteral">&#39;4&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;3&#39;</span>,<span class="charliteral">&#39;1&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;5&#39;</span>,<span class="charliteral">&#39;9&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;\0&#39;</span>};
<a name="l01012"></a>01012     <span class="keyword">const</span> <span class="keywordtype">char</span> t_bold[5]    = {0x1b,<span class="charliteral">&#39;[&#39;</span>,<span class="charliteral">&#39;1&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;\0&#39;</span>};
<a name="l01013"></a>01013     <span class="keyword">const</span> <span class="keywordtype">char</span> t_purple[11] = {0x1b,<span class="charliteral">&#39;[&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;3&#39;</span>,<span class="charliteral">&#39;5&#39;</span>,<span class="charliteral">&#39;;&#39;</span>,<span class="charliteral">&#39;5&#39;</span>,<span class="charliteral">&#39;9&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;\0&#39;</span>};
<a name="l01014"></a>01014 <span class="preprocessor">#else</span>
<a name="l01015"></a>01015 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> t_normal[1]  = {<span class="charliteral">&#39;\0&#39;</span>};
<a name="l01016"></a>01016     <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> t_red = cimg::t_normal, *<span class="keyword">const</span> t_bold = cimg::t_normal, *<span class="keyword">const</span> t_purple = cimg::t_normal;
<a name="l01017"></a>01017 <span class="preprocessor">#endif</span>
<a name="l01018"></a>01018 <span class="preprocessor"></span>
<a name="l01019"></a>01019 <span class="preprocessor">#if cimg_display_type==1</span>
<a name="l01020"></a>01020 <span class="preprocessor"></span>    <span class="comment">// Keycodes for X11-based graphical systems</span>
<a name="l01021"></a>01021     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyESC        = XK_Escape;
<a name="l01022"></a>01022     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF1         = XK_F1;
<a name="l01023"></a>01023     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF2         = XK_F2;
<a name="l01024"></a>01024     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF3         = XK_F3;
<a name="l01025"></a>01025     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF4         = XK_F4;
<a name="l01026"></a>01026     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF5         = XK_F5;
<a name="l01027"></a>01027     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF6         = XK_F6;
<a name="l01028"></a>01028     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF7         = XK_F7;
<a name="l01029"></a>01029     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF8         = XK_F8;
<a name="l01030"></a>01030     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF9         = XK_F9;
<a name="l01031"></a>01031     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF10        = XK_F10;
<a name="l01032"></a>01032     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF11        = XK_F11;
<a name="l01033"></a>01033     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF12        = XK_F12;
<a name="l01034"></a>01034     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAUSE      = XK_Pause;
<a name="l01035"></a>01035     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1          = XK_1;
<a name="l01036"></a>01036     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2          = XK_2;
<a name="l01037"></a>01037     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3          = XK_3;
<a name="l01038"></a>01038     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4          = XK_4;
<a name="l01039"></a>01039     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5          = XK_5;
<a name="l01040"></a>01040     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6          = XK_6;
<a name="l01041"></a>01041     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7          = XK_7;
<a name="l01042"></a>01042     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key8          = XK_8;
<a name="l01043"></a>01043     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key9          = XK_9;
<a name="l01044"></a>01044     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key0          = XK_0;
<a name="l01045"></a>01045     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyBACKSPACE  = XK_BackSpace;
<a name="l01046"></a>01046     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyINSERT     = XK_Insert;
<a name="l01047"></a>01047     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyHOME       = XK_Home;
<a name="l01048"></a>01048     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEUP     = XK_Page_Up;
<a name="l01049"></a>01049     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyTAB        = XK_Tab;
<a name="l01050"></a>01050     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyQ          = XK_q;
<a name="l01051"></a>01051     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyW          = XK_w;
<a name="l01052"></a>01052     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyE          = XK_e;
<a name="l01053"></a>01053     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyR          = XK_r;
<a name="l01054"></a>01054     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyT          = XK_t;
<a name="l01055"></a>01055     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyY          = XK_y;
<a name="l01056"></a>01056     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyU          = XK_u;
<a name="l01057"></a>01057     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyI          = XK_i;
<a name="l01058"></a>01058     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyO          = XK_o;
<a name="l01059"></a>01059     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyP          = XK_p;
<a name="l01060"></a>01060     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyDELETE     = XK_Delete;
<a name="l01061"></a>01061     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyEND        = XK_End;
<a name="l01062"></a>01062     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEDOWN   = XK_Page_Down;
<a name="l01063"></a>01063     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCAPSLOCK   = XK_Caps_Lock;
<a name="l01064"></a>01064     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyA          = XK_a;
<a name="l01065"></a>01065     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyS          = XK_s;
<a name="l01066"></a>01066     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyD          = XK_d;
<a name="l01067"></a>01067     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF          = XK_f;
<a name="l01068"></a>01068     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyG          = XK_g;
<a name="l01069"></a>01069     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyH          = XK_h;
<a name="l01070"></a>01070     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyJ          = XK_j;
<a name="l01071"></a>01071     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyK          = XK_k;
<a name="l01072"></a>01072     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyL          = XK_l;
<a name="l01073"></a>01073     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyENTER      = XK_Return;
<a name="l01074"></a>01074     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTLEFT  = XK_Shift_L;
<a name="l01075"></a>01075     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyZ          = XK_z;
<a name="l01076"></a>01076     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyX          = XK_x;
<a name="l01077"></a>01077     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyC          = XK_c;
<a name="l01078"></a>01078     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyV          = XK_v;
<a name="l01079"></a>01079     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyB          = XK_b;
<a name="l01080"></a>01080     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyN          = XK_n;
<a name="l01081"></a>01081     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyM          = XK_m;
<a name="l01082"></a>01082     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTRIGHT = XK_Shift_R;
<a name="l01083"></a>01083     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWUP    = XK_Up;
<a name="l01084"></a>01084     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLLEFT   = XK_Control_L;
<a name="l01085"></a>01085     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPLEFT    = XK_Super_L;
<a name="l01086"></a>01086     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySPACE      = XK_space;
<a name="l01087"></a>01087     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyALTGR      = XK_Alt_R;
<a name="l01088"></a>01088     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPRIGHT   = XK_Super_R;
<a name="l01089"></a>01089     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyMENU       = XK_Menu;
<a name="l01090"></a>01090     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLRIGHT  = XK_Control_R;
<a name="l01091"></a>01091     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWLEFT  = XK_Left;
<a name="l01092"></a>01092     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWDOWN  = XK_Down;
<a name="l01093"></a>01093     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWRIGHT = XK_Right;
<a name="l01094"></a>01094     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD0       = XK_KP_0;
<a name="l01095"></a>01095     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD1       = XK_KP_1;
<a name="l01096"></a>01096     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD2       = XK_KP_2;
<a name="l01097"></a>01097     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD3       = XK_KP_3;
<a name="l01098"></a>01098     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD4       = XK_KP_4;
<a name="l01099"></a>01099     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD5       = XK_KP_5;
<a name="l01100"></a>01100     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD6       = XK_KP_6;
<a name="l01101"></a>01101     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD7       = XK_KP_7;
<a name="l01102"></a>01102     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD8       = XK_KP_8;
<a name="l01103"></a>01103     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD9       = XK_KP_9;
<a name="l01104"></a>01104     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADADD     = XK_KP_Add;
<a name="l01105"></a>01105     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADSUB     = XK_KP_Subtract;
<a name="l01106"></a>01106     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADMUL     = XK_KP_Multiply;
<a name="l01107"></a>01107     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADDIV     = XK_KP_Divide;
<a name="l01108"></a>01108 
<a name="l01109"></a>01109 <span class="preprocessor">#elif (cimg_display_type==2 &amp;&amp; cimg_OS==2)</span>
<a name="l01110"></a>01110 <span class="preprocessor"></span>    <span class="comment">// Keycodes for Windows-OS</span>
<a name="l01111"></a>01111     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyESC        = VK_ESCAPE;
<a name="l01112"></a>01112     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF1         = VK_F1;
<a name="l01113"></a>01113     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF2         = VK_F2;
<a name="l01114"></a>01114     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF3         = VK_F3;
<a name="l01115"></a>01115     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF4         = VK_F4;
<a name="l01116"></a>01116     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF5         = VK_F5;
<a name="l01117"></a>01117     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF6         = VK_F6;
<a name="l01118"></a>01118     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF7         = VK_F7;
<a name="l01119"></a>01119     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF8         = VK_F8;
<a name="l01120"></a>01120     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF9         = VK_F9;
<a name="l01121"></a>01121     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF10        = VK_F10;
<a name="l01122"></a>01122     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF11        = VK_F11;
<a name="l01123"></a>01123     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF12        = VK_F12;
<a name="l01124"></a>01124     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAUSE      = VK_PAUSE;
<a name="l01125"></a>01125     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1          = <span class="charliteral">&#39;1&#39;</span>;
<a name="l01126"></a>01126     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2          = <span class="charliteral">&#39;2&#39;</span>;
<a name="l01127"></a>01127     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3          = <span class="charliteral">&#39;3&#39;</span>;
<a name="l01128"></a>01128     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4          = <span class="charliteral">&#39;4&#39;</span>;
<a name="l01129"></a>01129     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5          = <span class="charliteral">&#39;5&#39;</span>;
<a name="l01130"></a>01130     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6          = <span class="charliteral">&#39;6&#39;</span>;
<a name="l01131"></a>01131     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7          = <span class="charliteral">&#39;7&#39;</span>;
<a name="l01132"></a>01132     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key8          = <span class="charliteral">&#39;8&#39;</span>;
<a name="l01133"></a>01133     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key9          = <span class="charliteral">&#39;9&#39;</span>;
<a name="l01134"></a>01134     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key0          = <span class="charliteral">&#39;0&#39;</span>;
<a name="l01135"></a>01135     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyBACKSPACE  = VK_BACK;
<a name="l01136"></a>01136     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyINSERT     = VK_INSERT;
<a name="l01137"></a>01137     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyHOME       = VK_HOME;
<a name="l01138"></a>01138     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEUP     = VK_PRIOR;
<a name="l01139"></a>01139     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyTAB        = VK_TAB;
<a name="l01140"></a>01140     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyQ          = <span class="charliteral">&#39;Q&#39;</span>;
<a name="l01141"></a>01141     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyW          = <span class="charliteral">&#39;W&#39;</span>;
<a name="l01142"></a>01142     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyE          = <span class="charliteral">&#39;E&#39;</span>;
<a name="l01143"></a>01143     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyR          = <span class="charliteral">&#39;R&#39;</span>;
<a name="l01144"></a>01144     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyT          = <span class="charliteral">&#39;T&#39;</span>;
<a name="l01145"></a>01145     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyY          = <span class="charliteral">&#39;Y&#39;</span>;
<a name="l01146"></a>01146     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyU          = <span class="charliteral">&#39;U&#39;</span>;
<a name="l01147"></a>01147     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyI          = <span class="charliteral">&#39;I&#39;</span>;
<a name="l01148"></a>01148     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyO          = <span class="charliteral">&#39;O&#39;</span>;
<a name="l01149"></a>01149     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyP          = <span class="charliteral">&#39;P&#39;</span>;
<a name="l01150"></a>01150     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyDELETE     = VK_DELETE;
<a name="l01151"></a>01151     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyEND        = VK_END;
<a name="l01152"></a>01152     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEDOWN   = VK_NEXT;
<a name="l01153"></a>01153     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCAPSLOCK   = VK_CAPITAL;
<a name="l01154"></a>01154     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyA          = <span class="charliteral">&#39;A&#39;</span>;
<a name="l01155"></a>01155     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyS          = <span class="charliteral">&#39;S&#39;</span>;
<a name="l01156"></a>01156     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyD          = <span class="charliteral">&#39;D&#39;</span>;
<a name="l01157"></a>01157     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF          = <span class="charliteral">&#39;F&#39;</span>;
<a name="l01158"></a>01158     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyG          = <span class="charliteral">&#39;G&#39;</span>;
<a name="l01159"></a>01159     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyH          = <span class="charliteral">&#39;H&#39;</span>;
<a name="l01160"></a>01160     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyJ          = <span class="charliteral">&#39;J&#39;</span>;
<a name="l01161"></a>01161     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyK          = <span class="charliteral">&#39;K&#39;</span>;
<a name="l01162"></a>01162     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyL          = <span class="charliteral">&#39;L&#39;</span>;
<a name="l01163"></a>01163     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyENTER      = VK_RETURN;
<a name="l01164"></a>01164     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTLEFT  = VK_SHIFT;
<a name="l01165"></a>01165     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyZ          = <span class="charliteral">&#39;Z&#39;</span>;
<a name="l01166"></a>01166     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyX          = <span class="charliteral">&#39;X&#39;</span>;
<a name="l01167"></a>01167     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyC          = <span class="charliteral">&#39;C&#39;</span>;
<a name="l01168"></a>01168     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyV          = <span class="charliteral">&#39;V&#39;</span>;
<a name="l01169"></a>01169     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyB          = <span class="charliteral">&#39;B&#39;</span>;
<a name="l01170"></a>01170     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyN          = <span class="charliteral">&#39;N&#39;</span>;
<a name="l01171"></a>01171     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyM          = <span class="charliteral">&#39;M&#39;</span>;
<a name="l01172"></a>01172     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTRIGHT = VK_SHIFT;
<a name="l01173"></a>01173     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWUP    = VK_UP;
<a name="l01174"></a>01174     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLLEFT   = VK_CONTROL;
<a name="l01175"></a>01175     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPLEFT    = VK_LWIN;
<a name="l01176"></a>01176     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySPACE      = VK_SPACE;
<a name="l01177"></a>01177     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyALTGR      = VK_CONTROL;
<a name="l01178"></a>01178     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPRIGHT   = VK_RWIN;
<a name="l01179"></a>01179     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyMENU       = VK_APPS;
<a name="l01180"></a>01180     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLRIGHT  = VK_CONTROL;
<a name="l01181"></a>01181     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWLEFT  = VK_LEFT;
<a name="l01182"></a>01182     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWDOWN  = VK_DOWN;
<a name="l01183"></a>01183     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWRIGHT = VK_RIGHT;
<a name="l01184"></a>01184     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD0       = 0x60;
<a name="l01185"></a>01185     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD1       = 0x61;
<a name="l01186"></a>01186     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD2       = 0x62;
<a name="l01187"></a>01187     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD3       = 0x63;
<a name="l01188"></a>01188     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD4       = 0x64;
<a name="l01189"></a>01189     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD5       = 0x65;
<a name="l01190"></a>01190     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD6       = 0x66;
<a name="l01191"></a>01191     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD7       = 0x67;
<a name="l01192"></a>01192     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD8       = 0x68;
<a name="l01193"></a>01193     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD9       = 0x69;
<a name="l01194"></a>01194     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADADD     = VK_ADD;
<a name="l01195"></a>01195     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADSUB     = VK_SUBTRACT;
<a name="l01196"></a>01196     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADMUL     = VK_MULTIPLY;
<a name="l01197"></a>01197     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADDIV     = VK_DIVIDE;
<a name="l01198"></a>01198 <span class="preprocessor">#else</span>
<a name="l01199"></a>01199 <span class="preprocessor"></span>    <span class="comment">// Define unknow keycodes when no display</span>
<a name="l01200"></a>01200     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyESC        = 1U;
<a name="l01201"></a>01201     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF1         = 2U;
<a name="l01202"></a>01202     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF2         = 3U;
<a name="l01203"></a>01203     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF3         = 4U;
<a name="l01204"></a>01204     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF4         = 5U;
<a name="l01205"></a>01205     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF5         = 6U;
<a name="l01206"></a>01206     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF6         = 7U;
<a name="l01207"></a>01207     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF7         = 8U;
<a name="l01208"></a>01208     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF8         = 9U;
<a name="l01209"></a>01209     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF9         = 10U;
<a name="l01210"></a>01210     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF10        = 11U;
<a name="l01211"></a>01211     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF11        = 12U;
<a name="l01212"></a>01212     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF12        = 13U;
<a name="l01213"></a>01213     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAUSE      = 14U;
<a name="l01214"></a>01214     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1          = 15U;
<a name="l01215"></a>01215     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2          = 16U;
<a name="l01216"></a>01216     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3          = 17U;
<a name="l01217"></a>01217     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4          = 18U;
<a name="l01218"></a>01218     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5          = 19U;
<a name="l01219"></a>01219     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6          = 20U;
<a name="l01220"></a>01220     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7          = 21U;
<a name="l01221"></a>01221     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key8          = 22U;
<a name="l01222"></a>01222     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key9          = 23U;
<a name="l01223"></a>01223     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key0          = 24U;
<a name="l01224"></a>01224     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyBACKSPACE  = 25U;
<a name="l01225"></a>01225     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyINSERT     = 26U;
<a name="l01226"></a>01226     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyHOME       = 27U;
<a name="l01227"></a>01227     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEUP     = 28U;
<a name="l01228"></a>01228     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyTAB        = 29U;
<a name="l01229"></a>01229     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyQ          = 30U;
<a name="l01230"></a>01230     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyW          = 31U;
<a name="l01231"></a>01231     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyE          = 32U;
<a name="l01232"></a>01232     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyR          = 33U;
<a name="l01233"></a>01233     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyT          = 34U;
<a name="l01234"></a>01234     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyY          = 35U;
<a name="l01235"></a>01235     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyU          = 36U;
<a name="l01236"></a>01236     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyI          = 37U;
<a name="l01237"></a>01237     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyO          = 38U;
<a name="l01238"></a>01238     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyP          = 39U;
<a name="l01239"></a>01239     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyDELETE     = 40U;
<a name="l01240"></a>01240     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyEND        = 41U;
<a name="l01241"></a>01241     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAGEDOWN   = 42U;
<a name="l01242"></a>01242     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCAPSLOCK   = 43U;
<a name="l01243"></a>01243     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyA          = 44U;
<a name="l01244"></a>01244     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyS          = 45U;
<a name="l01245"></a>01245     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyD          = 46U;
<a name="l01246"></a>01246     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyF          = 47U;
<a name="l01247"></a>01247     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyG          = 48U;
<a name="l01248"></a>01248     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyH          = 49U;
<a name="l01249"></a>01249     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyJ          = 50U;
<a name="l01250"></a>01250     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyK          = 51U;
<a name="l01251"></a>01251     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyL          = 52U;
<a name="l01252"></a>01252     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyENTER      = 53U;
<a name="l01253"></a>01253     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTLEFT  = 54U;
<a name="l01254"></a>01254     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyZ          = 55U;
<a name="l01255"></a>01255     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyX          = 56U;
<a name="l01256"></a>01256     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyC          = 57U;
<a name="l01257"></a>01257     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyV          = 58U;
<a name="l01258"></a>01258     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyB          = 59U;
<a name="l01259"></a>01259     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyN          = 60U;
<a name="l01260"></a>01260     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyM          = 61U;
<a name="l01261"></a>01261     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySHIFTRIGHT = 62U;
<a name="l01262"></a>01262     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWUP    = 63U;
<a name="l01263"></a>01263     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLLEFT   = 64U;
<a name="l01264"></a>01264     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPLEFT    = 65U;
<a name="l01265"></a>01265     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keySPACE      = 66U;
<a name="l01266"></a>01266     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyALTGR      = 67U;
<a name="l01267"></a>01267     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyAPPRIGHT   = 68U;
<a name="l01268"></a>01268     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyMENU       = 69U;
<a name="l01269"></a>01269     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyCTRLRIGHT  = 70U;
<a name="l01270"></a>01270     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWLEFT  = 71U;
<a name="l01271"></a>01271     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWDOWN  = 72U;
<a name="l01272"></a>01272     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyARROWRIGHT = 73U;
<a name="l01273"></a>01273     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD0       = 74U;
<a name="l01274"></a>01274     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD1       = 75U;
<a name="l01275"></a>01275     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD2       = 76U;
<a name="l01276"></a>01276     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD3       = 77U;
<a name="l01277"></a>01277     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD4       = 78U;
<a name="l01278"></a>01278     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD5       = 79U;
<a name="l01279"></a>01279     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD6       = 80U;
<a name="l01280"></a>01280     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD7       = 81U;
<a name="l01281"></a>01281     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD8       = 82U;
<a name="l01282"></a>01282     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPAD9       = 83U;
<a name="l01283"></a>01283     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADADD     = 84U;
<a name="l01284"></a>01284     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADSUB     = 85U;
<a name="l01285"></a>01285     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADMUL     = 86U;
<a name="l01286"></a>01286     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyPADDIV     = 87U;
<a name="l01287"></a>01287 <span class="preprocessor">#endif</span>
<a name="l01288"></a>01288 <span class="preprocessor"></span>
<a name="l01289"></a>01289 <span class="preprocessor">#ifdef PI</span>
<a name="l01290"></a>01290 <span class="preprocessor"></span><span class="preprocessor">#undef PI</span>
<a name="l01291"></a>01291 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01292"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060">01292</a> <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">PI</a> = 3.14159265358979323846;   
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     <span class="comment">// Definition of a 7x11 font, used to return a default font for drawing text.</span>
<a name="l01295"></a>01295     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font7x11[7*11*256/32] = {
<a name="l01296"></a>01296       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01297"></a>01297       0x0,0x0,0x0,0x0,0x0,0x0,0x90,0x0,0x7f0000,0x40000,0x0,0x0,0x4010c0a4,0x82000040,0x11848402,0x18480050,0x80430292,0x8023,0x9008000,
<a name="l01298"></a>01298       0x40218140,0x4000040,0x21800402,0x18000051,0x1060500,0x8083,0x10000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x24002,0x4031,0x80000000,0x10000,
<a name="l01299"></a>01299       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x81c0400,0x40020000,0x80070080,0x40440e00,0x0,0x0,0x1,0x88180000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01300"></a>01300       0x0,0x200000,0x0,0x0,0x80000,0x0,0x0,0x20212140,0x5000020,0x22400204,0x240000a0,0x40848500,0x4044,0x80010038,0x20424285,0xa000020,
<a name="l01301"></a>01301       0x42428204,0x2428e0a0,0x82090a14,0x4104,0x85022014,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10240a7,0x88484040,0x40800000,0x270c3,0x87811e0e,
<a name="l01302"></a>01302       0x7c70e000,0x78,0x3c23c1ef,0x1f3e1e89,0xf1c44819,0xa23cf0f3,0xc3cff120,0xc18307f4,0x4040400,0x20000,0x80080080,0x40200,0x0,
<a name="l01303"></a>01303       0x40000,0x2,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8188,0x50603800,0xf3c00000,0x1c004003,0xc700003e,0x18180,0xc993880,0x10204081,
<a name="l01304"></a>01304       0x2071ef9,0xf3e7cf9f,0x3e7c7911,0xe3c78f1e,0x7d1224,0x48906048,0x0,0x4000000,0x0,0x9000,0x0,0x0,0x2000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01305"></a>01305       0x0,0x10240aa,0x14944080,0x23610000,0x68940,0x40831010,0x8891306,0x802044,0x44522208,0x90202088,0x40448819,0xb242890a,0x24011111,
<a name="l01306"></a>01306       0x49448814,0x4040a00,0xe2c3c7,0x8e3f3cb9,0xc1c44216,0xee38b0f2,0xe78f9120,0xc18507e2,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01307"></a>01307       0x101c207,0x88a04001,0x9c00000,0x2200a041,0x8200113a,0x8240,0x50a3110,0x2850a142,0x850c2081,0x2040204,0x8104592,0x142850a1,
<a name="l01308"></a>01308       0x42cd1224,0x4888bc48,0x70e1c387,0xe3b3c70,0xe1c38e1c,0x38707171,0xc3870e1c,0x10791224,0x48906c41,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01309"></a>01309       0x10003ee,0x15140080,0x21810000,0x48840,0x40851020,0x8911306,0x31fd804,0x9c522408,0x90204088,0x4045081a,0xba42890a,0x24011111,
<a name="l01310"></a>01310       0x49285024,0x2041b00,0x132408,0x910844c8,0x4044821b,0x7244c913,0x24041111,0x49488822,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01311"></a>01311       0x28204,0x85006001,0x6a414000,0x3a004043,0xc700113a,0x8245,0x50a3a00,0x2850a142,0x850c4081,0x2040204,0x81045d2,0x142850a1,
<a name="l01312"></a>01312       0x24951224,0x48852250,0x8102040,0x81054089,0x12244204,0x8108992,0x24489122,0x991224,0x4888b222,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01313"></a>01313       0x1000143,0xa988080,0x2147c01f,0x88840,0x83091c2c,0x1070f000,0xc000608,0xa48bc408,0x9e3c46f8,0x40460816,0xaa42f10b,0xc3811111,
<a name="l01314"></a>01314       0x35102044,0x1041100,0xf22408,0x9f084488,0x40470212,0x62448912,0x6041111,0x55308846,0x8061c80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01315"></a>01315       0x1028704,0x8f805801,0x4be28fdf,0x220001f0,0x111a,0x60000182,0x82c5c710,0x44891224,0x489640f1,0xe3c78204,0x810e552,0x142850a1,
<a name="l01316"></a>01316       0x18a51224,0x48822250,0x78f1e3c7,0x8f1f40f9,0xf3e7c204,0x8108912,0x24489122,0x7ea91224,0x4888a222,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01317"></a>01317       0x10007e2,0x85648080,0x20010000,0x88841,0x8f8232,0x20881000,0xc1fc610,0xbefa2408,0x90204288,0x40450816,0xa642810a,0x4041110a,
<a name="l01318"></a>01318       0x36282084,0x1042080,0x1122408,0x90084488,0x40450212,0x62448912,0x184110a,0x55305082,0x8042700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01319"></a>01319       0x1028207,0x82004801,0x68050040,0x1c000040,0x110a,0x60000001,0x45484d10,0x7cf9f3e7,0xcf944081,0x2040204,0x8104532,0x142850a1,
<a name="l01320"></a>01320       0x18a51224,0x48822248,0x89122448,0x91244081,0x2040204,0x8108912,0x24489122,0xc91224,0x48852214,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x282,
<a name="l01321"></a>01321       0x89630080,0x20010c00,0x30108842,0x810222,0x20882306,0x3001800,0x408a2208,0x90202288,0x40448814,0xa642810a,0x2041110a,0x26442104,
<a name="l01322"></a>01322       0x840000,0x1122408,0x90084488,0x40448212,0x62448912,0x84130a,0x36485102,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x101c208,0x4f802801,
<a name="l01323"></a>01323       0x8028040,0x40,0x130a,0x2,0x85e897a0,0x44891224,0x489c2081,0x2040204,0x8104532,0x142850a1,0x24cd1224,0x48823c44,0x89122448,
<a name="l01324"></a>01324       0x91244081,0x2040204,0x8108912,0x24489122,0xc93264,0xc9852214,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100028f,0x109f0080,0x20010c00,
<a name="l01325"></a>01325       0x303071f3,0xc7011c1c,0x4071c306,0x802010,0x3907c1ef,0x1f201e89,0xf3844f90,0xa23c80f2,0x17810e04,0x228223f4,0x840000,0xfbc3c7,
<a name="l01326"></a>01326       0x8f083c88,0x40444212,0x6238f0f2,0x7039d04,0x228423e2,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1008780,0x2201800,0xf0014000,0x1f0,
<a name="l01327"></a>01327       0x1d0a,0x5,0x851e140,0x83060c18,0x30671ef9,0xf3e7cf9f,0x3e7c7911,0xe3c78f1e,0x42f8e1c3,0x8702205c,0x7cf9f3e7,0xcf9b3c78,0xf1e3c204,
<a name="l01328"></a>01328       0x8107111,0xc3870e1c,0x10f1d3a7,0x4e823c08,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x2,0x40,0x40000400,0x200000,0x0,0x2,0x0,0x0,0x0,0x0,0x18,
<a name="l01329"></a>01329       0x0,0x4,0x44007f,0x0,0x400,0x400000,0x8010,0x0,0x6002,0x8040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1000000,0x200800,0x0,0x0,0x100a,
<a name="l01330"></a>01330       0x400000,0x44,0x0,0x400,0x0,0x0,0x0,0x0,0x0,0x0,0x800,0x0,0x0,0x0,0x0,0x62018,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x31,0x80000800,
<a name="l01331"></a>01331       0x400000,0x0,0x4,0x0,0x0,0x0,0x0,0xc,0x0,0x7,0x3c0000,0x0,0x3800,0x3800000,0x8010,0x0,0x1c001,0x881c0000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01332"></a>01332       0x0,0x0,0x207000,0x0,0x0,0x100a,0xc00000,0x3c,0x0,0xc00,0x0,0x0,0x0,0x0,0x0,0x0,0x1800,0x0,0x0,0x0,0x0,0x1c2070
<a name="l01333"></a>01333     };
<a name="l01334"></a>01334 
<a name="l01335"></a>01335     <span class="comment">// Definition of a 10x13 font (used in dialog boxes).</span>
<a name="l01336"></a>01336     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font10x13[256*10*13/32] = {
<a name="l01337"></a>01337       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01338"></a>01338       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80100c0,
<a name="l01339"></a>01339       0x68000300,0x801,0xc00010,0x100c000,0x68100,0x100c0680,0x2,0x403000,0x1000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01340"></a>01340       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01341"></a>01341       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfc,0x0,0x0,0x0,0x0,0x0,0x4020120,
<a name="l01342"></a>01342       0x58120480,0x402,0x1205008,0x2012050,0x58080,0x20120581,0x40000001,0x804812,0x2000000,0x0,0x300,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01343"></a>01343       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x140,0x80000,0x200402,0x800000,0x10,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01344"></a>01344       0x0,0x7010,0x7000000,0x8000200,0x20000,0xc0002000,0x8008,0x0,0x0,0x0,0x0,0x808,0x4000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01345"></a>01345       0x0,0x0,0x80000000,0x0,0x0,0x0,0x40000,0x0,0x0,0x0,0x0,0x480,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x70,0x80100c0,0x68000480,0x1001,
<a name="l01346"></a>01346       0xc00010,0x1018000,0x68100,0x100c0680,0x4,0x403000,0x1020000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20140,0x28081883,0x200801,
<a name="l01347"></a>01347       0x2a00000,0x10,0x1c0201c0,0x70040f80,0xc0f81c07,0x0,0x70,0x3e0303c0,0x3c3c0f83,0xe03c2107,0xe08810,0x18c31070,0x3c0703c0,
<a name="l01348"></a>01348       0x783e0842,0x22222208,0x83e04010,0x1008000,0x4000200,0x20001,0x2002,0x408008,0x0,0x0,0x100000,0x0,0x1008,0x2000000,0x0,0x0,0x0,
<a name="l01349"></a>01349       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20080,0x38000880,0x8078140f,0x81c00000,0x3e000,0xc020180,0x60080001,0xe0000002,0xc00042,0x108e2010,
<a name="l01350"></a>01350       0xc0300c0,0x300c0303,0xf83c3e0f,0x83e0f81c,0x701c070,0x3c0c41c0,0x701c0701,0xc0001d08,0x42108421,0x8820088,0x4020120,0x58140480,
<a name="l01351"></a>01351       0x802,0x1205008,0x3014050,0xc058080,0x20120581,0x40000002,0x804814,0x2020050,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20140,
<a name="l01352"></a>01352       0x281e2484,0x80200801,0x1c02000,0x10,0x22060220,0x880c0801,0x82208,0x80000001,0x20008,0x41030220,0x40220802,0x402102,0x209010,
<a name="l01353"></a>01353       0x18c31088,0x22088220,0x80080842,0x22222208,0x80204010,0x1014000,0x200,0x20001,0x2000,0x8008,0x0,0x0,0x100000,0x0,0x1008,
<a name="l01354"></a>01354       0x2000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80,0x40000500,0x80800010,0x40200000,0x41000,0x12020040,0x10000003,0xa0000006,
<a name="l01355"></a>01355       0x12000c4,0x31014000,0xc0300c0,0x300c0302,0x80402008,0x2008008,0x2008020,0x220c4220,0x88220882,0x20002208,0x42108421,0x8820088,
<a name="l01356"></a>01356       0x0,0x300,0x0,0x0,0x0,0x14000000,0x0,0x200200,0x0,0x20000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0xfc282504,0x80001000,
<a name="l01357"></a>01357       0x82a02000,0x20,0x22020020,0x8140802,0x102208,0x80801006,0x18008,0x9c848220,0x80210802,0x802102,0x20a010,0x15429104,0x22104220,
<a name="l01358"></a>01358       0x80080842,0x22221405,0x404008,0x1022000,0x703c0,0x381e0701,0xc0783c02,0xc09008,0x1d83c070,0x3c078140,0x381c0882,0x21242208,
<a name="l01359"></a>01359       0x81e01008,0x2000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x201e0,0x40220500,0x80800027,0x20e02800,0x9c800,0x12020040,
<a name="l01360"></a>01360       0x20000883,0xa0200002,0x120a044,0x11064010,0x12048120,0x48120484,0x80802008,0x2008008,0x2008020,0x210a4411,0x4411044,0x10884508,
<a name="l01361"></a>01361       0x42108421,0x503c0b0,0x1c0701c0,0x701c0707,0x70381c07,0x1c07008,0x2008020,0x20f01c0,0x701c0701,0xc0201c08,0x82208822,0x883c088,
<a name="l01362"></a>01362       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0x50281903,0x20001000,0x80802000,0x20,0x22020040,0x30240f03,0xc0101c08,0x80801018,
<a name="l01363"></a>01363       0x1fc06010,0xa48483c0,0x80210f03,0xe0803f02,0x20c010,0x15429104,0x22104220,0x70080841,0x41540805,0x804008,0x1041000,0x8220,
<a name="l01364"></a>01364       0x40220881,0x882202,0x40a008,0x12422088,0x22088180,0x40100882,0x21241408,0x80201008,0x2031000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01365"></a>01365       0x0,0x20280,0x401c0200,0x700028,0x21205000,0x92800,0xc1fc080,0x10000883,0xa0200002,0x1205049,0x12c19010,0x12048120,0x48120484,
<a name="l01366"></a>01366       0xf0803c0f,0x3c0f008,0x2008020,0x790a4411,0x4411044,0x10504908,0x42108421,0x5022088,0x2008020,0x8020080,0x88402208,0x82208808,
<a name="l01367"></a>01367       0x2008020,0x1e088220,0x88220882,0x20002608,0x82208822,0x8822088,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0x501c0264,
<a name="l01368"></a>01368       0xa0001000,0x8001fc00,0x7000020,0x22020080,0x83e0082,0x20202207,0x80000020,0x1020,0xa4848220,0x80210802,0x9c2102,0x20c010,
<a name="l01369"></a>01369       0x12425104,0x3c1043c0,0x8080841,0x41540802,0x804008,0x1000000,0x78220,0x40220f81,0x882202,0x40c008,0x12422088,0x22088100,
<a name="l01370"></a>01370       0x60100881,0x41540805,0x406008,0x1849000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20280,0xf0140200,0x880028,0x20e0a03f,0x709c800,
<a name="l01371"></a>01371       0x201c0,0x60000881,0xa0000007,0xc0284b,0x122eb020,0x12048120,0x48120487,0x80802008,0x2008008,0x2008020,0x21094411,0x4411044,
<a name="l01372"></a>01372       0x10204908,0x42108421,0x2022088,0x1e0781e0,0x781e0787,0xf8403e0f,0x83e0f808,0x2008020,0x22088220,0x88220882,0x21fc2a08,0x82208822,
<a name="l01373"></a>01373       0x5022050,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20001,0xf80a0294,0x40001000,0x80002000,0x20,0x22020100,0x8040082,0x20202200,
<a name="l01374"></a>01374       0x80000018,0x1fc06020,0xa48fc220,0x80210802,0x842102,0x20a010,0x12425104,0x20104240,0x8080841,0x41541402,0x1004008,0x1000000,
<a name="l01375"></a>01375       0x88220,0x40220801,0x882202,0x40a008,0x12422088,0x22088100,0x18100881,0x41540805,0x801008,0x2046000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01376"></a>01376       0x0,0x0,0x0,0x20280,0x401c0f80,0x80880028,0x20005001,0x94800,0x20000,0x880,0xa0000000,0x5015,0x4215040,0x3f0fc3f0,0xfc3f0fc8,
<a name="l01377"></a>01377       0x80802008,0x2008008,0x2008020,0x21094411,0x4411044,0x10505108,0x42108421,0x203c088,0x22088220,0x88220888,0x80402008,0x2008008,
<a name="l01378"></a>01378       0x2008020,0x22088220,0x88220882,0x20002a08,0x82208822,0x5022050,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xa00a0494,0x60001000,
<a name="l01379"></a>01379       0x80002004,0x8020,0x22020200,0x88040882,0x20402201,0x801006,0x18000,0x9f084220,0x40220802,0x442102,0x209010,0x10423088,0x20088220,
<a name="l01380"></a>01380       0x8080840,0x80882202,0x2004008,0x1000000,0x88220,0x40220881,0x882202,0x409008,0x12422088,0x22088100,0x8100880,0x80881402,
<a name="l01381"></a>01381       0x1001008,0x2000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20280,0x40220200,0x80700027,0x20002801,0x92800,0x1fc000,0x980,
<a name="l01382"></a>01382       0xa0000000,0xa017,0x84417840,0x21084210,0x84210848,0x80402008,0x2008008,0x2008020,0x2208c220,0x88220882,0x20882208,0x42108421,
<a name="l01383"></a>01383       0x2020088,0x22088220,0x88220888,0xc8402208,0x82208808,0x2008020,0x22088220,0x88220882,0x20203208,0x82208822,0x2022020,0x0,0x0,0x0,
<a name="l01384"></a>01384       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0xa03c0463,0x90000801,0x2004,0x8040,0x1c0703e0,0x70040701,0xc0401c06,0x801001,0x20020,
<a name="l01385"></a>01385       0x400843c0,0x3c3c0f82,0x3c2107,0x1c0881e,0x10423070,0x20070210,0xf0080780,0x80882202,0x3e04004,0x1000000,0x783c0,0x381e0701,
<a name="l01386"></a>01386       0x782202,0x408808,0x12422070,0x3c078100,0x700c0780,0x80882202,0x1e01008,0x2000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x201e0,
<a name="l01387"></a>01387       0xf8000200,0x80080010,0x40000001,0x41000,0x0,0xe80,0xa0000000,0x21,0x8e21038,0x21084210,0x84210848,0xf83c3e0f,0x83e0f81c,
<a name="l01388"></a>01388       0x701c070,0x3c08c1c0,0x701c0701,0xc0005c07,0x81e0781e,0x20200b0,0x1e0781e0,0x781e0787,0x30381c07,0x1c07008,0x2008020,0x1c0881c0,
<a name="l01389"></a>01389       0x701c0701,0xc0201c07,0x81e0781e,0x203c020,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80000,0x801,0x4,0x40,0x0,0x0,0x0,0x1000,
<a name="l01390"></a>01390       0x0,0x3c000000,0x0,0x0,0x0,0x0,0x10000,0x0,0x0,0x4004,0x1000000,0x0,0x0,0x80000,0x400000,0x0,0x20008000,0x0,0x4,0x1008,0x2000000,
<a name="l01391"></a>01391       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80,0x0,0x8008000f,0x80000000,0x3e000,0x0,0x800,0xa0000400,0x0,0x0,0x0,0x0,0x80000,0x0,
<a name="l01392"></a>01392       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100000,0x0,0x0,0x0,0x0,0x2000,0x0,0x4020040,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80000,
<a name="l01393"></a>01393       0x402,0x8,0x40,0x0,0x0,0x0,0x2000,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,0x0,0x0,0x7004,0x70000fc,0x0,0x0,0x700000,0x800000,0x0,0x20008000,
<a name="l01394"></a>01394       0x0,0x4,0x808,0x4000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80,0x0,0x80f00000,0x0,0x0,0x0,0x800,0xa0001800,0x0,0x0,0x0,0x0,
<a name="l01395"></a>01395       0x300000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600000,0x0,0x0,0x0,0x0,0x0,0x0,0x4020040
<a name="l01396"></a>01396     };
<a name="l01397"></a>01397 
<a name="l01398"></a>01398     <span class="comment">// Definition of a 8x17 font</span>
<a name="l01399"></a>01399     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font8x17[8*17*256/32] = {
<a name="l01400"></a>01400       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01401"></a>01401       0x0,0x0,0x0,0x2400,0x2400,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20081834,0x1c0000,0x20081800,0x20081800,0x342008,
<a name="l01402"></a>01402       0x18340000,0x200818,0x80000,0x0,0x180000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4200000,0x0,0x0,
<a name="l01403"></a>01403       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x380000,0x4000,0x2000c00,0x40100840,0x70000000,0x0,0x0,0x1c,0x10700000,0x7,0x0,
<a name="l01404"></a>01404       0x1800,0x1800,0x0,0x0,0x0,0x14,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1010242c,0x14140000,0x10102414,0x10102414,0x2c1010,0x242c1400,
<a name="l01405"></a>01405       0x101024,0x14100038,0x0,0x240000,0x0,0x0,0x30000000,0x0,0x0,0x4000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x12,0x0,0x8100000,0x0,
<a name="l01406"></a>01406       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10,0x80000,0x10004000,0x2001000,0x40000040,0x10000000,0x0,0x0,0x10,0x10100000,0x4,
<a name="l01407"></a>01407       0x0,0x18000000,0x0,0x0,0x0,0x34002400,0x2400,0x0,0x0,0x0,0x3c,0x0,0x8000000,0x0,0x60607800,0x0,0x140000,0x0,0x0,0x0,0x0,0x0,
<a name="l01408"></a>01408       0x44,0x10081834,0x240000,0x10081800,0x10081800,0x1c341008,0x18340000,0x100818,0x84000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x102812,
<a name="l01409"></a>01409       0x8601c10,0x8100800,0x2,0x1c383e3e,0x67e1e7f,0x3e3c0000,0x38,0x1e087e1e,0x7c7f7f1e,0x417c1c42,0x4063611c,0x7e1c7e3e,0xfe414181,
<a name="l01410"></a>01410       0x63827f10,0x40081000,0x8004000,0x2001000,0x40000040,0x10000000,0x0,0x10000000,0x10,0x10100000,0x3c000008,0x0,0x24003e00,
<a name="l01411"></a>01411       0x3f007f00,0x0,0x0,0x2ce91800,0x1882,0x10101c,0xc2103c,0x143c3c00,0x3c00,0x18003c3c,0x10001f00,0x181c00,0x20200810,0x8080808,
<a name="l01412"></a>01412       0x8083e1e,0x7f7f7f7f,0x7c7c7c7c,0x7c611c1c,0x1c1c1c00,0x1e414141,0x41824044,0x810242c,0x14180000,0x8102414,0x8102414,0x382c0810,
<a name="l01413"></a>01413       0x242c1400,0x81024,0x14104014,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x102816,0x3e902010,0x10084910,0x4,0x22084343,0xa402102,0x41620000,
<a name="l01414"></a>01414       0x44,0x33144121,0x42404021,0x41100444,0x40636122,0x43224361,0x10416381,0x22440310,0x20082800,0x4000,0x2001000,0x40000040,
<a name="l01415"></a>01415       0x10000000,0x0,0x10000000,0x10,0x10100000,0x24000008,0x0,0x606100,0x68000300,0x8106c,0x34000000,0x4f0000,0x44,0x101020,0x441040,
<a name="l01416"></a>01416       0x420200,0x4200,0x24000404,0x7d00,0x82200,0x20203010,0x14141414,0x14082821,0x40404040,0x10101010,0x42612222,0x22222200,0x23414141,
<a name="l01417"></a>01417       0x41447e48,0x0,0x0,0x0,0x0,0x4000000,0x18,0x0,0x4000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10287f,0x49902010,0x10083e10,0x4,0x41080101,
<a name="l01418"></a>01418       0x1a404002,0x41411818,0x1004004,0x21144140,0x41404040,0x41100448,0x40555141,0x41414140,0x10412281,0x14280610,0x20084400,0x1c7c1c,
<a name="l01419"></a>01419       0x3e3c7c3a,0x5c703844,0x107f5c3c,0x7c3e3c3c,0x7e424281,0x66427e10,0x10100000,0x40100008,0x1010,0xa04000,0x48100610,0x100c3024,
<a name="l01420"></a>01420       0x24000000,0x4f3c00,0x2c107e28,0x3820,0x42281060,0x9d1e12,0xbd00,0x24100818,0x427d00,0x82248,0x20200800,0x14141414,0x14142840,
<a name="l01421"></a>01421       0x40404040,0x10101010,0x41514141,0x41414142,0x43414141,0x41284350,0x1c1c1c1c,0x1c1c6c1c,0x3c3c3c3c,0x70707070,0x3c5c3c3c,
<a name="l01422"></a>01422       0x3c3c3c18,0x3e424242,0x42427c42,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x102824,0x48623010,0x10081c10,0x8,0x41080103,0x127c5e04,
<a name="l01423"></a>01423       0x41411818,0xe7f3808,0x4f144140,0x41404040,0x41100450,0x40555141,0x41414160,0x1041225a,0x1c280410,0x1008c600,0x226622,0x66661066,
<a name="l01424"></a>01424       0x62100848,0x10496266,0x66663242,0x10426681,0x24220260,0x100c0000,0xf8280008,0x1010,0x606000,0x48280428,0x28042014,0x48000000,
<a name="l01425"></a>01425       0x494200,0x52280228,0x105420,0x3cee1058,0xa12236,0xa500,0x18101004,0x427d00,0x8226c,0x76767e10,0x14141414,0x14142840,0x40404040,
<a name="l01426"></a>01426       0x10101010,0x41514141,0x41414124,0x45414141,0x41284150,0x22222222,0x22221222,0x66666666,0x10101010,0x66626666,0x66666600,
<a name="l01427"></a>01427       0x66424242,0x42226622,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100024,0x381c4900,0x10086bfe,0x8,0x4908021c,0x22036304,0x3e630000,
<a name="l01428"></a>01428       0x70000710,0x51227e40,0x417f7f43,0x7f100470,0x40554941,0x43417e3e,0x1041225a,0x8100810,0x10080000,0x24240,0x42421042,0x42100850,
<a name="l01429"></a>01429       0x10494242,0x42422040,0x1042245a,0x18240410,0x10103900,0x407c003e,0x1818,0x1c3e10,0x4f7c087c,0x7c002010,0x48000000,0x4008,
<a name="l01430"></a>01430       0x527c0410,0x105078,0x2410104c,0xa13e6c,0x7f00b900,0xfe3c3c,0x421d18,0x1c1c36,0x38383810,0x22222222,0x22144e40,0x7f7f7f7f,
<a name="l01431"></a>01431       0x10101010,0xf1494141,0x41414118,0x49414141,0x4110435c,0x2020202,0x2021240,0x42424242,0x10101010,0x42424242,0x424242ff,0x4e424242,
<a name="l01432"></a>01432       0x42244224,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1000fe,0xe664d00,0x10080810,0x380010,0x41080c03,0x42014108,0x633d0000,0x70000710,
<a name="l01433"></a>01433       0x51224140,0x41404041,0x41100448,0x40494541,0x7e414203,0x1041145a,0x14101010,0x10080000,0x3e4240,0x427e1042,0x42100870,0x10494242,
<a name="l01434"></a>01434       0x4242203c,0x1042245a,0x18241810,0x10104600,0xf8f60008,0x1010,0x600320,0x48f610f6,0xf6000000,0x187eff,0x3c04,0x5ef61810,0x105020,
<a name="l01435"></a>01435       0x24fe0064,0x9d006c,0x138ad00,0x100000,0x420518,0x36,0xc0c0c020,0x22222222,0x22224840,0x40404040,0x10101010,0x41454141,0x41414118,
<a name="l01436"></a>01436       0x51414141,0x41107e46,0x3e3e3e3e,0x3e3e7e40,0x7e7e7e7e,0x10101010,0x42424242,0x42424200,0x5a424242,0x42244224,0x0,0x0,0x0,
<a name="l01437"></a>01437       0x0,0x0,0x0,0x0,0x0,0x28,0x9094500,0x10080010,0x10,0x41081801,0x7f014118,0x41010000,0xe7f3800,0x513e4140,0x41404041,0x41100444,
<a name="l01438"></a>01438       0x40414541,0x40414101,0x10411466,0x36103010,0x8080000,0x424240,0x42401042,0x42100848,0x10494242,0x42422002,0x10423c5a,0x18142010,
<a name="l01439"></a>01439       0x10100000,0x407c0010,0x1010,0x260140,0x487c307c,0x7c000000,0x180000,0x202,0x507c2010,0x105020,0x3c10003c,0x423e36,0x1004200,
<a name="l01440"></a>01440       0x100000,0x420500,0x3e6c,0x41e0440,0x3e3e3e3e,0x3e3e7840,0x40404040,0x10101010,0x41454141,0x41414124,0x61414141,0x41104042,
<a name="l01441"></a>01441       0x42424242,0x42425040,0x40404040,0x10101010,0x42424242,0x42424218,0x72424242,0x42144214,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100048,
<a name="l01442"></a>01442       0x49096200,0x8100010,0x18001810,0x22082043,0x2432310,0x61421818,0x1004010,0x4f634121,0x42404021,0x41104444,0x40414322,0x40234143,
<a name="l01443"></a>01443       0x10411466,0x22106010,0x8080000,0x466622,0x66621066,0x42100844,0x10494266,0x66662042,0x10461824,0x24184010,0x10100000,0x24381010,
<a name="l01444"></a>01444       0x34001018,0xda4320,0x68386038,0x38000000,0x0,0x4204,0x50384010,0x105420,0x4210100c,0x3c0012,0x3c00,0x0,0x460500,0x48,0xc020c44,
<a name="l01445"></a>01445       0x63636363,0x63228821,0x40404040,0x10101010,0x42432222,0x22222242,0x62414141,0x41104042,0x46464646,0x46465022,0x62626262,
<a name="l01446"></a>01446       0x10101010,0x66426666,0x66666618,0x66464646,0x46186618,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100048,0x3e063d00,0x8100000,0x18001820,
<a name="l01447"></a>01447       0x1c3e7f3e,0x23c1e20,0x3e3c1818,0x10,0x20417e1e,0x7c7f401e,0x417c3842,0x7f41431c,0x401e40be,0x103e0866,0x41107f10,0x4080000,
<a name="l01448"></a>01448       0x3a5c1c,0x3a3c103a,0x427c0842,0xe49423c,0x7c3e203c,0xe3a1824,0x66087e10,0x10100000,0x3c103010,0x245a1010,0x5a3e10,0x3f107f10,
<a name="l01449"></a>01449       0x10000000,0x0,0x3c08,0x2e107e10,0x1038fc,0x101004,0x0,0x0,0xfe0000,0x7f0500,0x0,0x14041438,0x41414141,0x41418e1e,0x7f7f7f7f,
<a name="l01450"></a>01450       0x7c7c7c7c,0x7c431c1c,0x1c1c1c00,0xbc3e3e3e,0x3e10405c,0x3a3a3a3a,0x3a3a6e1c,0x3c3c3c3c,0x7c7c7c7c,0x3c423c3c,0x3c3c3c00,
<a name="l01451"></a>01451       0x7c3a3a3a,0x3a087c08,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8000000,0x4200000,0x10000020,0x0,0x0,0x10,0x0,0x30000000,0x0,
<a name="l01452"></a>01452       0x0,0x0,0x60000,0x0,0x1c,0x4380000,0x0,0x2,0x800,0x0,0x40020000,0x0,0x8000c,0x10600000,0x2010,0x48000000,0x240000,0x0,0x0,
<a name="l01453"></a>01453       0x0,0x0,0x0,0x1000,0x1078,0x0,0x0,0x0,0x400500,0x0,0x1e081e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01454"></a>01454       0x84008,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8000000,0x0,0x20000040,0x0,0x0,0x20,0x0,0x1e000000,0x0,0x0,0x0,0x20000,0x0,
<a name="l01455"></a>01455       0x0,0x2000000,0x0,0x26,0x800,0x0,0x40020000,0x0,0x100000,0x10000000,0x2030,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1000,0x1000,0x0,
<a name="l01456"></a>01456       0x0,0x0,0x400000,0x8000000,0x41e0400,0x0,0x4,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4,0x0,0x0,0x0,0x0,0x0,0x104010,0x0,0x0,0x0,0x0,
<a name="l01457"></a>01457       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfe,0x0,0x1c,0x7000,0x0,0x40020000,0x0,0x300000,
<a name="l01458"></a>01458       0x0,0xe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1000,0x0,0x0,0x0,0x400000,0x38000000,0x0,0x0,0x1c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01459"></a>01459       0x1c,0x0,0x0,0x0,0x0,0x0,0x304030,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01460"></a>01460       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01461"></a>01461       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01462"></a>01462       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01463"></a>01463       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l01464"></a>01464 
<a name="l01465"></a>01465     <span class="comment">// Definition of a 10x19 font</span>
<a name="l01466"></a>01466     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font10x19[10*19*256/32] = {
<a name="l01467"></a>01467       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01468"></a>01468       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3600000,0x36000,0x0,0x0,0x0,0x0,0x6c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01469"></a>01469       0x0,0x180181c0,0xe81b0300,0x1801,0x81c06c18,0x181c06c,0xe8180,0x181c0e81,0xb0000006,0x60701b,0x1800000,0x0,0x0,0x0,0x0,0x0,
<a name="l01470"></a>01470       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01471"></a>01471       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c00000,0x1c000,0x0,0x0,0x0,0x0,0x6c,0x0,0x0,0x0,0x0,
<a name="l01472"></a>01472       0x0,0x0,0x0,0x0,0x0,0x0,0xc030360,0xb81b0480,0xc03,0x3606c0c,0x303606c,0xb80c0,0x30360b81,0xb0000003,0xc0d81b,0x3000000,0x0,
<a name="l01473"></a>01473       0x300,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01474"></a>01474       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x800,0x0,0x0,0x0,0x0,0x0,0x2200000,
<a name="l01475"></a>01475       0x22000,0x0,0x0,0x0,0x0,0x0,0x0,0x30000,0x0,0xe0,0x38078000,0x0,0x480,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3000c080,0x480,0x3000,
<a name="l01476"></a>01476       0xc0800030,0xc08000,0x300,0xc080000,0xc,0x302000,0xc00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20120,0x41c01,0xe020060c,
<a name="l01477"></a>01477       0x800000,0x4,0x1e0703e0,0xf8060fc1,0xe1fe1e07,0x80000000,0x78,0x307e0,0x3c7c1fe7,0xf83c408f,0x80f10440,0x18660878,0x7e0787e0,
<a name="l01478"></a>01478       0x78ff9024,0xa0140a0,0x27f83840,0x700e000,0x18000400,0x8000,0x70004002,0x410078,0x0,0x0,0x0,0x0,0x1808,0xc000000,0xf000000,
<a name="l01479"></a>01479       0xe000000,0x1400,0x1e0001f,0x8007f800,0x0,0x0,0x3a3b,0x61400000,0x14202,0x20000,0x38002020,0x3c1b00,0x3e00000,0xf8,0x1c0001c0,
<a name="l01480"></a>01480       0x78060001,0xf800000e,0x1e00020,0x8004020,0xc0300c0,0x300c0301,0xf83c7f9f,0xe7f9fe3e,0xf83e0f8,0x7c1821e0,0x781e0781,0xe0001f10,
<a name="l01481"></a>01481       0x24090240,0xa02400f8,0x18018140,0xe81b0480,0x1801,0x81406c18,0x181406c,0x190e8180,0x18140e81,0xb0000006,0x60501b,0x184006c,
<a name="l01482"></a>01482       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20120,0x26042202,0x200c06,0x800000,0x8,0x210d0611,0x40e0803,0x10026188,0x40000000,
<a name="l01483"></a>01483       0x8c,0xf030418,0xc6431004,0xc64082,0x110840,0x18660884,0x41084410,0x8c081024,0xa012110,0x40082020,0x101b000,0xc000400,0x8000,
<a name="l01484"></a>01484       0x80004002,0x410008,0x0,0x0,0x100000,0x0,0x2008,0x2000000,0x18800000,0x10000000,0x2200,0x2300024,0x800,0x0,0x0,0x2e13,0x60800000,
<a name="l01485"></a>01485       0x8104,0x20040,0x64001040,0x80401b07,0x80100000,0x1e000,0x22000020,0x40c0003,0xc8000002,0x3300020,0x8004020,0xc0300c0,0x300c0301,
<a name="l01486"></a>01486       0x40c64010,0x4010008,0x2008020,0x43182210,0x84210842,0x10002190,0x24090240,0x9044018c,0xc030220,0xb81b0300,0xc03,0x2206c0c,
<a name="l01487"></a>01487       0x302206c,0x1e0b80c0,0x30220b81,0xb0000003,0xc0881b,0x304006c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20120,0x241f2202,
<a name="l01488"></a>01488       0x200802,0x4900000,0x8,0x21010408,0x20a0802,0x44090,0x20000000,0x4,0x11878408,0x80411004,0x804082,0x111040,0x1ce50986,0x40986409,
<a name="l01489"></a>01489       0x81022,0x12012108,0x80102020,0x1031800,0x400,0x8000,0x80004000,0x10008,0x0,0x0,0x100000,0x0,0x2008,0x2000000,0x10000000,
<a name="l01490"></a>01490       0x10000000,0x18,0x4000044,0x1000,0x30180,0xd81b0000,0x13,0xe0000000,0x88,0x40,0x400018c0,0x80400018,0x61f00000,0x61800,0x22020020,
<a name="l01491"></a>01491       0x4000007,0xc8000002,0x2100020,0x8038000,0x1e0781e0,0x781e0301,0x40804010,0x4010008,0x2008020,0x41142619,0x86619866,0x18002190,
<a name="l01492"></a>01492       0x24090240,0x8887e104,0x0,0x0,0x0,0x0,0x0,0x2000000,0x0,0x0,0x0,0x40000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20120,0x2434a202,
<a name="l01493"></a>01493       0x200802,0x3e00000,0x10,0x40810008,0x21a0804,0x44090,0x20000000,0x80040004,0x20848409,0x409004,0x1004082,0x112040,0x14a50902,
<a name="l01494"></a>01494       0x40902409,0x81022,0x11321208,0x80202010,0x1060c00,0x7c5e0,0x781e8783,0xf07a5f0e,0x1c10808,0xfc5f078,0x5e07a170,0x7c7e1024,
<a name="l01495"></a>01495       0xa016190,0x27f82008,0x2000000,0x20000000,0x10000000,0x80200024,0x4000044,0x2000,0x18180,0xc8320000,0x12,0xa1f00037,0x7f888,
<a name="l01496"></a>01496       0x1e0,0x40410880,0x80600017,0xa2100000,0x5e800,0x22020040,0x38001027,0xc8000002,0x2100020,0x8004020,0x12048120,0x48120482,
<a name="l01497"></a>01497       0x41004010,0x4010008,0x2008020,0x40942409,0x2409024,0x9044390,0x24090240,0x88841918,0x1f07c1f0,0x7c1f07c3,0x70781e07,0x81e07838,
<a name="l01498"></a>01498       0xe0380e0,0x1f17c1e0,0x781e0781,0xe0001f90,0x24090240,0x9025e102,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20001,0xff241c41,
<a name="l01499"></a>01499       0x1001,0x1c02000,0x10,0x40810008,0x6120f85,0xe0086190,0x20c03007,0x8007800c,0x27848419,0x409004,0x1004082,0x114040,0x14a48902,
<a name="l01500"></a>01500       0x40902409,0x81022,0x11321205,0x602010,0x1000000,0x86610,0x84218840,0x80866182,0x411008,0x9261884,0x61086189,0x82101022,0x12012108,
<a name="l01501"></a>01501       0x40082008,0x2000000,0x20030000,0x20000000,0x80200024,0x4000044,0x3006030,0xc018100,0x4c260000,0x12,0x26080048,0x83000850,
<a name="l01502"></a>01502       0x20250,0x403e0500,0x8078002c,0x12302200,0x92400,0x1c0200c0,0x4001027,0xc8000002,0x3308820,0x8004020,0x12048120,0x48120482,
<a name="l01503"></a>01503       0x41004010,0x4010008,0x2008020,0x40922409,0x2409024,0x8884690,0x24090240,0x85040920,0x21886218,0x86218860,0x88842108,0x42108408,
<a name="l01504"></a>01504       0x2008020,0x21186210,0x84210842,0x10302190,0x24090240,0x88461084,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0x4c240182,
<a name="l01505"></a>01505       0x80001001,0x6b02000,0x20,0x4c810010,0x78220846,0x10081e10,0x20c0301c,0x1fe0e018,0x4d8487e1,0x409fe7,0xf9007f82,0x11a040,
<a name="l01506"></a>01506       0x13248902,0x41102418,0xe0081022,0x11320c05,0x402008,0x1000000,0x2409,0x409020,0x81024082,0x412008,0x9240902,0x40902101,0x101022,
<a name="l01507"></a>01507       0x11321208,0x40102008,0x2000000,0x7e0c8000,0xfc000003,0xf0fc0018,0x43802047,0x8c8040c8,0x32008300,0x44240000,0x0,0x4000048,
<a name="l01508"></a>01508       0x8c801050,0x20440,0x40221dc0,0x808c0028,0x11d0667f,0x8009c400,0x1fc180,0x4001023,0xc8300002,0x1e0ccfb,0x3ec7b020,0x12048120,
<a name="l01509"></a>01509       0x48120482,0x79007f9f,0xe7f9fe08,0x2008020,0xf0922409,0x2409024,0x8504490,0x24090240,0x85040920,0x802008,0x2008020,0x89004090,
<a name="l01510"></a>01510       0x24090208,0x2008020,0x40902409,0x2409024,0x8304390,0x24090240,0x88440884,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,
<a name="l01511"></a>01511       0x481c0606,0xc8001001,0x802000,0x20,0x4c810020,0x4220024,0x8102108,0x60000070,0x3820,0x48884419,0x409004,0x10e4082,0x112040,
<a name="l01512"></a>01512       0x13244902,0x7e1027e0,0x3c081021,0x21320c02,0x802008,0x1000000,0x7e409,0x409020,0x81024082,0x414008,0x9240902,0x40902101,
<a name="l01513"></a>01513       0x80101022,0x11320c08,0x40202008,0x2038800,0x200bc000,0x20000000,0x80200003,0x80f04044,0xbc080bc,0x2f000200,0x0,0x0,0x6001048,
<a name="l01514"></a>01514       0x8bc02020,0x20441,0xf8220200,0x80820028,0x1000cc00,0x80094400,0x201e0,0x78001021,0xc830000f,0x8000663c,0xf03c0c0,0x21084210,
<a name="l01515"></a>01515       0x84210846,0x41004010,0x4010008,0x2008020,0x40912409,0x2409024,0x8204890,0x24090240,0x82040930,0x1f87e1f8,0x7e1f87e0,0x89004090,
<a name="l01516"></a>01516       0x24090208,0x2008020,0x40902409,0x2409024,0x8004690,0x24090240,0x88440884,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,
<a name="l01517"></a>01517       0x480719c4,0x48001001,0x81fc00,0x7800020,0x40810040,0x2420024,0x8104087,0xa0000070,0x3820,0x48884409,0x409004,0x1024082,0x111040,
<a name="l01518"></a>01518       0x13244902,0x40102410,0x2081021,0x214a1202,0x1802008,0x1000000,0x182409,0x409fe0,0x81024082,0x41a008,0x9240902,0x40902100,
<a name="l01519"></a>01519       0xf8101021,0x214a0c04,0x80c0c008,0x1847000,0x7c1ee000,0x20000000,0x8020000c,0x8c044,0x1ee181ee,0x7b800000,0x707,0xf3ff0000,
<a name="l01520"></a>01520       0x3e0084f,0x9ee0c020,0x20440,0x40221fc0,0xc2002c,0x13f11000,0x87892400,0x20000,0x1020,0x48000000,0x3f011c6,0x31cc6180,0x21084210,
<a name="l01521"></a>01521       0x84210844,0x41004010,0x4010008,0x2008020,0x40912409,0x2409024,0x8505090,0x24090240,0x8204191c,0x60982609,0x82609823,0xf9007f9f,
<a name="l01522"></a>01522       0xe7f9fe08,0x2008020,0x40902409,0x2409024,0x9fe4c90,0x24090240,0x84840848,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3,0xfe048224,
<a name="l01523"></a>01523       0x28001001,0x2000,0x40,0x40810080,0x27f8024,0x8104080,0x2000001c,0x1fe0e020,0x488fc409,0x409004,0x1024082,0x110840,0x10242902,
<a name="l01524"></a>01524       0x40102408,0x2081021,0x214a1202,0x1002004,0x1000000,0x102409,0x409000,0x81024082,0x411008,0x9240902,0x40902100,0x6101021,
<a name="l01525"></a>01525       0x214a0c04,0x81002008,0x2000000,0x201dc000,0x20000000,0x80200000,0x98044,0x1dc101dc,0x77000000,0x700,0x0,0x180448,0x1dc10020,
<a name="l01526"></a>01526       0x20440,0x403e0200,0x620017,0xa000cc00,0x80052800,0x20000,0x1020,0x48000000,0x6606,0x206100,0x3f0fc3f0,0xfc3f0fc7,0xc1004010,
<a name="l01527"></a>01527       0x4010008,0x2008020,0x4090a409,0x2409024,0x8886090,0x24090240,0x8207e106,0x40902409,0x2409024,0x81004010,0x4010008,0x2008020,
<a name="l01528"></a>01528       0x40902409,0x2409024,0x8005890,0x24090240,0x84840848,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x98048224,0x30001001,0x2000,
<a name="l01529"></a>01529       0x40,0x21010100,0x2020024,0x8204080,0x40000007,0x80078000,0x48884408,0x80411004,0x824082,0x110840,0x10242986,0x40086409,0x2081021,
<a name="l01530"></a>01530       0xe14a2102,0x2002004,0x1000000,0x106409,0x409000,0x81024082,0x410808,0x9240902,0x40902100,0x2101021,0x214a1202,0x82002008,
<a name="l01531"></a>01531       0x2000000,0x300f8000,0x20000000,0x80fc001d,0xe4088044,0xf8200f8,0x3e000000,0x300,0x0,0x80c48,0xf820020,0x20640,0x40410200,
<a name="l01532"></a>01532       0x803c0018,0x60006600,0x61800,0x0,0x1020,0x48000000,0xcc0a,0x20a100,0x21084210,0x84210844,0x40804010,0x4010008,0x2008020,
<a name="l01533"></a>01533       0x4110a619,0x86619866,0x19046110,0x24090240,0x82040102,0x41906419,0x6419064,0x81004010,0x4010008,0x2008020,0x40902409,0x2409024,
<a name="l01534"></a>01534       0x8307090,0x24090240,0x82840828,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000,0x90248222,0x30000802,0x200c,0xc080,0x21010301,
<a name="l01535"></a>01535       0x4021042,0x10202108,0xc0c03000,0x80040020,0x4d902418,0xc6431004,0xc24082,0x6210440,0x10241884,0x40084409,0x86080840,0xc0842102,
<a name="l01536"></a>01536       0x4002002,0x1000000,0x18e610,0x84218820,0x80864082,0x410408,0x9240884,0x61086101,0x6101860,0xc0842103,0x4002008,0x2000000,
<a name="l01537"></a>01537       0x10850180,0x20330000,0x80200013,0x26184024,0x5040050,0x14000000,0x0,0x0,0x4180848,0x85040020,0x20350,0x40000200,0x800c0007,
<a name="l01538"></a>01538       0x80002200,0x1e000,0x0,0x1860,0x48000000,0x880a,0x40a188,0x40902409,0x2409028,0x40c64010,0x4010008,0x2008020,0x43106210,0x84210842,
<a name="l01539"></a>01539       0x10006108,0x42108421,0x2040102,0x6398e639,0x8e6398e4,0x88842088,0x22088208,0x2008020,0x21102210,0x84210842,0x10306118,0x66198661,
<a name="l01540"></a>01540       0x83061030,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20001,0x901f01c1,0xe8000802,0xc,0xc080,0x1e07c7f8,0xf8020f81,0xe0401e07,
<a name="l01541"></a>01541       0x80c03000,0x20,0x279027e0,0x3c7c1fe4,0x3c408f,0x83c1027f,0x90241878,0x4007c404,0xf8080780,0xc0844082,0x7f82002,0x1000000,
<a name="l01542"></a>01542       0xfa5e0,0x781e87c0,0x807a409f,0xc0410207,0x9240878,0x5e07a100,0xf80e0fa0,0xc0846183,0x7f82008,0x2000000,0xf020100,0x40321360,
<a name="l01543"></a>01543       0x80200014,0xa3e0201f,0x8207f820,0x8000000,0x0,0x0,0x3e01037,0x207f820,0x201e1,0xfc000200,0x80040000,0x0,0x0,0x1fc000,0x17b0,
<a name="l01544"></a>01544       0x48000000,0x12,0xc120f0,0x40902409,0x2409028,0x783c7f9f,0xe7f9fe3e,0xf83e0f8,0x7c1061e0,0x781e0781,0xe000be07,0x81e0781e,
<a name="l01545"></a>01545       0x204017c,0x3e8fa3e8,0xfa3e8fa3,0x70781f07,0xc1f07c7f,0x1fc7f1fc,0x1e1021e0,0x781e0781,0xe0007e0f,0xa3e8fa3e,0x8305e030,0x0,
<a name="l01546"></a>01546       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x40000,0xc06,0xc,0x100,0x0,0x0,0x0,0x3000,0x0,0x20000000,0x0,0x0,0x0,0x0,0xc000,
<a name="l01547"></a>01547       0x0,0x0,0x2001,0x1000000,0x0,0x0,0x20000,0x400000,0x0,0x40002000,0x0,0x1,0x2008,0x2000000,0x100,0x40240000,0x80200008,0x40000000,
<a name="l01548"></a>01548       0x0,0x0,0x0,0x0,0x0,0x0,0x40,0x0,0x80040000,0x0,0x0,0x0,0x1000,0x48000000,0x1f,0x181f000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01549"></a>01549       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1040010,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x40000,0x60c,0x18,0x0,
<a name="l01550"></a>01550       0x0,0x0,0x0,0x6000,0x0,0x10000000,0x0,0x0,0x0,0x0,0x4000,0x0,0x0,0x3800,0x7000000,0x0,0x0,0x840000,0x400000,0x0,0x40002000,
<a name="l01551"></a>01551       0x0,0x2,0x2008,0x2000000,0x200,0x40440000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x40,0x0,0x80780000,0x0,0x0,0x0,0x1000,0x48000400,
<a name="l01552"></a>01552       0x2,0x1e02000,0x0,0x0,0x80000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80000,0x0,0x0,0x0,0x0,0x0,0x0,0x2040020,0x0,0x0,0x0,0x0,
<a name="l01553"></a>01553       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0x4000,0x0,0xf000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01554"></a>01554       0x780000,0x3800000,0x0,0x40002000,0x0,0xe,0x1808,0xc000000,0x3,0x80000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80000000,
<a name="l01555"></a>01555       0x0,0x0,0x0,0x1000,0x1c00,0x0,0x0,0x0,0x0,0x380000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x380000,0x0,0x0,0x0,0x0,0x0,0x0,0xe0400e0,
<a name="l01556"></a>01556       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3fc,
<a name="l01557"></a>01557       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01558"></a>01558       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l01559"></a>01559 
<a name="l01560"></a>01560     <span class="comment">// Definition of a 12x24 font</span>
<a name="l01561"></a>01561      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font12x24[12*24*256/32] = {
<a name="l01562"></a>01562        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01563"></a>01563        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x19,0x80000000,0x198000,0x0,0x0,0x0,0x0,
<a name="l01564"></a>01564        0x0,0x198,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc001806,0xc81980,0x60000000,0xc001806,0x1980c00,0x18060198,0xc80c,
<a name="l01565"></a>01565        0x180600,0xc8198000,0xc001,0x80601980,0x18000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01566"></a>01566        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01567"></a>01567        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf,0x0,0xf0000,0x0,0x0,0x0,0x0,0x0,0x198,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01568"></a>01568        0x0,0x0,0x0,0x0,0x0,0x0,0x600300f,0x1301980,0x90000000,0x600300f,0x1980600,0x300f0198,0x13006,0x300f01,0x30198000,0x6003,
<a name="l01569"></a>01569        0xf01980,0x30000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01570"></a>01570        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01571"></a>01571        0x0,0x0,0x0,0x0,0x0,0x0,0x6,0x0,0x60000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7007,0x3c0000,0x3006019,
<a name="l01572"></a>01572        0x80000000,0x90000000,0x3006019,0x80000300,0x60198000,0x3,0x601980,0x0,0x3006,0x1980000,0x60000000,0x0,0x0,0xe0000000,0x0,
<a name="l01573"></a>01573        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01574"></a>01574        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000000,
<a name="l01575"></a>01575        0x0,0x0,0x0,0x0,0x0,0xc800019,0x80000000,0x198000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc0,0x0,0x0,0x1001,0x420000,0x0,0x0,0x90000000,
<a name="l01576"></a>01576        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18000c06,0xc80001,0x10000000,0x18000c06,0x1800,0xc060000,0xc818,0xc0600,0xc8000000,
<a name="l01577"></a>01577        0x18000,0xc0600000,0xc000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6019,0x80660207,0x800f8060,0x300c004,0x0,0x6,
<a name="l01578"></a>01578        0xe00703f,0x3f00383,0xf80f07fc,0x1f01f000,0x0,0xf8,0x607f,0x7c7e07,0xfe7fe0f8,0x6063fc1f,0x86066007,0xe7060f0,0x7f80f07f,
<a name="l01579"></a>01579        0x81f8fff6,0x6606c03,0x70ee077f,0xe0786000,0xf0070000,0xc000060,0xc0,0x3e000,0x60006003,0x600fc00,0x0,0x0,0x0,0x0,0x0,0x3c0603,
<a name="l01580"></a>01580        0xc0000000,0x7800000,0xf0000,0x0,0xf00001f,0x80001fe0,0x7fe000,0x0,0x0,0x0,0x168fe609,0x0,0x90e07,0x6000,0x3c000e,0x70000f8,
<a name="l01581"></a>01581        0x1980001f,0x0,0x1f8,0xf00000f,0xf00180,0xfe000,0xe00e,0x1001,0x20060,0x6006006,0x600600,0x600fe07c,0x7fe7fe7f,0xe7fe3fc3,
<a name="l01582"></a>01582        0xfc3fc3fc,0x7e07060f,0xf00f00,0xf00f0000,0xf360660,0x6606606e,0x76001e0,0xc00180f,0x1681981,0x10000000,0xc00180f,0x1980c00,
<a name="l01583"></a>01583        0x180f0198,0x3801680c,0x180f01,0x68198000,0xc001,0x80f01980,0x18600198,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6019,
<a name="l01584"></a>01584        0x8044020c,0xc01f8060,0x2004004,0x0,0xc,0x3f81f07f,0x87f80383,0xf81f87fc,0x3f83f800,0x0,0x1fc,0x780607f,0x81fe7f87,0xfe7fe1fc,
<a name="l01585"></a>01585        0x6063fc1f,0x860c6007,0xe7061f8,0x7fc1f87f,0xc3fcfff6,0x6606c03,0x30c6067f,0xe0783000,0xf00d8000,0x6000060,0xc0,0x7e000,0x60006003,
<a name="l01586"></a>01586        0x600fc00,0x0,0x0,0xc00,0x0,0x0,0x7c0603,0xe0000000,0xfc00000,0x1f0000,0x0,0x900003f,0xc0003fe0,0x7fe000,0x0,0x0,0x0,0x1302660f,
<a name="l01587"></a>01587        0x0,0xf0606,0x6004,0x7e0006,0x60601f8,0x19800001,0x80000000,0x1f8,0x19800010,0x81080300,0x3f2000,0x2011,0x1001,0x1c0060,0x6006006,
<a name="l01588"></a>01588        0x600600,0x601fe1fe,0x7fe7fe7f,0xe7fe3fc3,0xfc3fc3fc,0x7f87061f,0x81f81f81,0xf81f8000,0x3fa60660,0x66066066,0x66003f0,0x6003009,
<a name="l01589"></a>01589        0x1301981,0x10000000,0x6003009,0x1980600,0x30090198,0x1f013006,0x300901,0x30198000,0x6003,0x901980,0x30600198,0x0,0x0,0x0,
<a name="l01590"></a>01590        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6019,0x80cc0f8c,0xc0180060,0x6006044,0x40000000,0xc,0x3181b041,0xc41c0783,0x388018,
<a name="l01591"></a>01591        0x71c71800,0x0,0x106,0x18c0f061,0xc38261c6,0x600384,0x60606001,0x86186007,0xe78630c,0x60e30c60,0xe7040606,0x630cc03,0x39c30c00,
<a name="l01592"></a>01592        0xc0603000,0x3018c000,0x3000060,0xc0,0x60000,0x60000000,0x6000c00,0x0,0x0,0xc00,0x0,0x0,0x600600,0x60000000,0x18400000,0x180000,
<a name="l01593"></a>01593        0x0,0x19800070,0x40003600,0xc000,0x0,0x0,0x0,0x25a06,0x0,0x6030c,0x4,0xe20007,0xe060180,0xf000,0x80000000,0xf0000,0x10800000,
<a name="l01594"></a>01594        0x80080600,0x7f2000,0x2020,0x80001001,0x20000,0xf00f00f,0xf00f00,0x601b0382,0x60060060,0x6000600,0x60060060,0x61c78630,0xc30c30c3,
<a name="l01595"></a>01595        0xc30c000,0x30e60660,0x66066063,0xc600738,0x3006019,0x80000000,0xe0000000,0x3006019,0x80000300,0x60198000,0x3e000003,0x601980,
<a name="l01596"></a>01596        0x0,0x3006,0x1980000,0x60600000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6019,0x80cc1fcc,0xc0180060,0x6006035,0x80000000,
<a name="l01597"></a>01597        0x18,0x71c03000,0xc00c0583,0x300018,0x60c60c00,0x0,0x6,0x3060f060,0xc30060c6,0x600300,0x60606001,0x86306007,0x9e78670e,0x60670e60,
<a name="l01598"></a>01598        0x66000606,0x630c606,0x19830c01,0xc0601800,0x30306000,0x60,0xc0,0x60000,0x60000000,0x6000c00,0x0,0x0,0xc00,0x0,0x0,0x600600,
<a name="l01599"></a>01599        0x60000000,0x18000000,0x300000,0x0,0x78060,0x6600,0x1c000,0x300c,0x39819c0,0x0,0x25a00,0x0,0x30c,0x4,0xc00003,0xc060180,0x30c1f,
<a name="l01600"></a>01600        0x80000000,0x30c000,0x10800001,0x80700000,0x7f2000,0x2020,0x80001001,0x20060,0xf00f00f,0xf00f00,0xf01b0300,0x60060060,0x6000600,
<a name="l01601"></a>01601        0x60060060,0x60c78670,0xe70e70e7,0xe70e000,0x70c60660,0x66066063,0xc7f8618,0x0,0x0,0x0,0x0,0x0,0x0,0x7000000,0x0,0x0,0x0,
<a name="l01602"></a>01602        0x0,0x600000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6019,0x87ff3a4c,0xc0180060,0x400600e,0x600000,0x18,0x60c03000,
<a name="l01603"></a>01603        0xc00c0d83,0x700018,0x60c60c00,0x20,0x400006,0x3060f060,0xc6006066,0x600600,0x60606001,0x86606006,0x966c6606,0x60660660,0x66000606,
<a name="l01604"></a>01604        0x630c666,0xf019801,0x80601800,0x30603000,0x1f06f,0xf01ec0,0xf03fe1ec,0x6703e01f,0x61c0c06,0xdc6701f0,0x6f01ec0c,0xe1f87fc6,
<a name="l01605"></a>01605        0xc60cc03,0x71c60c7f,0xc0600600,0x60000000,0x30000000,0x300000,0x40040,0x88060,0x6600,0x18000,0x300c,0x1981980,0x0,0x2421f,
<a name="l01606"></a>01606        0x80003ce0,0x7fc198,0x601f,0xc02021,0x980600c0,0x40230,0x80000000,0x402000,0x19806003,0x80006,0xc7f2000,0x2020,0x80001001,
<a name="l01607"></a>01607        0x420060,0xf00f00f,0xf00f00,0xf01b0600,0x60060060,0x6000600,0x60060060,0x6066c660,0x66066066,0x6606208,0x60e60660,0x66066061,
<a name="l01608"></a>01608        0x987fc670,0x1f01f01f,0x1f01f01,0xf039c0f0,0xf00f00f,0xf03e03,0xe03e03e0,0x1f06701f,0x1f01f01,0xf01f0060,0x1e660c60,0xc60c60c6,
<a name="l01609"></a>01609        0xc6f060c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x7ff3207,0x8c0c0000,0xc00300e,0x600000,0x30,0x60c03000,
<a name="l01610"></a>01610        0xc01c0983,0xf0600030,0x31860c06,0x6001e0,0x78000e,0x23e1f861,0xc6006066,0x600600,0x60606001,0x86c06006,0x966c6606,0x60660660,
<a name="l01611"></a>01611        0xe7000606,0x630c666,0xf01f803,0x600c00,0x30000000,0x3f87f,0x83f83fc3,0xf83fe3fc,0x7f83e01f,0x6380c07,0xfe7f83f8,0x7f83fc0d,
<a name="l01612"></a>01612        0xf3fc7fc6,0xc71cc03,0x3183187f,0xc0600600,0x60000000,0xff806000,0x300000,0x40040,0x88070,0x6600,0x60030060,0x6001818,0x1883180,
<a name="l01613"></a>01613        0x0,0x2423f,0xc0007ff0,0x607fc1f8,0x603f,0x80c01fc1,0xf80601e0,0x5f220,0x80420000,0x5f2000,0xf006006,0x80006,0xc7f2000,0x2020,
<a name="l01614"></a>01614        0x82107c07,0xc03c0060,0x1f81f81f,0x81f81f80,0xf03b0600,0x60060060,0x6000600,0x60060060,0x6066c660,0x66066066,0x660671c,0x61660660,
<a name="l01615"></a>01615        0x66066061,0xf860e6c0,0x3f83f83f,0x83f83f83,0xf87fe3f8,0x3f83f83f,0x83f83e03,0xe03e03e0,0x3f87f83f,0x83f83f83,0xf83f8060,
<a name="l01616"></a>01616        0x3fc60c60,0xc60c60c3,0x187f8318,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x883200,0x300c0000,0xc003035,0x80600000,
<a name="l01617"></a>01617        0x30,0x66c03001,0xc0f81983,0xf86f0030,0x1f071c06,0x600787,0xfe1e001c,0x6261987f,0x86006067,0xfe7fc600,0x7fe06001,0x87c06006,
<a name="l01618"></a>01618        0xf6646606,0x60e6067f,0xc3e00606,0x61986f6,0x600f007,0x600c00,0x30000000,0x21c71,0x830831c3,0x1c06031c,0x71c06003,0x6700c06,
<a name="l01619"></a>01619        0x6671c318,0x71831c0f,0x16040c06,0xc318606,0x1b031803,0x80600600,0x60000000,0x30009000,0x300000,0x40040,0x7003e,0x67e0,0x90070090,
<a name="l01620"></a>01620        0x9001818,0x8c3100,0x0,0x60,0x4000e730,0x900380f0,0x6034,0x80c018c7,0xfe060338,0xb0121,0x80c60000,0x909000,0x6008,0x1080006,
<a name="l01621"></a>01621        0xc3f2000,0x2011,0x3180060,0x60060e0,0x19819819,0x81981981,0x9833c600,0x7fe7fe7f,0xe7fe0600,0x60060060,0x60664660,0x66066066,
<a name="l01622"></a>01622        0x66063b8,0x62660660,0x66066060,0xf06066c0,0x21c21c21,0xc21c21c2,0x1c466308,0x31c31c31,0xc31c0600,0x60060060,0x31871c31,0x83183183,
<a name="l01623"></a>01623        0x18318000,0x71860c60,0xc60c60c3,0x18718318,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x1981a00,0xe03e0000,0xc003044,
<a name="l01624"></a>01624        0x40600000,0x60,0x66c03001,0x80f03182,0x1c7f8030,0x3f83fc06,0x601e07,0xfe078038,0x6661987f,0x86006067,0xfe7fc61e,0x7fe06001,
<a name="l01625"></a>01625        0x87e06006,0x66666606,0x7fc6067f,0x81f80606,0x61986f6,0x6006006,0x600600,0x30000000,0xc60,0xc60060c6,0xc06060c,0x60c06003,
<a name="l01626"></a>01626        0x6e00c06,0x6660c60c,0x60c60c0e,0x6000c06,0xc318666,0x1f031803,0x600600,0x603c2000,0x30016800,0x1fe0000,0x1f81f8,0x1c1f,0x804067e1,
<a name="l01627"></a>01627        0x68060168,0x16800810,0xc42300,0x0,0x60,0x20c331,0x68030060,0x6064,0x3fc1040,0xf006031c,0xa011e,0x818c7fe0,0x909000,0x7fe1f,
<a name="l01628"></a>01628        0x80f00006,0xc0f2060,0xf80e,0x18c0780,0x780781c0,0x19819819,0x81981981,0x9833c600,0x7fe7fe7f,0xe7fe0600,0x60060060,0xfc666660,
<a name="l01629"></a>01629        0x66066066,0x66061f0,0x66660660,0x66066060,0x606066e0,0xc00c00,0xc00c00c0,0xc066600,0x60c60c60,0xc60c0600,0x60060060,0x60c60c60,
<a name="l01630"></a>01630        0xc60c60c6,0xc60c000,0x61c60c60,0xc60c60c3,0x1860c318,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x1980f81,0x80373000,
<a name="l01631"></a>01631        0xc003004,0x7fe0001,0xf0000060,0x60c03003,0x183180,0xc71c060,0x3181ec00,0x7000,0xe070,0x66619860,0xc6006066,0x60061e,0x60606001,
<a name="l01632"></a>01632        0x87606006,0x66626606,0x7f860661,0xc01c0606,0x6198696,0xf00600e,0x600600,0x30000000,0x1fc60,0xc60060c7,0xfc06060c,0x60c06003,
<a name="l01633"></a>01633        0x7c00c06,0x6660c60c,0x60c60c0c,0x7f00c06,0xc3b8666,0xe01b007,0x3c00600,0x3c7fe000,0xff03ec00,0x1fe0000,0x40040,0xe001,0xc0806603,
<a name="l01634"></a>01634        0xec0e03ec,0x3ec00010,0x0,0x60000000,0x7f,0x10c3f3,0xec070060,0x6064,0x3fc1040,0x6000030c,0xa0100,0x3187fe1,0xf09f1000,0x7fe00,
<a name="l01635"></a>01635        0x6,0xc012060,0x0,0xc63c03,0xc03c0380,0x19819819,0x81981981,0x98330600,0x60060060,0x6000600,0x60060060,0xfc662660,0x66066066,
<a name="l01636"></a>01636        0x66060e0,0x6c660660,0x66066060,0x6060e630,0x1fc1fc1f,0xc1fc1fc1,0xfc3fe600,0x7fc7fc7f,0xc7fc0600,0x60060060,0x60c60c60,0xc60c60c6,
<a name="l01637"></a>01637        0xc60c7fe,0x62c60c60,0xc60c60c1,0xb060c1b0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0xffe02c6,0x3c633000,0xc003004,
<a name="l01638"></a>01638        0x7fe0001,0xf00000c0,0x60c03006,0xc6180,0xc60c060,0x60c00c00,0x7000,0xe060,0x66639c60,0x66006066,0x600606,0x60606001,0x86306006,
<a name="l01639"></a>01639        0x66636606,0x60060660,0xc0060606,0x61f8696,0xf00600c,0x600300,0x30000000,0x3fc60,0xc60060c7,0xfc06060c,0x60c06003,0x7c00c06,
<a name="l01640"></a>01640        0x6660c60c,0x60c60c0c,0x1f80c06,0xc1b0666,0xe01b00e,0x3c00600,0x3c43c000,0x3007de00,0x600000,0x40040,0x30000,0x61006607,0xde0c07de,
<a name="l01641"></a>01641        0x7de00000,0x0,0xf07fefff,0x1f,0x8008c3f7,0xde0e0060,0x6064,0xc01047,0xfe00018c,0xb013f,0x86300061,0xf0911000,0x6000,0x6,
<a name="l01642"></a>01642        0xc012060,0x3f,0x8063c0cc,0x3cc0c700,0x39c39c39,0xc39c39c1,0x98630600,0x60060060,0x6000600,0x60060060,0x60663660,0x66066066,
<a name="l01643"></a>01643        0x66061f0,0x78660660,0x66066060,0x607fc618,0x3fc3fc3f,0xc3fc3fc3,0xfc7fe600,0x7fc7fc7f,0xc7fc0600,0x60060060,0x60c60c60,0xc60c60c6,
<a name="l01644"></a>01644        0xc60c7fe,0x64c60c60,0xc60c60c1,0xb060c1b0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0xffe0260,0x6661b000,0xc003000,
<a name="l01645"></a>01645        0x600000,0xc0,0x60c0300c,0xc7fe0,0xc60c060,0x60c01c00,0x1e07,0xfe078060,0x6663fc60,0x66006066,0x600606,0x60606001,0x86386006,
<a name="l01646"></a>01646        0x6636606,0x60060660,0xe0060606,0x60f039c,0x1b806018,0x600300,0x30000000,0x70c60,0xc60060c6,0x6060c,0x60c06003,0x7600c06,
<a name="l01647"></a>01647        0x6660c60c,0x60c60c0c,0x1c0c06,0xc1b03fc,0xe01f01c,0xe00600,0x70000000,0x3007fc00,0x600000,0x40040,0x0,0x62006607,0xfc1807fc,
<a name="l01648"></a>01648        0x7fc00000,0x0,0xf0000000,0x1,0xc004c307,0xfc1c0060,0x6064,0xc018c0,0x600000d8,0x5f200,0x3180060,0x50a000,0x6000,0x6,0xc012000,
<a name="l01649"></a>01649        0x0,0xc601c0,0x4201c600,0x3fc3fc3f,0xc3fc3fc3,0xfc7f0600,0x60060060,0x6000600,0x60060060,0x60663660,0x66066066,0x66063b8,
<a name="l01650"></a>01650        0x70660660,0x66066060,0x607f860c,0x70c70c70,0xc70c70c7,0xcc60600,0x60060060,0x6000600,0x60060060,0x60c60c60,0xc60c60c6,0xc60c000,
<a name="l01651"></a>01651        0x68c60c60,0xc60c60c1,0xf060c1f0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3300260,0x6661e000,0xc003000,0x600000,
<a name="l01652"></a>01652        0x180,0x71c03018,0xc7fe0,0xc60c0c0,0x60c01800,0x787,0xfe1e0060,0x6663fc60,0x630060c6,0x600306,0x60606001,0x86186006,0x661e70e,
<a name="l01653"></a>01653        0x60070c60,0x60060606,0x60f039c,0x19806038,0x600180,0x30000000,0x60c60,0xc60060c6,0x6060c,0x60c06003,0x6700c06,0x6660c60c,
<a name="l01654"></a>01654        0x60c60c0c,0xc0c06,0xc1b039c,0x1f00e018,0x600600,0x60000000,0x1803f800,0x600000,0x40040,0x39e00,0x63006603,0xf83803f8,0x3f800000,
<a name="l01655"></a>01655        0x0,0x60000000,0x0,0xc00cc303,0xf8180060,0x6064,0xc01fc0,0x60060070,0x40200,0x18c0060,0x402000,0x6000,0x6,0xc012000,0x0,0x18c0140,
<a name="l01656"></a>01656        0x2014600,0x3fc3fc3f,0xc3fc3fc3,0xfc7f0300,0x60060060,0x6000600,0x60060060,0x60c61e70,0xe70e70e7,0xe70e71c,0x60e60660,0x66066060,
<a name="l01657"></a>01657        0x6060060c,0x60c60c60,0xc60c60c6,0xcc60600,0x60060060,0x6000600,0x60060060,0x60c60c60,0xc60c60c6,0xc60c000,0x70c60c60,0xc60c60c0,
<a name="l01658"></a>01658        0xe060c0e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x33022e0,0x6670c000,0xc003000,0x600600,0x60180,0x31803030,
<a name="l01659"></a>01659        0x41c0184,0x1831c0c0,0x71c23806,0x6001e0,0x780000,0x62630c60,0xe38261c6,0x600386,0x60606043,0x860c6006,0x661e30c,0x60030c60,
<a name="l01660"></a>01660        0x740e0607,0xe0f039c,0x31c06030,0x600180,0x30000000,0x61c71,0x830831c3,0x406031c,0x60c06003,0x6300c06,0x6660c318,0x71831c0c,
<a name="l01661"></a>01661        0x41c0c07,0x1c0e039c,0x1b00e030,0x600600,0x60000000,0x1c41b00e,0x601cc0,0x401f8,0x45240,0xe1803601,0xb03001b0,0x1b000000,
<a name="l01662"></a>01662        0x0,0x0,0x41,0xc008e711,0xb0300060,0x6034,0x80c02020,0x60060030,0x30c00,0xc60000,0x30c000,0x0,0x7,0x1c012000,0x0,0x3180240,
<a name="l01663"></a>01663        0x6024608,0x30c30c30,0xc30c30c3,0xc630382,0x60060060,0x6000600,0x60060060,0x61c61e30,0xc30c30c3,0xc30c208,0x70c70e70,0xe70e70e0,
<a name="l01664"></a>01664        0x6060068c,0x61c61c61,0xc61c61c6,0x1cc62308,0x30430430,0x43040600,0x60060060,0x31860c31,0x83183183,0x18318060,0x31c71c71,
<a name="l01665"></a>01665        0xc71c71c0,0xe07180e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x2203fc0,0x663f6000,0x6006000,0x600600,0x60300,
<a name="l01666"></a>01666        0x3f81fe7f,0xc7f80187,0xf83f80c0,0x3f83f006,0x600020,0x400060,0x33e6067f,0xc1fe7f87,0xfe6001fe,0x6063fc7f,0x60e7fe6,0x660e3f8,
<a name="l01667"></a>01667        0x6001f860,0x37fc0603,0xfc06030c,0x30c0607f,0xe06000c0,0x30000000,0x7fc7f,0x83f83fc3,0xfc0603fc,0x60c7fe03,0x61807c6,0x6660c3f8,
<a name="l01668"></a>01668        0x7f83fc0c,0x7f80fc3,0xfc0e039c,0x3180607f,0xc0600600,0x60000000,0xfc0e00c,0x601986,0x66040040,0x4527f,0xc0803fe0,0xe07fe0e0,
<a name="l01669"></a>01669        0xe000000,0x0,0x0,0x7f,0x80107ff0,0xe07fc060,0x603f,0x83fe0000,0x60060018,0xf000,0x420000,0xf0000,0x7fe00,0x7,0xfe012000,
<a name="l01670"></a>01670        0x0,0x2100640,0xc0643f8,0x60660660,0x66066067,0xec3e1fe,0x7fe7fe7f,0xe7fe3fc3,0xfc3fc3fc,0x7f860e3f,0x83f83f83,0xf83f8000,
<a name="l01671"></a>01671        0x5fc3fc3f,0xc3fc3fc0,0x606006fc,0x7fc7fc7f,0xc7fc7fc7,0xfcffe3f8,0x3fc3fc3f,0xc3fc7fe7,0xfe7fe7fe,0x3f860c3f,0x83f83f83,
<a name="l01672"></a>01672        0xf83f8060,0x7f83fc3f,0xc3fc3fc0,0x607f8060,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x2201f80,0x3c1e7000,0x6006000,
<a name="l01673"></a>01673        0x600,0x60300,0xe01fe7f,0xc3f00183,0xe01f0180,0x1f01e006,0x600000,0x60,0x3006067f,0x807c7e07,0xfe6000f8,0x6063fc3e,0x6067fe6,
<a name="l01674"></a>01674        0x660e0f0,0x6000f060,0x3bf80601,0xf806030c,0x60e0607f,0xe06000c0,0x30000000,0x1ec6f,0xf01ec0,0xf80601ec,0x60c7fe03,0x61c03c6,
<a name="l01675"></a>01675        0x6660c1f0,0x6f01ec0c,0x3f007c1,0xcc0e030c,0x71c0c07f,0xc0600600,0x60000000,0x7804018,0xe01186,0x66040040,0x39e3f,0x80401fe0,
<a name="l01676"></a>01676        0x407fe040,0x4000000,0x0,0x0,0x3f,0x203ce0,0x407fc060,0x601f,0x3fe0000,0x60060018,0x0,0x0,0x0,0x7fe00,0x6,0xe6012000,0x0,
<a name="l01677"></a>01677        0x7e0,0x1807e1f0,0x60660660,0x66066066,0x6c3e07c,0x7fe7fe7f,0xe7fe3fc3,0xfc3fc3fc,0x7e060e0f,0xf00f00,0xf00f0000,0x8f01f81f,
<a name="l01678"></a>01678        0x81f81f80,0x60600670,0x1ec1ec1e,0xc1ec1ec1,0xec79c0f0,0xf80f80f,0x80f87fe7,0xfe7fe7fe,0x1f060c1f,0x1f01f01,0xf01f0000,0x4f01cc1c,
<a name="l01679"></a>01679        0xc1cc1cc0,0xc06f00c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200,0x0,0x6006000,0x600,0x600,0x0,0x0,0x0,0x0,
<a name="l01680"></a>01680        0x600000,0x0,0x18000000,0x0,0x0,0x0,0x0,0x0,0x1800,0x0,0x0,0x0,0x600060,0x30000000,0x0,0x0,0xc,0x3,0x0,0x0,0x60000c00,0x0,
<a name="l01681"></a>01681        0x0,0xc000,0x600600,0x60000000,0x18,0xc03100,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4,0x0,0x601f8,0x0,0x0,0x0,0x0,0x6,
<a name="l01682"></a>01682        0x12000,0x2000000,0x40,0x20004000,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01683"></a>01683        0x0,0xc06000c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200,0x0,0x2004000,0xc00,0x0,0x0,0x0,0x0,0x0,0xc00000,
<a name="l01684"></a>01684        0x0,0x1c000000,0x0,0x0,0x0,0x0,0x0,0xc00,0x0,0x0,0x0,0x780000,0xf0000000,0x0,0x0,0x21c,0x3,0x0,0x0,0x60000c00,0x0,0x0,0xc000,
<a name="l01685"></a>01685        0x7c0603,0xe0000000,0x10,0xc02300,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4,0x0,0x601f0,0x0,0x0,0x0,0x0,0x6,0x12000,0x1000000,
<a name="l01686"></a>01686        0x40,0x7e004000,0x0,0x0,0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc06000c0,0x0,
<a name="l01687"></a>01687        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200,0x0,0x300c000,0xc00,0x0,0x0,0x0,0x0,0x0,0xc00000,0x0,0x7800000,0x0,
<a name="l01688"></a>01688        0x0,0x0,0x0,0x0,0x800,0x0,0x0,0x0,0x780000,0xf0000000,0x0,0x0,0x3f8,0x3e,0x0,0x0,0x60000c00,0x0,0x0,0x38000,0x3c0603,0xc0000000,
<a name="l01689"></a>01689        0x10,0xfc00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4,0x0,0x60000,0x0,0x0,0x0,0x0,0x6,0x0,0x1000000,0x0,0x0,0x0,0x0,
<a name="l01690"></a>01690        0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3,0x80600380,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01691"></a>01691        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xffc,0x0,
<a name="l01692"></a>01692        0x0,0x1f0,0x3c,0x0,0x0,0x60000c00,0x0,0x0,0x38000,0x600,0x0,0x0,0xf000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01693"></a>01693        0x0,0x0,0x0,0x0,0x0,0x6,0x0,0xe000000,0x0,0x0,0x0,0x0,0x70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x70,0x0,0x0,0x0,0x0,
<a name="l01694"></a>01694        0x0,0x0,0x0,0x3,0x80600380,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01695"></a>01695        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xffc,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01696"></a>01696        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01697"></a>01697        0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l01698"></a>01698 
<a name="l01699"></a>01699     <span class="comment">// Definition of a 16x32 font</span>
<a name="l01700"></a>01700     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font16x32[16*32*256/32] = {
<a name="l01701"></a>01701       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01702"></a>01702       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01703"></a>01703       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc300000,0x0,0xc300000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01704"></a>01704       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x70000e0,0x3c00730,0xe7001c0,0x0,0x70000e0,0x3c00e70,0x70000e0,0x3c00e70,0x730,0x70000e0,0x3c00730,
<a name="l01705"></a>01705       0xe700000,0x700,0xe003c0,0xe7000e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01706"></a>01706       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01707"></a>01707       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01708"></a>01708       0x0,0x0,0x6600000,0x0,0x6600000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01709"></a>01709       0x0,0x0,0x18001c0,0x6600ff0,0xe7003e0,0x0,0x18001c0,0x6600e70,0x18001c0,0x6600e70,0xff0,0x18001c0,0x6600ff0,0xe700000,0x180,
<a name="l01710"></a>01710       0x1c00660,0xe7001c0,0x0,0x0,0x0,0x380,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01711"></a>01711       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01712"></a>01712       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,
<a name="l01713"></a>01713       0x0,0x3c00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c00380,
<a name="l01714"></a>01714       0xc300ce0,0xe700630,0x0,0x1c00380,0xc300e70,0x1c00380,0xc300e70,0xce0,0x1c00380,0xc300ce0,0xe700000,0x1c0,0x3800c30,0xe700380,
<a name="l01715"></a>01715       0x0,0x0,0x0,0x7c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01716"></a>01716       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01717"></a>01717       0x0,0x0,0x0,0x0,0xe000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1800000,0x0,0x0,0x0,
<a name="l01718"></a>01718       0x0,0x0,0x0,0x0,0x0,0xc300000,0x0,0xc300000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x700000,0x0,0x0,0x0,0x7c007c00,0x3e000000,
<a name="l01719"></a>01719       0x0,0x0,0x630,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe000070,0x1800000,0xc60,0x0,0xe000070,0x1800000,0xe000070,
<a name="l01720"></a>01720       0x1800000,0x0,0xe000070,0x1800000,0x0,0xe00,0x700180,0x70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01721"></a>01721       0x0,0x0,0x0,0x800000,0x0,0x600600,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01722"></a>01722       0x0,0x0,0x3f0,0xfc0,0x0,0x7000000,0x38000000,0x1c0000,0xfc0000,0x380001c0,0xe01c00,0x7f800000,0x0,0x0,0x0,0x0,0x0,0x0,0x7c,
<a name="l01723"></a>01723       0x1801f00,0x0,0x0,0x1c,0x0,0x0,0x3c00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7300000,0x6600000,0x0,0x6600000,0x0,0x0,0x0,0x0,0xe700000,
<a name="l01724"></a>01724       0x0,0x0,0x0,0x0,0x0,0xe00000,0x0,0x0,0x0,0xc000c00,0x43800000,0x0,0x0,0x630,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01725"></a>01725       0xf80,0x70000e0,0x3c00730,0xe700c60,0x0,0x70000e0,0x3c00e70,0x70000e0,0x3c00e70,0xe000730,0x70000e0,0x3c00730,0xe700000,0x700,
<a name="l01726"></a>01726       0xe003c0,0xe7000e0,0x38000e70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x6300000,0x803c00,0x7c00180,
<a name="l01727"></a>01727       0xc00300,0x1000000,0x0,0x1c,0x3c007c0,0xfc007e0,0xe01ff8,0x3f03ffc,0x7e007c0,0x0,0x0,0x7c0,0x1c0,0x7f8003f0,0x7f007ff8,0x7ff803f0,
<a name="l01728"></a>01728       0x70381ffc,0xff0700e,0x7000783c,0x783807c0,0x7fc007c0,0x7fc00fc0,0x7fff7038,0x700ee007,0x780f780f,0x7ffc03f0,0x70000fc0,0x3c00000,
<a name="l01729"></a>01729       0x3000000,0x38000000,0x1c0000,0x1fc0000,0x380001c0,0xe01c00,0x7f800000,0x0,0x0,0x0,0x0,0x0,0x0,0xfc,0x1801f80,0x0,0x1f80000,
<a name="l01730"></a>01730       0x7e,0x0,0x0,0x2400000,0xfc00000,0x7ff0000,0x7ffc0000,0x0,0x0,0x0,0x0,0xf30fb0c,0x2400000,0x0,0x240780f,0x1c0,0xfc,0x780f,
<a name="l01731"></a>01731       0x18003f0,0xe700000,0x7c00000,0x0,0xff0,0x3c00000,0x78007c0,0xc00000,0xff80000,0xf80,0x7c00000,0xc000c00,0x18001c0,0x1c001c0,
<a name="l01732"></a>01732       0x1c001c0,0x1c003e0,0x7fe03f0,0x7ff87ff8,0x7ff87ff8,0x1ffc1ffc,0x1ffc1ffc,0x7f007838,0x7c007c0,0x7c007c0,0x7c00000,0x7c67038,
<a name="l01733"></a>01733       0x70387038,0x7038780f,0x70001fe0,0x30000c0,0x2400f30,0xe700c60,0x0,0x30000c0,0x2400e70,0x30000c0,0x2400e70,0xf700f30,0x30000c0,
<a name="l01734"></a>01734       0x2400f30,0xe700000,0x300,0xc00240,0xe7000c0,0x38000e70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,
<a name="l01735"></a>01735       0x630018c,0x807e00,0xfe00180,0xc00300,0x1000000,0x0,0x38,0xff01fc0,0x3ff01ff0,0x1e01ff8,0x7f83ffc,0x1ff80ff0,0x0,0x0,0xff0,
<a name="l01736"></a>01736       0x1f003e0,0x7fe00ff8,0x7fc07ff8,0x7ff80ff8,0x70381ffc,0xff0701c,0x7000783c,0x78381ff0,0x7fe01ff0,0x7fe01ff0,0x7fff7038,0x781ee007,
<a name="l01737"></a>01737       0x3c1e380e,0x7ffc0380,0x380001c0,0x3c00000,0x1800000,0x38000000,0x1c0000,0x3c00000,0x380001c0,0xe01c00,0x3800000,0x0,0x0,
<a name="l01738"></a>01738       0x0,0x7000000,0x0,0x0,0x1e0,0x18003c0,0x0,0x3fc0000,0x70,0x0,0x0,0x6600000,0x1ff00000,0x1fff0000,0x7ffc0000,0x0,0x0,0x0,0x0,
<a name="l01739"></a>01739       0xcf0239c,0x3c00000,0x0,0x3c0380e,0x1c0,0x2001fe,0x380e,0x18007f8,0xe700000,0x8600000,0x0,0xff0,0x7e00000,0x8c00870,0x1800000,
<a name="l01740"></a>01740       0x1ff80000,0x180,0xc600000,0xc000c00,0x38001c0,0x3e003e0,0x3e003e0,0x3e001c0,0x7fe0ff8,0x7ff87ff8,0x7ff87ff8,0x1ffc1ffc,0x1ffc1ffc,
<a name="l01741"></a>01741       0x7fc07838,0x1ff01ff0,0x1ff01ff0,0x1ff00000,0x1fec7038,0x70387038,0x7038380e,0x70003ce0,0x1800180,0x6600cf0,0xe7007c0,0x0,
<a name="l01742"></a>01742       0x1800180,0x6600e70,0x1800180,0x6600e70,0x7c00cf0,0x1800180,0x6600cf0,0xe700000,0x180,0x1800660,0xe700180,0x38000e70,0x0,
<a name="l01743"></a>01743       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x630030c,0x3f0e700,0x1e200180,0x1800180,0x21100000,0x0,
<a name="l01744"></a>01744       0x38,0x1e7819c0,0x38781038,0x1e01c00,0xf080038,0x1c381c38,0x0,0x0,0x1878,0x7fc03e0,0x70e01e18,0x70e07000,0x70001e18,0x703801c0,
<a name="l01745"></a>01745       0x707038,0x70007c7c,0x7c381c70,0x70701c70,0x70703830,0x1c07038,0x381ce007,0x1c1c3c1e,0x3c0380,0x380001c0,0x7e00000,0xc00000,
<a name="l01746"></a>01746       0x38000000,0x1c0000,0x3800000,0x38000000,0x1c00,0x3800000,0x0,0x0,0x0,0x7000000,0x0,0x0,0x1c0,0x18001c0,0x0,0x70c0000,0xe0,
<a name="l01747"></a>01747       0x0,0x0,0xc300000,0x38300000,0x3c700000,0x3c0000,0x0,0x0,0x0,0x0,0xce022f4,0x1800000,0x0,0x1803c1e,0x1c0,0x2003c2,0x3c1e,
<a name="l01748"></a>01748       0x1800e08,0x7e0,0x300000,0x0,0x7e00000,0xe700000,0x600030,0x3000000,0x3f980000,0x180,0x18200000,0xc000c00,0x1e0001c0,0x3e003e0,
<a name="l01749"></a>01749       0x3e003e0,0x3e003e0,0xfe01e18,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x70e07c38,0x1c701c70,0x1c701c70,0x1c700000,0x3c787038,
<a name="l01750"></a>01750       0x70387038,0x70383c1e,0x70003870,0xc00300,0xc300ce0,0x380,0x0,0xc00300,0xc300000,0xc00300,0xc300000,0xfc00ce0,0xc00300,0xc300ce0,
<a name="l01751"></a>01751       0x0,0xc0,0x3000c30,0x300,0x38000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x630031c,0xff8c300,
<a name="l01752"></a>01752       0x1c000180,0x1800180,0x39380000,0x0,0x70,0x1c3801c0,0x203c001c,0x3e01c00,0x1c000038,0x381c3838,0x0,0x0,0x1038,0xe0e03e0,0x70703c08,
<a name="l01753"></a>01753       0x70707000,0x70003808,0x703801c0,0x707070,0x70007c7c,0x7c383838,0x70383838,0x70387010,0x1c07038,0x381c700e,0x1e3c1c1c,0x780380,
<a name="l01754"></a>01754       0x1c0001c0,0xe700000,0x0,0x38000000,0x1c0000,0x3800000,0x38000000,0x1c00,0x3800000,0x0,0x0,0x0,0x7000000,0x0,0x0,0x1c0,0x18001c0,
<a name="l01755"></a>01755       0x0,0xe000000,0xe0,0x0,0x1000100,0x3800,0x70100000,0x38700000,0x780000,0x1c0,0x7801ce0,0xe380000,0x0,0x2264,0x0,0x0,0x1c1c,
<a name="l01756"></a>01756       0x0,0x200780,0x1c1c,0x1800c00,0x1818,0x7f00000,0x0,0x18180000,0xc300000,0x600070,0x0,0x7f980000,0x180,0x18300000,0xc000c00,
<a name="l01757"></a>01757       0x3000000,0x3e003e0,0x3e003e0,0x3e003e0,0xee03c08,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x70707c38,0x38383838,0x38383838,
<a name="l01758"></a>01758       0x38380000,0x38387038,0x70387038,0x70381c1c,0x7fc03870,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xbc00000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01759"></a>01759       0x38000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x6300318,0xe88c300,0x1c000180,0x38001c0,
<a name="l01760"></a>01760       0xfe00180,0x0,0x70,0x1c3801c0,0x1c001c,0x6e01c00,0x1c000078,0x381c3818,0x0,0x40000,0x40000038,0x1c0607e0,0x70703800,0x70707000,
<a name="l01761"></a>01761       0x70003800,0x703801c0,0x7070e0,0x70007c7c,0x7c383838,0x70383838,0x70387000,0x1c07038,0x381c700e,0xf780e38,0x700380,0x1c0001c0,
<a name="l01762"></a>01762       0x1c380000,0x0,0x38000000,0x1c0000,0x3800000,0x38000000,0x1c00,0x3800000,0x0,0x0,0x0,0x7000000,0x0,0x0,0x1c0,0x18001c0,0x0,
<a name="l01763"></a>01763       0xe000000,0xe0,0x0,0x1000100,0x4400,0x70000000,0x38700000,0x700000,0xe0,0x7001c70,0xe380000,0x0,0x2264,0x0,0x0,0xe38,0x0,
<a name="l01764"></a>01764       0x200700,0xe38,0x1800c00,0x300c,0xc300000,0x0,0x300c0000,0xc300180,0x6003c0,0x0,0x7f980000,0x180,0x18300000,0xc000c00,0x1800000,
<a name="l01765"></a>01765       0x7e007e0,0x7e007e0,0x7e003e0,0xee03800,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x70707c38,0x38383838,0x38383838,0x38380000,
<a name="l01766"></a>01766       0x38387038,0x70387038,0x70380e38,0x7ff039f0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e00000,0x0,0x0,0x0,0x40000,0x0,0x0,0x38000000,
<a name="l01767"></a>01767       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x6300318,0x1c80e700,0x1c000180,0x38001c0,0x3800180,
<a name="l01768"></a>01768       0x0,0xe0,0x381c01c0,0x1c001c,0x6e01c00,0x38000070,0x381c381c,0x0,0x3c0000,0x78000078,0x38030770,0x70707800,0x70387000,0x70007000,
<a name="l01769"></a>01769       0x703801c0,0x7071c0,0x7000745c,0x7638701c,0x7038701c,0x70387000,0x1c07038,0x1c38718e,0x7700f78,0xf00380,0xe0001c0,0x381c0000,
<a name="l01770"></a>01770       0x7e0,0x39e003e0,0x79c03f0,0x3ffc079c,0x39e01fc0,0xfe01c1e,0x3807778,0x39e007e0,0x39e0079c,0x73c07e0,0x7ff83838,0x701ce007,
<a name="l01771"></a>01771       0x783c701c,0x1ffc01c0,0x18001c0,0x0,0x1c000100,0xe0,0x0,0x1000100,0x4200,0x70000000,0x70700100,0xf00100,0x10000e0,0x7000c70,
<a name="l01772"></a>01772       0xc700000,0x0,0x2204,0x7e00000,0x1e380100,0x1ffc0f78,0x0,0xf80700,0xf78,0x1800e00,0x63e6,0x18300000,0x0,0x6fe60000,0xe700180,
<a name="l01773"></a>01773       0xc00060,0x3838,0x7f980000,0x180,0x18300000,0xc000c00,0x18001c0,0x7700770,0x7700770,0x77007f0,0xee07800,0x70007000,0x70007000,
<a name="l01774"></a>01774       0x1c001c0,0x1c001c0,0x70387638,0x701c701c,0x701c701c,0x701c1008,0x707c7038,0x70387038,0x70380f78,0x707039c0,0x7e007e0,0x7e007e0,
<a name="l01775"></a>01775       0x7e007e0,0x1f3c03e0,0x3f003f0,0x3f003f0,0x1fc01fc0,0x1fc01fc0,0x7f039e0,0x7e007e0,0x7e007e0,0x7e00380,0x7ce3838,0x38383838,
<a name="l01776"></a>01776       0x3838701c,0x39e0701c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x6307fff,0x1c807e0c,0xe000180,
<a name="l01777"></a>01777       0x30000c0,0x3800180,0x0,0xe0,0x381c01c0,0x1c001c,0xce01fe0,0x38000070,0x381c381c,0x3800380,0xfc0000,0x7e0000f0,0x30030770,
<a name="l01778"></a>01778       0x70707000,0x70387000,0x70007000,0x703801c0,0x707380,0x700076dc,0x7638701c,0x7038701c,0x70387800,0x1c07038,0x1c3873ce,0x7f00770,
<a name="l01779"></a>01779       0xe00380,0xe0001c0,0x700e0000,0x1ff8,0x3ff00ff0,0xffc0ff8,0x3ffc0ffc,0x3bf01fc0,0xfe01c3c,0x3807f78,0x3bf00ff0,0x3ff00ffc,
<a name="l01780"></a>01780       0x77e0ff0,0x7ff83838,0x3838e007,0x3c783838,0x1ffc01c0,0x18001c0,0x0,0x7ff00380,0x1e0,0x0,0x1000100,0x4200,0x78000000,0x70700380,
<a name="l01781"></a>01781       0xe00380,0x3800060,0xe000e30,0x1c600000,0x0,0x2204,0xff00000,0x7f7c0380,0x1ffc0770,0x1c0,0x3fc0700,0x18040770,0x1800780,0x4e12,
<a name="l01782"></a>01782       0x18300104,0x0,0x4c320000,0x7e00180,0x1c00030,0x3838,0x7f980000,0x180,0x18302080,0xc000c00,0x18001c0,0x7700770,0x7700770,
<a name="l01783"></a>01783       0x7700770,0x1ee07000,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x70387638,0x701c701c,0x701c701c,0x701c381c,0x705c7038,0x70387038,
<a name="l01784"></a>01784       0x70380770,0x70383b80,0x1ff81ff8,0x1ff81ff8,0x1ff81ff8,0x3fbe0ff0,0xff80ff8,0xff80ff8,0x1fc01fc0,0x1fc01fc0,0xff83bf0,0xff00ff0,
<a name="l01785"></a>01785       0xff00ff0,0xff00380,0xffc3838,0x38383838,0x38383838,0x3ff03838,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01786"></a>01786       0x0,0x1c0,0x7fff,0x1c803c38,0xf000000,0x70000e0,0xfe00180,0x0,0x1c0,0x381c01c0,0x3c0078,0xce01ff0,0x39e000f0,0x1c38381c,0x3800380,
<a name="l01787"></a>01787       0x3e07ffc,0xf8001f0,0x307b0770,0x70e07000,0x70387000,0x70007000,0x703801c0,0x707700,0x700076dc,0x7638701c,0x7038701c,0x70387e00,
<a name="l01788"></a>01788       0x1c07038,0x1c3873ce,0x3e007f0,0x1e00380,0x70001c0,0x0,0x1038,0x3c381e18,0x1c7c1e3c,0x3801e3c,0x3c7801c0,0xe01c78,0x380739c,
<a name="l01789"></a>01789       0x3c781c38,0x3c381c3c,0x7c21e10,0x7003838,0x3838700e,0x1ef03838,0x3c01c0,0x18001c0,0x0,0x7fe007c0,0x1c0,0x0,0x1000100,0x6400,
<a name="l01790"></a>01790       0x7e000000,0x707007c0,0x1e007c0,0x7c00070,0xe000638,0x18600000,0x0,0x0,0x1e100000,0x73ce07c0,0x3c07f0,0x1c0,0x7240700,0x1ddc3ffe,
<a name="l01791"></a>01791       0x1800de0,0x8c01,0x1870030c,0x0,0x8c310000,0x3c00180,0x3800030,0x3838,0x7f980000,0x180,0x183030c0,0xc000c00,0x430001c0,0x7700770,
<a name="l01792"></a>01792       0x7700770,0x7700770,0x1ce07000,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x70387638,0x701c701c,0x701c701c,0x701c1c38,0x70dc7038,
<a name="l01793"></a>01793       0x70387038,0x703807f0,0x70383b80,0x10381038,0x10381038,0x10381038,0x21e71e18,0x1e3c1e3c,0x1e3c1e3c,0x1c001c0,0x1c001c0,0x1e383c78,
<a name="l01794"></a>01794       0x1c381c38,0x1c381c38,0x1c380380,0x1c383838,0x38383838,0x38383838,0x3c383838,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01795"></a>01795       0x0,0x0,0x0,0x0,0x0,0x1c0,0x630,0x1e8000e0,0x1f000000,0x70000e0,0x39380180,0x0,0x1c0,0x3b9c01c0,0x3c07f0,0x18e01078,0x3bf800e0,
<a name="l01796"></a>01796       0x7e0383c,0x3800380,0x1f807ffc,0x3f001c0,0x61ff0e38,0x7fc07000,0x70387ff0,0x7ff07000,0x7ff801c0,0x707f00,0x7000729c,0x7338701c,
<a name="l01797"></a>01797       0x7070701c,0x70703fc0,0x1c07038,0x1e7873ce,0x1c003e0,0x3c00380,0x70001c0,0x0,0x1c,0x3c381c00,0x1c3c1c1c,0x3801c3c,0x383801c0,
<a name="l01798"></a>01798       0xe01cf0,0x380739c,0x38381c38,0x3c381c3c,0x7801c00,0x7003838,0x3838700e,0xfe03c78,0x7801c0,0x18001c0,0x0,0x1c000c20,0xff8,
<a name="l01799"></a>01799       0x0,0x1ff01ff0,0x3818,0x3fc00100,0x707e0c20,0x3c00c20,0xc200030,0xc000618,0x18c00000,0x0,0x0,0x1c000080,0xe1ce0c20,0x7803e0,
<a name="l01800"></a>01800       0x1c0,0xe200700,0xff83ffe,0x1801878,0x9801,0x1cf0071c,0x7ffc0000,0x8c310000,0x7ffe,0x7000030,0x3838,0x3f980380,0x180,0xc6038e0,
<a name="l01801"></a>01801       0x7f9c7f9c,0x3e1c01c0,0xe380e38,0xe380e38,0xe380f78,0x1cfc7000,0x7ff07ff0,0x7ff07ff0,0x1c001c0,0x1c001c0,0xfe387338,0x701c701c,
<a name="l01802"></a>01802       0x701c701c,0x701c0e70,0x719c7038,0x70387038,0x703803e0,0x70383b80,0x1c001c,0x1c001c,0x1c001c,0xe71c00,0x1c1c1c1c,0x1c1c1c1c,
<a name="l01803"></a>01803       0x1c001c0,0x1c001c0,0x1c383838,0x1c381c38,0x1c381c38,0x1c380000,0x3c383838,0x38383838,0x38383c78,0x3c383c78,0x0,0x0,0x0,0x0,
<a name="l01804"></a>01804       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x630,0xf800380,0x3f830000,0x70000e0,0x31080180,0x0,0x380,0x3b9c01c0,
<a name="l01805"></a>01805       0x7807e0,0x38e00038,0x3c3800e0,0xff01c3c,0x3800380,0x7c000000,0x7c03c0,0x61870e38,0x7fc07000,0x70387ff0,0x7ff070fc,0x7ff801c0,
<a name="l01806"></a>01806       0x707f80,0x7000739c,0x7338701c,0x7ff0701c,0x7fe00ff0,0x1c07038,0xe7073ce,0x1c003e0,0x3800380,0x38001c0,0x0,0x1c,0x381c3800,
<a name="l01807"></a>01807       0x381c380e,0x380381c,0x383801c0,0xe01de0,0x380739c,0x3838381c,0x381c381c,0x7001e00,0x7003838,0x1c70718e,0x7e01c70,0xf00380,
<a name="l01808"></a>01808       0x18001e0,0x1e000000,0x1c001bb0,0xff8,0x0,0x1000100,0xe0,0xff00300,0x707e1bb0,0x3801bb0,0x1bb00010,0x8000308,0x30c00000,0x0,
<a name="l01809"></a>01809       0x0,0x1e0000c0,0xe1ce1bb0,0xf003e0,0x1c0,0x1c203ff8,0x63003e0,0x180181c,0x9801,0xfb00e38,0x7ffc0000,0x8fc10000,0x7ffe,0xe000860,
<a name="l01810"></a>01810       0x3838,0x1f980380,0x180,0x7c01c70,0x1f001f0,0x1f003c0,0xe380e38,0xe380e38,0xe380e38,0x1cfc7000,0x7ff07ff0,0x7ff07ff0,0x1c001c0,
<a name="l01811"></a>01811       0x1c001c0,0xfe387338,0x701c701c,0x701c701c,0x701c07e0,0x731c7038,0x70387038,0x703803e0,0x70383980,0x1c001c,0x1c001c,0x1c001c,
<a name="l01812"></a>01812       0xe73800,0x380e380e,0x380e380e,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c0000,0x387c3838,0x38383838,0x38381c70,
<a name="l01813"></a>01813       0x381c1c70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0xc30,0x7f00e00,0x33c30000,0x70000e0,0x1007ffe,
<a name="l01814"></a>01814       0x0,0x380,0x3b9c01c0,0xf00078,0x30e0001c,0x3c1c01c0,0x1c381fdc,0x0,0x70000000,0x1c0380,0x63030e38,0x70707000,0x70387000,0x700070fc,
<a name="l01815"></a>01815       0x703801c0,0x707b80,0x7000739c,0x7338701c,0x7fc0701c,0x7fc001f0,0x1c07038,0xe703e5c,0x3e001c0,0x7800380,0x38001c0,0x0,0x7fc,
<a name="l01816"></a>01816       0x381c3800,0x381c380e,0x380381c,0x383801c0,0xe01fe0,0x380739c,0x3838381c,0x381c381c,0x7001fc0,0x7003838,0x1c70718e,0x7c01c70,
<a name="l01817"></a>01817       0xe01f00,0x180007c,0x7f8c0000,0x7fc03fb8,0x1c0,0x0,0x1000100,0x700,0x1f00600,0x70703fb8,0x7803fb8,0x3fb80000,0x8000000,0x180,
<a name="l01818"></a>01818       0x0,0x0,0x1fc00060,0xe1ce3fb8,0xe001c0,0x1c0,0x1c203ff8,0xc1801c0,0x180c,0x9801,0x1c70,0xc0000,0x8cc10000,0x180,0xfe007c0,
<a name="l01819"></a>01819       0x3838,0x7980380,0xff0,0xe38,0x3e003e00,0x3e000380,0xe380e38,0xe380e38,0xe380e38,0x38e07000,0x70007000,0x70007000,0x1c001c0,
<a name="l01820"></a>01820       0x1c001c0,0x70387338,0x701c701c,0x701c701c,0x701c03c0,0x731c7038,0x70387038,0x703801c0,0x703838e0,0x7fc07fc,0x7fc07fc,0x7fc07fc,
<a name="l01821"></a>01821       0xe73800,0x380e380e,0x380e380e,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c7ffc,0x38dc3838,0x38383838,0x38381c70,
<a name="l01822"></a>01822       0x381c1c70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0xc60,0xf83878,0x71e30000,0x70000e0,0x1007ffe,
<a name="l01823"></a>01823       0x7f0,0x380,0x381c01c0,0x1e0003c,0x60e0001c,0x381c01c0,0x381c079c,0x0,0x7c000000,0x7c0380,0x63031c1c,0x70307000,0x70387000,
<a name="l01824"></a>01824       0x7000701c,0x703801c0,0x7071c0,0x7000739c,0x71b8701c,0x7000701c,0x71e00078,0x1c07038,0xe703e7c,0x7e001c0,0xf000380,0x38001c0,
<a name="l01825"></a>01825       0x0,0x1ffc,0x381c3800,0x381c3ffe,0x380381c,0x383801c0,0xe01fc0,0x380739c,0x3838381c,0x381c381c,0x7000ff0,0x7003838,0x1ef03bdc,
<a name="l01826"></a>01826       0x3800ee0,0x1e01f00,0x180007c,0x61fc0000,0x7fc07f3c,0x1c0,0x0,0x1000100,0x1800,0x780c00,0x70707f3c,0xf007f3c,0x7f3c0000,0x0,
<a name="l01827"></a>01827       0x3c0,0x3ffcffff,0x0,0xff00030,0xe1fe7f3c,0x1e001c0,0x1c0,0x1c200700,0xc183ffe,0xe0c,0x9801,0x1ff038e0,0xc07f0,0x8c610000,
<a name="l01828"></a>01828       0x180,0x0,0x3838,0x1980380,0x0,0x1ff0071c,0xe000e000,0xe0000f80,0x1c1c1c1c,0x1c1c1c1c,0x1c1c1e38,0x38e07000,0x70007000,0x70007000,
<a name="l01829"></a>01829       0x1c001c0,0x1c001c0,0x703871b8,0x701c701c,0x701c701c,0x701c03c0,0x761c7038,0x70387038,0x703801c0,0x70703870,0x1ffc1ffc,0x1ffc1ffc,
<a name="l01830"></a>01830       0x1ffc1ffc,0xfff3800,0x3ffe3ffe,0x3ffe3ffe,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c7ffc,0x389c3838,0x38383838,
<a name="l01831"></a>01831       0x38380ee0,0x381c0ee0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0xfffc,0xbc60fc,0x70e30000,0x70000e0,
<a name="l01832"></a>01832       0x180,0x7f0,0x700,0x381c01c0,0x3e0001c,0x7ffc001c,0x381c03c0,0x381c001c,0x0,0x1f807ffc,0x3f00380,0x63031ffc,0x70387000,0x70387000,
<a name="l01833"></a>01833       0x7000701c,0x703801c0,0x7071e0,0x7000701c,0x71b8701c,0x7000701c,0x70f00038,0x1c07038,0x7e03e7c,0x77001c0,0xe000380,0x1c001c0,
<a name="l01834"></a>01834       0x0,0x3c1c,0x381c3800,0x381c3ffe,0x380381c,0x383801c0,0xe01fe0,0x380739c,0x3838381c,0x381c381c,0x70003f8,0x7003838,0xee03bdc,
<a name="l01835"></a>01835       0x3c00ee0,0x3c00380,0x18000e0,0xf00000,0x1c007e7c,0x3c0,0x0,0x1000100,0x0,0x381800,0x70707e7c,0xe007e7c,0x7e7c0000,0x0,0x7c0,
<a name="l01836"></a>01836       0x0,0x0,0x3f80018,0xe1fe7e7c,0x3c001c0,0x1c0,0x1c200700,0xc183ffe,0xf0c,0x8c01,0x38e0,0xc07f0,0x8c710000,0x180,0x0,0x3838,
<a name="l01837"></a>01837       0x1980000,0x0,0x71c,0x7000f0,0x700f00,0x1ffc1ffc,0x1ffc1ffc,0x1ffc1ffc,0x3fe07000,0x70007000,0x70007000,0x1c001c0,0x1c001c0,
<a name="l01838"></a>01838       0x703871b8,0x701c701c,0x701c701c,0x701c07e0,0x7c1c7038,0x70387038,0x703801c0,0x7ff03838,0x3c1c3c1c,0x3c1c3c1c,0x3c1c3c1c,
<a name="l01839"></a>01839       0x3fff3800,0x3ffe3ffe,0x3ffe3ffe,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c0000,0x391c3838,0x38383838,0x38380ee0,
<a name="l01840"></a>01840       0x381c0ee0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfffc,0x9c01ce,0x70f60000,0x70000e0,0x180,
<a name="l01841"></a>01841       0x0,0x700,0x381c01c0,0x780001c,0x7ffc001c,0x381c0380,0x381c003c,0x0,0x3e07ffc,0xf800380,0x63031ffc,0x70387000,0x70387000,
<a name="l01842"></a>01842       0x7000701c,0x703801c0,0x7070f0,0x7000701c,0x71b8701c,0x7000701c,0x70700038,0x1c07038,0x7e03e7c,0xf7801c0,0x1e000380,0x1c001c0,
<a name="l01843"></a>01843       0x0,0x381c,0x381c3800,0x381c3800,0x380381c,0x383801c0,0xe01fe0,0x380739c,0x3838381c,0x381c381c,0x7000078,0x7003838,0xee03a5c,
<a name="l01844"></a>01844       0x7c00fe0,0x78001c0,0x18001c0,0x0,0x1c003ef8,0x380,0x0,0x1000100,0x810,0x383000,0x70703ef8,0x1e003ef8,0x3ef80000,0x0,0x7c0,
<a name="l01845"></a>01845       0x0,0x0,0x78000c,0xe1c03ef8,0x78001c0,0x1c0,0x1c200700,0x63001c0,0x18003f8,0x4e12,0x1c70,0xc0000,0x4c320000,0x180,0x0,0x3838,
<a name="l01846"></a>01846       0x1980000,0x0,0xe38,0x700118,0x701e00,0x1ffc1ffc,0x1ffc1ffc,0x1ffc1ffc,0x7fe07000,0x70007000,0x70007000,0x1c001c0,0x1c001c0,
<a name="l01847"></a>01847       0x703871b8,0x701c701c,0x701c701c,0x701c0e70,0x7c1c7038,0x70387038,0x703801c0,0x7fc0381c,0x381c381c,0x381c381c,0x381c381c,
<a name="l01848"></a>01848       0x78e03800,0x38003800,0x38003800,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c0000,0x3b1c3838,0x38383838,0x38380fe0,
<a name="l01849"></a>01849       0x381c0fe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1860,0x9c0186,0x707e0000,0x30000c0,0x180,
<a name="l01850"></a>01850       0x0,0xe00,0x183801c0,0xf00001c,0xe0001c,0x181c0380,0x381c0038,0x0,0xfc0000,0x7e000000,0x61873c1e,0x70383800,0x70707000,0x7000381c,
<a name="l01851"></a>01851       0x703801c0,0x707070,0x7000701c,0x70f83838,0x70003838,0x70780038,0x1c07038,0x7e03c3c,0xe3801c0,0x1c000380,0xe001c0,0x0,0x381c,
<a name="l01852"></a>01852       0x381c3800,0x381c3800,0x380381c,0x383801c0,0xe01ef0,0x380739c,0x3838381c,0x381c381c,0x7000038,0x7003838,0xfe03e7c,0xfe007c0,
<a name="l01853"></a>01853       0x70001c0,0x18001c0,0x0,0xe001ff0,0x380,0x0,0x1000100,0x162c,0x381800,0x30701ff0,0x1c001ff0,0x1ff00000,0x0,0x3c0,0x0,0x0,
<a name="l01854"></a>01854       0x380018,0xe1c01ff0,0x70001c0,0x1c0,0x1c200700,0xff801c0,0x18000f0,0x63e6,0xe38,0x0,0x6c3e0000,0x0,0x0,0x3838,0x1980000,0x0,
<a name="l01855"></a>01855       0x1c70,0xf0000c,0xf01c00,0x3c1e3c1e,0x3c1e3c1e,0x3c1e3c1c,0x70e03800,0x70007000,0x70007000,0x1c001c0,0x1c001c0,0x707070f8,
<a name="l01856"></a>01856       0x38383838,0x38383838,0x38381c38,0x38387038,0x70387038,0x703801c0,0x7000381c,0x381c381c,0x381c381c,0x381c381c,0x70e03800,
<a name="l01857"></a>01857       0x38003800,0x38003800,0x1c001c0,0x1c001c0,0x381c3838,0x381c381c,0x381c381c,0x381c0380,0x3e1c3838,0x38383838,0x383807c0,0x381c07c0,
<a name="l01858"></a>01858       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x18c0,0x9c0186,0x783c0000,0x38001c0,0x180,0x3800000,
<a name="l01859"></a>01859       0x3800e00,0x1c3801c0,0x1e00003c,0xe00038,0x1c1c0780,0x381c0038,0x3800380,0x3c0000,0x78000000,0x61ff380e,0x70383808,0x70707000,
<a name="l01860"></a>01860       0x7000381c,0x703801c0,0x40707078,0x7000701c,0x70f83838,0x70003838,0x70384038,0x1c07038,0x7e03c3c,0x1e3c01c0,0x3c000380,0xe001c0,
<a name="l01861"></a>01861       0x0,0x383c,0x3c381c00,0x1c3c1c00,0x3801c3c,0x383801c0,0xe01c78,0x380739c,0x38381c38,0x3c381c3c,0x7000038,0x7003878,0x7c01e78,
<a name="l01862"></a>01862       0x1ef007c0,0xf0001c0,0x18001c0,0x0,0xe000ee0,0x7800380,0xe380000,0x1001ff0,0x2242,0x40380c00,0x38700ee0,0x3c000ee0,0xee00000,
<a name="l01863"></a>01863       0x0,0x0,0x0,0x0,0x380030,0xe1c00ee0,0xf0001c0,0x1c0,0xe200700,0xdd801c0,0x1800038,0x300c,0x71c,0x0,0x300c0000,0x0,0x0,0x3838,
<a name="l01864"></a>01864       0x1980000,0x0,0x38e0,0xb0000c,0xb01c08,0x380e380e,0x380e380e,0x380e380e,0x70e03808,0x70007000,0x70007000,0x1c001c0,0x1c001c0,
<a name="l01865"></a>01865       0x707070f8,0x38383838,0x38383838,0x3838381c,0x38387038,0x70387038,0x703801c0,0x7000381c,0x383c383c,0x383c383c,0x383c383c,
<a name="l01866"></a>01866       0x70e01c00,0x1c001c00,0x1c001c00,0x1c001c0,0x1c001c0,0x1c383838,0x1c381c38,0x1c381c38,0x1c380380,0x1c383878,0x38783878,0x387807c0,
<a name="l01867"></a>01867       0x3c3807c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x18c0,0x10b801ce,0x3c3e0000,0x38001c0,0x180,
<a name="l01868"></a>01868       0x3800000,0x3801c00,0x1e7801c0,0x3c002078,0xe02078,0x1c380700,0x1c3810f0,0x3800380,0x40000,0x40000380,0x307b380e,0x70701e18,
<a name="l01869"></a>01869       0x70e07000,0x70001c1c,0x703801c0,0x60e0703c,0x7000701c,0x70f83c78,0x70003c70,0x703c70f0,0x1c03870,0x3c01c3c,0x3c1c01c0,0x78000380,
<a name="l01870"></a>01870       0x7001c0,0x0,0x3c7c,0x3c381e18,0x1c7c1e0c,0x3801c3c,0x383801c0,0xe01c38,0x3c0739c,0x38381c38,0x3c381c3c,0x7001078,0x7803c78,
<a name="l01871"></a>01871       0x7c01c38,0x1c780380,0x1e0001c0,0x18001c0,0x0,0x70c06c0,0x7000380,0xe300000,0x1000100,0x2142,0x70f00600,0x3c7006c0,0x780006c0,
<a name="l01872"></a>01872       0x6c00000,0x0,0x0,0x0,0x0,0x10780060,0x73e206c0,0x1e0001c0,0x1c0,0x7240700,0x180c01c0,0x1800018,0x1818,0x30c,0x0,0x18180000,
<a name="l01873"></a>01873       0x0,0x0,0x3c78,0x1980000,0x0,0x30c0,0x130000c,0x1301c18,0x380e380e,0x380e380e,0x380e380e,0x70e01e18,0x70007000,0x70007000,
<a name="l01874"></a>01874       0x1c001c0,0x1c001c0,0x70e070f8,0x3c783c78,0x3c783c78,0x3c781008,0x7c783870,0x38703870,0x387001c0,0x70003a3c,0x3c7c3c7c,0x3c7c3c7c,
<a name="l01875"></a>01875       0x3c7c3c7c,0x79f11e18,0x1e0c1e0c,0x1e0c1e0c,0x1c001c0,0x1c001c0,0x1c783838,0x1c381c38,0x1c381c38,0x1c380380,0x1c383c78,0x3c783c78,
<a name="l01876"></a>01876       0x3c780380,0x3c380380,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x38c0,0x1ff800fc,0x1fee0000,
<a name="l01877"></a>01877       0x1800180,0x180,0x3800000,0x3801c00,0xff01ffc,0x3ffc3ff0,0xe03ff0,0xff00700,0x1ff81fe0,0x3800380,0x0,0x380,0x3000780f,0x7ff00ff8,
<a name="l01878"></a>01878       0x7fc07ff8,0x70000ffc,0x70381ffc,0x7fe0701c,0x7ff8701c,0x70781ff0,0x70001ff0,0x701c7ff0,0x1c01fe0,0x3c01c38,0x380e01c0,0x7ffc0380,
<a name="l01879"></a>01879       0x7001c0,0x0,0x1fdc,0x3ff00ff0,0xffc0ffc,0x3800fdc,0x38383ffe,0xe01c3c,0x1fc739c,0x38380ff0,0x3ff00ffc,0x7001ff0,0x3f81fb8,
<a name="l01880"></a>01880       0x7c01c38,0x3c3c0380,0x1ffc01c0,0x18001c0,0x0,0x3fc0380,0x7000380,0xc70718c,0x1000100,0x2244,0x7ff00200,0x1fff0380,0x7ffc0380,
<a name="l01881"></a>01881       0x3800000,0x0,0x0,0x0,0x0,0x1ff000c0,0x7f7e0380,0x1ffc01c0,0x1c0,0x3fc3ffe,0x1c0,0x1800018,0x7e0,0x104,0x0,0x7e00000,0x7ffe,
<a name="l01882"></a>01882       0x0,0x3fde,0x1980000,0x0,0x2080,0x3300018,0x3300ff0,0x780f780f,0x780f780f,0x780f780e,0xf0fe0ff8,0x7ff87ff8,0x7ff87ff8,0x1ffc1ffc,
<a name="l01883"></a>01883       0x1ffc1ffc,0x7fc07078,0x1ff01ff0,0x1ff01ff0,0x1ff00000,0x7ff01fe0,0x1fe01fe0,0x1fe001c0,0x70003bf8,0x1fdc1fdc,0x1fdc1fdc,
<a name="l01884"></a>01884       0x1fdc1fdc,0x3fbf0ff0,0xffc0ffc,0xffc0ffc,0x3ffe3ffe,0x3ffe3ffe,0xff03838,0xff00ff0,0xff00ff0,0xff00000,0x3ff01fb8,0x1fb81fb8,
<a name="l01885"></a>01885       0x1fb80380,0x3ff00380,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0,0x31c0,0x7e00078,0x7cf0000,0x1800180,
<a name="l01886"></a>01886       0x0,0x3800000,0x3803800,0x3c01ffc,0x3ffc0fe0,0xe01fc0,0x3e00e00,0x7e00f80,0x3800380,0x0,0x380,0x18007007,0x7fc003f0,0x7f007ff8,
<a name="l01887"></a>01887       0x700003f0,0x70381ffc,0x3f80701e,0x7ff8701c,0x707807c0,0x700007c0,0x701e1fc0,0x1c00fc0,0x3c01818,0x780f01c0,0x7ffc0380,0x3801c0,
<a name="l01888"></a>01888       0x0,0xf9c,0x39e003e0,0x79c03f0,0x380079c,0x38383ffe,0xe01c1e,0x7c739c,0x383807e0,0x39e0079c,0x7000fc0,0x1f80f38,0x3801c38,
<a name="l01889"></a>01889       0x781e0380,0x1ffc01c0,0x18001c0,0x0,0x1f80100,0xe000700,0x1c60718c,0x1000100,0x1e3c,0x1fc00100,0x7ff0100,0x7ffc0100,0x1000000,
<a name="l01890"></a>01890       0x0,0x0,0x0,0x0,0xfc00080,0x3e3c0100,0x1ffc01c0,0x1c0,0xf83ffe,0x1c0,0x1800838,0x0,0x0,0x0,0x0,0x7ffe,0x0,0x3b9e,0x1980000,
<a name="l01891"></a>01891       0x0,0x0,0x2300038,0x23003e0,0x70077007,0x70077007,0x70077007,0xe0fe03f0,0x7ff87ff8,0x7ff87ff8,0x1ffc1ffc,0x1ffc1ffc,0x7f007078,
<a name="l01892"></a>01892       0x7c007c0,0x7c007c0,0x7c00000,0xc7c00fc0,0xfc00fc0,0xfc001c0,0x700039f0,0xf9c0f9c,0xf9c0f9c,0xf9c0f9c,0x1f1e03e0,0x3f003f0,
<a name="l01893"></a>01893       0x3f003f0,0x3ffe3ffe,0x3ffe3ffe,0x7e03838,0x7e007e0,0x7e007e0,0x7e00000,0x63e00f38,0xf380f38,0xf380380,0x39e00380,0x0,0x0,
<a name="l01894"></a>01894       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x800000,0x0,0xc00300,0x0,0x3000000,0x3800,0x0,0x0,0x0,0x0,
<a name="l01895"></a>01895       0x0,0x300,0x0,0x0,0x1c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe0,0x0,0x0,0x0,0x0,0x380,0x3801c0,0x0,0x0,0x0,0x0,0x1c,0x0,0xe00000,
<a name="l01896"></a>01896       0x0,0x0,0x3800001c,0x0,0x0,0x0,0x700,0x1c0,0x18001c0,0x0,0x0,0xe000700,0x18600000,0x1000100,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01897"></a>01897       0x0,0x0,0x0,0x0,0x0,0x200000,0x0,0x1800ff0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x1980000,0x1800000,0x0,0x6300070,0x6300000,0x0,
<a name="l01898"></a>01898       0x0,0x0,0xc0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x40000000,
<a name="l01899"></a>01899       0x0,0x700,0x38000700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x800000,0x0,0xc00300,0x0,0x7000000,
<a name="l01900"></a>01900       0x7000,0x0,0x0,0x0,0x0,0x0,0x700,0x0,0x0,0xf040000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x78,0x0,0x0,0x0,0x0,0x3f0,0x1c0fc0,0x0,0x0,
<a name="l01901"></a>01901       0x0,0x0,0x1c,0x0,0xe00000,0x0,0x0,0x3800001c,0x0,0x0,0x0,0x700,0x1e0,0x18003c0,0x0,0x0,0xc000700,0x18c00000,0x1000000,0x0,
<a name="l01902"></a>01902       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200000,0x0,0x18007e0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x1980000,0xc00000,
<a name="l01903"></a>01903       0x0,0x7f800e0,0x7f80000,0x0,0x0,0x0,0x60,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x60,0x0,0x0,0x0,0x0,
<a name="l01904"></a>01904       0x0,0x0,0x0,0x0,0x0,0x0,0x700,0x38000700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x800000,
<a name="l01905"></a>01905       0x0,0x600600,0x0,0x6000000,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x7fc0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30,0x0,0x0,0x0,0x0,
<a name="l01906"></a>01906       0x3f0,0xfc0,0x0,0x0,0x0,0x0,0x838,0x0,0x1e00000,0x0,0x0,0x3800001c,0x0,0x0,0x0,0xf00,0xfc,0x1801f80,0x0,0x0,0x8008e00,0x30c00000,
<a name="l01907"></a>01907       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200000,0x0,0x1800000,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x1980000,0xc00000,
<a name="l01908"></a>01908       0x0,0x3001c0,0x300000,0x0,0x0,0x0,0x60,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x60,0x0,0x0,0x0,0x0,0x0,
<a name="l01909"></a>01909       0x0,0x0,0x0,0x0,0x0,0xf00,0x38000f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x800000,0x0,
<a name="l01910"></a>01910       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfc0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01911"></a>01911       0x0,0x0,0xff0,0x0,0x1fc00000,0x0,0x0,0x3800001c,0x0,0x0,0x0,0x3e00,0x7c,0x1801f00,0x0,0x0,0x800fe00,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01912"></a>01912       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x200000,0x0,0x1800000,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x0,0x7c00000,0x0,0x3001fc,0x300000,
<a name="l01913"></a>01913       0x0,0x0,0x0,0x3e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01914"></a>01914       0x3e00,0x38003e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01915"></a>01915       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfff8,0x0,0x0,0x0,0x7e0,0x0,0x1f000000,
<a name="l01916"></a>01916       0x0,0x0,0x3800001c,0x0,0x0,0x0,0x3c00,0x0,0x1800000,0x0,0x0,0x7800,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01917"></a>01917       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x0,0x7800000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01918"></a>01918       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00,0x38003c00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01919"></a>01919       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01920"></a>01920       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfff8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1800000,0x0,0x0,0x0,0x0,
<a name="l01921"></a>01921       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01922"></a>01922       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01923"></a>01923       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01924"></a>01924       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01925"></a>01925       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01926"></a>01926       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01927"></a>01927       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01928"></a>01928       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01929"></a>01929       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01930"></a>01930       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01931"></a>01931       0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l01932"></a>01932 
<a name="l01933"></a>01933     <span class="comment">// Definition of a 19x38 font</span>
<a name="l01934"></a>01934     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font19x38[19*38*256/32] = {
<a name="l01935"></a>01935       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01936"></a>01936       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01937"></a>01937       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c380000,0x0,0x1c380,0x0,0x0,0x0,0x0,0x0,
<a name="l01938"></a>01938       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800007,0x3c003,0x86000000,
<a name="l01939"></a>01939       0x1e00000,0x3,0x80000700,0x3c00000,0x380000,0x70003c00,0x0,0xe1800e,0x1c00,0xf000e18,0x0,0x0,0x700000e0,0x780000,0x7000,0x0,
<a name="l01940"></a>01940       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01941"></a>01941       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01942"></a>01942       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01943"></a>01943       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe700000,0x0,0xe700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01944"></a>01944       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c0000e,0x7e003,0xe60071c0,0x7f80000,0x1,0xc0000e00,0x7e0038e,0x1c0000,
<a name="l01945"></a>01945       0xe0007e00,0x38e00000,0xf98007,0x3800,0x1f800f98,0x1c70000,0x0,0x380001c0,0xfc0071,0xc000e000,0x0,0x0,0x0,0x0,0x3e00000,0x0,
<a name="l01946"></a>01946       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01947"></a>01947       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01948"></a>01948       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01949"></a>01949       0x0,0x0,0x0,0x7e00000,0x0,0x7e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01950"></a>01950       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe0001c,0xe7006,0x7c0071c0,0xe180000,0x0,0xe0001c00,0xe70038e,0xe0001,0xc000e700,0x38e00000,
<a name="l01951"></a>01951       0x19f0003,0x80007000,0x39c019f0,0x1c70000,0x0,0x1c000380,0x1ce0071,0xc001c000,0x0,0x0,0x0,0x0,0x7f00000,0x0,0x0,0x0,0x0,0x0,
<a name="l01952"></a>01952       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01953"></a>01953       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01954"></a>01954       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,
<a name="l01955"></a>01955       0x0,0x3c00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01956"></a>01956       0x0,0x0,0x700038,0x1c3806,0x3c0071c0,0xc0c0000,0x0,0x70003800,0x1c38038e,0x70003,0x8001c380,0x38e00000,0x18f0001,0xc000e000,
<a name="l01957"></a>01957       0x70e018f0,0x1c70000,0x0,0xe000700,0x3870071,0xc0038000,0x0,0x0,0x0,0x0,0xe380000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01958"></a>01958       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01959"></a>01959       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01960"></a>01960       0xe000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x60000000,0x0,0x0,
<a name="l01961"></a>01961       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c38,0x0,0x1,0xc3800000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c00000,0x0,0x0,0x0,
<a name="l01962"></a>01962       0x0,0x0,0x0,0x0,0x0,0x0,0xc0c0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe000003,0x80018000,0x0,0xc180000,
<a name="l01963"></a>01963       0xe,0x380,0x1800000,0xe00000,0x38001800,0x0,0x38,0xe00,0x6000000,0x0,0x1,0xc0000070,0x300000,0x3800,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01964"></a>01964       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01965"></a>01965       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7000000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01966"></a>01966       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x78c00,0xc30,
<a name="l01967"></a>01967       0x0,0x0,0xc3000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800000,0x0,0x0,0x0,0xe0,0x1c000f,0xc0000000,0x0,0x0,
<a name="l01968"></a>01968       0x0,0xc0c0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7000007,0x3c003,0xc6000000,0xc180000,0x7,0x700,
<a name="l01969"></a>01969       0x3c00000,0x700000,0x70003c00,0x0,0xf1801c,0x1c00,0xf000f18,0x0,0x0,0xe00000e0,0x780000,0x7000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01970"></a>01970       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x1c007000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01971"></a>01971       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfe0000,0xfe000,0x0,0x3800000,0x700000,0x38,
<a name="l01972"></a>01972       0x7,0xe000001c,0x1c00,0x1c00700,0x7fc0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf800e,0x3e0000,0x0,0x0,0x0,0x1e00000,0x0,0x1,
<a name="l01973"></a>01973       0xf8000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7cc00,0x660,0x0,0x0,0x66000000,0x0,0x0,0x0,0x0,0x7,0x1c000000,0x0,0x0,0x0,0x3fe00000,
<a name="l01974"></a>01974       0x0,0x0,0x7000000,0x0,0x0,0x0,0x3e0,0x7c001f,0xe0000000,0x0,0x0,0x0,0xe1c0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01975"></a>01975       0x0,0x0,0x0,0x1f80,0x380000e,0x7e007,0xe60071c0,0xc180000,0x3,0x80000e00,0x7e0038e,0x380000,0xe0007e00,0x38e00f00,0x1f9800e,
<a name="l01976"></a>01976       0x3800,0x1f801f98,0x1c70000,0x0,0x700001c0,0xfc0071,0xc000e007,0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01977"></a>01977       0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c7000,0x61c00600,0x1e00007e,0x70000,0x18003000,0x1800000,0x0,0x0,0x1c01f0,0x7e003f,0xc003f800,
<a name="l01978"></a>01978       0x1e03ffc,0x7f01ff,0xfc03f000,0x7e000000,0x0,0x0,0xfc0,0x1e,0x7fe000,0x7e03fe00,0x3fff07ff,0xe007e038,0x383ffe0,0xff81c01,
<a name="l01979"></a>01979       0xe1c000f8,0xf8f00e0,0xfc01ffc,0x3f00ff,0xc000fe07,0xfffc7007,0x1c007700,0x73c01ef,0x78ffff,0xfe0380,0xfe000,0x38000000,0x1800000,
<a name="l01980"></a>01980       0x700000,0x38,0x1f,0xe000001c,0x1c00,0x1c00700,0x7fc0000,0x0,0x0,0x0,0x0,0x1c000000,0x0,0x0,0x0,0x3f800e,0x3f8000,0x0,0xfc0000,
<a name="l01981"></a>01981       0x0,0x7f00000,0x0,0x1,0x98000000,0x7f00000,0x3ffe00,0xffff0,0x0,0x0,0x0,0x0,0x0,0xcf81f,0xee3807e0,0x0,0x0,0x7e03c01e,0x1c,
<a name="l01982"></a>01982       0x0,0x1f800000,0xf0078038,0xfc007,0x1c000000,0xfe00000,0x0,0x0,0x3fe000f0,0xf,0xc001f800,0x6000000,0xffc000,0x0,0x1c0007e0,
<a name="l01983"></a>01983       0x360,0x6c0010,0x70000700,0xf0001e,0x3c000,0x78000f00,0x7f800ff,0xf007e01f,0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83fc0,
<a name="l01984"></a>01984       0x7807007,0xe000fc00,0x1f8003f0,0x7e0000,0x1f867,0x70e00e,0x1c01c380,0x38f00787,0x3fe0,0x180000c,0x66006,0x7c0071c0,0xe380000,
<a name="l01985"></a>01985       0x1,0x80000c00,0x660038e,0x180000,0xc0006600,0x38e0078e,0x19f0006,0x3000,0x198019f0,0x1c70000,0x0,0x30000180,0xcc0071,0xc000c007,
<a name="l01986"></a>01986       0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c7000,0x61800600,0x7f8001ff,0x70000,
<a name="l01987"></a>01987       0x38003800,0x1800000,0x0,0x0,0x3807fc,0x1fe00ff,0xf00ffe00,0x3e03ffc,0xff81ff,0xfc07fc01,0xff800000,0x0,0x0,0x3fe0,0xfe001e,
<a name="l01988"></a>01988       0x7ff801,0xff83ff80,0x3fff07ff,0xe01ff838,0x383ffe0,0xff81c03,0xc1c000f8,0xf8f80e0,0x3ff01fff,0xffc0ff,0xf003ff87,0xfffc7007,
<a name="l01989"></a>01989       0x1e00f700,0x71c03c7,0x70ffff,0xfe01c0,0xfe000,0x7c000000,0xc00000,0x700000,0x38,0x3f,0xe000001c,0x1c00,0x1c00700,0x7fc0000,
<a name="l01990"></a>01990       0x0,0x0,0x0,0x0,0x1c000000,0x0,0x0,0x0,0x3f800e,0x3f8000,0x0,0x3fe0000,0x0,0xff00000,0x0,0x3,0xc000000,0x1ffc0000,0xfffe00,
<a name="l01991"></a>01991       0xffff0,0x0,0x0,0x0,0x0,0x0,0xc781f,0xee3803c0,0x0,0x0,0x3c01c01c,0x1c,0xc000,0x7fc00000,0x70070038,0x3fe007,0x1c000000,0x1ff80000,
<a name="l01992"></a>01992       0x0,0x0,0x3fe003fc,0x1f,0xe003fc00,0xc000000,0x3ffc000,0x0,0x7c000ff0,0x60,0xc0000,0x30000700,0xf0001e,0x3c000,0x78000f00,
<a name="l01993"></a>01993       0x3f000ff,0xf01ff81f,0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83ff8,0x7c0701f,0xf803ff00,0x7fe00ffc,0x1ff8000,0x7fe67,
<a name="l01994"></a>01994       0x70e00e,0x1c01c380,0x38700707,0x7ff0,0xc00018,0xc3006,0x3c0071c0,0x7f00000,0x0,0xc0001800,0xc30038e,0xc0001,0x8000c300,0x38e003fc,
<a name="l01995"></a>01995       0x18f0003,0x6000,0x30c018f0,0x1c70000,0x0,0x18000300,0x1860071,0xc0018007,0x38e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l01996"></a>01996       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c7000,0xe1801fc0,0x618001ff,0x70000,0x30001800,0x21840000,0x0,0x0,0x380ffe,0x1fe00ff,
<a name="l01997"></a>01997       0xfc0fff00,0x3e03ffc,0x1ff81ff,0xfc0ffe03,0xffc00000,0x0,0x0,0x7ff0,0x3ff803f,0x7ffc03,0xffc3ffc0,0x3fff07ff,0xe03ffc38,0x383ffe0,
<a name="l01998"></a>01998       0xff81c07,0x81c000f8,0xf8f80e0,0x7ff81fff,0x81ffe0ff,0xf80fff87,0xfffc7007,0xe00e700,0x70e0387,0x80f0ffff,0xe001c0,0xe000,
<a name="l01999"></a>01999       0xfe000000,0xe00000,0x700000,0x38,0x3c,0x1c,0x1c00,0x1c00700,0x1c0000,0x0,0x0,0x0,0x0,0x1c000000,0x0,0x0,0x0,0x78000e,0x3c000,
<a name="l02000"></a>02000       0x0,0x7ff0000,0x0,0xf100000,0x0,0x7,0xe000000,0x7ffc0000,0x1fffe00,0xffff0,0x0,0x0,0x0,0x0,0x0,0x3,0xf780180,0x0,0x0,0x1801e03c,
<a name="l02001"></a>02001       0x1c,0xc000,0xffc00000,0x780f0038,0x786000,0x7f00,0x18380000,0x0,0xfe00,0x30c,0x10,0x70020e00,0x1c000000,0x7f8c000,0x0,0x6c001c38,
<a name="l02002"></a>02002       0x60,0xc0000,0x70000700,0x1f8003f,0x7e000,0xfc001f80,0x3f000ff,0xf03ffc1f,0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83ffc,
<a name="l02003"></a>02003       0x7c0703f,0xfc07ff80,0xfff01ffe,0x3ffc000,0xffec7,0x70e00e,0x1c01c380,0x38780f07,0xf070,0xe00038,0x1c3800,0x0,0x3e00000,0x0,
<a name="l02004"></a>02004       0xe0003800,0x1c380000,0xe0003,0x8001c380,0x3e0,0x3,0x8000e000,0x70e00000,0x0,0x0,0x1c000700,0x3870000,0x38007,0x0,0x0,0x0,
<a name="l02005"></a>02005       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c7000,0xe3807ff0,0xc0c003c1,0x70000,0x70001c00,
<a name="l02006"></a>02006       0x718e0000,0x0,0x0,0x700f1e,0x1ce00c0,0x3c0c0f80,0x7e03800,0x3e08000,0x381e0f03,0xc1e00000,0x0,0x0,0x7078,0x783c03f,0x701e07,
<a name="l02007"></a>02007       0xc1c383e0,0x38000700,0x7c1c38,0x3801c00,0x381c0f,0x1c000fc,0x1f8f80e0,0x78781c07,0x81e1e0e0,0x780f0180,0xe007007,0xe00e380,
<a name="l02008"></a>02008       0xe0f0783,0x80e0000e,0xe000e0,0xe001,0xef000000,0x0,0x700000,0x38,0x38,0x1c,0x0,0x700,0x1c0000,0x0,0x0,0x0,0x0,0x1c000000,
<a name="l02009"></a>02009       0x0,0x0,0x0,0x70000e,0x1c000,0x0,0xf830000,0x0,0x1e000000,0x0,0x0,0x10000,0x780c0000,0x3e38000,0xe0,0x0,0x0,0x0,0x0,0x0,0x3,
<a name="l02010"></a>02010       0xd580000,0x0,0x0,0xe038,0x1c,0xc000,0xf0400000,0x380e0038,0x702000,0x1ffc0,0xc0000,0x0,0x3ff80,0x606,0x0,0x30000600,0x0,
<a name="l02011"></a>02011       0x7f8c000,0x0,0xc001818,0x60,0xc0003,0xe0000700,0x1f8003f,0x7e000,0xfc001f80,0x73801ee,0x7c1c1c,0x38000,0x70000e00,0xe0001,
<a name="l02012"></a>02012       0xc0003800,0x700383e,0x7c0703c,0x3c078780,0xf0f01e1e,0x3c3c000,0xf0f87,0x70e00e,0x1c01c380,0x38380e07,0xe038,0x0,0x0,0x0,
<a name="l02013"></a>02013       0x0,0x0,0x0,0x0,0x0,0x0,0xff0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02014"></a>02014       0x0,0x0,0x0,0x0,0x0,0x1c,0x1c7000,0xc380fff0,0xc0c00380,0x70000,0x70001c00,0x3dbc0070,0x0,0x0,0x701e0f,0xe0000,0x1e000380,
<a name="l02015"></a>02015       0x6e03800,0x7800000,0x781c0707,0x80e00000,0x0,0x0,0x4038,0xe00c03f,0x700e07,0x4380f0,0x38000700,0x700438,0x3801c00,0x381c0e,
<a name="l02016"></a>02016       0x1c000ec,0x1b8fc0e0,0xf03c1c03,0xc3c0f0e0,0x3c1e0000,0xe007007,0xe00e380,0xe070703,0xc1e0001e,0xe000e0,0xe001,0xc7000000,
<a name="l02017"></a>02017       0x0,0x700000,0x38,0x38,0x1c,0x0,0x700,0x1c0000,0x0,0x0,0x0,0x0,0x1c000000,0x0,0x0,0x0,0x70000e,0x1c000,0x0,0xe010000,0x0,
<a name="l02018"></a>02018       0x1c000000,0x10,0x20000,0x6c000,0xf0000000,0x3838000,0x1e0,0x0,0xf000f,0xf1e00,0x78f00000,0x0,0x3,0xdd80000,0x0,0x0,0xf078,
<a name="l02019"></a>02019       0x0,0xc001,0xe0000000,0x1c1c0038,0x700000,0x3c1e0,0xc0000,0x0,0x783c0,0x606,0x0,0x30000e00,0x0,0xff8c000,0x0,0xc00300c,0x60,
<a name="l02020"></a>02020       0xc0003,0xe0000000,0x1f8003f,0x7e000,0xfc001f80,0x73801ce,0x70041c,0x38000,0x70000e00,0xe0001,0xc0003800,0x700380f,0x7e07078,
<a name="l02021"></a>02021       0x1e0f03c1,0xe0783c0f,0x781e000,0x1c0787,0x70e00e,0x1c01c380,0x383c1e07,0xff00e038,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x878,
<a name="l02022"></a>02022       0x0,0x0,0x0,0x7,0x80000080,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,
<a name="l02023"></a>02023       0x1c7000,0xc301e630,0xc0c00380,0x70000,0xe0000e00,0xff00070,0x0,0x0,0xe01c07,0xe0000,0xe000380,0xce03800,0x7000000,0x701c0707,
<a name="l02024"></a>02024       0x600000,0x0,0x4000010,0x38,0x1c00e07f,0x80700e0e,0x38070,0x38000700,0xe00038,0x3801c00,0x381c1c,0x1c000ec,0x1b8ec0e0,0xe01c1c01,
<a name="l02025"></a>02025       0xc38070e0,0x1c1c0000,0xe007007,0x701c380,0xe078e01,0xc1c0003c,0xe00070,0xe003,0x83800000,0x7f,0x71f000,0x3e003e38,0x3f007ff,
<a name="l02026"></a>02026       0xe01f1c1c,0x7801fc00,0x3fc00701,0xe01c0077,0x8f071e00,0xf801c7c,0x7c700e,0x3e01fc03,0xfff8380e,0xe007700,0x73c0787,0x387ffc,
<a name="l02027"></a>02027       0x70000e,0x1c000,0x0,0xe000000,0x0,0x1c000000,0x10,0x20000,0xc2000,0xe0000000,0x3838000,0x3c0,0x0,0xf000f,0x78e00,0x70e00000,
<a name="l02028"></a>02028       0x0,0x3,0xc980fe0,0x1f0,0xf8000007,0xffc07070,0x0,0x3f801,0xc0000000,0x1e3c0038,0x700000,0x70070,0x7fc0000,0x0,0xe00e0,0x606,
<a name="l02029"></a>02029       0x1c0000,0x70007c00,0x380e,0xff8c000,0x0,0xc00300c,0x60,0xc0000,0x70000000,0x3fc007f,0x800ff001,0xfe003fc0,0x73801ce,0xe0001c,
<a name="l02030"></a>02030       0x38000,0x70000e00,0xe0001,0xc0003800,0x7003807,0x7607070,0xe0e01c1,0xc0383807,0x700e000,0x1c0387,0x70e00e,0x1c01c380,0x381c1c07,
<a name="l02031"></a>02031       0xffc0e0f8,0x3f8007f,0xfe001,0xfc003f80,0x7f007e3,0xe003e001,0xf8003f00,0x7e000fc,0xfe001f,0xc003f800,0x7f00003c,0x38f0007,
<a name="l02032"></a>02032       0xc000f800,0x1f0003e0,0x7c0007,0x8003f0c3,0x80e0701c,0xe0381c0,0x70700387,0x1f01c00e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02033"></a>02033       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c701f,0xfff1c600,0xc0c00380,0x70000,0xe0000e00,0x3c00070,0x0,0x0,0xe03c07,
<a name="l02034"></a>02034       0x800e0000,0xe000380,0x1ce03800,0x7000000,0x701c0707,0x7003c0,0x780000,0x3c00001e,0x38,0x18006073,0x80700e0e,0x38070,0x38000700,
<a name="l02035"></a>02035       0xe00038,0x3801c00,0x381c38,0x1c000ee,0x3b8ee0e1,0xe01e1c01,0xc78078e0,0x1c1c0000,0xe007007,0x701c387,0xe03de00,0xe3800038,
<a name="l02036"></a>02036       0xe00070,0xe007,0x1c00000,0x1ff,0xc077f801,0xff807fb8,0xff807ff,0xe03fdc1d,0xfc01fc00,0x3fc00703,0xc01c007f,0xdf877f00,0x3fe01dfe,
<a name="l02037"></a>02037       0xff700e,0xff07ff03,0xfff8380e,0x700f700,0x71e0f03,0x80707ffc,0x70000e,0x1c000,0x0,0x1c000008,0x0,0x1c000000,0x10,0x20000,
<a name="l02038"></a>02038       0x82000,0xe0000000,0x7038000,0x80000380,0x2000040,0x7000e,0x38700,0xf1e00000,0x0,0x3,0xc183ff8,0x3fd,0xfc008007,0xffc038e0,
<a name="l02039"></a>02039       0x0,0xffc01,0xc0008008,0xe380038,0x380000,0xe3e38,0x1ffc0040,0x80000000,0x1cfc70,0x606,0x1c0000,0xe0007c00,0x380e,0xff8c000,
<a name="l02040"></a>02040       0x0,0xc00300c,0x8100060,0xc0000,0x30000700,0x39c0073,0x800e7001,0xce0039c0,0x73801ce,0xe0001c,0x38000,0x70000e00,0xe0001,
<a name="l02041"></a>02041       0xc0003800,0x7003807,0x77070f0,0xf1e01e3,0xc03c7807,0x8f00f080,0x83c0787,0x70e00e,0x1c01c380,0x380e3807,0xffe0e1c0,0xffe01ff,
<a name="l02042"></a>02042       0xc03ff807,0xff00ffe0,0x1ffc0ff7,0xf01ff807,0xfc00ff80,0x1ff003fe,0xfe001f,0xc003f800,0x7f0003fc,0x3bf801f,0xf003fe00,0x7fc00ff8,
<a name="l02043"></a>02043       0x1ff0007,0x8007fd83,0x80e0701c,0xe0381c0,0x70380707,0x7f80e01c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02044"></a>02044       0x0,0x0,0x0,0x0,0x1c,0x1c701f,0xfff1c600,0x618081c0,0x70000,0xe0000e00,0x3c00070,0x0,0x0,0xe03803,0x800e0000,0xe000380,0x18e03800,
<a name="l02045"></a>02045       0xf000000,0xf01c0707,0x7003c0,0x780000,0xfc00001f,0x80000078,0x301e6073,0x80700e1c,0x38038,0x38000700,0x1c00038,0x3801c00,
<a name="l02046"></a>02046       0x381c70,0x1c000e6,0x338ee0e1,0xc00e1c01,0xc70038e0,0x1c1c0000,0xe007007,0x701c387,0xe01dc00,0xf7800078,0xe00070,0xe00e,0xe00000,
<a name="l02047"></a>02047       0x3ff,0xe07ffc03,0xffc0fff8,0x1ffc07ff,0xe07ffc1d,0xfe01fc00,0x3fc00707,0x801c007f,0xdf877f80,0x7ff01fff,0x1fff00e,0xff07ff03,
<a name="l02048"></a>02048       0xfff8380e,0x700e380,0xe0e0e03,0x80707ffc,0x70000e,0x1c000,0x0,0x7ffc001c,0x0,0x1c000000,0x10,0x20000,0x82000,0xe0000000,
<a name="l02049"></a>02049       0x7038001,0xc0000780,0x70000e0,0x3800e,0x38700,0xe1c00000,0x0,0x3,0xc183ff8,0x7ff,0xfc01c007,0xffc03de0,0x0,0x1ffc01,0xc001c01c,
<a name="l02050"></a>02050       0xf780038,0x3c0000,0xcff18,0x380c00c1,0x80000000,0x18fe30,0x30c,0x1c0001,0xc0000e00,0x380e,0xff8c000,0x0,0xc00300c,0xc180060,
<a name="l02051"></a>02051       0xc0000,0x30000700,0x39c0073,0x800e7001,0xce0039c0,0xe1c038e,0x1c0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x7003803,0x877070e0,
<a name="l02052"></a>02052       0x71c00e3,0x801c7003,0x8e0071c0,0x1c380fc7,0x70e00e,0x1c01c380,0x380f7807,0x1e0e380,0x1fff03ff,0xe07ffc0f,0xff81fff0,0x3ffe0fff,
<a name="l02053"></a>02053       0xf03ffc0f,0xfe01ffc0,0x3ff807ff,0xfe001f,0xc003f800,0x7f0007fe,0x3bfc03f,0xf807ff00,0xffe01ffc,0x3ff8007,0x800fff83,0x80e0701c,
<a name="l02054"></a>02054       0xe0381c0,0x70380707,0xffc0e01c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1c701f,
<a name="l02055"></a>02055       0xfff1c600,0x7f8381e0,0x70000,0xc0000600,0xff00070,0x0,0x0,0x1c03803,0x800e0000,0xe000f00,0x38e03fe0,0xe000000,0xe00e0e07,
<a name="l02056"></a>02056       0x7003c0,0x780007,0xf0ffff87,0xf00000f0,0x307fe0f3,0xc0703c1c,0x38038,0x38000700,0x1c00038,0x3801c00,0x381ce0,0x1c000e6,0x338e70e1,
<a name="l02057"></a>02057       0xc00e1c01,0xc70038e0,0x3c1e0000,0xe007007,0x783c38f,0x8e01fc00,0x770000f0,0xe00038,0xe01c,0x700000,0x381,0xe07c1e07,0xc0c1e0f8,
<a name="l02058"></a>02058       0x3c1e0038,0xf07c1f,0xe001c00,0x1c0070f,0x1c0079,0xf3c7c380,0xf0781f07,0x83c1f00f,0xc10f0300,0x1c00380e,0x700e380,0xe0f1e03,
<a name="l02059"></a>02059       0xc0f00078,0x70000e,0x1c000,0x0,0xfff8003e,0x0,0x3c000000,0x10,0x20000,0xc6000,0xf0000000,0x7038003,0xe0000f00,0xf8001f0,
<a name="l02060"></a>02060       0x3801c,0x18300,0xe1800000,0x0,0x3,0xc187818,0x70f,0x9e03e000,0x7801dc0,0x1c,0x3cc401,0xc000efb8,0x7f7f0038,0x3f0000,0x1ce11c,
<a name="l02061"></a>02061       0x300c01c3,0x80000000,0x38c638,0x3fc,0x1c0003,0x80000600,0x380e,0xff8c000,0x0,0xc00300c,0xe1c0060,0xc0010,0x70000700,0x79e00f3,
<a name="l02062"></a>02062       0xc01e7803,0xcf0079e0,0xe1c038e,0x1c0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x7003803,0x873870e0,0x71c00e3,0x801c7003,
<a name="l02063"></a>02063       0x8e0070e0,0x38381dc7,0x70e00e,0x1c01c380,0x38077007,0xf0e700,0x1c0f0381,0xe0703c0e,0x781c0f0,0x381e083e,0x787c0c1e,0xf03c1e0,
<a name="l02064"></a>02064       0x783c0f07,0x800e0001,0xc0003800,0x7000fff,0x3e1c078,0x3c0f0781,0xe0f03c1e,0x783c000,0x1e0f03,0x80e0701c,0xe0381c0,0x70380f07,
<a name="l02065"></a>02065       0xc1e0e03c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x1,0x8701c600,0x1e0f01e0,0x1,
<a name="l02066"></a>02066       0xc0000700,0x3dbc0070,0x0,0x0,0x1c03803,0x800e0000,0x1e01fe00,0x70e03ff8,0xe3e0001,0xe007fc07,0x80f003c0,0x78001f,0xc0ffff81,
<a name="l02067"></a>02067       0xfc0001e0,0x30e1e0e1,0xc07ff81c,0x38038,0x3ffe07ff,0xc1c0003f,0xff801c00,0x381de0,0x1c000e7,0x738e70e1,0xc00e1c03,0xc70038e0,
<a name="l02068"></a>02068       0x780f8000,0xe007007,0x383838d,0x8e00f800,0x7f0000e0,0xe00038,0xe000,0x0,0x200,0xf0780e07,0x8041c078,0x380e0038,0xe03c1e,
<a name="l02069"></a>02069       0xf001c00,0x1c0071e,0x1c0070,0xe1c783c0,0xe0381e03,0x8380f00f,0xe0000,0x1c00380e,0x381c380,0xe07bc01,0xc0e00078,0x70000e,
<a name="l02070"></a>02070       0x1c000,0x0,0x1c000061,0x0,0x38000000,0x10,0x20000,0x7c000,0x7c000000,0x703fc06,0x10000e00,0x18400308,0x1801c,0x1c381,0xc3800000,
<a name="l02071"></a>02071       0x0,0x0,0x7000,0xe0f,0xe061000,0x7801fc0,0x1c,0x38c001,0xc0007ff0,0x7fff0038,0x77c000,0x19c00c,0x301c0387,0x0,0x30c618,0xf0,
<a name="l02072"></a>02072       0x1c0007,0x600,0x380e,0x7f8c007,0x80000000,0xc001818,0x70e03fc,0x387f871f,0xe0e00700,0x70e00e1,0xc01c3803,0x870070e0,0xe1c038f,
<a name="l02073"></a>02073       0xe1c0001f,0xff03ffe0,0x7ffc0fff,0x800e0001,0xc0003800,0x7003803,0x873870e0,0x71c00e3,0x801c7003,0x8e007070,0x703839c7,0x70e00e,
<a name="l02074"></a>02074       0x1c01c380,0x3807f007,0x70e700,0x10078200,0xf0401e08,0x3c10078,0x200f001c,0x3878041c,0x70380e0,0x701c0e03,0x800e0001,0xc0003800,
<a name="l02075"></a>02075       0x7001e0f,0x3c1e070,0x1c0e0381,0xc070380e,0x701c000,0x1c0f03,0x80e0701c,0xe0381c0,0x701c0e07,0x80e07038,0x0,0x0,0x0,0x0,0x0,
<a name="l02076"></a>02076       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x3,0x8600e600,0x7803f0,0x1,0xc0000700,0x718e0070,0x0,0x0,0x38038c3,
<a name="l02077"></a>02077       0x800e0000,0x3c01f800,0x60e03ffc,0xeff8001,0xc001f003,0xc1f003c0,0x7800fe,0xffff80,0x3f8003c0,0x60c0e0e1,0xc07fe01c,0x38038,
<a name="l02078"></a>02078       0x3ffe07ff,0xc1c07e3f,0xff801c00,0x381fe0,0x1c000e3,0x638e30e1,0xc00e1c07,0x870038ff,0xf00ff800,0xe007007,0x38381cd,0x9c007000,
<a name="l02079"></a>02079       0x3e0001e0,0xe0001c,0xe000,0x0,0x0,0x70780f0f,0x3c078,0x70070038,0x1e03c1c,0x7001c00,0x1c0073c,0x1c0070,0xe1c701c1,0xe03c1e03,
<a name="l02080"></a>02080       0xc780f00f,0xe0000,0x1c00380e,0x381c387,0xe03f801,0xc0e000f0,0x70000e,0x1c007,0xe0100000,0x1c0000cd,0x80000003,0xffc00000,
<a name="l02081"></a>02081       0x3ff,0x807ff000,0xe0,0x7fc00060,0x703fc0c,0xd8001e00,0x3360066c,0x1c018,0xc181,0x83000000,0x0,0x0,0x7000,0x300e07,0xe0cd800,
<a name="l02082"></a>02082       0xf000f80,0x1c,0x78c00f,0xff0038e0,0x3e00038,0xe1e000,0x19800c,0x383c070e,0x7fffc00,0x30fc18,0x0,0xffff80e,0x20e00,0x380e,
<a name="l02083"></a>02083       0x7f8c007,0x80000000,0xc001c38,0x38703ff,0xf87fff0f,0xcfe00f00,0x70e00e1,0xc01c3803,0x870070e0,0x1e1e078f,0xe1c0001f,0xff03ffe0,
<a name="l02084"></a>02084       0x7ffc0fff,0x800e0001,0xc0003800,0x700ff83,0x871870e0,0x71c00e3,0x801c7003,0x8e007038,0xe03871c7,0x70e00e,0x1c01c380,0x3803e007,
<a name="l02085"></a>02085       0x70e700,0x38000,0x70000e00,0x1c00038,0x7001c,0x38f00038,0x3870070,0xe00e1c01,0xc00e0001,0xc0003800,0x7001c07,0x380e0f0,0x1e1e03c3,
<a name="l02086"></a>02086       0xc078780f,0xf01e000,0x3c0f03,0x80e0701c,0xe0381c0,0x701c0e07,0x80f07038,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02087"></a>02087       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x3,0x8600ff00,0x1e00778,0x38000001,0xc0000700,0x21843fff,0xe0000000,0x0,0x38039e3,0x800e0000,
<a name="l02088"></a>02088       0x7c01fe00,0xe0e0203e,0xeffc001,0xc00ffe03,0xff700000,0x7f0,0x0,0x7f00380,0x618060e1,0xc07ffc1c,0x38038,0x3ffe07ff,0xc1c07e3f,
<a name="l02089"></a>02089       0xff801c00,0x381ff0,0x1c000e3,0x638e38e1,0xc00e1fff,0x870038ff,0xc003fe00,0xe007007,0x38381cd,0x9c00f800,0x3e0003c0,0xe0001c,
<a name="l02090"></a>02090       0xe000,0x0,0x0,0x7070070e,0x38038,0x70070038,0x1c01c1c,0x7001c00,0x1c00778,0x1c0070,0xe1c701c1,0xc01c1c01,0xc700700e,0xfc000,
<a name="l02091"></a>02091       0x1c00380e,0x381c3c7,0x1e01f001,0xe1e001e0,0xf0000e,0x1e01f,0xf8300000,0x1c00019c,0xc0000003,0xffc00000,0x10,0x20000,0x700,
<a name="l02092"></a>02092       0x1ff000c0,0x703fc19,0xcc003c00,0x67300ce6,0xc038,0xc181,0x83000000,0x0,0x0,0x7e00,0x180e07,0xe19cc00,0x1e000f80,0x1c,0x70c00f,
<a name="l02093"></a>02093       0xff007070,0x3e00038,0xe0f000,0x19800c,0x1fec0e1c,0x7fffc00,0x30f818,0x0,0xffff81f,0xf003fc00,0x380e,0x3f8c007,0x80000000,
<a name="l02094"></a>02094       0x7f800ff0,0x1c3803f,0xe007fc00,0xff800e00,0x70e00e1,0xc01c3803,0x870070e0,0x1c0e070f,0xe1c0001f,0xff03ffe0,0x7ffc0fff,0x800e0001,
<a name="l02095"></a>02095       0xc0003800,0x700ff83,0x871c70e0,0x71c00e3,0x801c7003,0x8e00701d,0xc038e1c7,0x70e00e,0x1c01c380,0x3803e007,0x70e3c0,0x38000,
<a name="l02096"></a>02096       0x70000e00,0x1c00038,0x7001c,0x38e00038,0x3870070,0xe00e1c01,0xc00e0001,0xc0003800,0x7003c07,0x8380e0e0,0xe1c01c3,0x80387007,
<a name="l02097"></a>02097       0xe00e1ff,0xfe381b83,0x80e0701c,0xe0381c0,0x701e1e07,0x707878,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02098"></a>02098       0x0,0x0,0x0,0x0,0x1c,0x3,0xe007fe0,0x7800e3c,0x38000001,0xc0000700,0x1803fff,0xe0000000,0x0,0x70039c3,0x800e0000,0xf8000f80,
<a name="l02099"></a>02099       0xc0e0000e,0xf83c003,0xc01e0f01,0xff700000,0x7c0,0x0,0x1f00780,0x618061c0,0xe0701e1c,0x38038,0x38000700,0x1c07e38,0x3801c00,
<a name="l02100"></a>02100       0x381e78,0x1c000e3,0xe38e18e1,0xc00e1fff,0x70038ff,0xe0007f80,0xe007007,0x1c701dd,0x9c00f800,0x1c000780,0xe0000e,0xe000,0x0,
<a name="l02101"></a>02101       0x7f,0xf070070e,0x38038,0x7fff0038,0x1c01c1c,0x7001c00,0x1c007f8,0x1c0070,0xe1c701c1,0xc01c1c01,0xc700700e,0x7fc00,0x1c00380e,
<a name="l02102"></a>02102       0x1c381c7,0x1c01f000,0xe1c001c0,0xfe0000e,0xfe1f,0xfff00000,0x7ff003fc,0xe0000003,0xffc00000,0x10,0x20000,0x3800,0x3fc0180,
<a name="l02103"></a>02103       0x703803f,0xce007800,0xff381fe7,0x30,0x0,0xc0,0x0,0x0,0x3fe0,0xc0e07,0xfe3fce00,0x1c000700,0x1c,0x70c00f,0xff006030,0x1c00000,
<a name="l02104"></a>02104       0xe07800,0x19800c,0xfcc1c38,0x7fffc00,0x30d818,0x0,0xffff81f,0xf001f800,0x380e,0xf8c007,0x80000000,0x7f8007e0,0xe1c3fe,0x7fc00f,
<a name="l02105"></a>02105       0xf8001e00,0xe0701c0,0xe0381c07,0x380e070,0x1c0e070e,0x1c0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x700ff83,0x870c70e0,
<a name="l02106"></a>02106       0x71c00e3,0x801c7003,0x8e00700f,0x8038c1c7,0x70e00e,0x1c01c380,0x3801c007,0xf0e3e0,0x3ff807f,0xf00ffe01,0xffc03ff8,0x7ff03ff,
<a name="l02107"></a>02107       0xf8e0003f,0xff87fff0,0xfffe1fff,0xc00e0001,0xc0003800,0x7003803,0x8380e0e0,0xe1c01c3,0x80387007,0xe00e1ff,0xfe383383,0x80e0701c,
<a name="l02108"></a>02108       0xe0381c0,0x700e1c07,0x703870,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x3,0xc000ff0,
<a name="l02109"></a>02109       0x3c1e1c1c,0x38000001,0xc0000700,0x1803fff,0xe0000007,0xf8000000,0x7003803,0x800e0001,0xf0000381,0xc0e00007,0xf01e003,0x801c0700,
<a name="l02110"></a>02110       0x7c700000,0x7c0,0x0,0x1f00700,0x618061c0,0xe0700e1c,0x38038,0x38000700,0x1c00e38,0x3801c00,0x381e38,0x1c000e1,0xc38e1ce1,
<a name="l02111"></a>02111       0xc00e1ffc,0x70038e0,0xf0000780,0xe007007,0x1c701dd,0xdc01fc00,0x1c000780,0xe0000e,0xe000,0x0,0x1ff,0xf070070e,0x38038,0x7fff0038,
<a name="l02112"></a>02112       0x1c01c1c,0x7001c00,0x1c007f8,0x1c0070,0xe1c701c1,0xc01c1c01,0xc700700e,0x3ff00,0x1c00380e,0x1c381cd,0x9c00e000,0xe1c003c0,
<a name="l02113"></a>02113       0xf80000e,0x3e18,0x3ff00000,0xffe007fd,0xf0000000,0x38000000,0x10,0x20000,0x1c000,0x3c0300,0x703807f,0xdf007801,0xff7c3fef,
<a name="l02114"></a>02114       0x80000000,0x0,0x3e0,0x7ffe7ff,0xff000000,0x1ff8,0x60e07,0xfe7fdf00,0x3c000700,0x1c,0x70c001,0xc0006030,0x7fff0000,0xf03800,
<a name="l02115"></a>02115       0x19800c,0x1c38,0x1c07,0xf830cc18,0x0,0x1c0000,0x0,0x380e,0x18c007,0x80000000,0x0,0xe1cfe0,0x1fc003f,0x80003c00,0xe0701c0,
<a name="l02116"></a>02116       0xe0381c07,0x380e070,0x1c0e070e,0x1c0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x7003803,0x870e70e0,0x71c00e3,0x801c7003,
<a name="l02117"></a>02117       0x8e007007,0x3981c7,0x70e00e,0x1c01c380,0x3801c007,0x1e0e0f8,0xfff81ff,0xf03ffe07,0xffc0fff8,0x1fff07ff,0xf8e0003f,0xff87fff0,
<a name="l02118"></a>02118       0xfffe1fff,0xc00e0001,0xc0003800,0x7003803,0x8380e0e0,0xe1c01c3,0x80387007,0xe00e1ff,0xfe386383,0x80e0701c,0xe0381c0,0x700e1c07,
<a name="l02119"></a>02119       0x703870,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0x7f,0xffc00678,0x707f9c1e,0x38000001,
<a name="l02120"></a>02120       0xc0000700,0x70,0x7,0xf8000000,0xe003803,0x800e0003,0xe00001c3,0x80e00007,0xe00e007,0x80380380,0x700000,0x7f0,0x0,0x7f00700,
<a name="l02121"></a>02121       0x618061ff,0xe070071c,0x38038,0x38000700,0x1c00e38,0x3801c00,0x381c3c,0x1c000e1,0xc38e1ce1,0xc00e1c00,0x70038e0,0x700003c0,
<a name="l02122"></a>02122       0xe007007,0x1c701d8,0xdc03dc00,0x1c000f00,0xe00007,0xe000,0x0,0x3ff,0xf070070e,0x38038,0x7fff0038,0x1c01c1c,0x7001c00,0x1c007fc,
<a name="l02123"></a>02123       0x1c0070,0xe1c701c1,0xc01c1c01,0xc700700e,0x3f00,0x1c00380e,0x1c381cd,0x9c01f000,0x73800780,0xfe0000e,0xfe10,0x7c00000,0x1c000ffb,
<a name="l02124"></a>02124       0xf8000000,0x38000000,0x10,0x20000,0x20000,0x1e0700,0x70380ff,0xbf80f003,0xfefe7fdf,0xc0000000,0x0,0x3f0,0x7ffe7ff,0xff000000,
<a name="l02125"></a>02125       0x1f8,0x30e07,0xfeffbf80,0x78000700,0x1c,0x70c001,0xc0006030,0x7fff0000,0x783800,0x1ce11c,0xe1c,0x1c07,0xf838ce38,0x0,0x1c0000,
<a name="l02126"></a>02126       0x0,0x380e,0x18c000,0x0,0x0,0x1c38c00,0x1800030,0x7800,0xfff01ff,0xe03ffc07,0xff80fff0,0x3fff0ffe,0x1c0001c,0x38000,0x70000e00,
<a name="l02127"></a>02127       0xe0001,0xc0003800,0x7003803,0x870e70e0,0x71c00e3,0x801c7003,0x8e00700f,0x803b81c7,0x70e00e,0x1c01c380,0x3801c007,0xffe0e03c,
<a name="l02128"></a>02128       0x1fff83ff,0xf07ffe0f,0xffc1fff8,0x3fff0fff,0xf8e0003f,0xff87fff0,0xfffe1fff,0xc00e0001,0xc0003800,0x7003803,0x8380e0e0,0xe1c01c3,
<a name="l02129"></a>02129       0x80387007,0xe00e000,0x38c383,0x80e0701c,0xe0381c0,0x70073807,0x701ce0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02130"></a>02130       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0xffc0063c,0x40619c0f,0x30000001,0xc0000700,0x70,0x7,0xf8000000,0xe003803,0x800e0007,0xc00001c3,
<a name="l02131"></a>02131       0xfffc0007,0xe00e007,0x380380,0xf00000,0xfe,0xffff80,0x3f800700,0x618063ff,0xf070071c,0x38038,0x38000700,0x1c00e38,0x3801c00,
<a name="l02132"></a>02132       0x381c1e,0x1c000e0,0x38e0ee1,0xc00e1c00,0x70038e0,0x380001c0,0xe007007,0x1ef01d8,0xdc038e00,0x1c001e00,0xe00007,0xe000,0x0,
<a name="l02133"></a>02133       0x7c0,0x7070070e,0x38038,0x70000038,0x1c01c1c,0x7001c00,0x1c0079e,0x1c0070,0xe1c701c1,0xc01c1c01,0xc700700e,0x780,0x1c00380e,
<a name="l02134"></a>02134       0xe701cd,0x9c01f000,0x73800f00,0xe0000e,0xe000,0x0,0x1c0007f7,0xf0000000,0x70000000,0x10,0x20000,0x0,0xe0e00,0x703807f,0x7f01e001,
<a name="l02135"></a>02135       0xfdfc3fbf,0x80000000,0x0,0x7f0,0x0,0x0,0x3c,0x18e07,0x7f7f00,0xf0000700,0x1c,0x70c001,0xc0007070,0x1c00000,0x3e7000,0xcff18,
<a name="l02136"></a>02136       0x3ffc070e,0x1c07,0xf818c630,0x0,0x1c0000,0x0,0x380e,0x18c000,0x0,0x3ffc,0x3870000,0xe000fc00,0x380f000,0x1fff83ff,0xf07ffe0f,
<a name="l02137"></a>02137       0xffc1fff8,0x3fff0ffe,0x1c0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x7003803,0x870770e0,0x71c00e3,0x801c7003,0x8e00701d,
<a name="l02138"></a>02138       0xc03f01c7,0x70e00e,0x1c01c380,0x3801c007,0xffc0e01c,0x3e0387c0,0x70f80e1f,0x1c3e038,0x7c071e1c,0xe00038,0x70000,0xe0001c00,
<a name="l02139"></a>02139       0xe0001,0xc0003800,0x7003803,0x8380e0e0,0xe1c01c3,0x80387007,0xe00e000,0x398383,0x80e0701c,0xe0381c0,0x70073807,0x701ce0,
<a name="l02140"></a>02140       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f,0xffc0061c,0xc0dc07,0xf0000001,0xc0000700,
<a name="l02141"></a>02141       0x70,0x0,0x0,0x1c003c07,0x800e000f,0x1c3,0xfffc0007,0xe00e007,0x380380,0xe00000,0x1f,0xc0ffff81,0xfc000700,0x618063ff,0xf070070e,
<a name="l02142"></a>02142       0x38070,0x38000700,0xe00e38,0x3801c00,0x381c0e,0x1c000e0,0x38e0ee1,0xe01e1c00,0x78078e0,0x380001c0,0xe007007,0xee01f8,0xfc078f00,
<a name="l02143"></a>02143       0x1c001c00,0xe00003,0x8000e000,0x0,0x700,0x7070070e,0x38038,0x70000038,0x1c01c1c,0x7001c00,0x1c0070e,0x1c0070,0xe1c701c1,
<a name="l02144"></a>02144       0xc01c1c01,0xc700700e,0x380,0x1c00380e,0xe700ed,0xb803f800,0x77800f00,0x70000e,0x1c000,0x0,0xe0003f7,0xe0000000,0x70000000,
<a name="l02145"></a>02145       0x10,0x20000,0x1c0e0,0xe1c00,0x703803f,0x7e01c000,0xfdf81fbf,0x0,0x0,0x3f0,0x0,0x0,0x1c,0x1ce07,0x3f7e00,0xf0000700,0x1c,
<a name="l02146"></a>02146       0x70c001,0xc00038e0,0x1c00038,0xf7000,0xe3e38,0x3ffc0387,0x1c00,0x1cc770,0x0,0x1c0000,0x0,0x380e,0x18c000,0x0,0x3ffc,0x70e0001,
<a name="l02147"></a>02147       0xe001fe00,0x780e000,0x1fff83ff,0xf07ffe0f,0xffc1fff8,0x3fff0ffe,0xe0001c,0x38000,0x70000e00,0xe0001,0xc0003800,0x7003807,
<a name="l02148"></a>02148       0x70770f0,0xf1e01e3,0xc03c7807,0x8f00f038,0xe03e03c7,0x70e00e,0x1c01c380,0x3801c007,0xff00e00e,0x38038700,0x70e00e1c,0x1c38038,
<a name="l02149"></a>02149       0x70071c1c,0xe00038,0x70000,0xe0001c00,0xe0001,0xc0003800,0x7003803,0x8380e0e0,0xe1c01c3,0x80387007,0xe00e000,0x3b0383,0x80e0701c,
<a name="l02150"></a>02150       0xe0381c0,0x70077807,0x701de0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6,0x1c00061c,
<a name="l02151"></a>02151       0xc0de03,0xe0000001,0xc0000700,0x70,0x0,0x0,0x1c001c07,0xe001e,0x1c3,0xfffc0007,0x600e00e,0x380380,0xe00000,0x7,0xf0ffff87,
<a name="l02152"></a>02152       0xf0000000,0x60c0e380,0x7070070e,0x38070,0x38000700,0xe00e38,0x3801c00,0x381c0f,0x1c000e0,0x38e06e0,0xe01c1c00,0x38070e0,
<a name="l02153"></a>02153       0x1c0001c0,0xe007007,0xee00f8,0xf80f0700,0x1c003c00,0xe00003,0x8000e000,0x0,0x700,0x70780f0f,0x3c078,0x70000038,0x1e03c1c,
<a name="l02154"></a>02154       0x7001c00,0x1c0070f,0x1c0070,0xe1c701c1,0xe03c1e03,0xc780f00e,0x380,0x1c00380e,0xe700f8,0xf807bc00,0x3f001e00,0x70000e,0x1c000,
<a name="l02155"></a>02155       0x0,0xe0001ff,0xc0000000,0x70000000,0x10,0x20000,0x33110,0xe0e00,0x383801f,0xfc03c000,0x7ff00ffe,0x0,0x0,0x3e0,0x0,0x0,0x1c,
<a name="l02156"></a>02156       0x38e07,0x1ffc01,0xe0000700,0x1c,0x78c001,0xc0007ff0,0x1c00038,0x7c000,0x70070,0x1c3,0x80001c00,0xe00e0,0x0,0x1c0000,0x0,
<a name="l02157"></a>02157       0x380e,0x18c000,0x0,0x0,0xe1c0001,0xe0010700,0x780e000,0x1c038380,0x70700e0e,0x1c1c038,0x78070e0e,0xe0001c,0x38000,0x70000e00,
<a name="l02158"></a>02158       0xe0001,0xc0003800,0x7003807,0x7037070,0xe0e01c1,0xc0383807,0x700e070,0x701c0387,0x70e00e,0x1c01c380,0x3801c007,0xe00e,0x38038700,
<a name="l02159"></a>02159       0x70e00e1c,0x1c38038,0x70071c1c,0xf00038,0x70000,0xe0001c00,0xe0001,0xc0003800,0x7003c07,0x8380e0f0,0x1e1e03c3,0xc078780f,
<a name="l02160"></a>02160       0xf01e007,0x803e0783,0x80e0701c,0xe0381c0,0x7003f007,0x80f00fc0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02161"></a>02161       0x0,0x0,0x0,0x0,0x0,0x6,0x1800061c,0xc0de01,0xc0000000,0xc0000e00,0x70,0xf0000,0x3c00,0x38001c0f,0xe003c,0x3c0,0xe0000e,0x701e00e,
<a name="l02162"></a>02162       0x3c0780,0x1e003c0,0x780000,0xfc00001f,0x80000000,0x60e1e780,0x78700f07,0x4380f0,0x38000700,0xf00e38,0x3801c00,0xc0781c07,
<a name="l02163"></a>02163       0x81c000e0,0x38e07e0,0xe03c1c00,0x380f0e0,0x1e0003c0,0xe00780f,0xee00f0,0x780e0780,0x1c007800,0xe00001,0xc000e000,0x0,0x700,
<a name="l02164"></a>02164       0xf0780e07,0x8041c078,0x38020038,0xe03c1c,0x7001c00,0x1c00707,0x801c0070,0xe1c701c0,0xe0381e03,0x8380f00e,0x80380,0x1c003c1e,
<a name="l02165"></a>02165       0x7e00f8,0xf80f1e00,0x3f003c00,0x70000e,0x1c000,0x0,0xf0100f7,0x80078000,0x700078f0,0x10,0x7ff000,0x61208,0x1e0700,0x383800f,
<a name="l02166"></a>02166       0x78078000,0x3de007bc,0x0,0x0,0x0,0x0,0x0,0x401c,0x70e0f,0xf7803,0xc0000700,0x1c,0x38c001,0xc000efb8,0x1c00038,0x1e000,0x3c1e0,
<a name="l02167"></a>02167       0xc1,0x80000000,0x783c0,0x0,0x0,0x0,0x3c1e,0x18c000,0x0,0x0,0xc180003,0x60000300,0xd80e010,0x3c03c780,0x78f00f1e,0x1e3c03c,
<a name="l02168"></a>02168       0x70039c0e,0x70041c,0x38000,0x70000e00,0xe0001,0xc0003800,0x700380f,0x703f070,0x1e0e03c1,0xc078380f,0x701e0e0,0x381c0787,
<a name="l02169"></a>02169       0x80f0f01e,0x1e03c3c0,0x7801c007,0xe00e,0x38078700,0xf0e01e1c,0x3c38078,0x700f1c1c,0x78041c,0x1038020,0x70040e00,0x800e0001,
<a name="l02170"></a>02170       0xc0003800,0x7001c07,0x380e070,0x1c0e0381,0xc070380e,0x701c007,0x801e0703,0xc1e0783c,0xf0781e0,0xf003f007,0x80e00fc0,0x0,
<a name="l02171"></a>02171       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0xe,0x1801867c,0xc0cf83,0xe0000000,0xe0000e00,
<a name="l02172"></a>02172       0x70,0xf0000,0x3c00,0x38000f1e,0xe0070,0x180780,0xe0603e,0x783c01e,0x1e0f01,0x7c003c0,0x780000,0x3c00001e,0x700,0x307fe700,
<a name="l02173"></a>02173       0x38701e07,0xc1c383e0,0x38000700,0x7c1e38,0x3801c00,0xe0f01c03,0x81c000e0,0x38e03e0,0x78781c00,0x1e1e0e0,0xe180780,0xe003c1e,
<a name="l02174"></a>02174       0x7c00f0,0x781e03c0,0x1c007000,0xe00001,0xc000e000,0x0,0x783,0xf07c1e07,0xc0c1e0f8,0x3e0e0038,0xf07c1c,0x7001c00,0x1c00703,
<a name="l02175"></a>02175       0xc01e0070,0xe1c701c0,0xf0781f07,0x83c1f00e,0xe0f80,0x1e003c3e,0x7e00f8,0xf80e0e00,0x3f003800,0x70000e,0x1c000,0x0,0x7830077,
<a name="l02176"></a>02176       0xf0000,0x700078f0,0x10,0x20000,0x41208,0xc03c0380,0x3c38007,0x70070000,0x1dc003b8,0x0,0x0,0x0,0x0,0x0,0x707c,0x6070f,0x86077003,
<a name="l02177"></a>02177       0x80000700,0x1c,0x3ec401,0xc001c01c,0x1c00038,0xf000,0x1ffc0,0x40,0x80000000,0x3ff80,0x0,0x0,0x0,0x3e3e,0x18c000,0x0,0x0,
<a name="l02178"></a>02178       0x8100006,0x60000300,0x1980f070,0x3801c700,0x38e0071c,0xe3801c,0x70039c0e,0x7c1c1c,0x38000,0x70000e00,0xe0001,0xc0003800,
<a name="l02179"></a>02179       0x700383e,0x701f03c,0x3c078780,0xf0f01e1e,0x3c3c1c0,0x1c3f0f03,0xc1e0783c,0xf0781e0,0xf001c007,0xe81e,0x3c1f8783,0xf0f07e1e,
<a name="l02180"></a>02180       0xfc3c1f8,0x783f1e3e,0x187c0c1f,0x703e0e0,0x7c1c0f83,0x800e0001,0xc0003800,0x7001e0f,0x380e078,0x3c0f0781,0xe0f03c1e,0x783c007,
<a name="l02181"></a>02181       0x801e0f03,0xc3e0787c,0xf0f81e1,0xf003f007,0xc1e00fc0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02182"></a>02182       0x0,0x0,0x1c,0xe,0x3801fff8,0x6187ff,0xe0000000,0xe0000e00,0x70,0xf0000,0x3c00,0x38000ffe,0x1fff0ff,0xfe1fff80,0xe07ffc,0x3ffc01c,
<a name="l02183"></a>02183       0x1fff01,0xff8003c0,0x780000,0x4000010,0x700,0x301e6700,0x387ffe03,0xffc3ffc0,0x3fff0700,0x3ffe38,0x383ffe0,0xfff01c03,0xc1fff8e0,
<a name="l02184"></a>02184       0x38e03e0,0x7ff81c00,0x1ffe0e0,0xf1fff80,0xe003ffe,0x7c00f0,0x781c01c0,0x1c00ffff,0xe00001,0xc000e000,0x0,0x3ff,0x707ffc03,
<a name="l02185"></a>02185       0xffc0fff8,0x1ffe0038,0x7ffc1c,0x707fff0,0x1c00701,0xc00ff070,0xe1c701c0,0x7ff01fff,0x1fff00e,0xfff00,0xff81fee,0x7e00f0,
<a name="l02186"></a>02186       0x781e0f00,0x1e007ffc,0x70000e,0x1c000,0x0,0x3ff003e,0xf0000,0xe00070e0,0x60830010,0x20000,0x41208,0xfffc01c0,0x1fffe03,0xe00ffff0,
<a name="l02187"></a>02187       0xf8001f0,0x0,0x0,0x0,0x0,0x0,0x7ff8,0xc07fd,0xfe03e007,0xffc00700,0x1c,0x1ffc1f,0xffc08008,0x1c00038,0x7000,0x7f00,0x0,0x0,
<a name="l02188"></a>02188       0xfe00,0x0,0xffff800,0x0,0x3ff7,0x8018c000,0x0,0x0,0x6,0x60000700,0x19807ff0,0x3801c700,0x38e0071c,0xe3801c,0x70039c0f,0xf03ffc1f,
<a name="l02189"></a>02189       0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83ffc,0x701f03f,0xfc07ff80,0xfff01ffe,0x3ffc080,0x83fff03,0xffe07ffc,0xfff81ff,
<a name="l02190"></a>02190       0xf001c007,0xeffc,0x1ffb83ff,0x707fee0f,0xfdc1ffb8,0x3ff70ff7,0xf83ffc0f,0xff01ffe0,0x3ffc07ff,0x83fff87f,0xff0fffe1,0xfffc0ffe,
<a name="l02191"></a>02191       0x380e03f,0xf807ff00,0xffe01ffc,0x3ff8007,0x803ffe01,0xfee03fdc,0x7fb80ff,0x7001e007,0xffc00780,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02192"></a>02192       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0xc,0x3801fff0,0x7f83fe,0x70000000,0xe0000e00,0x0,0xf0000,0x3c00,0x700007fc,
<a name="l02193"></a>02193       0x1fff0ff,0xfe1ffe00,0xe07ff8,0x1ff801c,0xffe01,0xff0003c0,0x780000,0x0,0x700,0x38000f00,0x3c7ffc01,0xff83ff80,0x3fff0700,
<a name="l02194"></a>02194       0x1ffc38,0x383ffe0,0x7fe01c01,0xe1fff8e0,0x38e03e0,0x3ff01c00,0xffc0e0,0x71fff00,0xe001ffc,0x7c00f0,0x783c01e0,0x1c00ffff,
<a name="l02195"></a>02195       0xe00000,0xe000e000,0x0,0x1ff,0x7077f801,0xff807fb8,0xffc0038,0x3fdc1c,0x707fff0,0x1c00701,0xe007f070,0xe1c701c0,0x3fe01dfe,
<a name="l02196"></a>02196       0xff700e,0x7fe00,0xff80fee,0x3c0070,0x703c0780,0x1e007ffc,0x70000e,0x1c000,0x0,0x1fe001c,0xe0000,0xe000e1c0,0x71c78010,0x20000,
<a name="l02197"></a>02197       0x21318,0xfff800c0,0xfffe01,0xc00ffff0,0x70000e0,0x0,0x0,0x0,0x0,0x0,0x3ff0,0x1803fd,0xfe01c007,0xffc00700,0x1c,0xffc1f,0xffc00000,
<a name="l02198"></a>02198       0x1c00038,0x7000,0x0,0x0,0x0,0x0,0x0,0xffff800,0x0,0x3ff7,0x8018c000,0x0,0x0,0xc,0x60000e00,0x31803fe0,0x7801ef00,0x3de007bc,
<a name="l02199"></a>02199       0xf7801e,0xf003fc0f,0xf01ff81f,0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83ff8,0x701f01f,0xf803ff00,0x7fe00ffc,0x1ff8000,
<a name="l02200"></a>02200       0x67fe01,0xffc03ff8,0x7ff00ff,0xe001c007,0xeff8,0xffb81ff,0x703fee07,0xfdc0ffb8,0x1ff70ff7,0xf81ff807,0xfe00ffc0,0x1ff803ff,
<a name="l02201"></a>02201       0x3fff87f,0xff0fffe1,0xfffc07fc,0x380e01f,0xf003fe00,0x7fc00ff8,0x1ff0000,0x37fc00,0xfee01fdc,0x3fb807f,0x7001e007,0x7f800780,
<a name="l02202"></a>02202       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1c,0xc,0x30007fc0,0x1e00f8,0x78000000,0x70001c00,
<a name="l02203"></a>02203       0x0,0xe0000,0x3c00,0x700001f0,0x1fff0ff,0xfe07f800,0xe01fe0,0x7e0038,0x3f800,0xfc0003c0,0x700000,0x0,0x700,0x18000e00,0x1c7ff000,
<a name="l02204"></a>02204       0x7e03fe00,0x3fff0700,0x7f038,0x383ffe0,0x1f801c00,0xf1fff8e0,0x38e01e0,0xfc01c00,0x3f80e0,0x787fc00,0xe0007f0,0x7c00f0,0x387800f0,
<a name="l02205"></a>02205       0x1c00ffff,0xe00000,0xe000e000,0x0,0xfc,0x7071f000,0x3f003e38,0x3f00038,0x1f1c1c,0x707fff0,0x1c00700,0xf003f070,0xe1c701c0,
<a name="l02206"></a>02206       0x1f801c7c,0x7c700e,0x1f800,0x3f8078e,0x3c0070,0x707803c0,0x1c007ffc,0x70000e,0x1c000,0x0,0x7c0008,0x1e0000,0xe000e1c0,0x71c30010,
<a name="l02207"></a>02207       0x20000,0x1e1f0,0x3fe00020,0x3ffe00,0x800ffff0,0x2000040,0x0,0x0,0x0,0x0,0x0,0xfc0,0x3001f0,0x78008007,0xffc00700,0x1c,0x3f81f,
<a name="l02208"></a>02208       0xffc00000,0x1c00038,0x407000,0x0,0x0,0x0,0x0,0x0,0xffff800,0x0,0x39c7,0x18c000,0x0,0x0,0x18,0x60001c00,0x61801f80,0x7000ee00,
<a name="l02209"></a>02209       0x1dc003b8,0x77000e,0xe001f80f,0xf007e01f,0xff83fff0,0x7ffe0fff,0xc1fff03f,0xfe07ffc0,0xfff83fc0,0x700f007,0xe000fc00,0x1f8003f0,
<a name="l02210"></a>02210       0x7e0000,0xe1f800,0x7f000fe0,0x1fc003f,0x8001c007,0xe7f0,0x7e380fc,0x701f8e03,0xf1c07e38,0xfc703c1,0xe003f001,0xf8003f00,
<a name="l02211"></a>02211       0x7e000fc,0x3fff87f,0xff0fffe1,0xfffc03f8,0x380e00f,0xc001f800,0x3f0007e0,0xfc0000,0x61f800,0x78e00f1c,0x1e3803c,0x7001c007,
<a name="l02212"></a>02212       0x1f000700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x70001c00,0x0,
<a name="l02213"></a>02213       0x1c0000,0x0,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0xe00000,0x0,0x0,0xc000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,
<a name="l02214"></a>02214       0x0,0x0,0x0,0x0,0xe00000,0x7000e000,0x0,0x0,0x0,0x0,0x0,0x1c00,0x0,0x1c00000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x0,0x1c000000,
<a name="l02215"></a>02215       0x70000e,0x1c000,0x0,0x0,0x1c0000,0xe000c180,0x10,0x20000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,
<a name="l02216"></a>02216       0x0,0x38,0x70e000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x18c000,0x2000,0x0,0x1f,0xf8003800,0x7fe00000,0x0,0x0,0x0,0x0,0x4000,
<a name="l02217"></a>02217       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x400000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x400000,
<a name="l02218"></a>02218       0x0,0x0,0x1c007,0x700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x30001800,
<a name="l02219"></a>02219       0x0,0x1c0000,0x0,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0xe00000,0x0,0x0,0xe000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e000,
<a name="l02220"></a>02220       0x0,0x0,0x0,0x0,0x0,0xe00000,0x7000e000,0x0,0x0,0x0,0x0,0x0,0x1c00,0x0,0x1c00000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x0,0x1c000000,
<a name="l02221"></a>02221       0x70000e,0x1c000,0x0,0x0,0x1c0001,0xe001c380,0x10,0x20000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,
<a name="l02222"></a>02222       0x0,0x38,0x7fe000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x18c000,0x3000,0x0,0x1f,0xf8007000,0x7fe00000,0x0,0x0,0x0,0x0,0x6000,
<a name="l02223"></a>02223       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x6000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02224"></a>02224       0x0,0x1c007,0x700,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x38003800,
<a name="l02225"></a>02225       0x0,0x380000,0x1,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x1c00000,0x0,0x0,0x3c18000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf000,
<a name="l02226"></a>02226       0x0,0x0,0x0,0x0,0x0,0xfe0000,0x380fe000,0x0,0x0,0x0,0x0,0x0,0x3800,0x0,0x1c00000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x0,0x38000000,
<a name="l02227"></a>02227       0x78000e,0x3c000,0x0,0x0,0x180001,0xc0018300,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,0x0,
<a name="l02228"></a>02228       0x38,0x1f8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x18c000,0x1800,0x0,0x0,0x6000e000,0x1800000,0x0,0x0,0x0,0x0,0x3000,0x0,
<a name="l02229"></a>02229       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02230"></a>02230       0x38007,0xe00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x18003000,
<a name="l02231"></a>02231       0x0,0x300000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1800000,0x0,0x0,0x1ff8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4000,0x0,0x0,
<a name="l02232"></a>02232       0x0,0x0,0x0,0xfe0000,0xfe000,0x0,0x0,0x0,0x0,0x0,0x607800,0x0,0x3c00000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x0,0x78000000,
<a name="l02233"></a>02233       0x3f800e,0x3f8000,0x0,0x0,0x300043,0xc0018200,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,
<a name="l02234"></a>02234       0x0,0x38,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x0,0x11800,0x0,0x0,0x6001ff00,0x1800000,0x0,0x0,0x0,0x0,0x23000,0x0,0x0,
<a name="l02235"></a>02235       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x23000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x78007,
<a name="l02236"></a>02236       0x1e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x600,0x0,0x0,0x1c007000,0x0,0x0,
<a name="l02237"></a>02237       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfe0000,
<a name="l02238"></a>02238       0xfe000,0x0,0x0,0x0,0x0,0x0,0x7ff000,0x0,0x7f800000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x3,0xf8000000,0x3f800e,0x3f8000,0x0,
<a name="l02239"></a>02239       0x0,0x10007f,0x80000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,0x0,0x38,0x0,0x0,0x0,0x0,
<a name="l02240"></a>02240       0x0,0x0,0x0,0x0,0x3800,0x0,0x1f800,0x0,0x0,0x6001ff00,0x1800000,0x0,0x0,0x0,0x0,0x3f000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02241"></a>02241       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f8007,0xfe00,0x0,0x0,0x0,0x0,
<a name="l02242"></a>02242       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02243"></a>02243       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7fff8,0x0,0x0,0x0,0x0,0x7fe000,0x0,
<a name="l02244"></a>02244       0x7f000000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x3,0xf0000000,0xf800e,0x3e0000,0x0,0x0,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02245"></a>02245       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3800,0x0,0x1f000,0x0,0x0,0x0,0x0,0x0,
<a name="l02246"></a>02246       0x0,0x0,0x0,0x3e000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02247"></a>02247       0x0,0x0,0x0,0x0,0x0,0x0,0x3f0007,0xfc00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02248"></a>02248       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02249"></a>02249       0x0,0x0,0x0,0x0,0x7fff8,0x0,0x0,0x0,0x0,0x1fc000,0x0,0x7e000000,0x0,0x0,0x1c00,0x7000,0x0,0x0,0x0,0x3,0xc0000000,0xe,0x0,
<a name="l02250"></a>02250       0x0,0x0,0x3e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02251"></a>02251       0x0,0x0,0x3800,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02252"></a>02252       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c0007,0xf000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02253"></a>02253       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02254"></a>02254       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7fff8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02255"></a>02255       0xe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02256"></a>02256       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02257"></a>02257       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l02258"></a>02258 
<a name="l02259"></a>02259     <span class="comment">// Definition of a 29x57 font</span>
<a name="l02260"></a>02260     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font29x57[29*57*256/32] = {
<a name="l02261"></a>02261       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02262"></a>02262       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02263"></a>02263       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02264"></a>02264       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02265"></a>02265       0x0,0x781e00,0x0,0x0,0x7,0x81e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02266"></a>02266       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7c0000,0xf8000,0x7e00000,0x0,0x7,
<a name="l02267"></a>02267       0xc0000000,0x0,0x7c00,0xf80,0x7e000,0x0,0x7c00000,0xf80000,0x7e000000,0x0,0x0,0x1f00,0x3e0,0x1f800,0x0,0x0,0x0,0x3,0xe0000000,
<a name="l02268"></a>02268       0x7c00003f,0x0,0xf8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02269"></a>02269       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02270"></a>02270       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02271"></a>02271       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02272"></a>02272       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02273"></a>02273       0x0,0x0,0x0,0x0,0x0,0x0,0x3c3c00,0x0,0x0,0x3,0xc3c00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e1f00,
<a name="l02274"></a>02274       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e0000,
<a name="l02275"></a>02275       0x1f0000,0x7e00000,0xf838001f,0xf80001f,0xf0000000,0x0,0x3e00,0x1f00,0x7e000,0x3e1f000,0x3e00000,0x1f00000,0x7e00003e,0x1f000000,
<a name="l02276"></a>02276       0x3e0,0xe0000f80,0x7c0,0x1f800,0x3e0e00,0x7c3e000,0x0,0x1,0xf0000000,0xf800003f,0x1f0f,0x800001f0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02277"></a>02277       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02278"></a>02278       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02279"></a>02279       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02280"></a>02280       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02281"></a>02281       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e7800,0x0,0x0,
<a name="l02282"></a>02282       0x1,0xe7800000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02283"></a>02283       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e0000,0x1e0000,0xff00001,0xfe38001f,0xf80003f,
<a name="l02284"></a>02284       0xf8000000,0x0,0x1e00,0x1e00,0xff000,0x3e1f000,0x1e00000,0x1e00000,0xff00003e,0x1f000000,0x7f8,0xe0000780,0x780,0x3fc00,0x7f8e00,
<a name="l02285"></a>02285       0x7c3e000,0x0,0x0,0xf0000000,0xf000007f,0x80001f0f,0x800001e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02286"></a>02286       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02287"></a>02287       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02288"></a>02288       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02289"></a>02289       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02290"></a>02290       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xef000,0x0,0x0,0x0,0xef000000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02291"></a>02291       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02292"></a>02292       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0000,0x3c0000,0x1e780003,0xfff8001f,0xf80003c,0x78000000,0x0,0xf00,0x3c00,0x1e7800,
<a name="l02293"></a>02293       0x3e1f000,0xf00000,0x3c00001,0xe780003e,0x1f000000,0xfff,0xe00003c0,0xf00,0x79e00,0xfffe00,0x7c3e000,0x0,0x0,0x78000001,0xe00000f3,
<a name="l02294"></a>02294       0xc0001f0f,0x800003c0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02295"></a>02295       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02296"></a>02296       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02297"></a>02297       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02298"></a>02298       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02299"></a>02299       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7e000,0x0,0x0,0x0,0x7e000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02300"></a>02300       0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02301"></a>02301       0x0,0x78000,0x780000,0x3c3c0003,0x8ff0001f,0xf800078,0x3c000000,0x0,0x780,0x7800,0x3c3c00,0x3e1f000,0x780000,0x7800003,0xc3c0003e,
<a name="l02302"></a>02302       0x1f000000,0xe3f,0xc00001e0,0x1e00,0xf0f00,0xe3fc00,0x7c3e000,0x0,0x0,0x3c000003,0xc00001e1,0xe0001f0f,0x80000780,0x0,0x0,
<a name="l02303"></a>02303       0x0,0x0,0x0,0x0,0x1f,0xf0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02304"></a>02304       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02305"></a>02305       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02306"></a>02306       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02307"></a>02307       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02308"></a>02308       0x0,0x7e000,0x0,0x0,0x0,0x7e000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02309"></a>02309       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfc00,0x7e000,0xfe000,0x0,0x3c000,0xf00000,0x781e0003,
<a name="l02310"></a>02310       0x83e0001f,0xf800070,0x1c000000,0x0,0x3c0,0xf000,0x781e00,0x3e1f000,0x3c0000,0xf000007,0x81e0003e,0x1f000000,0xe0f,0x800000f0,
<a name="l02311"></a>02311       0x3c00,0x1e0780,0xe0f800,0x7c3e000,0x0,0x0,0x1e000007,0x800003c0,0xf0001f0f,0x80000f00,0x0,0x0,0x0,0x0,0x0,0x0,0x3f,0xf8000000,
<a name="l02312"></a>02312       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02313"></a>02313       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02314"></a>02314       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02315"></a>02315       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02316"></a>02316       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02317"></a>02317       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02318"></a>02318       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3fc00,0x1fe000,0x3ff800,0x0,0x0,0x0,0x0,0x0,0x70,0x1c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02319"></a>02319       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c,0x78000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02320"></a>02320       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02321"></a>02321       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02322"></a>02322       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02323"></a>02323       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02324"></a>02324       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02325"></a>02325       0x0,0x0,0x78,0xf000000,0x0,0x0,0x780f0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7c0,
<a name="l02326"></a>02326       0x0,0x0,0x0,0x0,0x0,0x0,0x3fc00,0x1fe000,0x3ffc00,0x0,0x0,0x0,0x0,0x0,0x70,0x1c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02327"></a>02327       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f00000,0x3e000,0x3e00000,0x0,0x78,0x3c000000,0x0,0x1f000,0x3e0,
<a name="l02328"></a>02328       0x3e000,0x0,0x1f000000,0x3e0000,0x3e000000,0x0,0x0,0x7c00,0xf8,0xf800,0x0,0x0,0x0,0xf,0x80000000,0x1f00001f,0x0,0x3e,0x0,
<a name="l02329"></a>02329       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02330"></a>02330       0x0,0x0,0x0,0x30000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02331"></a>02331       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf80000,
<a name="l02332"></a>02332       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02333"></a>02333       0x0,0x0,0x0,0x0,0xf80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x781c0000,0x38,0xe000000,0x0,0x0,0x380e0,0x0,
<a name="l02334"></a>02334       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf80,0x0,0x0,0x0,0x0,0x0,0x0,0x39c00,0x1ce000,0x303e00,
<a name="l02335"></a>02335       0x0,0x0,0x0,0x0,0x0,0x78,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4000,0x0,0x0,0x0,0x0,
<a name="l02336"></a>02336       0x0,0x0,0xf80000,0x7c000,0x3e00000,0xf0380000,0x70,0x1c000000,0x0,0xf800,0x7c0,0x3e000,0x0,0xf800000,0x7c0000,0x3e000000,
<a name="l02337"></a>02337       0x0,0x3c0,0xe0003e00,0x1f0,0xf800,0x3c0e00,0x0,0x0,0x7,0xc0000000,0x3e00001f,0x0,0x7c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02338"></a>02338       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0xff,0x0,
<a name="l02339"></a>02339       0xf8,0xf8000,0x1c000,0x0,0x0,0x0,0x0,0x1f,0xc0000000,0x1ff8,0xff00,0x0,0x0,0x3fe000,0x0,0x1fc00001,0xfe000000,0x0,0x0,0x0,
<a name="l02340"></a>02340       0x0,0x7f800,0x0,0x0,0x0,0xff00000,0x0,0x0,0xff,0x0,0x0,0x0,0x0,0x0,0x0,0x3,0xf8000000,0xfe,0x0,0x7f80,0x0,0x0,0x0,0x0,0x0,
<a name="l02341"></a>02341       0x0,0x3f,0xf0000000,0x7fe0,0x0,0x0,0x780000,0x1,0xe0000000,0x0,0x780000,0x3,0xfe000000,0x78000,0x3c00,0xf000,0x7800003,0xffe00000,
<a name="l02342"></a>02342       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfc0000f0,0x3f000,0x0,0x0,0x3fc00,0x0,0x0,0x1fc000,0x0,0x0,0x0,0x1fc0,
<a name="l02343"></a>02343       0x0,0xff000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xfe1c0000,0x1c,0x1c000000,0x0,0x0,0x1c1c0,0x0,0x0,0x0,0x0,0x1fe0000,
<a name="l02344"></a>02344       0x0,0x0,0x1ff,0x1f0f8,0x0,0xff000,0x0,0x0,0x0,0x3f,0xff00000f,0x80000000,0xfe0,0x3f80,0xf00,0x0,0x0,0x0,0x1,0xf8000003,0xe0000000,
<a name="l02345"></a>02345       0x1c00,0xe000,0xe00,0x0,0x0,0x0,0x0,0x0,0x3c,0x78000000,0xff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f0,0x3f80,0x1fc00,0xfe000,
<a name="l02346"></a>02346       0x7f0000,0x0,0x1fc07000,0x0,0x0,0x0,0x0,0x0,0x3f800,0x780000,0x78000,0x7f00001,0xfc38001f,0xf800070,0x1c000000,0x0,0x7800,
<a name="l02347"></a>02347       0x780,0x7f000,0x3e1f000,0x7800000,0x780000,0x7f00003e,0x1f0003f0,0x7f0,0xe0001e00,0x1e0,0x1fc00,0x7f0e00,0x7c3e000,0x0,0x3,
<a name="l02348"></a>02348       0xc0000000,0x3c00003f,0x80001f0f,0x80000078,0x1e0000,0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02349"></a>02349       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,0x1e078000,0x30000000,0x3ff,0xc00001e0,0xf0,
<a name="l02350"></a>02350       0x78000,0x1c000,0x0,0x0,0x0,0x0,0x1e0007f,0xf000007e,0x1ffff,0x7ffe0,0x1f80,0x3ffff80,0xfff803,0xfffff800,0xfff80007,0xff800000,
<a name="l02351"></a>02351       0x0,0x0,0x0,0x0,0x1ffe00,0x0,0xfe0003,0xfff80000,0x3ffe01ff,0xe00003ff,0xffe01fff,0xff0003ff,0xe01e0007,0x803ffff0,0xfff80,
<a name="l02352"></a>02352       0x3c000fc0,0x7800001f,0x8003f07e,0x1e000f,0xfe0007ff,0xf00003ff,0x8007ffe0,0x1fff8,0x7fffffe,0xf0003c1,0xe000079e,0xf1f,0x1f3e0,
<a name="l02353"></a>02353       0x1f01ff,0xfff8003f,0xf003c000,0x7fe0,0x3f00,0x0,0x3c0000,0x1,0xe0000000,0x0,0x780000,0xf,0xfe000000,0x78000,0x3c00,0xf000,
<a name="l02354"></a>02354       0x7800003,0xffe00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0xfc0000f0,0x3fe00,0x0,0x0,0xfff00,0x0,0x0,0x3fe000,
<a name="l02355"></a>02355       0x0,0x0,0x0,0x1dc0,0x0,0x3fff00,0x0,0x3ffff80,0x1f,0xffff8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xff1c07ff,0x3c0f001e,0x3c000000,
<a name="l02356"></a>02356       0x0,0x0,0x1e3c0,0xf80007c,0x0,0x780000,0x0,0xfff8000,0x3e00,0x1f00000,0x7ff,0xc001f0f8,0x0,0x3ffc00,0x0,0x0,0x0,0x3f,0xff00003f,
<a name="l02357"></a>02357       0xe0000000,0x3ff8,0xffe0,0x1e00,0x0,0xfffc00,0x0,0x7,0xf800000f,0xf8000000,0x1c00,0xe000,0xe00,0xf000,0x1fc000,0xfe0000,0x7f00000,
<a name="l02358"></a>02358       0x3f800001,0xfc00003f,0xf80000ff,0xffc003ff,0xe007ffff,0xc03ffffe,0x1fffff0,0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01ffc,
<a name="l02359"></a>02359       0xfc00,0x3c001ffc,0xffe0,0x7ff00,0x3ff800,0x1ffc000,0x0,0x7ff8f0f0,0x3c0780,0x1e03c00,0xf01e000,0x783e0001,0xf01e0000,0xffe00,
<a name="l02360"></a>02360       0x3c0000,0xf0000,0x7700001,0xfe38001f,0xf800070,0x1c000000,0x0,0x3c00,0xf00,0x77000,0x3e1f000,0x3c00000,0xf00000,0x7700003e,
<a name="l02361"></a>02361       0x1f0000f8,0xc0007f8,0xe0000f00,0x3c0,0x1dc00,0x7f8e00,0x7c3e000,0x0,0x1,0xe0000000,0x7800003b,0x80001f0f,0x800000f0,0x1e0000,
<a name="l02362"></a>02362       0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02363"></a>02363       0x0,0x0,0x780000,0x3c1e0000,0x1e070000,0x300001f0,0x7ff,0xc00001e0,0x1e0,0x7c000,0x1c000,0x0,0x0,0x0,0x0,0x3c000ff,0xf80007fe,
<a name="l02364"></a>02364       0x3ffff,0x801ffff8,0x1f80,0x3ffff80,0x3fff803,0xfffff801,0xfffc000f,0xffc00000,0x0,0x0,0x0,0x0,0x7fff80,0x0,0xfe0003,0xffff0000,
<a name="l02365"></a>02365       0xffff01ff,0xfc0003ff,0xffe01fff,0xff000fff,0xf01e0007,0x803ffff0,0xfff80,0x3c001f80,0x7800001f,0xc007f07e,0x1e001f,0xff0007ff,
<a name="l02366"></a>02366       0xfc0007ff,0xc007fffc,0x3fffc,0x7fffffe,0xf0003c1,0xf0000f9e,0xf0f,0x8003e1e0,0x1e01ff,0xfff8003f,0xf001e000,0x7fe0,0x3f00,
<a name="l02367"></a>02367       0x0,0x1e0000,0x1,0xe0000000,0x0,0x780000,0x1f,0xfe000000,0x78000,0x3c00,0xf000,0x7800003,0xffe00000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02368"></a>02368       0x0,0x0,0x0,0x0,0x0,0x0,0xf,0xfc0000f0,0x3ff00,0x0,0x0,0x1fff80,0x0,0x0,0xffe000,0x0,0x0,0x0,0x3de0,0x0,0x7fff80,0x0,0xfffff80,
<a name="l02369"></a>02369       0x1f,0xffff8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0xe7bc07ff,0x3e1f000f,0x78000000,0x0,0x0,0xf780,0x7800078,0x0,0x780000,0x180000,
<a name="l02370"></a>02370       0x1fff8000,0x1e00,0x1e0003c,0xfff,0xc001f0f8,0x0,0x7ffe00,0x0,0x0,0x0,0x3f,0xff00007f,0xf0000000,0x3ffc,0xfff0,0x3c00,0x0,
<a name="l02371"></a>02371       0x7fffc00,0x0,0x7,0xf800003f,0xfe000000,0x1c00,0xe000,0xe00,0xf000,0x1fc000,0xfe0000,0x7f00000,0x3f800001,0xfc00001f,0xe00001ff,
<a name="l02372"></a>02372       0xffc00fff,0xf007ffff,0xc03ffffe,0x1fffff0,0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01fff,0xc000fc00,0x3c003ffe,0x1fff0,
<a name="l02373"></a>02373       0xfff80,0x7ffc00,0x3ffe000,0x0,0xfffce0f0,0x3c0780,0x1e03c00,0xf01e000,0x781e0001,0xe01e0000,0x3fff00,0x1e0000,0x1e0000,0xf780003,
<a name="l02374"></a>02374       0xcf78001f,0xf800078,0x3c000000,0x0,0x1e00,0x1e00,0xf7800,0x3e1f000,0x1e00000,0x1e00000,0xf780003e,0x1f0000fc,0x7c000f3d,
<a name="l02375"></a>02375       0xe0000780,0x780,0x3de00,0xf3de00,0x7c3e000,0x0,0x0,0xf0000000,0xf000007b,0xc0001f0f,0x800001e0,0x1e0000,0x3e1f00,0x0,0x0,
<a name="l02376"></a>02376       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,
<a name="l02377"></a>02377       0x3c1e0000,0x1e0f0000,0x300007fc,0xfff,0xc00001e0,0x1e0,0x3c000,0x1c000,0x0,0x0,0x0,0x0,0x3c001ff,0xfc001ffe,0x3ffff,0xc01ffffc,
<a name="l02378"></a>02378       0x3f80,0x3ffff80,0x7fff803,0xfffff803,0xfffe001f,0xffe00000,0x0,0x0,0x0,0x0,0xffff80,0x7f800,0xfe0003,0xffff8001,0xffff01ff,
<a name="l02379"></a>02379       0xff0003ff,0xffe01fff,0xff001fff,0xf01e0007,0x803ffff0,0xfff80,0x3c003f00,0x7800001f,0xc007f07f,0x1e003f,0xff8007ff,0xff000fff,
<a name="l02380"></a>02380       0xe007ffff,0x7fffc,0x7fffffe,0xf0003c0,0xf0000f1e,0xf07,0x8003c1f0,0x3e01ff,0xfff8003f,0xf001e000,0x7fe0,0x7f80,0x0,0xe0000,
<a name="l02381"></a>02381       0x1,0xe0000000,0x0,0x780000,0x1f,0xfe000000,0x78000,0x3c00,0xf000,0x7800003,0xffe00000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,
<a name="l02382"></a>02382       0x0,0x0,0x0,0x0,0xf,0xfc0000f0,0x3ff00,0x0,0x0,0x3fff80,0x0,0x0,0xffe000,0x0,0x0,0x0,0x78f0,0x0,0xffff80,0x0,0x3fffff80,0x1f,
<a name="l02383"></a>02383       0xffff8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0xc7f80070,0x3e1f0007,0x70000000,0x0,0x0,0x7700,0x7c000f8,0x0,0x780000,0x180000,
<a name="l02384"></a>02384       0x3fff8000,0x1f00,0x3e0003c,0x1f03,0xc001f0f8,0x0,0x703f00,0x0,0x0,0x0,0x3f,0xff0000f0,0xf8000000,0x303e,0xc0f8,0x7800,0x0,
<a name="l02385"></a>02385       0xffffc00,0x0,0x7,0x3800003e,0x3e000000,0x1c00,0xe000,0x3c00,0xf000,0x1fc000,0xfe0000,0x7f00000,0x3f800001,0xfc00000f,0xe00001ff,
<a name="l02386"></a>02386       0xffc01fff,0xf007ffff,0xc03ffffe,0x1fffff0,0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01fff,0xf000fe00,0x3c007fff,0x3fff8,
<a name="l02387"></a>02387       0x1fffc0,0xfffe00,0x7fff000,0x1,0xffffc0f0,0x3c0780,0x1e03c00,0xf01e000,0x781f0003,0xe01e0000,0x3fff80,0xe0000,0x3c0000,0x1e3c0003,
<a name="l02388"></a>02388       0x8ff0001f,0xf80003c,0x78000000,0x0,0xe00,0x3c00,0x1e3c00,0x3e1f000,0xe00000,0x3c00001,0xe3c0003e,0x1f00007f,0xf8000e3f,0xc0000380,
<a name="l02389"></a>02389       0xf00,0x78f00,0xe3fc00,0x7c3e000,0x0,0x0,0x70000001,0xe00000f1,0xe0001f0f,0x800003c0,0x1e0000,0x3e1f00,0x0,0x0,0x0,0x0,0x0,
<a name="l02390"></a>02390       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,0x3c0f0000,
<a name="l02391"></a>02391       0x30000ffe,0xf80,0xc00001e0,0x3c0,0x1e000,0x101c040,0x0,0x0,0x0,0x0,0x78003f0,0x7e001ffe,0x3f807,0xe01f00fe,0x3f80,0x3ffff80,
<a name="l02392"></a>02392       0x7e01803,0xfffff007,0xe03f003f,0x3f00000,0x0,0x0,0x0,0x0,0xfc0fc0,0x3ffe00,0xfe0003,0xffffc003,0xf81f01ff,0xff8003ff,0xffe01fff,
<a name="l02393"></a>02393       0xff003f01,0xf01e0007,0x803ffff0,0xfff80,0x3c007e00,0x7800001f,0xc007f07f,0x1e007e,0xfc007ff,0xff801f83,0xf007ffff,0x800fc07c,
<a name="l02394"></a>02394       0x7fffffe,0xf0003c0,0xf0000f0f,0x1e07,0xc007c0f8,0x7c01ff,0xfff8003c,0xf000,0x1e0,0xffc0,0x0,0xf0000,0x1,0xe0000000,0x0,0x780000,
<a name="l02395"></a>02395       0x3e,0x0,0x78000,0x3c00,0xf000,0x7800000,0x1e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,0x0,0x0,0x0,0x0,0x1f,0x800000f0,0x1f80,
<a name="l02396"></a>02396       0x0,0x0,0x7e0780,0x0,0x0,0x1f82000,0x0,0x0,0x0,0x7070,0x0,0x1f80f80,0x0,0x7fffff80,0x1f,0xffff8000,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02397"></a>02397       0x0,0x1,0xc3f80070,0x3f3f0007,0xf0000000,0x0,0x0,0x7f00,0x3e001f0,0x0,0x780000,0x180000,0x7f018000,0xf80,0x7c0003c,0x3e00,
<a name="l02398"></a>02398       0x4001f0f8,0xfe00,0x400f00,0x0,0x0,0x0,0x7f000000,0xe0,0x38000000,0x1e,0x38,0x7800,0x0,0x1ffe1c00,0x0,0x0,0x38000078,0xf000000,
<a name="l02399"></a>02399       0x1c00,0xe000,0x7f800,0xf000,0x1fc000,0xfe0000,0x7f00000,0x3f800001,0xfc00001f,0xf00001ff,0xffc03f81,0xf007ffff,0xc03ffffe,
<a name="l02400"></a>02400       0x1fffff0,0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01fff,0xf800fe00,0x3c00fc1f,0x8007e0fc,0x3f07e0,0x1f83f00,0xfc1f800,
<a name="l02401"></a>02401       0x3,0xf07fc0f0,0x3c0780,0x1e03c00,0xf01e000,0x780f8007,0xc01e0000,0x7e0fc0,0xf0000,0x3c0000,0x1c1c0003,0x87f0001f,0xf80003f,
<a name="l02402"></a>02402       0xf8000000,0x0,0xf00,0x3c00,0x1c1c00,0x3e1f000,0xf00000,0x3c00001,0xc1c0003e,0x1f00003f,0xc0000e1f,0xc00003c0,0xf00,0x70700,
<a name="l02403"></a>02403       0xe1fc00,0x7c3e000,0x0,0x0,0x78000001,0xe00000e0,0xe0001f0f,0x800003c0,0x1e0000,0x3e1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02404"></a>02404       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,0x3c0f0001,0xff801e0f,
<a name="l02405"></a>02405       0x1f00,0x1e0,0x3c0,0x1e000,0x3c1c1e0,0x0,0x0,0x0,0x0,0x78007c0,0x1f001f9e,0x3c001,0xf010003e,0x7780,0x3c00000,0xf800000,0xf007,
<a name="l02406"></a>02406       0xc01f007c,0x1f80000,0x0,0x0,0x0,0x0,0xe003e0,0x7fff00,0x1ef0003,0xc007e007,0xc00301e0,0x1fc003c0,0x1e00,0x7c00,0x301e0007,
<a name="l02407"></a>02407       0x80007800,0x780,0x3c00fc00,0x7800001f,0xe00ff07f,0x1e00f8,0x3e00780,0x1fc03e00,0xf807801f,0xc01f001c,0xf000,0xf0003c0,0xf0000f0f,
<a name="l02408"></a>02408       0x1e03,0xc00f8078,0x780000,0xf0003c,0xf000,0x1e0,0x1f3e0,0x0,0x78000,0x1,0xe0000000,0x0,0x780000,0x3c,0x0,0x78000,0x0,0x0,
<a name="l02409"></a>02409       0x7800000,0x1e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,0x0,0x0,0x0,0x0,0x1f,0xf0,0xf80,0x0,0x0,0xf80180,0x0,0x0,0x1e00000,
<a name="l02410"></a>02410       0x0,0x0,0x0,0xe038,0x0,0x3e00380,0x0,0xfe0f0000,0x0,0xf0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0xc0f00070,0x3b370003,0xe0000000,
<a name="l02411"></a>02411       0x0,0x0,0x3e00,0x1e001e0,0x0,0x780000,0x180000,0x7c000000,0x780,0x780003c,0x3c00,0x0,0x7ffc0,0x780,0x0,0x0,0x3,0xffe00000,
<a name="l02412"></a>02412       0x1c0,0x3c000000,0xe,0x38,0xf000,0x0,0x3ffe1c00,0x0,0x0,0x38000078,0xf000000,0x1c00,0xe000,0x7f000,0xf000,0x3de000,0x1ef0000,
<a name="l02413"></a>02413       0xf780000,0x7bc00003,0xde00001e,0xf00003e7,0x80007c00,0x30078000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,
<a name="l02414"></a>02414       0xe0001e03,0xfc00fe00,0x3c01f007,0xc00f803e,0x7c01f0,0x3e00f80,0x1f007c00,0x7,0xc01f80f0,0x3c0780,0x1e03c00,0xf01e000,0x78078007,
<a name="l02415"></a>02415       0x801e0000,0x7803c0,0x78000,0x780000,0x380e0003,0x81e00000,0x1f,0xf0000000,0x0,0x780,0x7800,0x380e00,0x0,0x780000,0x7800003,
<a name="l02416"></a>02416       0x80e00000,0x1ff,0x80000e07,0x800001e0,0x1e00,0xe0380,0xe07800,0x0,0x0,0x0,0x3c000003,0xc00001c0,0x70000000,0x780,0x1e0000,
<a name="l02417"></a>02417       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02418"></a>02418       0x780000,0x3c1e0000,0x3c0e0007,0xfff01c07,0x1e00,0x1e0,0x780,0xf000,0x3e1c3e0,0x0,0x0,0x0,0x0,0xf0007c0,0x1f00181e,0x20000,
<a name="l02419"></a>02419       0xf000001f,0xf780,0x3c00000,0x1f000000,0x1f00f,0x800f8078,0xf80000,0x0,0x0,0x0,0x0,0x8003e0,0x1fc0f80,0x1ef0003,0xc001e007,
<a name="l02420"></a>02420       0x800101e0,0x7e003c0,0x1e00,0x7800,0x101e0007,0x80007800,0x780,0x3c00f800,0x7800001e,0xe00ef07f,0x801e00f0,0x1e00780,0x7c03c00,
<a name="l02421"></a>02421       0x78078007,0xc01e0004,0xf000,0xf0003c0,0x78001e0f,0x1e03,0xe00f807c,0xf80000,0x1f0003c,0x7800,0x1e0,0x3e1f0,0x0,0x3c000,0x1,
<a name="l02422"></a>02422       0xe0000000,0x0,0x780000,0x3c,0x0,0x78000,0x0,0x0,0x7800000,0x1e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,0x0,0x0,0x0,0x0,
<a name="l02423"></a>02423       0x1e,0xf0,0x780,0x0,0x0,0x1f00080,0x0,0x0,0x3c00000,0x0,0x0,0x0,0x1e03c,0x0,0x3c00080,0x0,0xf80f0000,0x0,0x1f0000,0x0,0x0,
<a name="l02424"></a>02424       0x0,0x0,0x0,0x0,0x0,0x0,0x70,0x3bf70003,0xe0000000,0x0,0x0,0x3e00,0x1f003e0,0x0,0x780000,0x180000,0x78000000,0x7c0,0xf80003c,
<a name="l02425"></a>02425       0x3c00,0x0,0x1f01f0,0x780,0x0,0x0,0xf,0x80f80000,0x1c0,0x1c000000,0xe,0x38,0x1e000,0x0,0x7ffe1c00,0x0,0x0,0x380000f0,0x7800000,
<a name="l02426"></a>02426       0x1c00,0xe000,0x7fc00,0xf000,0x3de000,0x1ef0000,0xf780000,0x7bc00003,0xde00001e,0xf00003c7,0x80007800,0x10078000,0x3c0000,
<a name="l02427"></a>02427       0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x7e00ff00,0x3c01e003,0xc00f001e,0x7800f0,0x3c00780,0x1e003c00,
<a name="l02428"></a>02428       0x7,0x800f00f0,0x3c0780,0x1e03c00,0xf01e000,0x7807c00f,0x801e0000,0xf803c0,0x3c000,0xf00000,0x780f0000,0x0,0x7,0xc0000000,
<a name="l02429"></a>02429       0x0,0x3c0,0xf000,0x780f00,0x0,0x3c0000,0xf000007,0x80f00000,0x7ff,0xc0000000,0xf0,0x3c00,0x1e03c0,0x0,0x0,0x0,0x0,0x1e000007,
<a name="l02430"></a>02430       0x800003c0,0x78000000,0xf00,0x1e0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02431"></a>02431       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,0x3c1e001f,0xfff03803,0x80001e00,0x1e0,0x780,0xf000,0xf9cf80,
<a name="l02432"></a>02432       0x0,0x0,0x0,0x0,0xf000780,0xf00001e,0x0,0xf800000f,0xe780,0x3c00000,0x1e000000,0x1e00f,0x78078,0x7c0000,0x0,0x0,0x0,0x0,0x1e0,
<a name="l02433"></a>02433       0x3f003c0,0x1ef0003,0xc000f00f,0x800001e0,0x1f003c0,0x1e00,0xf000,0x1e0007,0x80007800,0x780,0x3c01f000,0x7800001e,0xe00ef07f,
<a name="l02434"></a>02434       0x801e01f0,0x1e00780,0x3c07c00,0x78078003,0xc03e0000,0xf000,0xf0003c0,0x78001e0f,0x1e01,0xf01f003c,0xf00000,0x3e0003c,0x7800,
<a name="l02435"></a>02435       0x1e0,0x7c0f8,0x0,0x0,0x1,0xe0000000,0x0,0x780000,0x3c,0x0,0x78000,0x0,0x0,0x7800000,0x1e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,
<a name="l02436"></a>02436       0x0,0x0,0x0,0x0,0x0,0x1e,0xf0,0x780,0x0,0x0,0x1e00000,0x0,0x0,0x3c00000,0x0,0x8,0x40,0x0,0x7e0000,0x7c00000,0x1,0xf00f0000,
<a name="l02437"></a>02437       0x0,0x3e0000,0x0,0x3f,0xfc0,0xfc3f0,0xfc3f0,0x0,0x0,0x0,0x70,0x39e70000,0x0,0x0,0x0,0x0,0xf003c0,0x0,0x0,0x180000,0xf8000000,
<a name="l02438"></a>02438       0x3c0,0xf00003c,0x3c00,0x0,0x3c0078,0x7ff80,0x0,0x0,0x1e,0x3c0000,0x1c0,0x1c000000,0xe,0xf0,0x0,0x0,0x7ffe1c00,0x0,0x0,0x380000f0,
<a name="l02439"></a>02439       0x7800000,0x1c00,0xe000,0x3c00,0x0,0x3de000,0x1ef0000,0xf780000,0x7bc00003,0xde00001e,0xf00003c7,0x8000f800,0x78000,0x3c0000,
<a name="l02440"></a>02440       0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x1f00ff00,0x3c03e003,0xc01f001e,0xf800f0,0x7c00780,0x3e003c00,
<a name="l02441"></a>02441       0xf,0x800f80f0,0x3c0780,0x1e03c00,0xf01e000,0x7803c00f,0x1fffc0,0xf001e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02442"></a>02442       0x0,0x0,0x307,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02443"></a>02443       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,0x781e003f,0xfff03803,
<a name="l02444"></a>02444       0x80001e00,0x1e0,0xf80,0xf000,0x3dde00,0x0,0x0,0x0,0x0,0xf000f00,0x780001e,0x0,0x7800000f,0x1e780,0x3c00000,0x3e000000,0x3e00f,
<a name="l02445"></a>02445       0x780f0,0x7c0000,0x0,0x0,0x0,0x0,0x1e0,0x7c001e0,0x3ef8003,0xc000f00f,0x1e0,0xf003c0,0x1e00,0xf000,0x1e0007,0x80007800,0x780,
<a name="l02446"></a>02446       0x3c03e000,0x7800001e,0xf01ef07b,0xc01e01e0,0xf00780,0x3e07800,0x3c078003,0xe03c0000,0xf000,0xf0003c0,0x78001e0f,0x1e00,0xf01e003e,
<a name="l02447"></a>02447       0x1f00000,0x3c0003c,0x7800,0x1e0,0x78078,0x0,0x0,0x1,0xe0000000,0x0,0x780000,0x3c,0x0,0x78000,0x0,0x0,0x7800000,0x1e00000,
<a name="l02448"></a>02448       0x0,0x0,0x0,0x0,0x0,0x0,0x3c000,0x0,0x0,0x0,0x0,0x0,0x1e,0xf0,0x780,0x0,0x0,0x1e00000,0x0,0x0,0x3c00000,0x0,0x18,0xc0,0x0,
<a name="l02449"></a>02449       0xe70000,0x7800000,0x1,0xe00f0000,0x0,0x3c0000,0x0,0x3f,0xfc0,0xfc1f0,0x1f83f0,0x0,0x0,0x0,0x70,0x39e70000,0x0,0x0,0x0,0x0,
<a name="l02450"></a>02450       0xf807c0,0x0,0x0,0x180000,0xf0000000,0x3e0,0x1f00003c,0x3e00,0x0,0x70001c,0x3fff80,0x0,0x0,0x38,0xe0000,0x1c0,0x1c000078,
<a name="l02451"></a>02451       0x1c,0x1fe0,0x0,0x0,0xfffe1c00,0x0,0x0,0x380000f0,0x7800000,0x1c00,0xe000,0xe00,0x0,0x7df000,0x3ef8000,0x1f7c0000,0xfbe00007,
<a name="l02452"></a>02452       0xdf00003c,0x780003c7,0x8000f000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0xf00f780,
<a name="l02453"></a>02453       0x3c03c001,0xe01e000f,0xf00078,0x78003c0,0x3c001e00,0xf,0xf80f0,0x3c0780,0x1e03c00,0xf01e000,0x7803e01f,0x1ffff8,0xf001e0,
<a name="l02454"></a>02454       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0xc000,0x0,0x0,0x0,0x0,0x1e0000,
<a name="l02455"></a>02455       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02456"></a>02456       0x780000,0x3c1e0000,0x781e003e,0x30703803,0x80001e00,0x1e0,0xf00,0x7800,0xff800,0x1e0000,0x0,0x0,0x0,0x1e000f00,0x780001e,
<a name="l02457"></a>02457       0x0,0x7800000f,0x3c780,0x3c00000,0x3c000000,0x3c00f,0x780f0,0x3c0000,0x0,0x0,0x2000000,0x800000,0x1e0,0x78000e0,0x3c78003,
<a name="l02458"></a>02458       0xc000f01e,0x1e0,0xf803c0,0x1e00,0x1e000,0x1e0007,0x80007800,0x780,0x3c07c000,0x7800001e,0x701cf07b,0xc01e01e0,0xf00780,0x1e07800,
<a name="l02459"></a>02459       0x3c078001,0xe03c0000,0xf000,0xf0003c0,0x7c003e0f,0x1e00,0xf83e001e,0x1e00000,0x7c0003c,0x3c00,0x1e0,0xf807c,0x0,0x0,0x1fe0001,
<a name="l02460"></a>02460       0xe1fc0000,0x7f00003,0xf8780007,0xf000003c,0x7f0,0x783f0,0x0,0x0,0x7800000,0x1e00000,0x3e0f8000,0xfc00007,0xf8000007,0xf00001fc,
<a name="l02461"></a>02461       0xf,0xc0003fc0,0x3c000,0x0,0x0,0x0,0x0,0x0,0x1e,0xf0,0x780,0x0,0x0,0x3c00000,0x0,0x0,0x3c00000,0x0,0x18,0xc0,0x0,0x1818000,
<a name="l02462"></a>02462       0x7800000,0x1,0xe00f0000,0x0,0x7c0000,0x0,0x1f,0x80001f80,0x7c1f8,0x1f83e0,0x0,0x0,0x0,0x70,0x38c70007,0xf8000000,0x7f03,
<a name="l02463"></a>02463       0xf0000000,0x0,0x780780,0x0,0x0,0xfe0000,0xf0000000,0x1e0,0x1e00003c,0x3f00,0x0,0xe07f0e,0x7fff80,0x0,0x0,0x70,0x70000,0x1c0,
<a name="l02464"></a>02464       0x1c000078,0x3c,0x1fc0,0x0,0x0,0xfffe1c00,0x0,0x0,0x380000f0,0x7800000,0x1c00,0xe000,0xe00,0x0,0x78f000,0x3c78000,0x1e3c0000,
<a name="l02465"></a>02465       0xf1e00007,0x8f00003c,0x78000787,0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,
<a name="l02466"></a>02466       0xf80f780,0x3c03c001,0xe01e000f,0xf00078,0x78003c0,0x3c001e00,0xf,0x1f80f0,0x3c0780,0x1e03c00,0xf01e000,0x7801e01e,0x1ffffc,
<a name="l02467"></a>02467       0xf007e0,0x3fc000,0x1fe0000,0xff00000,0x7f800003,0xfc00001f,0xe0000fc0,0xfc00007f,0xfe0,0x7f00,0x3f800,0x1fc000,0x0,0x0,0x0,
<a name="l02468"></a>02468       0x1,0xf000001f,0x80000ff0,0x7f80,0x3fc00,0x1fe000,0xff0000,0x1f80000,0x1fc1e000,0x0,0x0,0x0,0x0,0x1e1fc0,0x0,0x0,0x0,0x0,
<a name="l02469"></a>02469       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e0000,
<a name="l02470"></a>02470       0x781c007c,0x30003803,0x80001f00,0x1e0,0xf00,0x7800,0x7f000,0x1e0000,0x0,0x0,0x0,0x1e000f00,0x780001e,0x0,0x7800000f,0x3c780,
<a name="l02471"></a>02471       0x3c00000,0x3c000000,0x3c00f,0x780f0,0x3c0000,0x0,0x0,0x1e000000,0xf00000,0x3e0,0xf0000e0,0x3c78003,0xc000f01e,0x1e0,0x7803c0,
<a name="l02472"></a>02472       0x1e00,0x1e000,0x1e0007,0x80007800,0x780,0x3c0f8000,0x7800001e,0x701cf079,0xe01e01e0,0xf00780,0x1e07800,0x3c078001,0xe03c0000,
<a name="l02473"></a>02473       0xf000,0xf0003c0,0x3c003c0f,0x3e00,0x787c001f,0x3e00000,0xf80003c,0x3c00,0x1e0,0x1f003e,0x0,0x0,0x1fffc001,0xe7ff0000,0x3ffe000f,
<a name="l02474"></a>02474       0xfe78003f,0xfc001fff,0xfe001ffc,0xf0078ffc,0x1ffc00,0x7ff000,0x7800f80,0x1e0000f,0x7f1fc01e,0x3ff0001f,0xfe00079f,0xfc0007ff,
<a name="l02475"></a>02475       0x3c003c7f,0xf001fff8,0x1fffff0,0x3c003c0,0xf0000f1e,0xf1f,0x7c1f0,0x1f00ff,0xffe0001e,0xf0,0x780,0x0,0x0,0x3c00000,0x100000,
<a name="l02476"></a>02476       0x0,0x7800000,0x0,0x18,0xc0,0x0,0x1818000,0x7800000,0x1,0xe00f0000,0x1000000,0xf80000,0x40000002,0xf,0x80001f00,0x7e0f8,0x1f07c0,
<a name="l02477"></a>02477       0x0,0x0,0x0,0x70,0x38c7003f,0xff000000,0xff8f,0xf8000100,0xffffe,0x7c0f80,0x0,0x0,0x3ffc000,0xf0000020,0x1001f0,0x3c00003c,
<a name="l02478"></a>02478       0x1f80,0x0,0x1c3ffc7,0x7c0780,0x0,0x0,0xe3,0xff038000,0xe0,0x38000078,0x78,0x1ff0,0x0,0x3c003c0,0xfffe1c00,0x0,0x0,0x380000f0,
<a name="l02479"></a>02479       0x7800000,0x1c00,0xe000,0xe00,0xf000,0x78f000,0x3c78000,0x1e3c0000,0xf1e00007,0x8f00003c,0x78000787,0x8001e000,0x78000,0x3c0000,
<a name="l02480"></a>02480       0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x780f3c0,0x3c03c001,0xe01e000f,0xf00078,0x78003c0,0x3c001e00,
<a name="l02481"></a>02481       0x4000200f,0x3f80f0,0x3c0780,0x1e03c00,0xf01e000,0x7801f03e,0x1ffffe,0xf01fe0,0x3fff800,0x1fffc000,0xfffe0007,0xfff0003f,
<a name="l02482"></a>02482       0xff8001ff,0xfc003ff3,0xfe0003ff,0xe0007ff8,0x3ffc0,0x1ffe00,0xfff000,0x3ff80001,0xffc0000f,0xfe00007f,0xf000003f,0xf8003c7f,
<a name="l02483"></a>02483       0xe0003ffc,0x1ffe0,0xfff00,0x7ff800,0x3ffc000,0x1f80000,0xfff1c03c,0x3c01e0,0x1e00f00,0xf007800,0x781f0001,0xf01e7ff0,0x7c0007c,
<a name="l02484"></a>02484       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,
<a name="l02485"></a>02485       0x3c1e003f,0xfffff078,0x30003803,0x80000f00,0x1e0,0x1f00,0x7800,0x7f000,0x1e0000,0x0,0x0,0x0,0x3c000f00,0x780001e,0x0,0x7800000f,
<a name="l02486"></a>02486       0x78780,0x3c00000,0x3c000000,0x7c00f,0x780f0,0x3c0007,0xe000003f,0x0,0xfe000000,0xfe0000,0x3c0,0x1f000070,0x7c7c003,0xc000f01e,
<a name="l02487"></a>02487       0x1e0,0x7803c0,0x1e00,0x1e000,0x1e0007,0x80007800,0x780,0x3c1f0000,0x7800001e,0x783cf079,0xe01e03c0,0xf00780,0x1e0f000,0x3c078001,
<a name="l02488"></a>02488       0xe03c0000,0xf000,0xf0003c0,0x3c003c07,0x81f03c00,0x7c7c000f,0x87c00000,0xf00003c,0x1e00,0x1e0,0x3e001f,0x0,0x0,0x3fffe001,
<a name="l02489"></a>02489       0xefff8000,0x7fff001f,0xff78007f,0xfe001fff,0xfe003ffe,0xf0079ffe,0x1ffc00,0x7ff000,0x7801f00,0x1e0000f,0xffbfe01e,0x7ff8003f,
<a name="l02490"></a>02490       0xff0007bf,0xfe000fff,0xbc003cff,0xf803fffc,0x1fffff0,0x3c003c0,0x78001e1e,0xf0f,0x800f80f0,0x1e00ff,0xffe0001e,0xf0,0x780,
<a name="l02491"></a>02491       0x0,0x0,0x3c00000,0x380000,0x0,0x7800000,0x0,0x18,0xc0,0x0,0x1008000,0x7800000,0x3,0xe00f0000,0x3800000,0xf00000,0xe0000007,
<a name="l02492"></a>02492       0xf,0x80001f00,0x3e0f8,0x1e07c0,0x0,0x0,0x0,0x70,0x3807007f,0xff800000,0x1ffdf,0xfc000380,0xffffe,0x3e1f00,0x0,0x0,0xfffe000,
<a name="l02493"></a>02493       0xf0000030,0x3800f8,0x7c00003c,0xfc0,0x0,0x18780c3,0xf00780,0x80100,0x0,0xc3,0xffc18000,0xf0,0x78000078,0xf0,0xf0,0x0,0x3c003c0,
<a name="l02494"></a>02494       0xfffe1c00,0x0,0x0,0x380000f0,0x7800801,0x1c00,0xe000,0x1e00,0xf000,0xf8f800,0x7c7c000,0x3e3e0001,0xf1f0000f,0x8f80007c,0x7c000787,
<a name="l02495"></a>02495       0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x780f3c0,0x3c078001,0xe03c000f,
<a name="l02496"></a>02496       0x1e00078,0xf0003c0,0x78001e00,0xe000701f,0x3fc0f0,0x3c0780,0x1e03c00,0xf01e000,0x7800f87c,0x1e007f,0xf07e00,0x7fffc00,0x3fffe001,
<a name="l02497"></a>02497       0xffff000f,0xfff8007f,0xffc003ff,0xfe007ff7,0xff0007ff,0xf000fffc,0x7ffe0,0x3fff00,0x1fff800,0x3ff80001,0xffc0000f,0xfe00007f,
<a name="l02498"></a>02498       0xf00000ff,0xf8003cff,0xf0007ffe,0x3fff0,0x1fff80,0xfffc00,0x7ffe000,0x1f80001,0xfffb803c,0x3c01e0,0x1e00f00,0xf007800,0x780f0001,
<a name="l02499"></a>02499       0xe01efff8,0x3c00078,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02500"></a>02500       0x0,0x0,0x0,0x0,0x0,0x780000,0x3c1e003f,0xfffff078,0x30001c07,0xf80,0x1e0,0x1e00,0x3c00,0xff800,0x1e0000,0x0,0x0,0x0,0x3c001e00,
<a name="l02501"></a>02501       0x3c0001e,0x0,0x7800001e,0x70780,0x3c00000,0x78000000,0x78007,0x800f00f0,0x3e0007,0xe000003f,0x3,0xfe000000,0xff8000,0x7c0,
<a name="l02502"></a>02502       0x1e000070,0x783c003,0xc001f01e,0x1e0,0x7803c0,0x1e00,0x1e000,0x1e0007,0x80007800,0x780,0x3c3e0000,0x7800001e,0x3838f079,
<a name="l02503"></a>02503       0xe01e03c0,0x780780,0x1e0f000,0x1e078001,0xe03c0000,0xf000,0xf0003c0,0x3c007c07,0x81f03c00,0x3ef80007,0x87800000,0x1f00003c,
<a name="l02504"></a>02504       0x1e00,0x1e0,0x7c000f,0x80000000,0x0,0x3ffff001,0xffffc000,0xffff003f,0xff7800ff,0xff001fff,0xfe007ffe,0xf007bffe,0x1ffc00,
<a name="l02505"></a>02505       0x7ff000,0x7803e00,0x1e0000f,0xffffe01e,0xfff8007f,0xff8007ff,0xff001fff,0xbc003dff,0xf807fffc,0x1fffff0,0x3c003c0,0x78001e0f,
<a name="l02506"></a>02506       0x1e07,0xc01f00f0,0x1e00ff,0xffe0001e,0xf0,0x780,0x0,0x0,0x7c00000,0x7c0000,0x0,0x7800000,0x0,0x18,0xc0,0x0,0x1018000,0x7800000,
<a name="l02507"></a>02507       0x3,0xc00f0000,0x7c00000,0x1f00001,0xf000000f,0x80000007,0xc0003e00,0x1e07c,0x3e0780,0x0,0x0,0x0,0x70,0x380700ff,0xff800000,
<a name="l02508"></a>02508       0x3ffff,0xfe0007c0,0xffffe,0x1e1e00,0x0,0x780000,0x1fffe000,0xf0000078,0x7c0078,0x7800003c,0xff0,0x0,0x38e0003,0x80f00780,
<a name="l02509"></a>02509       0x180300,0x0,0x1c3,0x81e1c000,0x7f,0xf0000078,0x1e0,0x38,0x0,0x3c003c0,0xfffe1c00,0x0,0x0,0x380000f0,0x7800c01,0x80001c00,
<a name="l02510"></a>02510       0xe000,0x603e00,0xf000,0xf07800,0x783c000,0x3c1e0001,0xe0f0000f,0x7800078,0x3c000f87,0x8001e000,0x78000,0x3c0000,0x1e00000,
<a name="l02511"></a>02511       0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x780f3c0,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f01,0xf000f81e,
<a name="l02512"></a>02512       0x7bc0f0,0x3c0780,0x1e03c00,0xf01e000,0x78007878,0x1e001f,0xf0f800,0x7fffe00,0x3ffff001,0xffff800f,0xfffc007f,0xffe003ff,
<a name="l02513"></a>02513       0xff007fff,0xff800fff,0xf001fffe,0xffff0,0x7fff80,0x3fffc00,0x3ff80001,0xffc0000f,0xfe00007f,0xf00001ff,0xfc003dff,0xf000ffff,
<a name="l02514"></a>02514       0x7fff8,0x3fffc0,0x1fffe00,0xffff000,0x1f80003,0xffff803c,0x3c01e0,0x1e00f00,0xf007800,0x780f0001,0xe01ffffc,0x3c00078,0x0,
<a name="l02515"></a>02515       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,
<a name="l02516"></a>02516       0x3c1e003f,0xfffff078,0x30001e0f,0x300780,0x1e0,0x1e00,0x3c00,0x3dde00,0x1e0000,0x0,0x0,0x0,0x78001e00,0x3c0001e,0x0,0xf800003e,
<a name="l02517"></a>02517       0xf0780,0x3dfc000,0x783f8000,0xf8007,0xc01f00f0,0x3e0007,0xe000003f,0x1f,0xfc000000,0x7ff000,0xf80,0x3e007c70,0x783c003,0xc001e03c,
<a name="l02518"></a>02518       0x1e0,0x3c03c0,0x1e00,0x3c000,0x1e0007,0x80007800,0x780,0x3c7c0000,0x7800001e,0x3878f078,0xf01e03c0,0x780780,0x1e0f000,0x1e078001,
<a name="l02519"></a>02519       0xe03e0000,0xf000,0xf0003c0,0x1e007807,0x83f03c00,0x3ef00007,0xcf800000,0x3e00003c,0xf00,0x1e0,0xf80007,0xc0000000,0x0,0x3e01f801,
<a name="l02520"></a>02520       0xfe07e001,0xf80f007e,0x7f801f8,0x1f801fff,0xfe00fc0f,0xf007f83f,0x1ffc00,0x7ff000,0x7807c00,0x1e0000f,0x87e1e01f,0xe0fc00fc,
<a name="l02521"></a>02521       0xfc007f8,0x1f803f03,0xfc003df0,0x3807e03c,0x1fffff0,0x3c003c0,0x78003e0f,0x1e03,0xe03e00f8,0x3e00ff,0xffe0001e,0xf0,0x780,
<a name="l02522"></a>02522       0x0,0x0,0x7800000,0xfe0000,0x0,0x7800000,0x0,0x18,0xc0,0x0,0x1818000,0x7c00000,0x3,0xc00f0000,0xfe00000,0x3e00003,0xf800001f,
<a name="l02523"></a>02523       0xc0000007,0xc0003e00,0x1e03c,0x3c0f80,0x0,0x0,0x0,0x70,0x380700fc,0x7800000,0x7c1fe,0x3e000fe0,0xffffe,0x1f3e00,0x0,0x780000,
<a name="l02524"></a>02524       0x3f98e000,0xf000003c,0xfcf8007c,0xf800003c,0x3ffc,0x0,0x31c0001,0x80f00f80,0x380700,0x0,0x183,0x80e0c000,0x3f,0xe0000078,
<a name="l02525"></a>02525       0x3c0,0x38,0x0,0x3c003c0,0xfffe1c00,0x0,0x0,0x38000078,0xf000e01,0xc003ffe0,0x1fff00,0x7ffc00,0xf000,0xf07800,0x783c000,0x3c1e0001,
<a name="l02526"></a>02526       0xe0f0000f,0x7800078,0x3c000f07,0x8003c000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,
<a name="l02527"></a>02527       0x3c0f1e0,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0xf801f01e,0xf3c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78007cf8,
<a name="l02528"></a>02528       0x1e000f,0x80f0f000,0x7c03f00,0x3e01f801,0xf00fc00f,0x807e007c,0x3f003e0,0x1f80707f,0x8f801f80,0xf003f03f,0x1f81f8,0xfc0fc0,
<a name="l02529"></a>02529       0x7e07e00,0x3ff80001,0xffc0000f,0xfe00007f,0xf00003ff,0xfc003fc1,0xf801f81f,0x800fc0fc,0x7e07e0,0x3f03f00,0x1f81f800,0x1f80007,
<a name="l02530"></a>02530       0xe07f003c,0x3c01e0,0x1e00f00,0xf007800,0x780f8003,0xe01fe07e,0x3e000f8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02531"></a>02531       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3f,0xfffff078,0x30000ffe,0x1f007c0,0x0,0x1e00,
<a name="l02532"></a>02532       0x3c00,0xf9cf80,0x1e0000,0x0,0x0,0x0,0x78001e00,0x3c0001e,0x0,0xf00000fc,0x1e0780,0x3fff800,0x78ffe000,0xf0003,0xe03e00f0,
<a name="l02533"></a>02533       0x3e0007,0xe000003f,0x7f,0xe01fffff,0xf00ffc00,0x1f80,0x3c01ff70,0x783c003,0xc007e03c,0x1e0,0x3c03c0,0x1e00,0x3c000,0x1e0007,
<a name="l02534"></a>02534       0x80007800,0x780,0x3cfc0000,0x7800001e,0x3c78f078,0xf01e03c0,0x780780,0x3e0f000,0x1e078003,0xc01f0000,0xf000,0xf0003c0,0x1e007807,
<a name="l02535"></a>02535       0x83f83c00,0x1ff00003,0xcf000000,0x3e00003c,0xf00,0x1e0,0x0,0x0,0x0,0x20007801,0xfc03e003,0xe003007c,0x3f803e0,0x7c0003c,
<a name="l02536"></a>02536       0xf807,0xf007e00f,0x3c00,0xf000,0x780f800,0x1e0000f,0x87e1f01f,0x803c00f8,0x7c007f0,0xf803e01,0xfc003f80,0x80f8004,0x3c000,
<a name="l02537"></a>02537       0x3c003c0,0x3c003c0f,0x1e03,0xe03e0078,0x3c0000,0x7c0001e,0xf0,0x780,0x0,0x0,0x3ffff800,0x1ff0000,0x0,0x7800000,0x0,0x18,
<a name="l02538"></a>02538       0xc0,0x0,0x1818000,0x3e00000,0x3,0xc00f0000,0x1ff00000,0x3e00007,0xfc00003f,0xe0000003,0xc0003c00,0xf03c,0x3c0f00,0x0,0x0,
<a name="l02539"></a>02539       0x0,0x70,0x380701f0,0x800000,0x780fc,0x1e001ff0,0x7c,0xf3c00,0x0,0x780000,0x7e182000,0xf000001f,0xfff00ffc,0xffc0003c,0x3cfe,
<a name="l02540"></a>02540       0x0,0x31c0001,0x80f01f80,0x780f00,0x0,0x183,0x80e0c000,0xf,0x80000078,0x780,0x38,0x0,0x3c003c0,0x7ffe1c00,0x0,0x0,0x38000078,
<a name="l02541"></a>02541       0xf000f01,0xe003ffe0,0x1fff00,0x7ff800,0xf000,0xf07800,0x783c000,0x3c1e0001,0xe0f0000f,0x78000f8,0x3e000f07,0x8003c000,0x78000,
<a name="l02542"></a>02542       0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x3c0f1e0,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,
<a name="l02543"></a>02543       0x78000f00,0x7c03e01e,0x1e3c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78003cf0,0x1e0007,0x80f1e000,0x4000f00,0x20007801,0x3c008,
<a name="l02544"></a>02544       0x1e0040,0xf00200,0x780403f,0x7803e00,0x3007c00f,0x803e007c,0x1f003e0,0xf801f00,0x780000,0x3c00000,0x1e000000,0xf00007f0,
<a name="l02545"></a>02545       0x3e003f00,0x7801f00f,0x800f807c,0x7c03e0,0x3e01f00,0x1f00f800,0x1f80007,0xc03e003c,0x3c01e0,0x1e00f00,0xf007800,0x78078003,
<a name="l02546"></a>02546       0xc01fc03e,0x1e000f0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02547"></a>02547       0x0,0x0,0x0,0x0,0x0,0x780000,0x0,0xf078007c,0x300007fc,0x7e00fe0,0x0,0x1e00,0x3c00,0x3e1c3e0,0x1e0000,0x0,0x0,0x0,0xf0001e00,
<a name="l02548"></a>02548       0x3c0001e,0x1,0xf000fff8,0x1e0780,0x3fffe00,0x79fff000,0x1f0001,0xfffc00f0,0x7e0007,0xe000003f,0x3ff,0x801fffff,0xf003ff80,
<a name="l02549"></a>02549       0x3f00,0x3c03fff0,0xf01e003,0xffffc03c,0x1e0,0x3c03ff,0xffc01fff,0xfe03c000,0x1fffff,0x80007800,0x780,0x3df80000,0x7800001e,
<a name="l02550"></a>02550       0x1c70f078,0x781e03c0,0x780780,0x3c0f000,0x1e078007,0xc01f8000,0xf000,0xf0003c0,0x1e007807,0x83f83c00,0xfe00003,0xff000000,
<a name="l02551"></a>02551       0x7c00003c,0x780,0x1e0,0x0,0x0,0x0,0x7c01,0xf801f007,0xc00100f8,0x1f803c0,0x3c0003c,0x1f003,0xf007c00f,0x80003c00,0xf000,
<a name="l02552"></a>02552       0x783f000,0x1e0000f,0x3c0f01f,0x3e01f0,0x3e007e0,0x7c07c00,0xfc003f00,0xf0000,0x3c000,0x3c003c0,0x3c003c0f,0x1e01,0xf07c007c,
<a name="l02553"></a>02553       0x7c0000,0xfc0001e,0xf0,0x780,0x0,0x0,0x3ffff000,0x3838000,0x0,0x7800000,0x0,0x18,0xc0,0x0,0xff0000,0x3f00000,0x3,0xc00fff00,
<a name="l02554"></a>02554       0x38380000,0x7c0000e,0xe000070,0x70000001,0xe0003c00,0xf01e,0x780e00,0x0,0x0,0x0,0x0,0x1e0,0x0,0x780f8,0xf003838,0xfc,0xffc00,
<a name="l02555"></a>02555       0x0,0x780000,0x7c180000,0xf000000f,0xffe00fff,0xffc0003c,0x783f,0x80000000,0x6380000,0xc0f83f80,0xf81f00,0x0,0x303,0x80e06000,
<a name="l02556"></a>02556       0x0,0x78,0xf00,0x78,0x0,0x3c003c0,0x7ffe1c00,0x0,0x0,0x3800003c,0x3e000f81,0xf003ffe0,0x1fff00,0x1fc000,0xf000,0x1e03c00,
<a name="l02557"></a>02557       0xf01e000,0x780f0003,0xc078001e,0x3c000f0,0x1e000f07,0xff83c000,0x7ffff,0x803ffffc,0x1ffffe0,0xfffff00,0xf00000,0x7800000,
<a name="l02558"></a>02558       0x3c000001,0xe0001e00,0x3c0f0f0,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x3e07c01e,0x1e3c0f0,0x3c0780,0x1e03c00,
<a name="l02559"></a>02559       0xf01e000,0x78003ff0,0x1e0007,0x80f1e000,0xf80,0x7c00,0x3e000,0x1f0000,0xf80000,0x7c0001e,0x3c07c00,0x10078007,0x803c003c,
<a name="l02560"></a>02560       0x1e001e0,0xf000f00,0x780000,0x3c00000,0x1e000000,0xf00007c0,0x1e003e00,0x7c03e007,0xc01f003e,0xf801f0,0x7c00f80,0x3e007c00,
<a name="l02561"></a>02561       0xf,0x801f003c,0x3c01e0,0x1e00f00,0xf007800,0x7807c007,0xc01f801f,0x1f001f0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02562"></a>02562       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x0,0xe078003c,0x300001f0,0x3f801ff0,0x0,
<a name="l02563"></a>02563       0x3c00,0x1e00,0x3c1c1e0,0x1e0000,0x0,0x0,0x0,0xf0001e0f,0x3c0001e,0x3,0xe000fff0,0x3c0780,0x3ffff00,0x7bfff800,0x1e0000,0x7ff00078,
<a name="l02564"></a>02564       0x7e0007,0xe000003f,0x1ffc,0x1fffff,0xf0007ff0,0x7e00,0x3c07c3f0,0xf01e003,0xffff003c,0x1e0,0x3c03ff,0xffc01fff,0xfe03c000,
<a name="l02565"></a>02565       0x1fffff,0x80007800,0x780,0x3ffc0000,0x7800001e,0x1ef0f078,0x781e03c0,0x780780,0x7c0f000,0x1e07801f,0x800ff000,0xf000,0xf0003c0,
<a name="l02566"></a>02566       0xf00f807,0x83b83c00,0xfc00001,0xfe000000,0xf800003c,0x780,0x1e0,0x0,0x0,0x0,0x3c01,0xf000f007,0xc00000f0,0xf80780,0x3c0003c,
<a name="l02567"></a>02567       0x1e001,0xf007c007,0x80003c00,0xf000,0x787e000,0x1e0000f,0x3c0f01f,0x1e01e0,0x1e007c0,0x3c07800,0x7c003f00,0xf0000,0x3c000,
<a name="l02568"></a>02568       0x3c003c0,0x3e007c07,0x80003c00,0xf8f8003c,0x780000,0xf80001e,0xf0,0x780,0x0,0x0,0x7ffff000,0x601c000,0x3,0xffff0000,0x0,
<a name="l02569"></a>02569       0xfff,0xf8007fff,0xc0000000,0x7e003c,0x1fe0000,0xc0003,0xc00fff00,0x601c0000,0xf800018,0x70000c0,0x38000001,0xe0007800,0x701e,
<a name="l02570"></a>02570       0x701e00,0x0,0x0,0x0,0x0,0x1e0,0x6,0x700f8,0xf00601c,0xf8,0x7f800,0x0,0x780000,0xf8180000,0xf000000f,0x87c00fff,0xffc0003c,
<a name="l02571"></a>02571       0xf01f,0xc0000000,0x6380000,0xc07ff780,0x1f03e03,0xfffffe00,0x303,0x81c06000,0x0,0x1ffff,0xfe001e00,0x180f8,0x0,0x3c003c0,
<a name="l02572"></a>02572       0x3ffe1c00,0x3f00000,0x0,0x3800003f,0xfe0007c0,0xf8000000,0x18000000,0xc0000006,0x1f000,0x1e03c00,0xf01e000,0x780f0003,0xc078001e,
<a name="l02573"></a>02573       0x3c000f0,0x1e001f07,0xff83c000,0x7ffff,0x803ffffc,0x1ffffe0,0xfffff00,0xf00000,0x7800000,0x3c000001,0xe000fff8,0x3c0f0f0,
<a name="l02574"></a>02574       0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x1f0f801e,0x3c3c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78001fe0,0x1e0007,
<a name="l02575"></a>02575       0x80f1e000,0x780,0x3c00,0x1e000,0xf0000,0x780000,0x3c0001e,0x3c07c00,0xf0007,0x8078003c,0x3c001e0,0x1e000f00,0x780000,0x3c00000,
<a name="l02576"></a>02576       0x1e000000,0xf0000f80,0x1f003e00,0x3c03c003,0xc01e001e,0xf000f0,0x7800780,0x3c003c00,0xf,0x3f003c,0x3c01e0,0x1e00f00,0xf007800,
<a name="l02577"></a>02577       0x7803c007,0x801f000f,0xf001e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02578"></a>02578       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1,0xe078003f,0xb0000000,0xfc003cf0,0x0,0x3c00,0x1e00,0x101c040,0x1e0000,0x0,0x0,0x1,
<a name="l02579"></a>02579       0xe0001e1f,0x83c0001e,0x7,0xe000fff0,0x3c0780,0x3c03f80,0x7fc0fc00,0x1e0000,0xfff80078,0xfe0007,0xe000003f,0x7fe0,0x1fffff,
<a name="l02580"></a>02580       0xf0000ffc,0xfc00,0x780f81f0,0xf01e003,0xffff003c,0x1e0,0x3c03ff,0xffc01fff,0xfe03c000,0x1fffff,0x80007800,0x780,0x3ffc0000,
<a name="l02581"></a>02581       0x7800001e,0x1ef0f078,0x3c1e03c0,0x780780,0x1fc0f000,0x1e07ffff,0x7ff00,0xf000,0xf0003c0,0xf00f007,0xc3b87c00,0x7c00001,0xfe000000,
<a name="l02582"></a>02582       0xf800003c,0x3c0,0x1e0,0x0,0x0,0x0,0x3c01,0xf000f007,0x800000f0,0xf80780,0x1e0003c,0x1e001,0xf0078007,0x80003c00,0xf000,0x78fc000,
<a name="l02583"></a>02583       0x1e0000f,0x3c0f01e,0x1e01e0,0x1e007c0,0x3c07800,0x7c003e00,0xf0000,0x3c000,0x3c003c0,0x1e007807,0x80003c00,0x7df0003c,0x780000,
<a name="l02584"></a>02584       0x1f00001e,0xf0,0x780,0x0,0x0,0x7800000,0xe7ce000,0x3,0xffff0000,0x0,0xfff,0xf8007fff,0xc0000000,0x1f0,0xffe000,0x1c0003,
<a name="l02585"></a>02585       0xc00fff00,0xe7ce0000,0xf800039,0xf38001cf,0x9c000000,0xe0007800,0x780e,0x701c00,0x0,0x0,0x0,0x0,0x1e0,0x7,0xf0078,0xf00e7ce,
<a name="l02586"></a>02586       0x1f0,0x7f800,0x0,0x780000,0xf0180000,0xf000000e,0x1c0001f,0xe000003c,0xf007,0xe0000000,0x6380000,0xc03fe780,0x3e07c03,0xfffffe00,
<a name="l02587"></a>02587       0x303,0xffc06000,0x0,0x1ffff,0xfe003ffe,0x1fff0,0x0,0x3c003c0,0x1ffe1c00,0x3f00000,0x7,0xffc0001f,0xfc0003e0,0x7c000001,0xfc00000f,
<a name="l02588"></a>02588       0xe000007f,0x1e000,0x1e03c00,0xf01e000,0x780f0003,0xc078001e,0x3c000f0,0x1e001e07,0xff83c000,0x7ffff,0x803ffffc,0x1ffffe0,
<a name="l02589"></a>02589       0xfffff00,0xf00000,0x7800000,0x3c000001,0xe000fff8,0x3c0f078,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0xf9f001e,
<a name="l02590"></a>02590       0x783c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78001fe0,0x1e0007,0x80f1e000,0x780,0x3c00,0x1e000,0xf0000,0x780000,0x3c0001e,0x3c07800,
<a name="l02591"></a>02591       0xf0003,0xc078001e,0x3c000f0,0x1e000780,0x780000,0x3c00000,0x1e000000,0xf0000f00,0xf003c00,0x3c03c003,0xc01e001e,0xf000f0,
<a name="l02592"></a>02592       0x7800780,0x3c003c00,0xf,0x7f003c,0x3c01e0,0x1e00f00,0xf007800,0x7803c007,0x801f000f,0xf001e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02593"></a>02593       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1,0xe070001f,0xf8000007,
<a name="l02594"></a>02594       0xf0007cf8,0x7800000,0x3c00,0x1e00,0x1c000,0x1e0000,0x0,0x0,0x1,0xe0001e1f,0x83c0001e,0xf,0xc000fff8,0x780780,0x2000f80,0x7f803e00,
<a name="l02595"></a>02595       0x3e0003,0xfffe007c,0x1fe0000,0x0,0x3ff00,0x0,0x1ff,0x8001f000,0x780f00f0,0x1f00f003,0xffffc03c,0x1e0,0x3c03ff,0xffc01fff,
<a name="l02596"></a>02596       0xfe03c00f,0xf81fffff,0x80007800,0x780,0x3ffe0000,0x7800001e,0xee0f078,0x3c1e03c0,0x7807ff,0xff80f000,0x1e07fffe,0x3ffe0,
<a name="l02597"></a>02597       0xf000,0xf0003c0,0xf00f003,0xc7bc7800,0xfc00000,0xfc000001,0xf000003c,0x3c0,0x1e0,0x0,0x0,0x0,0x3c01,0xe000f80f,0x800001e0,
<a name="l02598"></a>02598       0xf80f00,0x1e0003c,0x3c000,0xf0078007,0x80003c00,0xf000,0x79f8000,0x1e0000f,0x3c0f01e,0x1e03c0,0x1f00780,0x3e0f000,0x7c003e00,
<a name="l02599"></a>02599       0xf0000,0x3c000,0x3c003c0,0x1e007807,0x81e03c00,0x7df0003e,0xf80000,0x3e00003e,0xf0,0x7c0,0xfc000,0x80000000,0x7800000,0x1e7cf000,
<a name="l02600"></a>02600       0x3,0xffff0000,0x0,0x18,0xc0,0x0,0xf80,0x7ffc00,0x380003,0xc00fff01,0xe7cf0000,0x1f000079,0xf3c003cf,0x9e000000,0xe0007000,
<a name="l02601"></a>02601       0x380e,0xe01c00,0x0,0x0,0x0,0x0,0x1e0,0x3,0x800f0078,0xf01e7cf,0x3e0,0x3f000,0x0,0x780000,0xf018001f,0xfff8001e,0x1e0000f,
<a name="l02602"></a>02602       0xc000003c,0xf003,0xe0000000,0x6380000,0xc00fc780,0x7c0f803,0xfffffe00,0x303,0xfe006000,0x0,0x1ffff,0xfe003ffe,0x1ffe0,0x0,
<a name="l02603"></a>02603       0x3c003c0,0xffe1c00,0x3f00000,0x7,0xffc00007,0xf00001f0,0x3e00001f,0xfc0000ff,0xe00007ff,0x3e000,0x3e01e00,0x1f00f000,0xf8078007,
<a name="l02604"></a>02604       0xc03c003e,0x1e001e0,0xf001e07,0xff83c000,0x7ffff,0x803ffffc,0x1ffffe0,0xfffff00,0xf00000,0x7800000,0x3c000001,0xe000fff8,
<a name="l02605"></a>02605       0x3c0f078,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x7fe001e,0xf03c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78000fc0,
<a name="l02606"></a>02606       0x1e0007,0x80f1f000,0x780,0x3c00,0x1e000,0xf0000,0x780000,0x3c0001e,0x3c0f800,0x1e0003,0xc0f0001e,0x78000f0,0x3c000780,0x780000,
<a name="l02607"></a>02607       0x3c00000,0x1e000000,0xf0000f00,0xf003c00,0x3c078003,0xe03c001f,0x1e000f8,0xf0007c0,0x78003e00,0x1e,0xf7803c,0x3c01e0,0x1e00f00,
<a name="l02608"></a>02608       0xf007800,0x7803e00f,0x801e000f,0x80f803e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02609"></a>02609       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1,0xe0f0000f,0xff00001f,0x8000f87c,0x7800000,0x3c00,0x1e00,0x1c000,0x7fffff80,
<a name="l02610"></a>02610       0x0,0x0,0x3,0xc0001e1f,0x83c0001e,0x1f,0x800000fe,0xf00780,0x7c0,0x7f001e00,0x3c0007,0xe03f003f,0x3fe0000,0x0,0x3fc00,0x0,
<a name="l02611"></a>02611       0x7f,0x8001e000,0x781f00f0,0x1e00f003,0xc007e03c,0x1e0,0x3c03c0,0x1e00,0x3c00f,0xf81e0007,0x80007800,0x780,0x3f9f0000,0x7800001e,
<a name="l02612"></a>02612       0xfe0f078,0x3c1e03c0,0x7807ff,0xff00f000,0x1e07fff8,0xfff8,0xf000,0xf0003c0,0xf81f003,0xc7bc7800,0xfe00000,0x78000003,0xe000003c,
<a name="l02613"></a>02613       0x1e0,0x1e0,0x0,0x0,0x0,0x1fffc01,0xe000780f,0x1e0,0x780f00,0x1e0003c,0x3c000,0xf0078007,0x80003c00,0xf000,0x7bf0000,0x1e0000f,
<a name="l02614"></a>02614       0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0xf8000,0x3c000,0x3c003c0,0x1f00f807,0x81f03c00,0x3fe0001e,0xf00000,0x7c00007c,
<a name="l02615"></a>02615       0xf0,0x3e0,0x3ff801,0x80000000,0x7800000,0x3cfcf800,0x3,0xffff0000,0x0,0x18,0xc0,0x0,0x7c00,0x1fff00,0x700003,0xc00f0003,
<a name="l02616"></a>02616       0xcfcf8000,0x3e0000f3,0xf3e0079f,0x9f000000,0xf000,0x1000,0x0,0x0,0x0,0x0,0x0,0x1f0,0x1,0xc00f0078,0xf03cfcf,0x800007c0,0x1e000,
<a name="l02617"></a>02617       0x0,0x780001,0xe018001f,0xfff8001c,0xe00007,0x8000003c,0xf001,0xf0000000,0x6380000,0xc0000000,0xf81f003,0xfffffe00,0x303,
<a name="l02618"></a>02618       0x87006000,0x0,0x1ffff,0xfe003ffe,0x7f00,0x0,0x3c003c0,0x3fe1c00,0x3f00000,0x7,0xffc00000,0xf8,0x1f0001ff,0xf0000fff,0x80007ffc,
<a name="l02619"></a>02619       0xfc000,0x3c01e00,0x1e00f000,0xf0078007,0x803c003c,0x1e001e0,0xf001e07,0x8003c000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,
<a name="l02620"></a>02620       0x7800000,0x3c000001,0xe000fff8,0x3c0f078,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x3fc001e,0x1e03c0f0,0x3c0780,
<a name="l02621"></a>02621       0x1e03c00,0xf01e000,0x78000780,0x1e0007,0x80f0fc00,0x3fff80,0x1fffc00,0xfffe000,0x7fff0003,0xfff8001f,0xffc0001e,0x3c0f000,
<a name="l02622"></a>02622       0x1e0003,0xc0f0001e,0x78000f0,0x3c000780,0x780000,0x3c00000,0x1e000000,0xf0001e00,0xf803c00,0x3c078001,0xe03c000f,0x1e00078,
<a name="l02623"></a>02623       0xf0003c0,0x78001e07,0xfffffe1e,0x1e7803c,0x3c01e0,0x1e00f00,0xf007800,0x7801e00f,0x1e0007,0x807803c0,0x0,0x0,0x0,0x0,0x0,
<a name="l02624"></a>02624       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x3,0xc0f00007,
<a name="l02625"></a>02625       0xffc0007e,0xf03e,0x7800000,0x3c00,0x1e00,0x1c000,0x7fffff80,0x0,0x0,0x3,0xc0001e1f,0x83c0001e,0x3f,0x3e,0xf00780,0x3c0,0x7e001e00,
<a name="l02626"></a>02626       0x7c000f,0x800f001f,0xffde0000,0x0,0x3e000,0x0,0xf,0x8003e000,0x781e0070,0x1e00f003,0xc001f03c,0x1e0,0x3c03c0,0x1e00,0x3c00f,
<a name="l02627"></a>02627       0xf81e0007,0x80007800,0x780,0x3f1f0000,0x7800001e,0x7c0f078,0x1e1e03c0,0x7807ff,0xfc00f000,0x1e07fffe,0xffc,0xf000,0xf0003c0,
<a name="l02628"></a>02628       0x781e003,0xc71c7800,0x1ff00000,0x78000003,0xe000003c,0x1e0,0x1e0,0x0,0x0,0x0,0xffffc01,0xe000780f,0x1e0,0x780fff,0xffe0003c,
<a name="l02629"></a>02629       0x3c000,0xf0078007,0x80003c00,0xf000,0x7ff0000,0x1e0000f,0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0x7f000,0x3c000,
<a name="l02630"></a>02630       0x3c003c0,0xf00f007,0xc1f07c00,0x1fc0001f,0x1f00000,0xfc000ff8,0xf0,0x1ff,0xfffe07,0x80000000,0x7800000,0x7ffcfc00,0x0,0xf000000,
<a name="l02631"></a>02631       0x0,0x18,0xc0,0x0,0x3e000,0x1ff80,0xe00003,0xc00f0007,0xffcfc000,0x3e0001ff,0xf3f00fff,0x9f800000,0x6000,0x0,0x0,0x7c000,
<a name="l02632"></a>02632       0x0,0x0,0x0,0xfe,0x0,0xe00f007f,0xff07ffcf,0xc0000fc0,0x1e000,0x0,0x780001,0xe018001f,0xfff8001c,0xe00007,0x80000000,0xf800,
<a name="l02633"></a>02633       0xf0000000,0x6380000,0xc0000000,0x1f03c000,0x1e00,0x303,0x83806000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xfe1c00,0x3f00000,0x0,
<a name="l02634"></a>02634       0x0,0x3c,0xf801fff,0xfff8,0x7ffc0,0x1f8000,0x3c01e00,0x1e00f000,0xf0078007,0x803c003c,0x1e001e0,0xf003c07,0x8003c000,0x78000,
<a name="l02635"></a>02635       0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x3c0f03c,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,
<a name="l02636"></a>02636       0x78000f00,0x1f8001e,0x1e03c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1e000f,0x80f0ff00,0x1ffff80,0xffffc00,0x7fffe003,
<a name="l02637"></a>02637       0xffff001f,0xfff800ff,0xffc007ff,0xffc0f000,0x1fffff,0xc0fffffe,0x7fffff0,0x3fffff80,0x780000,0x3c00000,0x1e000000,0xf0001e00,
<a name="l02638"></a>02638       0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e07,0xfffffe1e,0x3c7803c,0x3c01e0,0x1e00f00,0xf007800,0x7801f01f,
<a name="l02639"></a>02639       0x1e0007,0x807c07c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02640"></a>02640       0x0,0x0,0x0,0x0,0x780000,0x3,0xc0f00000,0xfff003f0,0x1f00f03e,0x7800000,0x3c00,0x1e00,0x1c000,0x7fffff80,0x0,0x7ff80000,0x3,
<a name="l02641"></a>02641       0xc0001e0f,0x3c0001e,0x7e,0x1f,0x1e00780,0x3e0,0x7e000f00,0x78000f,0x7800f,0xff9e0000,0x0,0x3fc00,0x0,0x7f,0x8003c000,0x781e0070,
<a name="l02642"></a>02642       0x3e00f803,0xc000f03c,0x1e0,0x3c03c0,0x1e00,0x3c00f,0xf81e0007,0x80007800,0x780,0x3e0f8000,0x7800001e,0x7c0f078,0x1e1e03c0,
<a name="l02643"></a>02643       0x7807ff,0xf000f000,0x1e07807f,0xfe,0xf000,0xf0003c0,0x781e003,0xc71c7800,0x3ef00000,0x78000007,0xc000003c,0x1e0,0x1e0,0x0,
<a name="l02644"></a>02644       0x0,0x0,0x1ffffc01,0xe000780f,0x1e0,0x780fff,0xffe0003c,0x3c000,0xf0078007,0x80003c00,0xf000,0x7ff0000,0x1e0000f,0x3c0f01e,
<a name="l02645"></a>02645       0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0x7ff80,0x3c000,0x3c003c0,0xf00f003,0xc1f07800,0x1fc0000f,0x1e00000,0xf8000ff0,0xf0,
<a name="l02646"></a>02646       0xff,0xffffff,0x80000000,0x3fffc000,0xfff9fe00,0x0,0xf000000,0x0,0x18,0xc0,0x0,0x1f0000,0x1fc0,0x1c00003,0xc00f000f,0xff9fe000,
<a name="l02647"></a>02647       0x7c0003ff,0xe7f81fff,0x3fc00000,0x0,0x0,0x0,0xfe000,0x1ffffc0f,0xfffffc00,0x0,0xff,0xf0000000,0x700f007f,0xff0fff9f,0xe0000f80,
<a name="l02648"></a>02648       0x1e000,0x0,0x780001,0xe018001f,0xfff8001c,0xe00fff,0xffc00000,0xf800,0xf0000000,0x6380000,0xc0ffff80,0x3e078000,0x1e00,0x7ff80303,
<a name="l02649"></a>02649       0x83c06000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x3f00000,0x0,0x7f,0xff00001e,0x7c1fff0,0xfff80,0x7ffc00,0x3f0000,0x7c01f00,
<a name="l02650"></a>02650       0x3e00f801,0xf007c00f,0x803e007c,0x1f003e0,0xf803c07,0x8003c000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,
<a name="l02651"></a>02651       0xe0001e00,0x3c0f03c,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x1f8001e,0x3c03c0f0,0x3c0780,0x1e03c00,0xf01e000,
<a name="l02652"></a>02652       0x78000780,0x1e001f,0xf07f80,0x3ffff80,0x1ffffc00,0xffffe007,0xffff003f,0xfff801ff,0xffc03fff,0xffc0f000,0x1fffff,0xc0fffffe,
<a name="l02653"></a>02653       0x7fffff0,0x3fffff80,0x780000,0x3c00000,0x1e000000,0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e07,
<a name="l02654"></a>02654       0xfffffe1e,0x787803c,0x3c01e0,0x1e00f00,0xf007800,0x7800f01e,0x1e0007,0x803c0780,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02655"></a>02655       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1ff,0xffff8000,0x3ff80fc0,0x7fc1e01f,
<a name="l02656"></a>02656       0x7800000,0x3c00,0x1e00,0x0,0x7fffff80,0x0,0x7ff80000,0x7,0x80001e00,0x3c0001e,0xfc,0xf,0x1e00780,0x1e0,0x7c000f00,0x78000f,
<a name="l02657"></a>02657       0x78007,0xff1e0000,0x0,0x3ff00,0x0,0x1ff,0x8003c000,0x781e0070,0x3c007803,0xc000f03c,0x1e0,0x3c03c0,0x1e00,0x3c000,0x781e0007,
<a name="l02658"></a>02658       0x80007800,0x780,0x3c07c000,0x7800001e,0x7c0f078,0xf1e03c0,0x780780,0xf000,0x1e07801f,0x3e,0xf000,0xf0003c0,0x781e003,0xcf1c7800,
<a name="l02659"></a>02659       0x3cf80000,0x7800000f,0x8000003c,0xf0,0x1e0,0x0,0x0,0x0,0x3ffffc01,0xe000780f,0x1e0,0x780fff,0xffe0003c,0x3c000,0xf0078007,
<a name="l02660"></a>02660       0x80003c00,0xf000,0x7ff8000,0x1e0000f,0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0x3fff0,0x3c000,0x3c003c0,0xf81f003,
<a name="l02661"></a>02661       0xc3b87800,0xf80000f,0x1e00001,0xf0000ff0,0xf0,0xff,0xf03fff,0x80000000,0x3fff8001,0xfff1ff00,0x0,0xf000000,0x0,0x18,0xc0,
<a name="l02662"></a>02662       0x0,0x380000,0x7c0,0x3c00003,0xc00f001f,0xff1ff000,0xf80007ff,0xc7fc3ffe,0x3fe00000,0x0,0x0,0x0,0x1ff000,0x7ffffe1f,0xffffff00,
<a name="l02663"></a>02663       0x0,0x7f,0xfe000000,0x780f007f,0xff1fff1f,0xf0001f00,0x1e000,0x0,0x780001,0xe0180000,0xf000001c,0xe00fff,0xffc00000,0x7c00,
<a name="l02664"></a>02664       0xf0000000,0x31c0001,0x80ffff80,0x3e078000,0x1e00,0x7ff80183,0x81c0c000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x3f00000,
<a name="l02665"></a>02665       0x0,0x7f,0xff00001e,0x7c7ff03,0xc03ff8fe,0x1ffc0f0,0x7e0000,0x7800f00,0x3c007801,0xe003c00f,0x1e0078,0xf003c0,0x7803c07,0x8003c000,
<a name="l02666"></a>02666       0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x3c0f01e,0x3c078000,0xf03c0007,0x81e0003c,
<a name="l02667"></a>02667       0xf0001e0,0x78000f00,0x3fc001e,0x7803c0f0,0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1e007f,0xf03fe0,0x7ffff80,0x3ffffc01,
<a name="l02668"></a>02668       0xffffe00f,0xffff007f,0xfff803ff,0xffc07fff,0xffc0f000,0x1fffff,0xc0fffffe,0x7fffff0,0x3fffff80,0x780000,0x3c00000,0x1e000000,
<a name="l02669"></a>02669       0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e07,0xfffffe1e,0x707803c,0x3c01e0,0x1e00f00,0xf007800,
<a name="l02670"></a>02670       0x7800f01e,0x1e0007,0x803c0780,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02671"></a>02671       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1ff,0xffff8000,0x30f81f00,0xffe1e00f,0x87800000,0x3c00,0x1e00,0x0,0x1e0000,0x0,0x7ff80000,
<a name="l02672"></a>02672       0x7,0x80001e00,0x3c0001e,0x1f8,0x7,0x83c00780,0x1e0,0x7c000f00,0xf8001e,0x3c001,0xfc1e0000,0x0,0x7fe0,0x0,0xffc,0x3c000,0x781e0070,
<a name="l02673"></a>02673       0x3ffff803,0xc000783c,0x1e0,0x3c03c0,0x1e00,0x3c000,0x781e0007,0x80007800,0x780,0x3c07c000,0x7800001e,0x380f078,0xf1e03c0,
<a name="l02674"></a>02674       0x780780,0xf000,0x1e07800f,0x8000001e,0xf000,0xf0003c0,0x3c3c003,0xcf1e7800,0x7c780000,0x7800000f,0x8000003c,0xf0,0x1e0,0x0,
<a name="l02675"></a>02675       0x0,0x0,0x7f003c01,0xe000780f,0x1e0,0x780fff,0xffe0003c,0x3c000,0xf0078007,0x80003c00,0xf000,0x7f7c000,0x1e0000f,0x3c0f01e,
<a name="l02676"></a>02676       0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0xfff8,0x3c000,0x3c003c0,0x781e003,0xc3b87800,0x1fc00007,0x83e00003,0xe0000ff8,0xf0,
<a name="l02677"></a>02677       0x1ff,0xc007fe,0x0,0x7fff8001,0xffe3ff00,0x0,0x1e000000,0x0,0x18,0xc0,0x0,0x0,0x3c0,0x7800003,0xc00f001f,0xfe3ff000,0xf80007ff,
<a name="l02678"></a>02678       0x8ffc3ffc,0x7fe00000,0x0,0x0,0x0,0x1ff000,0x0,0x0,0x0,0x1f,0xff000000,0x3c0f007f,0xff1ffe3f,0xf0003e00,0x1e000,0x0,0x780001,
<a name="l02679"></a>02679       0xe0180000,0xf000001e,0x1e00fff,0xffc00000,0x3f00,0xf0000000,0x31c0001,0x80ffff80,0x1f03c000,0x1e00,0x7ff80183,0x81c0c000,
<a name="l02680"></a>02680       0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x0,0x0,0x7f,0xff00003c,0xf87f007,0xc03f83ff,0x81fc01f0,0x7c0000,0x7ffff00,0x3ffff801,
<a name="l02681"></a>02681       0xffffc00f,0xfffe007f,0xfff003ff,0xff807fff,0x8003c000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,
<a name="l02682"></a>02682       0xe0001e00,0x3c0f01e,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0x7fe001e,0xf003c0f0,0x3c0780,0x1e03c00,0xf01e000,
<a name="l02683"></a>02683       0x78000780,0x1ffffe,0xf00ff0,0xfe00780,0x7f003c03,0xf801e01f,0xc00f00fe,0x7807f0,0x3c0ffff,0xffc0f000,0x1fffff,0xc0fffffe,
<a name="l02684"></a>02684       0x7fffff0,0x3fffff80,0x780000,0x3c00000,0x1e000000,0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e00,
<a name="l02685"></a>02685       0x1e,0xf07803c,0x3c01e0,0x1e00f00,0xf007800,0x7800783e,0x1e0007,0x801e0f80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02686"></a>02686       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1ff,0xffff8000,0x307c0801,0xe1f1e00f,0x87000000,
<a name="l02687"></a>02687       0x3c00,0x1e00,0x0,0x1e0000,0x0,0x7ff80000,0xf,0x1e00,0x3c0001e,0x3f0,0x7,0x83fffffc,0x1e0,0x7c000f00,0xf0001e,0x3c000,0x3e0000,
<a name="l02688"></a>02688       0x0,0x1ffc,0x1fffff,0xf0007ff0,0x3c000,0x781e0070,0x7ffffc03,0xc000781e,0x1e0,0x7803c0,0x1e00,0x3c000,0x781e0007,0x80007800,
<a name="l02689"></a>02689       0x780,0x3c03e000,0x7800001e,0xf078,0x79e03c0,0x780780,0xf000,0x1e078007,0x8000000f,0xf000,0xf0003c0,0x3c3c001,0xee0ef000,
<a name="l02690"></a>02690       0xf87c0000,0x7800001f,0x3c,0x78,0x1e0,0x0,0x0,0x0,0x7c003c01,0xe000780f,0x1e0,0x780f00,0x3c,0x3c000,0xf0078007,0x80003c00,
<a name="l02691"></a>02691       0xf000,0x7e3e000,0x1e0000f,0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0x1ffc,0x3c000,0x3c003c0,0x781e003,0xe3b8f800,
<a name="l02692"></a>02692       0x1fc00007,0x83c00007,0xc00000fc,0xf0,0x3e0,0x8001f8,0x0,0x7800000,0xffc7fe00,0x0,0x1e000000,0x0,0x18,0xc0,0x0,0x0,0x1e0,
<a name="l02693"></a>02693       0xf000003,0xc00f000f,0xfc7fe001,0xf00003ff,0x1ff81ff8,0xffc00000,0x0,0x0,0x0,0x1ff000,0x0,0x0,0x0,0x3,0xff800000,0x1e0f0078,
<a name="l02694"></a>02694       0xffc7f,0xe0007c00,0x1e000,0x0,0x780001,0xe0180000,0xf000000e,0x1c00007,0x80000000,0x1f81,0xe0000000,0x38e0003,0x80000000,
<a name="l02695"></a>02695       0xf81f000,0x1e00,0x7ff801c3,0x80e1c000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x0,0x0,0x0,0xf8,0x1f070007,0xc03803ff,0xc1c001f0,
<a name="l02696"></a>02696       0xf80000,0xfffff00,0x7ffff803,0xffffc01f,0xfffe00ff,0xfff007ff,0xffc07fff,0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,
<a name="l02697"></a>02697       0xf00000,0x7800000,0x3c000001,0xe0001e00,0x780f00f,0x3c078000,0xf03c0007,0x81e0003c,0xf0001e0,0x78000f00,0xf9f001e,0xf003c0f0,
<a name="l02698"></a>02698       0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1ffffc,0xf003f8,0xf800780,0x7c003c03,0xe001e01f,0xf00f8,0x7807c0,0x3c0fc1e,0xf000,
<a name="l02699"></a>02699       0x1e0000,0xf00000,0x7800000,0x3c000000,0x780000,0x3c00000,0x1e000000,0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,
<a name="l02700"></a>02700       0xf0003c0,0x78001e00,0x1e,0x1e07803c,0x3c01e0,0x1e00f00,0xf007800,0x7800783c,0x1e0007,0x801e0f00,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02701"></a>02701       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0xffff8000,0x303c0001,
<a name="l02702"></a>02702       0xc071e007,0xcf000000,0x3c00,0x1e00,0x0,0x1e0000,0x0,0x0,0xf,0xf00,0x780001e,0x7e0,0x7,0x83fffffc,0x1e0,0x7c000f00,0x1f0001e,
<a name="l02703"></a>02703       0x3c000,0x3c0000,0x0,0x3ff,0x801fffff,0xf003ff80,0x3c000,0x781e0070,0x7ffffc03,0xc000781e,0x1e0,0x7803c0,0x1e00,0x1e000,0x781e0007,
<a name="l02704"></a>02704       0x80007800,0x780,0x3c01f000,0x7800001e,0xf078,0x79e03c0,0xf00780,0xf000,0x3e078007,0xc000000f,0xf000,0xf0003c0,0x3c3c001,
<a name="l02705"></a>02705       0xee0ef000,0xf03e0000,0x7800003e,0x3c,0x78,0x1e0,0x0,0x0,0x0,0xf8003c01,0xe000780f,0x1e0,0x780f00,0x3c,0x3c000,0xf0078007,
<a name="l02706"></a>02706       0x80003c00,0xf000,0x7c3e000,0x1e0000f,0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0xfc,0x3c000,0x3c003c0,0x3c3e001,0xe7b8f000,
<a name="l02707"></a>02707       0x3fe00007,0xc7c0000f,0xc000003e,0xf0,0x7c0,0x0,0x0,0x7c00000,0x7fcffc00,0x0,0x1e000000,0x0,0x18,0xc0,0x0,0x0,0x1e0,0x1e000003,
<a name="l02708"></a>02708       0xc00f0007,0xfcffc003,0xe00001ff,0x3ff00ff9,0xff800000,0x0,0x0,0x0,0x1ff000,0x0,0x0,0x0,0x0,0x1f800000,0xf0f0078,0x7fcff,
<a name="l02709"></a>02709       0xc000fc00,0x1e000,0x0,0x780001,0xe0180000,0xf000000f,0x87c00007,0x80000000,0xfe3,0xe0000000,0x18780c3,0x0,0x7c0f800,0x1e00,
<a name="l02710"></a>02710       0xc3,0x80e18000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x0,0x0,0x0,0x1f0,0x3e00000f,0xc0000303,0xe00003f0,0xf00000,0xfffff80,
<a name="l02711"></a>02711       0x7ffffc03,0xffffe01f,0xffff00ff,0xfff807ff,0xffc07fff,0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,
<a name="l02712"></a>02712       0x3c000001,0xe0001e00,0x780f00f,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e00,0x1f0f801f,0xe00780f0,0x3c0780,0x1e03c00,
<a name="l02713"></a>02713       0xf01e000,0x78000780,0x1ffff8,0xf000f8,0x1f000780,0xf8003c07,0xc001e03e,0xf01f0,0x780f80,0x3c1f01e,0xf000,0x1e0000,0xf00000,
<a name="l02714"></a>02714       0x7800000,0x3c000000,0x780000,0x3c00000,0x1e000000,0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e00,
<a name="l02715"></a>02715       0x1e,0x3c07803c,0x3c01e0,0x1e00f00,0xf007800,0x78007c7c,0x1e0007,0x801f1f00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02716"></a>02716       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x81c00000,0x303c0003,0x8039e003,0xef000000,
<a name="l02717"></a>02717       0x3c00,0x1e00,0x0,0x1e0000,0x0,0x0,0x1e,0xf00,0x780001e,0xfc0,0x7,0x83fffffc,0x1e0,0x3c000f00,0x1e0001e,0x3c000,0x3c0000,
<a name="l02718"></a>02718       0x0,0x7f,0xe01fffff,0xf00ffc00,0x3c000,0x781f00f0,0x7ffffc03,0xc000781e,0x1e0,0x7803c0,0x1e00,0x1e000,0x781e0007,0x80007800,
<a name="l02719"></a>02719       0x780,0x3c01f000,0x7800001e,0xf078,0x7de01e0,0xf00780,0x7800,0x3c078003,0xc000000f,0xf000,0xf0003c0,0x3e7c001,0xee0ef001,
<a name="l02720"></a>02720       0xf01e0000,0x7800003e,0x3c,0x3c,0x1e0,0x0,0x0,0x0,0xf0003c01,0xe000780f,0x1e0,0x780f00,0x3c,0x3c000,0xf0078007,0x80003c00,
<a name="l02721"></a>02721       0xf000,0x781f000,0x1e0000f,0x3c0f01e,0x1e03c0,0xf00780,0x1e0f000,0x3c003c00,0x3e,0x3c000,0x3c003c0,0x3c3c001,0xe71cf000,0x7df00003,
<a name="l02722"></a>02722       0xc780000f,0x8000003e,0xf0,0x780,0x0,0x0,0x3c00000,0x3fcff800,0x0,0x1e000000,0x0,0x18,0xc0,0x0,0x1f00fc,0x1e0,0x1e000001,
<a name="l02723"></a>02723       0xe00f0003,0xfcff8003,0xe00000ff,0x3fe007f9,0xff000000,0x0,0x0,0x0,0x1ff000,0x0,0x0,0x0,0x0,0x7c00000,0xf0f0078,0x3fcff,0x8000f800,
<a name="l02724"></a>02724       0x1e000,0x0,0x780001,0xe0180000,0xf000001f,0xffe00007,0x8000003c,0x7ff,0xc0000000,0x1c3ffc7,0x0,0x3e07c00,0x1e00,0xe3,0x80738000,
<a name="l02725"></a>02725       0x0,0x78,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x0,0x0,0x0,0x3e0,0x7c00001d,0xc0000001,0xe0000770,0x1f00000,0xfffff80,0x7ffffc03,
<a name="l02726"></a>02726       0xffffe01f,0xffff00ff,0xfff807ff,0xffc07fff,0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,
<a name="l02727"></a>02727       0xe0001e00,0x780f00f,0x3c03c001,0xe01e000f,0xf00078,0x78003c0,0x3c001e00,0x3e07c01f,0xc00780f0,0x3c0780,0x1e03c00,0xf01e000,
<a name="l02728"></a>02728       0x78000780,0x1fffc0,0xf0007c,0x1e000780,0xf0003c07,0x8001e03c,0xf01e0,0x780f00,0x3c1e01e,0xf000,0x1e0000,0xf00000,0x7800000,
<a name="l02729"></a>02729       0x3c000000,0x780000,0x3c00000,0x1e000000,0xf0001e00,0x7803c00,0x3c078001,0xe03c000f,0x1e00078,0xf0003c0,0x78001e00,0x1e,0x7807803c,
<a name="l02730"></a>02730       0x3c01e0,0x1e00f00,0xf007800,0x78003c78,0x1e0007,0x800f1e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02731"></a>02731       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x83c00000,0x303c0003,0x8039e001,0xee000000,0x1e00,0x3c00,
<a name="l02732"></a>02732       0x0,0x1e0000,0x0,0x0,0x1e,0xf00,0x780001e,0x1f80,0x7,0x83fffffc,0x1e0,0x3c000f00,0x1e0001e,0x3c000,0x3c0000,0x0,0x1f,0xfc1fffff,
<a name="l02733"></a>02733       0xf07ff000,0x0,0x780f00f0,0x78003c03,0xc000781e,0x1e0,0xf803c0,0x1e00,0x1e000,0x781e0007,0x80007800,0x780,0x3c00f800,0x7800001e,
<a name="l02734"></a>02734       0xf078,0x3de01e0,0xf00780,0x7800,0x3c078003,0xe000000f,0xf000,0xf0003c0,0x1e78001,0xfe0ff003,0xe01f0000,0x7800007c,0x3c,0x3c,
<a name="l02735"></a>02735       0x1e0,0x0,0x0,0x0,0xf0007c01,0xe000f80f,0x800001e0,0xf80f00,0x3c,0x1e001,0xf0078007,0x80003c00,0xf000,0x780f800,0x1e0000f,
<a name="l02736"></a>02736       0x3c0f01e,0x1e03c0,0x1f00780,0x3e0f000,0x7c003c00,0x1e,0x3c000,0x3c003c0,0x3c3c001,0xe71cf000,0xf8f80003,0xe780001f,0x1e,
<a name="l02737"></a>02737       0xf0,0x780,0x0,0x0,0x3c00000,0x1ffff000,0x0,0x1e000000,0x0,0x18,0xc0,0x0,0x3bc1de,0x1e0,0xf000001,0xe00f0001,0xffff0007,0xc000007f,
<a name="l02738"></a>02738       0xffc003ff,0xfe000000,0x0,0x0,0x0,0xfe000,0x0,0x0,0x0,0x0,0x3c00000,0x1e0f0078,0x1ffff,0x1f000,0x1e000,0x0,0x780000,0xf0180000,
<a name="l02739"></a>02739       0xf000001f,0xfff00007,0x8000003c,0x1ff,0x80000000,0xe0ff0e,0x0,0x1f03e00,0x1e00,0x70,0x70000,0x0,0x78,0x0,0x0,0x0,0x3c003c0,
<a name="l02740"></a>02740       0xe1c00,0x0,0x0,0x0,0x7c0,0xf8000019,0xc0000000,0xe0000670,0x1e00000,0xf000780,0x78003c03,0xc001e01e,0xf00f0,0x780780,0x3c0f807,
<a name="l02741"></a>02741       0x8001e000,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0xf80f007,0xbc03c001,0xe01e000f,
<a name="l02742"></a>02742       0xf00078,0x78003c0,0x3c001e00,0x7c03e00f,0x800780f0,0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1e0000,0xf0003c,0x1e000f80,
<a name="l02743"></a>02743       0xf0007c07,0x8003e03c,0x1f01e0,0xf80f00,0x7c1e01e,0xf800,0x1e0000,0xf00000,0x7800000,0x3c000000,0x780000,0x3c00000,0x1e000000,
<a name="l02744"></a>02744       0xf0001e00,0x7803c00,0x3c078003,0xe03c001f,0x1e000f8,0xf0007c0,0x78003e00,0x1f8001f,0xf00f803c,0x3c01e0,0x1e00f00,0xf007800,
<a name="l02745"></a>02745       0x78003e78,0x1e000f,0x800f9e00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02746"></a>02746       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf,0x3c00000,0x303c0003,0x8039f001,0xfe000000,0x1e00,0x3c00,0x0,0x1e0000,0x0,0x0,0x3c,0xf00,
<a name="l02747"></a>02747       0x780001e,0x3f00,0x7,0x80000780,0x3e0,0x3e000f00,0x3c0001e,0x3c000,0x7c0000,0x0,0x3,0xfe000000,0xff8000,0x0,0x3c0f81f0,0xf0001e03,
<a name="l02748"></a>02748       0xc000780f,0x1e0,0xf003c0,0x1e00,0xf000,0x781e0007,0x80007800,0x780,0x3c007c00,0x7800001e,0xf078,0x3de01e0,0xf00780,0x7800,
<a name="l02749"></a>02749       0x3c078001,0xe000000f,0xf000,0xf0003c0,0x1e78001,0xfc07f003,0xe00f0000,0x78000078,0x3c,0x1e,0x1e0,0x0,0x0,0x0,0xf0007c01,
<a name="l02750"></a>02750       0xf000f007,0x800000f0,0xf80780,0x3c,0x1e001,0xf0078007,0x80003c00,0xf000,0x7807c00,0x1e0000f,0x3c0f01e,0x1e01e0,0x1e007c0,
<a name="l02751"></a>02751       0x3c07800,0x7c003c00,0x1e,0x3c000,0x3c007c0,0x1e78001,0xe71df000,0xf8f80001,0xef80003e,0x1e,0xf0,0x780,0x0,0x0,0x3c00000,
<a name="l02752"></a>02752       0xfffe000,0x0,0x3e000000,0x0,0x18,0x7fff,0xc0000000,0x60c306,0x1e0,0x7800001,0xe00f0000,0xfffe0007,0x8000003f,0xff8001ff,
<a name="l02753"></a>02753       0xfc000000,0x0,0x0,0x0,0x7c000,0x0,0x0,0x0,0x0,0x3c00000,0x3c0f0078,0xfffe,0x3e000,0x1e000,0x0,0x780000,0xf0180000,0xf000003c,
<a name="l02754"></a>02754       0xfcf80007,0x8000003c,0x7f,0x0,0x70001c,0x0,0xf81f00,0x0,0x38,0xe0000,0x0,0x0,0x0,0x0,0x0,0x3c003c0,0xe1c00,0x0,0x0,0x0,0xf81,
<a name="l02755"></a>02755       0xf0000039,0xc0000000,0xe0000e70,0x1e00000,0x1e0003c0,0xf0001e07,0x8000f03c,0x781e0,0x3c0f00,0x1e0f007,0x8000f000,0x78000,
<a name="l02756"></a>02756       0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0xf00f007,0xbc03c001,0xe01e000f,0xf00078,0x78003c0,
<a name="l02757"></a>02757       0x3c001e00,0xf801f00f,0x800780f0,0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1e0000,0xf0003c,0x1e000f80,0xf0007c07,0x8003e03c,
<a name="l02758"></a>02758       0x1f01e0,0xf80f00,0x7c1e01e,0x7800,0xf0000,0x780000,0x3c00000,0x1e000000,0x780000,0x3c00000,0x1e000000,0xf0000f00,0xf003c00,
<a name="l02759"></a>02759       0x3c03c003,0xc01e001e,0xf000f0,0x7800780,0x3c003c00,0x1f8000f,0xe00f003c,0x7c01e0,0x3e00f00,0x1f007800,0xf8001ef8,0x1f000f,
<a name="l02760"></a>02760       0x7be00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02761"></a>02761       0x0,0x0,0xf,0x3c00000,0x307c0003,0x8038f000,0xfc000000,0x1e00,0x3c00,0x0,0x1e0000,0xfc0000,0x0,0x7e00003c,0x780,0xf00001e,
<a name="l02762"></a>02762       0x7e00,0xf,0x80000780,0x3c0,0x3e001e00,0x3c0001f,0x7c000,0x780007,0xe000003f,0x0,0xfe000000,0xfe0000,0x0,0x3c07c3f0,0xf0001e03,
<a name="l02763"></a>02763       0xc000f80f,0x800001e0,0x1f003c0,0x1e00,0xf000,0x781e0007,0x80007800,0x4000f80,0x3c003c00,0x7800001e,0xf078,0x1fe01f0,0x1f00780,
<a name="l02764"></a>02764       0x7c00,0x7c078001,0xf000001f,0xf000,0xf0003c0,0x1e78001,0xfc07f007,0xc00f8000,0x780000f8,0x3c,0x1e,0x1e0,0x0,0x0,0x0,0xf0007c01,
<a name="l02765"></a>02765       0xf000f007,0xc00000f0,0xf80780,0x3c,0x1f003,0xf0078007,0x80003c00,0xf000,0x7807c00,0x1e0000f,0x3c0f01e,0x1e01e0,0x1e007c0,
<a name="l02766"></a>02766       0x3c07800,0x7c003c00,0x1e,0x3c000,0x3c007c0,0x1e78000,0xfe0fe001,0xf07c0001,0xef00007c,0x1e,0xf0,0x780,0x0,0x0,0x1e00000,
<a name="l02767"></a>02767       0x7cfc000,0xfc00000,0x3c00000f,0xc3f00000,0x18,0x7fff,0xc0000000,0x406303,0x3e0,0x3c00001,0xf00f0000,0x7cfc000f,0x8000001f,
<a name="l02768"></a>02768       0x3f0000f9,0xf8000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x780700f8,0x7cfc,0x7c000,0x1e000,0x0,0x780000,0xf8180000,
<a name="l02769"></a>02769       0xf0000070,0x3c0007,0x8000003c,0x3f,0x80000000,0x3c0078,0x0,0x780f00,0x0,0x1e,0x3c0000,0x0,0x0,0x0,0x0,0x0,0x3e007c0,0xe1c00,
<a name="l02770"></a>02770       0x0,0x0,0x0,0xf01,0xe0000071,0xc0000000,0xe0001c70,0x1e00000,0x1e0003c0,0xf0001e07,0x8000f03c,0x781e0,0x3c0f00,0x1e0f007,
<a name="l02771"></a>02771       0x8000f800,0x78000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x1f00f003,0xfc03e003,0xe01f001f,
<a name="l02772"></a>02772       0xf800f8,0x7c007c0,0x3e003e01,0xf000f80f,0xf00f0,0x3c0780,0x1e03c00,0xf01e000,0x78000780,0x1e0000,0xf0003c,0x1e000f80,0xf0007c07,
<a name="l02773"></a>02773       0x8003e03c,0x1f01e0,0xf80f00,0x7c1e01e,0x7c00,0xf0000,0x780000,0x3c00000,0x1e000000,0x780000,0x3c00000,0x1e000000,0xf0000f00,
<a name="l02774"></a>02774       0xf003c00,0x3c03c003,0xc01e001e,0xf000f0,0x7800780,0x3c003c00,0x1f8000f,0xc00f003c,0x7c01e0,0x3e00f00,0x1f007800,0xf8001ef0,
<a name="l02775"></a>02775       0x1f000f,0x7bc00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02776"></a>02776       0x0,0x0,0x0,0x0,0x780000,0xf,0x3800040,0x30780003,0x8038f800,0x78000000,0x1e00,0x3c00,0x0,0x1e0000,0xfc0000,0x0,0x7e000078,
<a name="l02777"></a>02777       0x780,0x1f00001e,0xfc00,0x20001f,0x780,0x80007c0,0x1f001e00,0x7c0000f,0x78000,0xf80007,0xe000003f,0x0,0x1e000000,0xf00000,
<a name="l02778"></a>02778       0x3c000,0x3c03fff0,0xf0001e03,0xc001f007,0x800101e0,0x7e003c0,0x1e00,0x7800,0x781e0007,0x80007800,0x6000f00,0x3c003e00,0x7800001e,
<a name="l02779"></a>02779       0xf078,0x1fe00f0,0x1e00780,0x3c00,0x78078000,0xf020001e,0xf000,0x7800780,0xff0001,0xfc07f00f,0x8007c000,0x780001f0,0x3c,0xf,
<a name="l02780"></a>02780       0x1e0,0x0,0x0,0x0,0xf800fc01,0xf801f007,0xc00100f8,0x1f807c0,0x40003c,0xf807,0xf0078007,0x80003c00,0xf000,0x7803e00,0x1f0000f,
<a name="l02781"></a>02781       0x3c0f01e,0x1e01f0,0x3e007e0,0x7c07c00,0xfc003c00,0x1e,0x3e000,0x3e007c0,0x1ff8000,0xfe0fe003,0xe03e0001,0xff0000fc,0x1e,
<a name="l02782"></a>02782       0xf0,0x780,0x0,0x0,0x1f00080,0x3cf8000,0xfc00000,0x3c00001f,0x83f00000,0x18,0xc0,0x0,0xc06203,0x40003c0,0x1c00000,0xf80f0000,
<a name="l02783"></a>02783       0x3cf8001f,0xf,0x3e000079,0xf0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x700780fc,0x3cf8,0xfc000,0x1e000,0x0,0x780000,
<a name="l02784"></a>02784       0x7c180000,0xf0000020,0x100007,0x8000003c,0xf,0x80000000,0x1f01f0,0x0,0x380700,0x0,0xf,0x80f80000,0x0,0x0,0x0,0x0,0x0,0x3e007c0,
<a name="l02785"></a>02785       0xe1c00,0x0,0x0,0x0,0xe01,0xc0000071,0xc0000001,0xc0001c70,0x1e00040,0x1e0003c0,0xf0001e07,0x8000f03c,0x781e0,0x3c0f00,0x1e0f007,
<a name="l02786"></a>02786       0x80007800,0x10078000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e00,0x7e00f003,0xfc01e003,0xc00f001e,
<a name="l02787"></a>02787       0x7800f0,0x3c00780,0x1e003c00,0xe000700f,0x800f0078,0x7803c0,0x3c01e00,0x1e00f000,0xf0000780,0x1e0000,0xf0003c,0x1f001f80,
<a name="l02788"></a>02788       0xf800fc07,0xc007e03e,0x3f01f0,0x1f80f80,0xfc1e01f,0x7c00,0x100f8000,0x807c0004,0x3e00020,0x1f000100,0x780000,0x3c00000,0x1e000000,
<a name="l02789"></a>02789       0xf0000f80,0x1f003c00,0x3c03e007,0xc01f003e,0xf801f0,0x7c00f80,0x3e007c00,0x1f8000f,0x801f003e,0x7c01f0,0x3e00f80,0x1f007c00,
<a name="l02790"></a>02790       0xf8001ff0,0x1f801f,0x7fc00,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02791"></a>02791       0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0xf,0x7800078,0x31f80001,0xc070fc00,0xfc000000,0x1e00,0x7c00,0x0,0x1e0000,0xfc0000,0x0,0x7e000078,
<a name="l02792"></a>02792       0x7c0,0x1f00001e,0x1f000,0x38003f,0x780,0xe000f80,0x1f803e00,0x780000f,0x800f8000,0x1f00007,0xe000003f,0x0,0x2000000,0x800000,
<a name="l02793"></a>02793       0x3c000,0x3e01ff71,0xf0001f03,0xc007f007,0xc00301e0,0x1fc003c0,0x1e00,0x7c00,0x781e0007,0x80007800,0x7801f00,0x3c001f00,0x7800001e,
<a name="l02794"></a>02794       0xf078,0xfe00f8,0x3e00780,0x3e00,0xf8078000,0xf838003e,0xf000,0x7c00f80,0xff0000,0xfc07e00f,0x8003c000,0x780001e0,0x3c,0xf,
<a name="l02795"></a>02795       0x1e0,0x0,0x0,0x0,0xf801fc01,0xfc03e003,0xe003007c,0x3f803e0,0x1c0003c,0xfc0f,0xf0078007,0x80003c00,0xf000,0x7801f00,0xf8000f,
<a name="l02796"></a>02796       0x3c0f01e,0x1e00f8,0x7c007f0,0xf803e01,0xfc003c00,0x8003e,0x1f000,0x1e00fc0,0xff0000,0xfe0fe007,0xc01f0000,0xfe0000f8,0x1e,
<a name="l02797"></a>02797       0xf0,0x780,0x0,0x0,0xf80180,0x1cf0000,0x1f800000,0x3c00001f,0x83e00000,0x18,0xc0,0x0,0xc06203,0x70007c0,0xe00000,0x7e0f0000,
<a name="l02798"></a>02798       0x1cf0001e,0x7,0x3c000039,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x100,0x7c00000,0xe00780fc,0x2001cf0,0xf8000,0x1e000,0x0,
<a name="l02799"></a>02799       0x780000,0x7e182000,0xf0000000,0x7,0x8000003c,0x7,0xc0000000,0x7ffc0,0x0,0x180300,0x0,0x3,0xffe00000,0x0,0x0,0x0,0x0,0x0,
<a name="l02800"></a>02800       0x3f00fc0,0xe1c00,0x0,0x0,0x0,0xc01,0x800000e1,0xc0000003,0xc0003870,0x1f001c0,0x3e0003e1,0xf0001f0f,0x8000f87c,0x7c3e0,0x3e1f00,
<a name="l02801"></a>02801       0x1f1e007,0x80007c00,0x30078000,0x3c0000,0x1e00000,0xf000000,0xf00000,0x7800000,0x3c000001,0xe0001e03,0xfc00f001,0xfc01f007,
<a name="l02802"></a>02802       0xc00f803e,0x7c01f0,0x3e00f80,0x1f007c00,0x4000201f,0xc01f007c,0xf803e0,0x7c01f00,0x3e00f801,0xf0000780,0x1e0000,0xf0007c,
<a name="l02803"></a>02803       0x1f003f80,0xf801fc07,0xc00fe03e,0x7f01f0,0x3f80f80,0x1fc1f03f,0x803e00,0x3007c003,0x803e001c,0x1f000e0,0xf800700,0x780000,
<a name="l02804"></a>02804       0x3c00000,0x1e000000,0xf00007c0,0x3e003c00,0x3c01f00f,0x800f807c,0x7c03e0,0x3e01f00,0x1f00f800,0x1f80007,0xc03e001e,0xfc00f0,
<a name="l02805"></a>02805       0x7e00780,0x3f003c01,0xf8000fe0,0x1fc03e,0x3f800,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02806"></a>02806       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1e,0x780007f,0xfff00001,0xe0f07f03,0xfe000000,0xf00,0x7800,0x0,
<a name="l02807"></a>02807       0x1e0000,0xfc0000,0x0,0x7e0000f0,0x3f0,0x7e000fff,0xfc03ffff,0xf83f00fe,0x780,0xfc03f80,0xfc0fc00,0xf800007,0xe03f0018,0x7e00007,
<a name="l02808"></a>02808       0xe000003f,0x0,0x0,0x0,0x3c000,0x1e007c71,0xe0000f03,0xffffe003,0xf01f01ff,0xff8003ff,0xffe01e00,0x3f01,0xf81e0007,0x803ffff0,
<a name="l02809"></a>02809       0x7e03f00,0x3c000f00,0x7ffffe1e,0xf078,0xfe007e,0xfc00780,0x1f83,0xf0078000,0x783f00fe,0xf000,0x3f03f00,0xff0000,0xfc07e01f,
<a name="l02810"></a>02810       0x3e000,0x780003ff,0xfffc003c,0x7,0x800001e0,0x0,0x0,0x0,0x7e07fc01,0xfe07e001,0xf80f007e,0x7f801f8,0xfc0003c,0x7ffe,0xf0078007,
<a name="l02811"></a>02811       0x807ffffe,0xf000,0x7801f00,0xfff00f,0x3c0f01e,0x1e00fc,0xfc007f8,0x1f803f03,0xfc003c00,0xf80fc,0x1fff0,0x1f83fc0,0xff0000,
<a name="l02812"></a>02812       0xfc07e007,0xc01f0000,0xfe0001ff,0xffe0001e,0xf0,0x780,0x0,0x0,0xfe0780,0xfe0000,0x1f000000,0x3c00001f,0x7c00e03,0x81c00018,
<a name="l02813"></a>02813       0xc0,0x0,0x406203,0x7e01fc0,0x700000,0x7fffff80,0xfe0003f,0xffffc003,0xf800001f,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f0,
<a name="l02814"></a>02814       0x1f800001,0xc007c1fe,0x6000fe0,0x1ffffe,0x1e000,0x0,0x780000,0x3f98e03f,0xffff8000,0x7,0x8000003c,0x7,0xc0000000,0xfe00,
<a name="l02815"></a>02815       0x0,0x80100,0x0,0x0,0x7f000000,0x0,0x1ffff,0xfe000000,0x0,0x0,0x3f83fe8,0xe1c00,0x0,0x0,0x0,0x801,0xc1,0xc0000007,0x80003070,
<a name="l02816"></a>02816       0xfc0fc0,0x3c0001e1,0xe0000f0f,0x7878,0x3c3c0,0x1e1e00,0xf1e007,0xffc03f01,0xf007ffff,0xc03ffffe,0x1fffff0,0xfffff80,0x7fffe003,
<a name="l02817"></a>02817       0xffff001f,0xfff800ff,0xffc01fff,0xf800f001,0xfc00fc1f,0x8007e0fc,0x3f07e0,0x1f83f00,0xfc1f800,0x1f,0xf07e003f,0x3f001f8,
<a name="l02818"></a>02818       0x1f800fc0,0xfc007e07,0xe0000780,0x1e0000,0xf301f8,0xfc0ff80,0x7e07fc03,0xf03fe01f,0x81ff00fc,0xff807e0,0x7fc0f87f,0x81801f80,
<a name="l02819"></a>02819       0xf003f01f,0x801f80fc,0xfc07e0,0x7e03f00,0xfffffc07,0xffffe03f,0xffff01ff,0xfff807e0,0x7e003c00,0x3c01f81f,0x800fc0fc,0x7e07e0,
<a name="l02820"></a>02820       0x3f03f00,0x1f81f800,0x1f8000f,0xe07e001f,0x83fc00fc,0x1fe007e0,0xff003f07,0xf8000fe0,0x1fe07e,0x3f800,0x0,0x0,0x0,0x0,0x0,
<a name="l02821"></a>02821       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1e,0x780007f,
<a name="l02822"></a>02822       0xffe00000,0xffe03fff,0xdf000000,0xf00,0x7800,0x0,0x0,0xfc0000,0x0,0x7e0000f0,0x1ff,0xfc000fff,0xfc03ffff,0xf83ffffc,0x780,
<a name="l02823"></a>02823       0xfffff00,0x7fff800,0xf000007,0xffff001f,0xffe00007,0xe000003f,0x0,0x0,0x0,0x3c000,0x1e000001,0xe0000f03,0xffffc001,0xffff01ff,
<a name="l02824"></a>02824       0xff0003ff,0xffe01e00,0x1fff,0xf81e0007,0x803ffff0,0x7fffe00,0x3c000f80,0x7ffffe1e,0xf078,0xfe003f,0xff800780,0xfff,0xf0078000,
<a name="l02825"></a>02825       0x7c3ffffc,0xf000,0x3ffff00,0xff0000,0xf803e01e,0x1e000,0x780003ff,0xfffc003c,0x7,0x800001e0,0x0,0x0,0x0,0x7fffbc01,0xffffc000,
<a name="l02826"></a>02826       0xffff003f,0xfff800ff,0xffc0003c,0x3ffe,0xf0078007,0x807ffffe,0xf000,0x7800f80,0x7ff00f,0x3c0f01e,0x1e007f,0xff8007ff,0xff001fff,
<a name="l02827"></a>02827       0xbc003c00,0xffffc,0x1fff0,0x1fffbc0,0xff0000,0x7c07c00f,0x800f8000,0x7e0001ff,0xffe0001e,0xf0,0x780,0x0,0x0,0x7fff80,0x7c0000,
<a name="l02828"></a>02828       0x1f000000,0x3c00001e,0x7c00f07,0xc1e00018,0xc0,0x0,0x60e303,0x7ffff80,0x380000,0x3fffff80,0x7c0003f,0xffffc001,0xf000000f,
<a name="l02829"></a>02829       0x80000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0xff800003,0x8003ffff,0xfe0007c0,0x1ffffe,0x1e000,0x0,0x780000,0x1fffe03f,0xffff8000,
<a name="l02830"></a>02830       0x7,0x8000003c,0x3,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ffff,0xfe000000,0x0,0x0,0x3fffdf8,0xe1c00,0x0,0x0,0x0,0x0,0x1c1,
<a name="l02831"></a>02831       0xc000000f,0x7070,0x7fffc0,0x3c0001e1,0xe0000f0f,0x7878,0x3c3c0,0x1e1e00,0xf1e007,0xffc01fff,0xf007ffff,0xc03ffffe,0x1fffff0,
<a name="l02832"></a>02832       0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01fff,0xf000f001,0xfc007fff,0x3fff8,0x1fffc0,0xfffe00,0x7fff000,0x3b,0xfffc003f,
<a name="l02833"></a>02833       0xfff001ff,0xff800fff,0xfc007fff,0xe0000780,0x1e0000,0xf3fff8,0xffff780,0x7fffbc03,0xfffde01f,0xffef00ff,0xff7807ff,0xfbc0ffff,
<a name="l02834"></a>02834       0xff800fff,0xf001ffff,0x800ffffc,0x7fffe0,0x3ffff00,0xfffffc07,0xffffe03f,0xffff01ff,0xfff803ff,0xfc003c00,0x3c00ffff,0x7fff8,
<a name="l02835"></a>02835       0x3fffc0,0x1fffe00,0xffff000,0x1f,0xfffc001f,0xffbc00ff,0xfde007ff,0xef003fff,0x780007e0,0x1ffffc,0x1f800,0x0,0x0,0x0,0x0,
<a name="l02836"></a>02836       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1e,0x700003f,
<a name="l02837"></a>02837       0xffc00000,0x7fc01fff,0x9f800000,0xf80,0xf800,0x0,0x0,0xfc0000,0x0,0x7e0000f0,0xff,0xf8000fff,0xfc03ffff,0xf83ffff8,0x780,
<a name="l02838"></a>02838       0xffffe00,0x7fff000,0xf000003,0xfffe001f,0xffc00007,0xe000003f,0x0,0x0,0x0,0x3c000,0xf000003,0xe0000f83,0xffff0000,0xffff01ff,
<a name="l02839"></a>02839       0xfc0003ff,0xffe01e00,0xfff,0xf01e0007,0x803ffff0,0x7fffc00,0x3c0007c0,0x7ffffe1e,0xf078,0x7e003f,0xff000780,0x7ff,0xe0078000,
<a name="l02840"></a>02840       0x3c3ffff8,0xf000,0x1fffe00,0x7e0000,0xf803e03e,0x1f000,0x780003ff,0xfffc003c,0x7,0x800001e0,0x0,0x0,0x0,0x3fff3c01,0xefff8000,
<a name="l02841"></a>02841       0x7ffe001f,0xff78007f,0xff80003c,0x1ffc,0xf0078007,0x807ffffe,0xf000,0x78007c0,0x3ff00f,0x3c0f01e,0x1e003f,0xff0007bf,0xfe000fff,
<a name="l02842"></a>02842       0xbc003c00,0xffff8,0xfff0,0xfff3c0,0x7e0000,0x7c07c01f,0x7c000,0x7c0001ff,0xffe0001e,0xf0,0x780,0x0,0x0,0x3fff80,0x380000,
<a name="l02843"></a>02843       0x3e000000,0x7c00003e,0x7801f07,0xc1e00018,0xc0,0x0,0x39c1ce,0x7ffff00,0x1c0000,0xfffff80,0x380003f,0xffffc000,0xe0000007,
<a name="l02844"></a>02844       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0xff000007,0x1ffcf,0xfe000380,0x1ffffe,0x1e000,0x0,0x780000,0xfffe03f,0xffff8000,0x7,
<a name="l02845"></a>02845       0x8000003c,0x3,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ffff,0xfe000000,0x0,0x0,0x3dffdf8,0xe1c00,0x0,0x0,0x0,0x0,0x381,
<a name="l02846"></a>02846       0xc000001e,0xe070,0x7fff80,0x7c0001f3,0xe0000f9f,0x7cf8,0x3e7c0,0x1f3e00,0xfbe007,0xffc00fff,0xf007ffff,0xc03ffffe,0x1fffff0,
<a name="l02847"></a>02847       0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01fff,0xc000f000,0xfc007ffe,0x3fff0,0x1fff80,0xfffc00,0x7ffe000,0x79,0xfff8001f,
<a name="l02848"></a>02848       0xffe000ff,0xff0007ff,0xf8003fff,0xc0000780,0x1e0000,0xf3fff0,0x7ffe780,0x3fff3c01,0xfff9e00f,0xffcf007f,0xfe7803ff,0xf3c07ff3,
<a name="l02849"></a>02849       0xff8007ff,0xe000ffff,0x7fff8,0x3fffc0,0x1fffe00,0xfffffc07,0xffffe03f,0xffff01ff,0xfff801ff,0xf8003c00,0x3c007ffe,0x3fff0,
<a name="l02850"></a>02850       0x1fff80,0xfffc00,0x7ffe000,0x1d,0xfff8000f,0xff3c007f,0xf9e003ff,0xcf001ffe,0x780007c0,0x1efff8,0x1f000,0x0,0x0,0x0,0x0,
<a name="l02851"></a>02851       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780000,0x1e,0xf000003,
<a name="l02852"></a>02852       0xfe000000,0x1f000fff,0xfc00000,0x780,0xf000,0x0,0x0,0xf80000,0x0,0x7e0001e0,0x7f,0xf0000fff,0xfc03ffff,0xf81ffff0,0x780,
<a name="l02853"></a>02853       0x7fff800,0x1ffe000,0x1f000000,0xfff8001f,0xff000007,0xe000003e,0x0,0x0,0x0,0x3c000,0xf800003,0xc0000783,0xfff80000,0x3ffe01ff,
<a name="l02854"></a>02854       0xe00003ff,0xffe01e00,0x7ff,0xc01e0007,0x803ffff0,0x3fff800,0x3c0003c0,0x7ffffe1e,0xf078,0x7e000f,0xfe000780,0x3ff,0xc0078000,
<a name="l02855"></a>02855       0x3e1fffe0,0xf000,0x7ff800,0x7e0000,0xf803e07c,0xf800,0x780003ff,0xfffc003c,0x3,0xc00001e0,0x0,0x0,0x0,0xffe3c01,0xe7ff0000,
<a name="l02856"></a>02856       0x3ffc000f,0xfe78003f,0xfe00003c,0x7f0,0xf0078007,0x807ffffe,0xf000,0x78003e0,0xff00f,0x3c0f01e,0x1e001f,0xfe00079f,0xfc0007ff,
<a name="l02857"></a>02857       0x3c003c00,0x7ffe0,0x1ff0,0x7fe3c0,0x7e0000,0x7c07c03e,0x3e000,0x7c0001ff,0xffe0001e,0xf0,0x780,0x0,0x0,0xfff00,0x100000,
<a name="l02858"></a>02858       0x3e000000,0x7800003c,0xf800f07,0xc1e00018,0xc0,0x0,0x1f80fc,0x3fffc00,0xc0000,0x3ffff80,0x100003f,0xffffc000,0x40000002,
<a name="l02859"></a>02859       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xff,0xfc000006,0xff87,0xfc000100,0x1ffffe,0x1e000,0x0,0x780000,0x3ffc03f,0xffff8000,0x7,
<a name="l02860"></a>02860       0x8000003c,0x3,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ffff,0xfe000000,0x0,0x0,0x3dff9f8,0xe1c00,0x0,0x0,0x0,0x0,0x3ff,
<a name="l02861"></a>02861       0xf800003c,0xfffe,0x1ffe00,0x780000f3,0xc000079e,0x3cf0,0x1e780,0xf3c00,0x7bc007,0xffc003ff,0xe007ffff,0xc03ffffe,0x1fffff0,
<a name="l02862"></a>02862       0xfffff80,0x7fffe003,0xffff001f,0xfff800ff,0xffc01ffc,0xf000,0xfc001ffc,0xffe0,0x7ff00,0x3ff800,0x1ffc000,0x70,0xfff00007,
<a name="l02863"></a>02863       0xff80003f,0xfc0001ff,0xe0000fff,0x780,0x1e0000,0xf3ffe0,0x1ffc780,0xffe3c00,0x7ff1e003,0xff8f001f,0xfc7800ff,0xe3c03fe1,
<a name="l02864"></a>02864       0xff0003ff,0xc0007ffc,0x3ffe0,0x1fff00,0xfff800,0xfffffc07,0xffffe03f,0xffff01ff,0xfff800ff,0xf0003c00,0x3c003ffc,0x1ffe0,
<a name="l02865"></a>02865       0xfff00,0x7ff800,0x3ffc000,0x38,0xfff00007,0xfe3c003f,0xf1e001ff,0x8f000ffc,0x780007c0,0x1e7ff0,0x1f000,0x0,0x0,0x0,0x0,0x0,
<a name="l02866"></a>02866       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,
<a name="l02867"></a>02867       0x1fc,0x0,0x780,0xf000,0x0,0x0,0x1f80000,0x0,0x1e0,0x1f,0xc0000000,0x0,0x1ff80,0x0,0xffc000,0x7f8000,0x0,0x3fe00007,0xfc000000,
<a name="l02868"></a>02868       0x7e,0x0,0x0,0x0,0x0,0x7c00000,0x0,0x0,0xff00000,0x0,0x0,0xfe,0x0,0x0,0x3fc000,0x0,0x0,0x0,0x3,0xf8000000,0xff,0xc0000000,
<a name="l02869"></a>02869       0x1ff00,0x0,0x1fe000,0x0,0x0,0x0,0x0,0x3c,0x3,0xc00001e0,0x0,0x0,0x0,0x3f80000,0x1fc0000,0x7f00003,0xf8000007,0xf0000000,
<a name="l02870"></a>02870       0x0,0xf0000000,0x0,0xf000,0x0,0x0,0x0,0x7,0xf8000787,0xf00001fc,0x3c000000,0x7f80,0x0,0x1f8000,0x0,0x0,0x0,0x7c000000,0x1e,
<a name="l02871"></a>02871       0xf0,0x780,0x0,0x0,0x3fc00,0x0,0x3c000000,0x7800003c,0xf000601,0xc00018,0xc0,0x0,0x0,0x3fe000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02872"></a>02872       0x0,0x0,0x0,0x0,0x0,0x0,0xf,0xf0000000,0x7e03,0xf0000000,0x0,0x0,0x0,0x0,0xfe0000,0x0,0x0,0x3c,0x2007,0x80000000,0x0,0x0,
<a name="l02873"></a>02873       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c7e0f0,0xe1c00,0x0,0x3800000,0x0,0x0,0x3ff,0xf8000078,0xfffe,0x7f800,0x0,0x0,0x0,0x0,
<a name="l02874"></a>02874       0x0,0x0,0xff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f0,0x3f80,0x1fc00,0xfe000,0x7f0000,0x70,0x3fc00001,0xfe00000f,0xf000007f,
<a name="l02875"></a>02875       0x800003fc,0x0,0x0,0xff00,0x7f0000,0x3f80000,0x1fc00000,0xfe000007,0xf000003f,0x80001f80,0xfc00007f,0xfe0,0x7f00,0x3f800,
<a name="l02876"></a>02876       0x1fc000,0x0,0x0,0x0,0x3f,0xc0000000,0xff0,0x7f80,0x3fc00,0x1fe000,0xff0000,0x78,0x3fc00001,0xf800000f,0xc000007e,0x3f0,0x7c0,
<a name="l02877"></a>02877       0x1e1fc0,0x1f000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02878"></a>02878       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,0x3c0,0x1e000,0x0,0x0,0x1f00000,0x0,0x3c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02879"></a>02879       0x0,0x0,0x7c,0x0,0x0,0x0,0x0,0x3e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0xe0000000,0x0,0x0,0x0,
<a name="l02880"></a>02880       0x0,0x0,0x0,0x0,0x3c,0x1,0xe00001e0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0000000,0x0,0xf000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,
<a name="l02881"></a>02881       0x0,0x0,0x0,0x0,0x0,0x0,0x78000000,0x1e,0xf0,0x780,0x0,0x0,0x0,0x0,0x3c000000,0x78000078,0xf000000,0x18,0xc0,0x0,0x0,0x0,
<a name="l02882"></a>02882       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x180000,0x0,0x0,0x3c,0x3c0f,0x80000000,
<a name="l02883"></a>02883       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0xe1c00,0x0,0x1800000,0x0,0x0,0x3ff,0xf80000f0,0xfffe,0x0,0x0,0x0,0x0,
<a name="l02884"></a>02884       0x0,0x0,0x0,0xc,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02885"></a>02885       0x0,0x0,0xc,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30,0x0,0x0,0x0,0x0,0x780,0x1e0000,0x1e000,0x0,0x0,0x0,
<a name="l02886"></a>02886       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,
<a name="l02887"></a>02887       0x0,0x0,0x3c0,0x1e000,0x0,0x0,0x1f00000,0x0,0x3c0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7c,0x0,0x0,0x0,0x0,0x1f80000,
<a name="l02888"></a>02888       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3,0xf0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c,0x1,0xe00001e0,0x0,
<a name="l02889"></a>02889       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0xe0000000,0x0,0xf000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x0,0xf8000000,
<a name="l02890"></a>02890       0x1f,0xf0,0xf80,0x0,0x0,0x0,0x0,0x78000000,0xf8000078,0x1e000000,0x8,0x40,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02891"></a>02891       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x180000,0x0,0x0,0x3c,0x3fff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02892"></a>02892       0x0,0x3c00000,0xe1c00,0x0,0x1c00000,0x0,0x0,0x1,0xc00001e0,0x70,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02893"></a>02893       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02894"></a>02894       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf80,0x1e0000,0x3e000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02895"></a>02895       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,0x1e0,0x3c000,0x0,0x0,0x1f00000,
<a name="l02896"></a>02896       0x0,0x780,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7c,0x0,0x0,0x0,0x0,0xfe0100,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02897"></a>02897       0x0,0x0,0x0,0x0,0xf8000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f,0xf0000000,0xf0007fe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0xe0000000,
<a name="l02898"></a>02898       0x0,0xf000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x0,0xf0000000,0x1f,0x800000f0,0x1f80,0x0,0x0,0x0,0x0,
<a name="l02899"></a>02899       0x78000000,0xf0000070,0x1c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02900"></a>02900       0x0,0x0,0x0,0x0,0x180000,0x0,0x0,0x3c,0x3ffe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0xe1c00,0x0,0xe00000,
<a name="l02901"></a>02901       0x0,0x0,0x1,0xc00003ff,0xe0000070,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02902"></a>02902       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02903"></a>02903       0x0,0x0,0x0,0xf00,0x1e0000,0x3c000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02904"></a>02904       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,0x1e0,0x7c000,0x0,0x0,0x1e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02905"></a>02905       0x0,0x0,0x0,0x0,0x0,0x78,0x0,0x0,0x0,0x0,0x7fff80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x78000000,
<a name="l02906"></a>02906       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f,0xf0000000,0x7fe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x4003,0xe0000000,0x0,0x1f000,0x0,0x0,
<a name="l02907"></a>02907       0x0,0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x1,0xf0000000,0xf,0xfc0000f0,0x3ff00,0x0,0x0,0x0,0x0,0x70000001,0xf00000e0,
<a name="l02908"></a>02908       0x1c000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x180000,
<a name="l02909"></a>02909       0x0,0x0,0x3c,0xff8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0xe1c00,0x0,0xe00000,0x0,0x0,0x1,0xc00003ff,
<a name="l02910"></a>02910       0xe0000070,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02911"></a>02911       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1f00,0x1e0000,
<a name="l02912"></a>02912       0x7c000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02913"></a>02913       0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,0xf0,0x78000,0x0,0x0,0x3e00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf8,0x0,
<a name="l02914"></a>02914       0x0,0x0,0x0,0x1fff80,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f,
<a name="l02915"></a>02915       0xf0000000,0x7fe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x780f,0xc0000000,0x0,0x3e000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,
<a name="l02916"></a>02916       0x0,0x0,0x0,0x0,0x3,0xe0000000,0xf,0xfc0000f0,0x3ff00,0x0,0x0,0x0,0x0,0xf0000103,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02917"></a>02917       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x180000,0x0,0x0,0x3c,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02918"></a>02918       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x0,0x0,0x21e00000,0x0,0x0,0x1,0xc00003ff,0xe0000070,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10f,
<a name="l02919"></a>02919       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x10f,0x0,
<a name="l02920"></a>02920       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e00,0x1e0000,0xf8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02921"></a>02921       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30000000,0x0,0x0,
<a name="l02922"></a>02922       0xf8,0xf8000,0x0,0x0,0x3c00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0,0x0,0x0,0x0,0x0,0x1fe00,0x0,0x0,0x0,0x0,
<a name="l02923"></a>02923       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3f,0xf0000000,0x7fe0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02924"></a>02924       0x0,0x0,0x7fff,0xc0000000,0x0,0x3ffe000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x7f,0xe0000000,0x7,0xfc0000f0,
<a name="l02925"></a>02925       0x3fe00,0x0,0x0,0x0,0x0,0x600001ff,0xe0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02926"></a>02926       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x180000,0x0,0x0,0x3c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x0,0x0,
<a name="l02927"></a>02927       0x3fe00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02928"></a>02928       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02929"></a>02929       0x0,0x0,0x0,0x0,0x7fe00,0x1e0000,0x1ff8000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02930"></a>02930       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02931"></a>02931       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02932"></a>02932       0x0,0x0,0x0,0x0,0x1fffffe0,0x0,0x0,0x0,0x0,0x0,0x0,0x7fff,0x80000000,0x0,0x3ffc000,0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,
<a name="l02933"></a>02933       0x0,0x0,0x0,0x0,0x7f,0xc0000000,0x0,0xfc0000f0,0x3f000,0x0,0x0,0x0,0x0,0x1ff,0xc0000000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02934"></a>02934       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02935"></a>02935       0x0,0x0,0x0,0x0,0x0,0x3c00000,0x0,0x0,0x3fc00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fe,0x0,0x0,0x0,0x0,0x0,
<a name="l02936"></a>02936       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fe,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02937"></a>02937       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7fc00,0x1e0000,0x1ff0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02938"></a>02938       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02939"></a>02939       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02940"></a>02940       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fffffe0,0x0,0x0,0x0,0x0,0x0,0x0,0x3ffe,0x0,0x0,0x3ff8000,0x0,0x0,0x0,
<a name="l02941"></a>02941       0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x7f,0x80000000,0x0,0xf0,0x0,0x0,0x0,0x0,0x0,0x1ff,0x80000000,0x0,0x0,0x0,0x0,
<a name="l02942"></a>02942       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02943"></a>02943       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x0,0x0,0x3f800000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fc,0x0,
<a name="l02944"></a>02944       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fc,0x0,0x0,
<a name="l02945"></a>02945       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f800,0x1e0000,0x1fe0000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02946"></a>02946       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02947"></a>02947       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02948"></a>02948       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fffffe0,0x0,0x0,0x0,0x0,0x0,0x0,0x7f8,0x0,0x0,0x3fe0000,
<a name="l02949"></a>02949       0x0,0x0,0x0,0x0,0x780,0x0,0x3c000000,0x0,0x0,0x0,0x0,0x0,0x7e,0x0,0x0,0xf0,0x0,0x0,0x0,0x0,0x0,0xfe,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02950"></a>02950       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02951"></a>02951       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02952"></a>02952       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02953"></a>02953       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x7e000,0x1e0000,0x1f80000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02954"></a>02954       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02955"></a>02955       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02956"></a>02956       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fffffe0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02957"></a>02957       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02958"></a>02958       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02959"></a>02959       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02960"></a>02960       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02961"></a>02961       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02962"></a>02962       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02963"></a>02963       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02964"></a>02964       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xf0,0x0,0x0,0x0,
<a name="l02965"></a>02965       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02966"></a>02966       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02967"></a>02967       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
<a name="l02968"></a>02968       0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0 };
<a name="l02969"></a>02969 
<a name="l02970"></a>02970     <span class="comment">// Definition of a 40x38 &#39;danger&#39; color logo</span>
<a name="l02971"></a>02971     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> logo40x38[4576] = {
<a name="l02972"></a>02972       177,200,200,200,3,123,123,0,36,200,200,200,1,123,123,0,2,255,255,0,1,189,189,189,1,0,0,0,34,200,200,200,
<a name="l02973"></a>02973       1,123,123,0,4,255,255,0,1,189,189,189,1,0,0,0,1,123,123,123,32,200,200,200,1,123,123,0,5,255,255,0,1,0,0,
<a name="l02974"></a>02974       0,2,123,123,123,30,200,200,200,1,123,123,0,6,255,255,0,1,189,189,189,1,0,0,0,2,123,123,123,29,200,200,200,
<a name="l02975"></a>02975       1,123,123,0,7,255,255,0,1,0,0,0,2,123,123,123,28,200,200,200,1,123,123,0,8,255,255,0,1,189,189,189,1,0,0,0,
<a name="l02976"></a>02976       2,123,123,123,27,200,200,200,1,123,123,0,9,255,255,0,1,0,0,0,2,123,123,123,26,200,200,200,1,123,123,0,10,255,
<a name="l02977"></a>02977       255,0,1,189,189,189,1,0,0,0,2,123,123,123,25,200,200,200,1,123,123,0,3,255,255,0,1,189,189,189,3,0,0,0,1,189,
<a name="l02978"></a>02978       189,189,3,255,255,0,1,0,0,0,2,123,123,123,24,200,200,200,1,123,123,0,4,255,255,0,5,0,0,0,3,255,255,0,1,189,
<a name="l02979"></a>02979       189,189,1,0,0,0,2,123,123,123,23,200,200,200,1,123,123,0,4,255,255,0,5,0,0,0,4,255,255,0,1,0,0,0,2,123,123,123,
<a name="l02980"></a>02980       22,200,200,200,1,123,123,0,5,255,255,0,5,0,0,0,4,255,255,0,1,189,189,189,1,0,0,0,2,123,123,123,21,200,200,200,
<a name="l02981"></a>02981       1,123,123,0,5,255,255,0,5,0,0,0,5,255,255,0,1,0,0,0,2,123,123,123,20,200,200,200,1,123,123,0,6,255,255,0,5,0,0,
<a name="l02982"></a>02982       0,5,255,255,0,1,189,189,189,1,0,0,0,2,123,123,123,19,200,200,200,1,123,123,0,6,255,255,0,1,123,123,0,3,0,0,0,1,
<a name="l02983"></a>02983       123,123,0,6,255,255,0,1,0,0,0,2,123,123,123,18,200,200,200,1,123,123,0,7,255,255,0,1,189,189,189,3,0,0,0,1,189,
<a name="l02984"></a>02984       189,189,6,255,255,0,1,189,189,189,1,0,0,0,2,123,123,123,17,200,200,200,1,123,123,0,8,255,255,0,3,0,0,0,8,255,255,
<a name="l02985"></a>02985       0,1,0,0,0,2,123,123,123,16,200,200,200,1,123,123,0,9,255,255,0,1,123,123,0,1,0,0,0,1,123,123,0,8,255,255,0,1,189,
<a name="l02986"></a>02986       189,189,1,0,0,0,2,123,123,123,15,200,200,200,1,123,123,0,9,255,255,0,1,189,189,189,1,0,0,0,1,189,189,189,9,255,255,
<a name="l02987"></a>02987       0,1,0,0,0,2,123,123,123,14,200,200,200,1,123,123,0,11,255,255,0,1,0,0,0,10,255,255,0,1,189,189,189,1,0,0,0,2,123,
<a name="l02988"></a>02988       123,123,13,200,200,200,1,123,123,0,23,255,255,0,1,0,0,0,2,123,123,123,12,200,200,200,1,123,123,0,11,255,255,0,1,189,
<a name="l02989"></a>02989       189,189,2,0,0,0,1,189,189,189,9,255,255,0,1,189,189,189,1,0,0,0,2,123,123,123,11,200,200,200,1,123,123,0,11,255,255,
<a name="l02990"></a>02990       0,4,0,0,0,10,255,255,0,1,0,0,0,2,123,123,123,10,200,200,200,1,123,123,0,12,255,255,0,4,0,0,0,10,255,255,0,1,189,189,
<a name="l02991"></a>02991       189,1,0,0,0,2,123,123,123,9,200,200,200,1,123,123,0,12,255,255,0,1,189,189,189,2,0,0,0,1,189,189,189,11,255,255,0,1,
<a name="l02992"></a>02992       0,0,0,2,123,123,123,9,200,200,200,1,123,123,0,27,255,255,0,1,0,0,0,3,123,123,123,8,200,200,200,1,123,123,0,26,255,
<a name="l02993"></a>02993       255,0,1,189,189,189,1,0,0,0,3,123,123,123,9,200,200,200,1,123,123,0,24,255,255,0,1,189,189,189,1,0,0,0,4,123,123,
<a name="l02994"></a>02994       123,10,200,200,200,1,123,123,0,24,0,0,0,5,123,123,123,12,200,200,200,27,123,123,123,14,200,200,200,25,123,123,123,86,
<a name="l02995"></a>02995       200,200,200,91,49,124,118,124,71,32,124,95,49,56,114,52,82,121,0};
<a name="l02996"></a>02996 
<a name="l02997"></a>02997     <span class="comment">// Display a warning message if parameter &#39;cond&#39; is true.</span>
<a name="l02998"></a>02998     <span class="keyword">inline</span> <span class="keywordtype">void</span> warn(<span class="keyword">const</span> <span class="keywordtype">bool</span> cond, <span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l02999"></a>02999       <span class="keywordflow">if</span> (cimg::exception_mode()&gt;=1 &amp;&amp; cond) {
<a name="l03000"></a>03000         std::va_list ap;
<a name="l03001"></a>03001         va_start(ap,format);
<a name="l03002"></a>03002         std::fprintf(stderr,<span class="stringliteral">&quot;\n&lt;CImg Warning&gt; &quot;</span>);
<a name="l03003"></a>03003         std::vfprintf(stderr,format,ap);
<a name="l03004"></a>03004         std::fputc(<span class="charliteral">&#39;\n&#39;</span>,stderr);
<a name="l03005"></a>03005         va_end(ap);
<a name="l03006"></a>03006       }
<a name="l03007"></a>03007     }
<a name="l03008"></a>03008 
<a name="l03009"></a>03009     <span class="keyword">inline</span> <span class="keywordtype">int</span> xln(<span class="keyword">const</span> <span class="keywordtype">int</span> x) {
<a name="l03010"></a>03010       <span class="keywordflow">return</span> x&gt;0?(int)(1+std::log10((<span class="keywordtype">double</span>)x)):1;
<a name="l03011"></a>03011     }
<a name="l03012"></a>03012 
<a name="l03013"></a>03013     <span class="keyword">inline</span> <span class="keywordtype">char</span> uncase(<span class="keyword">const</span> <span class="keywordtype">char</span> x) {
<a name="l03014"></a>03014       <span class="keywordflow">return</span> (<span class="keywordtype">char</span>)((x&lt;&#39;A&#39;||x&gt;<span class="charliteral">&#39;Z&#39;</span>)?x:x-<span class="charliteral">&#39;A&#39;</span>+<span class="charliteral">&#39;a&#39;</span>);
<a name="l03015"></a>03015     }
<a name="l03016"></a>03016 
<a name="l03017"></a>03017     <span class="keyword">inline</span> <span class="keywordtype">float</span> atof(<span class="keyword">const</span> <span class="keywordtype">char</span> *str) {
<a name="l03018"></a>03018       <span class="keywordtype">float</span> x=0,y=1;
<a name="l03019"></a>03019       <span class="keywordflow">if</span> (!str) <span class="keywordflow">return</span> 0; <span class="keywordflow">else</span> { std::sscanf(str,<span class="stringliteral">&quot;%g/%g&quot;</span>,&amp;x,&amp;y); <span class="keywordflow">return</span> x/y; }
<a name="l03020"></a>03020     }
<a name="l03021"></a>03021 
<a name="l03022"></a>03022     <span class="keyword">inline</span> <span class="keywordtype">int</span> strlen(<span class="keyword">const</span> <span class="keywordtype">char</span> *s) {
<a name="l03023"></a>03023       <span class="keywordflow">if</span> (s) { <span class="keywordtype">int</span> k; <span class="keywordflow">for</span> (k=0; s[k]; k++) ; <span class="keywordflow">return</span> k; }
<a name="l03024"></a>03024       <span class="keywordflow">return</span> -1;
<a name="l03025"></a>03025     }
<a name="l03026"></a>03026 
<a name="l03027"></a>03027     <span class="keyword">inline</span> <span class="keywordtype">int</span> strncmp(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1,<span class="keyword">const</span> <span class="keywordtype">char</span> *s2,<span class="keyword">const</span> <span class="keywordtype">int</span> l) {
<a name="l03028"></a>03028       <span class="keywordflow">if</span> (s1 &amp;&amp; s2) { <span class="keywordtype">int</span> n=0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;l; k++) n+=std::abs(s1[k] - s2[k]); <span class="keywordflow">return</span> n; }
<a name="l03029"></a>03029       <span class="keywordflow">return</span> 0;
<a name="l03030"></a>03030     }
<a name="l03031"></a>03031 
<a name="l03032"></a>03032     <span class="keyword">inline</span> <span class="keywordtype">int</span> strncasecmp(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1,<span class="keyword">const</span> <span class="keywordtype">char</span> *s2,<span class="keyword">const</span> <span class="keywordtype">int</span> l) {
<a name="l03033"></a>03033       <span class="keywordflow">if</span> (s1 &amp;&amp; s2) { <span class="keywordtype">int</span> n=0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;l; k++) n+=std::abs(uncase(s1[k])-uncase(s2[k])); <span class="keywordflow">return</span> n; }
<a name="l03034"></a>03034       <span class="keywordflow">return</span> 0;
<a name="l03035"></a>03035     }
<a name="l03036"></a>03036 
<a name="l03037"></a>03037     <span class="keyword">inline</span> <span class="keywordtype">int</span> strcmp(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1,<span class="keyword">const</span> <span class="keywordtype">char</span> *s2) {
<a name="l03038"></a>03038       <span class="keyword">const</span> <span class="keywordtype">int</span> l1 = cimg::strlen(s1), l2 = cimg::strlen(s2);
<a name="l03039"></a>03039       <span class="keywordflow">return</span> cimg::strncmp(s1,s2,1+(l1&lt;l2?l1:l2));
<a name="l03040"></a>03040     }
<a name="l03041"></a>03041 
<a name="l03042"></a>03042     <span class="keyword">inline</span> <span class="keywordtype">int</span> strcasecmp(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1,<span class="keyword">const</span> <span class="keywordtype">char</span> *s2) {
<a name="l03043"></a>03043       <span class="keyword">const</span> <span class="keywordtype">int</span> l1 = cimg::strlen(s1), l2 = cimg::strlen(s2);
<a name="l03044"></a>03044       <span class="keywordflow">return</span> cimg::strncasecmp(s1,s2,1+(l1&lt;l2?l1:l2));
<a name="l03045"></a>03045     }
<a name="l03046"></a>03046 
<a name="l03047"></a>03047     <span class="keyword">inline</span> <span class="keywordtype">int</span> strfind(<span class="keyword">const</span> <span class="keywordtype">char</span> *s,<span class="keyword">const</span> <span class="keywordtype">char</span> c) {
<a name="l03048"></a>03048       <span class="keywordflow">if</span> (s) {
<a name="l03049"></a>03049         <span class="keywordtype">int</span> l; <span class="keywordflow">for</span> (l=cimg::strlen(s); l&gt;=0 &amp;&amp; s[l]!=c; l--) ;
<a name="l03050"></a>03050         <span class="keywordflow">return</span> l;
<a name="l03051"></a>03051       }
<a name="l03052"></a>03052       <span class="keywordflow">return</span> -1;
<a name="l03053"></a>03053     }
<a name="l03054"></a>03054 
<a name="l03055"></a>03055     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* basename(<span class="keyword">const</span> <span class="keywordtype">char</span> *s)  {
<a name="l03056"></a>03056       <span class="keywordflow">return</span> (cimg_OS!=2)?(s?s+1+cimg::strfind(s,<span class="charliteral">&#39;/&#39;</span>):0):(s?s+1+cimg::strfind(s,<span class="stringliteral">&#39;\\&#39;</span>):0);
<a name="l03057"></a>03057     }
<a name="l03058"></a>03058 
<a name="l03059"></a>03059     <span class="keyword">inline</span> <span class="keywordtype">void</span> system(<span class="keyword">const</span> <span class="keywordtype">char</span> *command, <span class="keyword">const</span> <span class="keywordtype">char</span> *module_name=0) {
<a name="l03060"></a>03060 <span class="preprocessor">#if cimg_OS==2</span>
<a name="l03061"></a>03061 <span class="preprocessor"></span>      PROCESS_INFORMATION pi;
<a name="l03062"></a>03062       STARTUPINFO si;
<a name="l03063"></a>03063       std::memset(&amp;pi, 0, <span class="keyword">sizeof</span>(PROCESS_INFORMATION));
<a name="l03064"></a>03064       std::memset(&amp;si, 0, <span class="keyword">sizeof</span>(STARTUPINFO));
<a name="l03065"></a>03065       GetStartupInfo(&amp;si);
<a name="l03066"></a>03066       si.cb = <span class="keyword">sizeof</span>(si);
<a name="l03067"></a>03067       si.wShowWindow = SW_HIDE;
<a name="l03068"></a>03068       si.dwFlags |= SW_HIDE;
<a name="l03069"></a>03069       <span class="keyword">const</span> BOOL res = CreateProcess((LPCTSTR)module_name,(LPTSTR)command,0,0,FALSE,0,0,0,&amp;si,&amp;pi);
<a name="l03070"></a>03070       <span class="keywordflow">if</span> (res) {
<a name="l03071"></a>03071         WaitForSingleObject(pi.hProcess, INFINITE);
<a name="l03072"></a>03072         CloseHandle(pi.hThread);
<a name="l03073"></a>03073         CloseHandle(pi.hProcess);
<a name="l03074"></a>03074       } <span class="keywordflow">else</span>
<a name="l03075"></a>03075 <span class="preprocessor">#endif</span>
<a name="l03076"></a>03076 <span class="preprocessor"></span>      std::system(command);
<a name="l03077"></a>03077       command=module_name=0;
<a name="l03078"></a>03078     }
<a name="l03079"></a>03079 
<a name="l03081"></a>03081 
<a name="l03102"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0">03102</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">imagemagick_path</a>() {
<a name="l03103"></a>03103       <span class="keyword">static</span> <span class="keywordtype">char</span> *st_imagemagick_path = 0;
<a name="l03104"></a>03104       <span class="keywordflow">if</span> (!st_imagemagick_path) {
<a name="l03105"></a>03105         st_imagemagick_path = <span class="keyword">new</span> <span class="keywordtype">char</span>[1024];
<a name="l03106"></a>03106         <span class="keywordtype">bool</span> path_found = <span class="keyword">false</span>;
<a name="l03107"></a>03107         std::FILE *file = 0;
<a name="l03108"></a>03108 <span class="preprocessor">#ifdef cimg_imagemagick_path</span>
<a name="l03109"></a>03109 <span class="preprocessor"></span>        std::strcpy(st_imagemagick_path,cimg_imagemagick_path);
<a name="l03110"></a>03110         <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03111"></a>03111 <span class="preprocessor">#endif</span>
<a name="l03112"></a>03112 <span class="preprocessor"></span><span class="preprocessor">#if cimg_OS==2</span>
<a name="l03113"></a>03113 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03114"></a>03114           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;.\\convert.exe&quot;</span>);
<a name="l03115"></a>03115           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03116"></a>03116         }
<a name="l03117"></a>03117         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03118"></a>03118           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\IMAGEM~1.%u-Q\\convert.exe&quot;</span>,k);
<a name="l03119"></a>03119           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03120"></a>03120         }}
<a name="l03121"></a>03121         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03122"></a>03122           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\IMAGEM~1.%u\\convert.exe&quot;</span>,k);
<a name="l03123"></a>03123           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03124"></a>03124         }}
<a name="l03125"></a>03125         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03126"></a>03126           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\IMAGEM~1.%u-Q\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03127"></a>03127           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03128"></a>03128         }}
<a name="l03129"></a>03129         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03130"></a>03130           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\IMAGEM~1.%u\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03131"></a>03131           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03132"></a>03132         }}
<a name="l03133"></a>03133         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03134"></a>03134           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\IMAGEM~1.%u-Q\\convert.exe&quot;</span>,k);
<a name="l03135"></a>03135           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03136"></a>03136         }}
<a name="l03137"></a>03137         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03138"></a>03138           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\IMAGEM~1.%u\\convert.exe&quot;</span>,k);
<a name="l03139"></a>03139           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03140"></a>03140         }}
<a name="l03141"></a>03141         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03142"></a>03142           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\IMAGEM~1.%u-Q\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03143"></a>03143           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03144"></a>03144         }}
<a name="l03145"></a>03145         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03146"></a>03146           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\IMAGEM~1.%u\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03147"></a>03147           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03148"></a>03148         }}
<a name="l03149"></a>03149         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03150"></a>03150           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\IMAGEM~1.%u-Q\\convert.exe&quot;</span>,k);
<a name="l03151"></a>03151           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03152"></a>03152         }}
<a name="l03153"></a>03153         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03154"></a>03154           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\IMAGEM~1.%u\\convert.exe&quot;</span>,k);
<a name="l03155"></a>03155           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03156"></a>03156         }}
<a name="l03157"></a>03157         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03158"></a>03158           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\IMAGEM~1.%u-Q\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03159"></a>03159           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03160"></a>03160         }}
<a name="l03161"></a>03161         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03162"></a>03162           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\IMAGEM~1.%u\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03163"></a>03163           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03164"></a>03164         }}
<a name="l03165"></a>03165         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03166"></a>03166           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\IMAGEM~1.%u-Q\\convert.exe&quot;</span>,k);
<a name="l03167"></a>03167           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03168"></a>03168         }}
<a name="l03169"></a>03169         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03170"></a>03170           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\IMAGEM~1.%u\\convert.exe&quot;</span>,k);
<a name="l03171"></a>03171           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03172"></a>03172         }}
<a name="l03173"></a>03173         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03174"></a>03174           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\IMAGEM~1.%u-Q\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03175"></a>03175           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03176"></a>03176         }}
<a name="l03177"></a>03177         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03178"></a>03178           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\IMAGEM~1.%u\\VISUA~1\\BIN\\convert.exe&quot;</span>,k);
<a name="l03179"></a>03179           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03180"></a>03180         }}
<a name="l03181"></a>03181         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_imagemagick_path,<span class="stringliteral">&quot;convert.exe&quot;</span>);
<a name="l03182"></a>03182 <span class="preprocessor">#else</span>
<a name="l03183"></a>03183 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03184"></a>03184           std::sprintf(st_imagemagick_path,<span class="stringliteral">&quot;./convert&quot;</span>);
<a name="l03185"></a>03185           <span class="keywordflow">if</span> ((file=std::fopen(st_imagemagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03186"></a>03186         }
<a name="l03187"></a>03187         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_imagemagick_path,<span class="stringliteral">&quot;convert&quot;</span>);
<a name="l03188"></a>03188 <span class="preprocessor">#endif</span>
<a name="l03189"></a>03189 <span class="preprocessor"></span>      }
<a name="l03190"></a>03190       <span class="keywordflow">return</span> st_imagemagick_path;
<a name="l03191"></a>03191     }
<a name="l03192"></a>03192 
<a name="l03194"></a>03194 
<a name="l03215"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b">03215</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">graphicsmagick_path</a>() {
<a name="l03216"></a>03216       <span class="keyword">static</span> <span class="keywordtype">char</span> *st_graphicsmagick_path = 0;
<a name="l03217"></a>03217       <span class="keywordflow">if</span> (!st_graphicsmagick_path) {
<a name="l03218"></a>03218         st_graphicsmagick_path = <span class="keyword">new</span> <span class="keywordtype">char</span>[1024];
<a name="l03219"></a>03219         <span class="keywordtype">bool</span> path_found = <span class="keyword">false</span>;
<a name="l03220"></a>03220         std::FILE *file = 0;
<a name="l03221"></a>03221 <span class="preprocessor">#ifdef cimg_graphicsmagick_path</span>
<a name="l03222"></a>03222 <span class="preprocessor"></span>        std::strcpy(st_graphicsmagick_path,cimg_graphicsmagick_path);
<a name="l03223"></a>03223         <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03224"></a>03224 <span class="preprocessor">#endif</span>
<a name="l03225"></a>03225 <span class="preprocessor"></span><span class="preprocessor">#if cimg_OS==2</span>
<a name="l03226"></a>03226 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03227"></a>03227           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;.\\gm.exe&quot;</span>);
<a name="l03228"></a>03228           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03229"></a>03229         }
<a name="l03230"></a>03230         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03231"></a>03231           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\GRAPHI~1.%u-Q\\gm.exe&quot;</span>,k);
<a name="l03232"></a>03232           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03233"></a>03233         }}
<a name="l03234"></a>03234         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03235"></a>03235           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\GRAPHI~1.%u\\gm.exe&quot;</span>,k);
<a name="l03236"></a>03236           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03237"></a>03237         }}
<a name="l03238"></a>03238         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03239"></a>03239           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\GRAPHI~1.%u-Q\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03240"></a>03240           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03241"></a>03241         }}
<a name="l03242"></a>03242         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03243"></a>03243           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\GRAPHI~1.%u\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03244"></a>03244           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03245"></a>03245         }}
<a name="l03246"></a>03246         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03247"></a>03247           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\GRAPHI~1.%u-Q\\gm.exe&quot;</span>,k);
<a name="l03248"></a>03248           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03249"></a>03249         }}
<a name="l03250"></a>03250         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03251"></a>03251           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\GRAPHI~1.%u\\gm.exe&quot;</span>,k);
<a name="l03252"></a>03252           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03253"></a>03253         }}
<a name="l03254"></a>03254         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03255"></a>03255           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\GRAPHI~1.%u-Q\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03256"></a>03256           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03257"></a>03257         }}
<a name="l03258"></a>03258         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03259"></a>03259           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\GRAPHI~1.%u\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03260"></a>03260           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03261"></a>03261         }}
<a name="l03262"></a>03262         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03263"></a>03263           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\GRAPHI~1.%u-Q\\gm.exe&quot;</span>,k);
<a name="l03264"></a>03264           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03265"></a>03265         }}
<a name="l03266"></a>03266         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03267"></a>03267           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\GRAPHI~1.%u\\gm.exe&quot;</span>,k);
<a name="l03268"></a>03268           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03269"></a>03269         }}
<a name="l03270"></a>03270         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03271"></a>03271           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\GRAPHI~1.%u-Q\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03272"></a>03272           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03273"></a>03273         }}
<a name="l03274"></a>03274         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03275"></a>03275           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\GRAPHI~1.%u\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03276"></a>03276           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03277"></a>03277         }}
<a name="l03278"></a>03278         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03279"></a>03279           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\GRAPHI~1.%u-Q\\gm.exe&quot;</span>,k);
<a name="l03280"></a>03280           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03281"></a>03281         }}
<a name="l03282"></a>03282         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03283"></a>03283           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\GRAPHI~1.%u\\gm.exe&quot;</span>,k);
<a name="l03284"></a>03284           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03285"></a>03285         }}
<a name="l03286"></a>03286         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03287"></a>03287           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\GRAPHI~1.%u-Q\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03288"></a>03288           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03289"></a>03289         }}
<a name="l03290"></a>03290         { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;=9 &amp;&amp; !path_found; k++) {
<a name="l03291"></a>03291           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\GRAPHI~1.%u\\VISUA~1\\BIN\\gm.exe&quot;</span>,k);
<a name="l03292"></a>03292           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03293"></a>03293         }}
<a name="l03294"></a>03294         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_graphicsmagick_path,<span class="stringliteral">&quot;gm.exe&quot;</span>);
<a name="l03295"></a>03295 <span class="preprocessor">#else</span>
<a name="l03296"></a>03296 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03297"></a>03297           std::sprintf(st_graphicsmagick_path,<span class="stringliteral">&quot;./gm&quot;</span>);
<a name="l03298"></a>03298           <span class="keywordflow">if</span> ((file=std::fopen(st_graphicsmagick_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03299"></a>03299         }
<a name="l03300"></a>03300         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_graphicsmagick_path,<span class="stringliteral">&quot;gm&quot;</span>);
<a name="l03301"></a>03301 <span class="preprocessor">#endif</span>
<a name="l03302"></a>03302 <span class="preprocessor"></span>      }
<a name="l03303"></a>03303       <span class="keywordflow">return</span> st_graphicsmagick_path;
<a name="l03304"></a>03304     }
<a name="l03305"></a>03305 
<a name="l03307"></a>03307 
<a name="l03328"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10">03328</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">medcon_path</a>() {
<a name="l03329"></a>03329       <span class="keyword">static</span> <span class="keywordtype">char</span> *st_medcon_path = 0;
<a name="l03330"></a>03330       <span class="keywordflow">if</span> (!st_medcon_path) {
<a name="l03331"></a>03331         st_medcon_path = <span class="keyword">new</span> <span class="keywordtype">char</span>[1024];
<a name="l03332"></a>03332         <span class="keywordtype">bool</span> path_found = <span class="keyword">false</span>;
<a name="l03333"></a>03333         std::FILE *file = 0;
<a name="l03334"></a>03334 <span class="preprocessor">#ifdef cimg_medcon_path</span>
<a name="l03335"></a>03335 <span class="preprocessor"></span>        std::strcpy(st_medcon_path,cimg_medcon_path);
<a name="l03336"></a>03336         <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03337"></a>03337 <span class="preprocessor">#endif</span>
<a name="l03338"></a>03338 <span class="preprocessor"></span><span class="preprocessor">#if cimg_OS==2</span>
<a name="l03339"></a>03339 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03340"></a>03340           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;.\\medcon.bat&quot;</span>);
<a name="l03341"></a>03341           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03342"></a>03342         }
<a name="l03343"></a>03343         <span class="keywordflow">if</span> (!path_found) {
<a name="l03344"></a>03344           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;.\\medcon.exe&quot;</span>);
<a name="l03345"></a>03345           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03346"></a>03346         }
<a name="l03347"></a>03347         <span class="keywordflow">if</span> (!path_found) {
<a name="l03348"></a>03348           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\XMedCon\\bin\\medcon.bat&quot;</span>);
<a name="l03349"></a>03349           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03350"></a>03350         }
<a name="l03351"></a>03351         <span class="keywordflow">if</span> (!path_found) {
<a name="l03352"></a>03352           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;C:\\PROGRA~1\\XMedCon\\bin\\medcon.exe&quot;</span>);
<a name="l03353"></a>03353           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03354"></a>03354         }
<a name="l03355"></a>03355         <span class="keywordflow">if</span> (!path_found) {
<a name="l03356"></a>03356           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\XMedCon\\bin\\medcon.bat&quot;</span>);
<a name="l03357"></a>03357           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03358"></a>03358         }
<a name="l03359"></a>03359         <span class="keywordflow">if</span> (!path_found) {
<a name="l03360"></a>03360           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;D:\\PROGRA~1\\XMedCon\\bin\\medcon.exe&quot;</span>);
<a name="l03361"></a>03361           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03362"></a>03362         }
<a name="l03363"></a>03363         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_medcon_path,<span class="stringliteral">&quot;medcon.bat&quot;</span>);
<a name="l03364"></a>03364 <span class="preprocessor">#else</span>
<a name="l03365"></a>03365 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03366"></a>03366           std::sprintf(st_medcon_path,<span class="stringliteral">&quot;./medcon&quot;</span>);
<a name="l03367"></a>03367           <span class="keywordflow">if</span> ((file=std::fopen(st_medcon_path,<span class="stringliteral">&quot;r&quot;</span>))!=0) { std::fclose(file); path_found = <span class="keyword">true</span>; }
<a name="l03368"></a>03368         }
<a name="l03369"></a>03369         <span class="keywordflow">if</span> (!path_found) std::strcpy(st_medcon_path,<span class="stringliteral">&quot;medcon&quot;</span>);
<a name="l03370"></a>03370 <span class="preprocessor">#endif</span>
<a name="l03371"></a>03371 <span class="preprocessor"></span>      }
<a name="l03372"></a>03372       <span class="keywordflow">return</span> st_medcon_path;
<a name="l03373"></a>03373     }
<a name="l03374"></a>03374 
<a name="l03376"></a>03376 
<a name="l03396"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1">03396</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">temporary_path</a>() {
<a name="l03397"></a>03397 
<a name="l03398"></a>03398 <span class="preprocessor">#define cimg_test_temporary_path(p) \</span>
<a name="l03399"></a>03399 <span class="preprocessor">      if (!path_found) { \</span>
<a name="l03400"></a>03400 <span class="preprocessor">        std::sprintf(st_temporary_path,p); \</span>
<a name="l03401"></a>03401 <span class="preprocessor">        std::sprintf(tmp,&quot;%s%s%s&quot;,st_temporary_path,cimg_OS==2?&quot;\\&quot;:&quot;/&quot;,filetmp); \</span>
<a name="l03402"></a>03402 <span class="preprocessor">        if ((file=std::fopen(tmp,&quot;wb&quot;))!=0) { std::fclose(file); std::remove(tmp); path_found = true; } \</span>
<a name="l03403"></a>03403 <span class="preprocessor">      }</span>
<a name="l03404"></a>03404 <span class="preprocessor"></span>
<a name="l03405"></a>03405       <span class="keyword">static</span> <span class="keywordtype">char</span> *st_temporary_path = 0;
<a name="l03406"></a>03406       <span class="keywordflow">if</span> (!st_temporary_path) {
<a name="l03407"></a>03407         st_temporary_path = <span class="keyword">new</span> <span class="keywordtype">char</span>[1024];
<a name="l03408"></a>03408         <span class="keywordtype">bool</span> path_found = <span class="keyword">false</span>;
<a name="l03409"></a>03409         <span class="keywordtype">char</span> tmp[1024], filetmp[512];
<a name="l03410"></a>03410         std::FILE *file = 0;
<a name="l03411"></a>03411         std::sprintf(filetmp,<span class="stringliteral">&quot;CImg%.4d.tmp&quot;</span>,std::rand()%10000);
<a name="l03412"></a>03412 <span class="preprocessor">#ifdef cimg_temporary_path</span>
<a name="l03413"></a>03413 <span class="preprocessor"></span>        cimg_test_temporary_path(cimg_temporary_path);
<a name="l03414"></a>03414 <span class="preprocessor">#endif</span>
<a name="l03415"></a>03415 <span class="preprocessor"></span><span class="preprocessor">#if cimg_OS==2</span>
<a name="l03416"></a>03416 <span class="preprocessor"></span>        cimg_test_temporary_path(<span class="stringliteral">&quot;C:\\WINNT\\Temp&quot;</span>);
<a name="l03417"></a>03417         cimg_test_temporary_path(<span class="stringliteral">&quot;C:\\WINDOWS\\Temp&quot;</span>);
<a name="l03418"></a>03418         cimg_test_temporary_path(<span class="stringliteral">&quot;C:\\Temp&quot;</span>);
<a name="l03419"></a>03419         cimg_test_temporary_path(<span class="stringliteral">&quot;C:&quot;</span>);
<a name="l03420"></a>03420         cimg_test_temporary_path(<span class="stringliteral">&quot;D:\\WINNT\\Temp&quot;</span>);
<a name="l03421"></a>03421         cimg_test_temporary_path(<span class="stringliteral">&quot;D:\\WINDOWS\\Temp&quot;</span>);
<a name="l03422"></a>03422         cimg_test_temporary_path(<span class="stringliteral">&quot;D:\\Temp&quot;</span>);
<a name="l03423"></a>03423         cimg_test_temporary_path(<span class="stringliteral">&quot;D:&quot;</span>);
<a name="l03424"></a>03424 <span class="preprocessor">#else</span>
<a name="l03425"></a>03425 <span class="preprocessor"></span>        cimg_test_temporary_path(<span class="stringliteral">&quot;/tmp&quot;</span>);
<a name="l03426"></a>03426         cimg_test_temporary_path(<span class="stringliteral">&quot;/var/tmp&quot;</span>);
<a name="l03427"></a>03427 <span class="preprocessor">#endif</span>
<a name="l03428"></a>03428 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!path_found) {
<a name="l03429"></a>03429           st_temporary_path[0]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l03430"></a>03430           std::strcpy(tmp,filetmp);
<a name="l03431"></a>03431           <span class="keywordflow">if</span> ((file=std::fopen(tmp,<span class="stringliteral">&quot;wb&quot;</span>))!=0) { std::fclose(file); std::remove(tmp); path_found = <span class="keyword">true</span>; }
<a name="l03432"></a>03432         }
<a name="l03433"></a>03433         <span class="keywordflow">if</span> (!path_found)
<a name="l03434"></a>03434           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;cimg::temporary_path() : Unable to find a temporary path accessible for writing\n&quot;</span>
<a name="l03435"></a>03435                                 <span class="stringliteral">&quot;you have to set the macro &#39;cimg_temporary_path&#39; to a valid path where you have writing access :\n&quot;</span>
<a name="l03436"></a>03436                                 <span class="stringliteral">&quot;#define cimg_temporary_path \&quot;path\&quot; (before including &#39;CImg.h&#39;)&quot;</span>);
<a name="l03437"></a>03437       }
<a name="l03438"></a>03438       <span class="keywordflow">return</span> st_temporary_path;
<a name="l03439"></a>03439     }
<a name="l03440"></a>03440 
<a name="l03441"></a>03441     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *filename_split(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keywordtype">char</span> *<span class="keyword">const</span> body=0) {
<a name="l03442"></a>03442       <span class="keywordflow">if</span> (!filename) { <span class="keywordflow">if</span> (body) body[0]=<span class="charliteral">&#39;\0&#39;</span>; <span class="keywordflow">return</span> 0; }
<a name="l03443"></a>03443       <span class="keywordtype">int</span> l = cimg::strfind(filename,<span class="charliteral">&#39;.&#39;</span>);
<a name="l03444"></a>03444       <span class="keywordflow">if</span> (l&gt;=0) { <span class="keywordflow">if</span> (body) { std::strncpy(body,filename,l); body[l]=<span class="charliteral">&#39;\0&#39;</span>; }}
<a name="l03445"></a>03445       <span class="keywordflow">else</span> { <span class="keywordflow">if</span> (body) std::strcpy(body,filename); l=(int)std::strlen(filename)-1; }
<a name="l03446"></a>03446       <span class="keywordflow">return</span> filename+l+1;
<a name="l03447"></a>03447     }
<a name="l03448"></a>03448 
<a name="l03449"></a>03449     <span class="keyword">inline</span> <span class="keywordtype">char</span>* filename_number(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">int</span> number, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keywordtype">char</span> *<span class="keyword">const</span> <span class="keywordtype">string</span>) {
<a name="l03450"></a>03450       <span class="keywordflow">if</span> (!filename) { <span class="keywordflow">if</span> (<span class="keywordtype">string</span>) <span class="keywordtype">string</span>[0]=<span class="charliteral">&#39;\0&#39;</span>; <span class="keywordflow">return</span> 0; }
<a name="l03451"></a>03451       <span class="keywordtype">char</span> format[1024],body[1024];
<a name="l03452"></a>03452       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename,body);
<a name="l03453"></a>03453       <span class="keywordflow">if</span> (n&gt;0) std::sprintf(format,<span class="stringliteral">&quot;%s_%%.%ud.%s&quot;</span>,body,n,ext);
<a name="l03454"></a>03454       <span class="keywordflow">else</span> std::sprintf(format,<span class="stringliteral">&quot;%s_%%d.%s&quot;</span>,body,ext);
<a name="l03455"></a>03455       std::sprintf(<span class="keywordtype">string</span>,format,number);
<a name="l03456"></a>03456       <span class="keywordflow">return</span> string;
<a name="l03457"></a>03457     }
<a name="l03458"></a>03458 
<a name="l03459"></a>03459     <span class="keyword">inline</span> std::FILE *fopen(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> path,<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> mode) {
<a name="l03460"></a>03460       <span class="keywordflow">if</span>(!path || !mode)
<a name="l03461"></a>03461         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;cimg::fopen() : File &#39;%s&#39; cannot be opened with mode &#39;%s&#39;.&quot;</span>,
<a name="l03462"></a>03462                                     path?path:<span class="stringliteral">&quot;(null)&quot;</span>,mode?mode:<span class="stringliteral">&quot;(null)&quot;</span>);
<a name="l03463"></a>03463       <span class="keywordflow">if</span> (path[0]==<span class="charliteral">&#39;-&#39;</span>) <span class="keywordflow">return</span> (mode[0]==<span class="charliteral">&#39;r&#39;</span>)?stdin:stdout;
<a name="l03464"></a>03464       std::FILE *dest = std::fopen(path,mode);
<a name="l03465"></a>03465       <span class="keywordflow">if</span> (!dest)
<a name="l03466"></a>03466         <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;cimg::fopen() : File &#39;%s&#39; cannot be opened%s&quot;</span>,
<a name="l03467"></a>03467                               path,mode[0]==<span class="charliteral">&#39;r&#39;</span>?<span class="stringliteral">&quot; for reading.&quot;</span>:(mode[0]==<span class="charliteral">&#39;w&#39;</span>?<span class="stringliteral">&quot; for writing.&quot;</span>:<span class="stringliteral">&quot;.&quot;</span>),path);
<a name="l03468"></a>03468       <span class="keywordflow">return</span> dest;
<a name="l03469"></a>03469     }
<a name="l03470"></a>03470 
<a name="l03471"></a>03471     <span class="keyword">inline</span> <span class="keywordtype">int</span> fclose(std::FILE *file) {
<a name="l03472"></a>03472       warn(!file,<span class="stringliteral">&quot;cimg::fclose() : Can&#39;t close (null) file&quot;</span>);
<a name="l03473"></a>03473       <span class="keywordflow">if</span> (!file || file==stdin || file==stdout) <span class="keywordflow">return</span> 0;
<a name="l03474"></a>03474       <span class="keyword">const</span> <span class="keywordtype">int</span> errn=std::fclose(file);
<a name="l03475"></a>03475       warn(errn!=0,<span class="stringliteral">&quot;cimg::fclose() : Error %d during file closing&quot;</span>,errn);
<a name="l03476"></a>03476       <span class="keywordflow">return</span> errn;
<a name="l03477"></a>03477     }
<a name="l03478"></a>03478 
<a name="l03479"></a>03479     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keywordtype">int</span> fread(T *<span class="keyword">const</span> ptr, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nmemb, std::FILE *stream) {
<a name="l03480"></a>03480       <span class="keywordflow">if</span> (!ptr || nmemb&lt;=0 || !stream)
<a name="l03481"></a>03481         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;cimg::fread() : Can&#39;t read %u x %u bytes of file pointer &#39;%p&#39; in buffer &#39;%p&#39;&quot;</span>,
<a name="l03482"></a>03482                                     nmemb,<span class="keyword">sizeof</span>(T),stream,ptr);
<a name="l03483"></a>03483       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> wlimitT = 63*1024*1024, wlimit = wlimitT/<span class="keyword">sizeof</span>(T);
<a name="l03484"></a>03484       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> toread=nmemb, alread=0, ltoread=0, lalread=0;
<a name="l03485"></a>03485       <span class="keywordflow">do</span> {
<a name="l03486"></a>03486         ltoread = (toread*<span class="keyword">sizeof</span>(T))&lt;wlimitT?toread:wlimit;
<a name="l03487"></a>03487         lalread = (<span class="keywordtype">unsigned</span> int)std::fread((<span class="keywordtype">void</span>*)(ptr+alread),<span class="keyword">sizeof</span>(T),ltoread,stream);
<a name="l03488"></a>03488         alread+=lalread;
<a name="l03489"></a>03489         toread-=lalread;
<a name="l03490"></a>03490       } <span class="keywordflow">while</span> (ltoread==lalread &amp;&amp; toread&gt;0);
<a name="l03491"></a>03491       cimg::warn(toread&gt;0,<span class="stringliteral">&quot;cimg::fread() : File reading problems, only %u/%u elements read&quot;</span>,alread,nmemb);
<a name="l03492"></a>03492       <span class="keywordflow">return</span> alread;
<a name="l03493"></a>03493     }
<a name="l03494"></a>03494 
<a name="l03495"></a>03495     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keywordtype">int</span> fwrite(<span class="keyword">const</span> T *ptr, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nmemb, std::FILE *stream) {
<a name="l03496"></a>03496       <span class="keywordflow">if</span> (!ptr || !stream)
<a name="l03497"></a>03497         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;cimg::fwrite() : Can&#39;t write %u x %u bytes of file pointer &#39;%p&#39; from buffer &#39;%p&#39;&quot;</span>,
<a name="l03498"></a>03498                                     nmemb,<span class="keyword">sizeof</span>(T),stream,ptr);
<a name="l03499"></a>03499       <span class="keywordflow">if</span> (nmemb&lt;=0) <span class="keywordflow">return</span> 0;
<a name="l03500"></a>03500       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> wlimitT = 63*1024*1024, wlimit = wlimitT/<span class="keyword">sizeof</span>(T);
<a name="l03501"></a>03501       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> towrite=nmemb, alwrite=0, ltowrite=0, lalwrite=0;
<a name="l03502"></a>03502       <span class="keywordflow">do</span> {
<a name="l03503"></a>03503         ltowrite = (towrite*<span class="keyword">sizeof</span>(T))&lt;wlimitT?towrite:wlimit;
<a name="l03504"></a>03504         lalwrite = (<span class="keywordtype">unsigned</span> int)std::fwrite((<span class="keywordtype">void</span>*)(ptr+alwrite),<span class="keyword">sizeof</span>(T),ltowrite,stream);
<a name="l03505"></a>03505         alwrite+=lalwrite;
<a name="l03506"></a>03506         towrite-=lalwrite;
<a name="l03507"></a>03507       } <span class="keywordflow">while</span> (ltowrite==lalwrite &amp;&amp; towrite&gt;0);
<a name="l03508"></a>03508       cimg::warn(towrite&gt;0,<span class="stringliteral">&quot;cimg::fwrite() : File writing problems, only %u/%u elements written&quot;</span>,alwrite,nmemb);
<a name="l03509"></a>03509       <span class="keywordflow">return</span> alwrite;
<a name="l03510"></a>03510     }
<a name="l03511"></a>03511 
<a name="l03512"></a>03512     <span class="comment">// Exchange the values of variables \p a and \p b</span>
<a name="l03513"></a>03513     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T&amp; a,T&amp; b) { T t=a; a=b; b=t; }
<a name="l03514"></a>03514     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt; <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T1&amp; a1,T1&amp; b1,T2&amp; a2,T2&amp; b2) {
<a name="l03515"></a>03515       cimg::swap(a1,b1); cimg::swap(a2,b2);
<a name="l03516"></a>03516     }
<a name="l03517"></a>03517     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3&gt; <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T1&amp; a1,T1&amp; b1,T2&amp; a2,T2&amp; b2,T3&amp; a3,T3&amp; b3) {
<a name="l03518"></a>03518       cimg::swap(a1,b1,a2,b2); cimg::swap(a3,b3);
<a name="l03519"></a>03519     }
<a name="l03520"></a>03520     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3,<span class="keyword">typename</span> T4&gt;
<a name="l03521"></a>03521     <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T1&amp; a1,T1&amp; b1,T2&amp; a2,T2&amp; b2,T3&amp; a3,T3&amp; b3,T4&amp; a4,T4&amp; b4) {
<a name="l03522"></a>03522       cimg::swap(a1,b1,a2,b2,a3,b3); cimg::swap(a4,b4);
<a name="l03523"></a>03523     }
<a name="l03524"></a>03524     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3,<span class="keyword">typename</span> T4,<span class="keyword">typename</span> T5&gt;
<a name="l03525"></a>03525     <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T1&amp; a1,T1&amp; b1,T2&amp; a2,T2&amp; b2,T3&amp; a3,T3&amp; b3,T4&amp; a4,T4&amp; b4,T5&amp; a5,T5&amp; b5) {
<a name="l03526"></a>03526       cimg::swap(a1,b1,a2,b2,a3,b3,a4,b4); cimg::swap(a5,b5);
<a name="l03527"></a>03527     }
<a name="l03528"></a>03528     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2,<span class="keyword">typename</span> T3,<span class="keyword">typename</span> T4,<span class="keyword">typename</span> T5,<span class="keyword">typename</span> T6&gt;
<a name="l03529"></a>03529     <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(T1&amp; a1,T1&amp; b1,T2&amp; a2,T2&amp; b2,T3&amp; a3,T3&amp; b3,T4&amp; a4,T4&amp; b4,T5&amp; a5,T5&amp; b5,T6&amp; a6,T6&amp; b6) {
<a name="l03530"></a>03530       cimg::swap(a1,b1,a2,b2,a3,b3,a4,b4,a5,b5); cimg::swap(a6,b6);
<a name="l03531"></a>03531     }
<a name="l03532"></a>03532 
<a name="l03533"></a>03533     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keywordtype">void</span> endian_swap(T* <span class="keyword">const</span> buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size) {
<a name="l03534"></a>03534       <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(T)) {
<a name="l03535"></a>03535       <span class="keywordflow">case</span> 1: <span class="keywordflow">break</span>;
<a name="l03536"></a>03536       <span class="keywordflow">case</span> 2: {
<a name="l03537"></a>03537         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptr = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)buffer+size; ptr&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)buffer;) {
<a name="l03538"></a>03538           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> val = *(--ptr);
<a name="l03539"></a>03539           *ptr = (val&gt;&gt;8)|((val&lt;&lt;8));
<a name="l03540"></a>03540         }
<a name="l03541"></a>03541       } <span class="keywordflow">break</span>;
<a name="l03542"></a>03542       <span class="keywordflow">case</span> 4: {
<a name="l03543"></a>03543         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *ptr = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)buffer+size; ptr&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)buffer;) {
<a name="l03544"></a>03544           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val = *(--ptr);
<a name="l03545"></a>03545           *ptr = (val&gt;&gt;24)|((val&gt;&gt;8)&amp;0xff00)|((val&lt;&lt;8)&amp;0xff0000)|(val&lt;&lt;24);
<a name="l03546"></a>03546         }
<a name="l03547"></a>03547       } <span class="keywordflow">break</span>;
<a name="l03548"></a>03548       <span class="keywordflow">default</span>: {
<a name="l03549"></a>03549         <span class="keywordflow">for</span> (T* ptr = buffer+size; ptr&gt;buffer; --ptr) {
<a name="l03550"></a>03550           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pb=(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)(--ptr), *pe=pb+<span class="keyword">sizeof</span>(T);
<a name="l03551"></a>03551           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(int)<span class="keyword">sizeof</span>(T)/2; i++) cimg::swap(*(pb++),*(--pe));
<a name="l03552"></a>03552         } <span class="keywordflow">break</span>;
<a name="l03553"></a>03553       }
<a name="l03554"></a>03554       }
<a name="l03555"></a>03555     }
<a name="l03556"></a>03556     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T&amp; endian_swap(T&amp; a) { endian_swap(&amp;a,1); <span class="keywordflow">return</span> a; }
<a name="l03557"></a>03557 
<a name="l03558"></a>03558     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03559"></a>03559                               <span class="keyword">const</span> <span class="keywordtype">char</span> *defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03560"></a>03560       <span class="keyword">static</span> <span class="keywordtype">bool</span> first=<span class="keyword">true</span>, visu=<span class="keyword">false</span>;
<a name="l03561"></a>03561       <span class="keyword">const</span> <span class="keywordtype">char</span> *res = 0;
<a name="l03562"></a>03562       <span class="keywordflow">if</span> (first) {
<a name="l03563"></a>03563         first=<span class="keyword">false</span>;
<a name="l03564"></a>03564         visu = (cimg::option(<span class="stringliteral">&quot;-h&quot;</span>,argc,argv,(<span class="keywordtype">char</span>*)0)!=0);
<a name="l03565"></a>03565         visu |= (cimg::option(<span class="stringliteral">&quot;-help&quot;</span>,argc,argv,(<span class="keywordtype">char</span>*)0)!=0);
<a name="l03566"></a>03566         visu |= (cimg::option(<span class="stringliteral">&quot;--help&quot;</span>,argc,argv,(<span class="keywordtype">char</span>*)0)!=0);
<a name="l03567"></a>03567       }
<a name="l03568"></a>03568       <span class="keywordflow">if</span> (!name &amp;&amp; visu) {
<a name="l03569"></a>03569         <span class="keywordflow">if</span> (usage) {
<a name="l03570"></a>03570           std::fprintf(stderr,<span class="stringliteral">&quot;\n %s%s%s&quot;</span>,cimg::t_red,cimg::basename(argv[0]),cimg::t_normal);
<a name="l03571"></a>03571           std::fprintf(stderr,<span class="stringliteral">&quot; : %s&quot;</span>,usage);
<a name="l03572"></a>03572           std::fprintf(stderr,<span class="stringliteral">&quot; (%s, %s)\n\n&quot;</span>,__DATE__,__TIME__);
<a name="l03573"></a>03573         }
<a name="l03574"></a>03574         <span class="keywordflow">if</span> (defaut) std::fprintf(stderr,<span class="stringliteral">&quot;%s\n&quot;</span>,defaut);
<a name="l03575"></a>03575       }
<a name="l03576"></a>03576       <span class="keywordflow">if</span> (name) {
<a name="l03577"></a>03577         <span class="keywordflow">if</span> (argc&gt;0) {
<a name="l03578"></a>03578           <span class="keywordtype">int</span> k=0,i;
<a name="l03579"></a>03579           <span class="keywordflow">while</span> (k&lt;argc &amp;&amp; cimg::strcmp(argv[k],name)) k++;
<a name="l03580"></a>03580           i=k;
<a name="l03581"></a>03581           res=(k++==argc?defaut:(k==argc?argv[--k]:argv[k]));
<a name="l03582"></a>03582         } <span class="keywordflow">else</span> res = defaut;
<a name="l03583"></a>03583         <span class="keywordflow">if</span> (visu &amp;&amp; usage) std::fprintf(stderr,<span class="stringliteral">&quot;    %s%-8s%s = %-12s : %s%s%s\n&quot;</span>,
<a name="l03584"></a>03584                                         cimg::t_bold,name,cimg::t_normal,res?res:<span class="stringliteral">&quot;0&quot;</span>,cimg::t_purple,usage,cimg::t_normal);
<a name="l03585"></a>03585       }
<a name="l03586"></a>03586       <span class="keywordflow">return</span> res;
<a name="l03587"></a>03587     }
<a name="l03588"></a>03588 
<a name="l03589"></a>03589     <span class="keyword">inline</span> <span class="keywordtype">bool</span> option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03590"></a>03590                        <span class="keyword">const</span> <span class="keywordtype">bool</span> defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03591"></a>03591       <span class="keyword">const</span> <span class="keywordtype">char</span> *s = cimg::option(name,argc,argv,(<span class="keywordtype">char</span>*)0);
<a name="l03592"></a>03592       <span class="keyword">const</span> <span class="keywordtype">bool</span> res = s?(cimg::strcasecmp(s,<span class="stringliteral">&quot;false&quot;</span>) &amp;&amp; cimg::strcasecmp(s,<span class="stringliteral">&quot;off&quot;</span>) &amp;&amp; cimg::strcasecmp(s,<span class="stringliteral">&quot;0&quot;</span>)):defaut;
<a name="l03593"></a>03593       cimg::option(name,0,0,res?<span class="stringliteral">&quot;true&quot;</span>:<span class="stringliteral">&quot;false&quot;</span>,usage);
<a name="l03594"></a>03594       <span class="keywordflow">return</span> res;
<a name="l03595"></a>03595     }
<a name="l03596"></a>03596 
<a name="l03597"></a>03597     <span class="keyword">inline</span> <span class="keywordtype">int</span> option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03598"></a>03598                       <span class="keyword">const</span> <span class="keywordtype">int</span> defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03599"></a>03599       <span class="keyword">const</span> <span class="keywordtype">char</span> *s = cimg::option(name,argc,argv,(<span class="keywordtype">char</span>*)0);
<a name="l03600"></a>03600       <span class="keyword">const</span> <span class="keywordtype">int</span> res = s?std::atoi(s):defaut;
<a name="l03601"></a>03601       <span class="keywordtype">char</span> tmp[256];
<a name="l03602"></a>03602       std::sprintf(tmp,<span class="stringliteral">&quot;%d&quot;</span>,res);
<a name="l03603"></a>03603       cimg::option(name,0,0,tmp,usage);
<a name="l03604"></a>03604       <span class="keywordflow">return</span> res;
<a name="l03605"></a>03605     }
<a name="l03606"></a>03606 
<a name="l03607"></a>03607     <span class="keyword">inline</span> <span class="keywordtype">char</span> option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03608"></a>03608                        <span class="keyword">const</span> <span class="keywordtype">char</span> defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03609"></a>03609       <span class="keyword">const</span> <span class="keywordtype">char</span> *s = cimg::option(name,argc,argv,(<span class="keywordtype">char</span>*)0);
<a name="l03610"></a>03610       <span class="keyword">const</span> <span class="keywordtype">char</span> res = s?s[0]:defaut;
<a name="l03611"></a>03611       <span class="keywordtype">char</span> tmp[8];
<a name="l03612"></a>03612       tmp[0] = res;
<a name="l03613"></a>03613       tmp[1] =<span class="charliteral">&#39;\0&#39;</span>;
<a name="l03614"></a>03614       cimg::option(name,0,0,tmp,usage);
<a name="l03615"></a>03615       <span class="keywordflow">return</span> res;
<a name="l03616"></a>03616     }
<a name="l03617"></a>03617 
<a name="l03618"></a>03618     <span class="keyword">inline</span> <span class="keywordtype">float</span> option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03619"></a>03619                         <span class="keyword">const</span> <span class="keywordtype">float</span> defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03620"></a>03620       <span class="keyword">const</span> <span class="keywordtype">char</span> *s = cimg::option(name,argc,argv,(<span class="keywordtype">char</span>*)0);
<a name="l03621"></a>03621       <span class="keyword">const</span> <span class="keywordtype">float</span> res = s?cimg::atof(s):defaut;
<a name="l03622"></a>03622       <span class="keywordtype">char</span> tmp[256];
<a name="l03623"></a>03623       std::sprintf(tmp,<span class="stringliteral">&quot;%g&quot;</span>,res);
<a name="l03624"></a>03624       cimg::option(name,0,0,tmp,usage);
<a name="l03625"></a>03625       <span class="keywordflow">return</span> res;
<a name="l03626"></a>03626     }
<a name="l03627"></a>03627 
<a name="l03628"></a>03628     <span class="keyword">inline</span> <span class="keywordtype">double</span> option(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,
<a name="l03629"></a>03629                          <span class="keyword">const</span> <span class="keywordtype">double</span> defaut, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> usage=0) {
<a name="l03630"></a>03630       <span class="keyword">const</span> <span class="keywordtype">char</span> *s = cimg::option(name,argc,argv,(<span class="keywordtype">char</span>*)0);
<a name="l03631"></a>03631       <span class="keyword">const</span> <span class="keywordtype">double</span> res = s?cimg::atof(s):defaut;
<a name="l03632"></a>03632       <span class="keywordtype">char</span> tmp[256];
<a name="l03633"></a>03633       std::sprintf(tmp,<span class="stringliteral">&quot;%g&quot;</span>,res);
<a name="l03634"></a>03634       cimg::option(name,0,0,tmp,usage);
<a name="l03635"></a>03635       <span class="keywordflow">return</span> res;
<a name="l03636"></a>03636     }
<a name="l03637"></a>03637 
<a name="l03639"></a><a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee">03639</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">endian</a>() {
<a name="l03640"></a>03640       <span class="keyword">const</span> <span class="keywordtype">int</span> x=1;
<a name="l03641"></a>03641       <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;x)[0]?<span class="keyword">false</span>:<span class="keyword">true</span>;
<a name="l03642"></a>03642     }
<a name="l03643"></a>03643 
<a name="l03645"></a>03645 
<a name="l03648"></a><a class="code" href="namespacecimg__library_1_1cimg.html#aca9c244dc4cff3bc596ed8b0cd7570ee">03648</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecimg__library_1_1cimg.html#aca9c244dc4cff3bc596ed8b0cd7570ee" title="Print informations about CImg environement variables.">info</a>() {
<a name="l03649"></a>03649       <span class="keywordtype">char</span> tmp[1024] = {0};
<a name="l03650"></a>03650       std::fprintf(stderr,<span class="stringliteral">&quot;\n %sCImg Library %g%s, compiled %s ( %s ) with the following flags :\n\n&quot;</span>,
<a name="l03651"></a>03651                    cimg::t_red,cimg_version,cimg::t_normal,__DATE__,__TIME__);
<a name="l03652"></a>03652 
<a name="l03653"></a>03653       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; CPU endianness :         %s%s Endian%s\n&quot;</span>,
<a name="l03654"></a>03654                    cimg::t_bold,
<a name="l03655"></a>03655                    <a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()?<span class="stringliteral">&quot;Big&quot;</span>:<span class="stringliteral">&quot;Little&quot;</span>,
<a name="l03656"></a>03656                    cimg::t_normal);
<a name="l03657"></a>03657 
<a name="l03658"></a>03658       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Operating System :       %s%-13s%s %s(&#39;cimg_OS&#39;=%d)%s\n&quot;</span>,
<a name="l03659"></a>03659                    cimg::t_bold,
<a name="l03660"></a>03660                    cimg_OS==1?<span class="stringliteral">&quot;Unix&quot;</span>:(cimg_OS==2?<span class="stringliteral">&quot;Windows&quot;</span>:<span class="stringliteral">&quot;Unknow&quot;</span>),
<a name="l03661"></a>03661                    cimg::t_normal,cimg::t_purple,
<a name="l03662"></a>03662                    cimg_OS,
<a name="l03663"></a>03663                    cimg::t_normal);
<a name="l03664"></a>03664 
<a name="l03665"></a>03665 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l03666"></a>03666 <span class="preprocessor"></span>      std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using Visual C++ 6.0 :       %s%-13s%s %s(&#39;cimg_use_visual_cpp6&#39; defined)%s\n&quot;</span>,
<a name="l03667"></a>03667                    cimg::t_bold,<span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,cimg::t_normal);
<a name="l03668"></a>03668 <span class="preprocessor">#endif</span>
<a name="l03669"></a>03669 <span class="preprocessor"></span>
<a name="l03670"></a>03670       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Display type :           %s%-13s%s %s(&#39;cimg_display_type&#39;=%d)%s\n&quot;</span>,
<a name="l03671"></a>03671                    cimg::t_bold,
<a name="l03672"></a>03672                    cimg_display_type==0?<span class="stringliteral">&quot;No display&quot;</span>:(cimg_display_type==1?<span class="stringliteral">&quot;X11&quot;</span>:(cimg_display_type==2?<span class="stringliteral">&quot;Windows GDI&quot;</span>:<span class="stringliteral">&quot;Unknow&quot;</span>)),
<a name="l03673"></a>03673                    cimg::t_normal,cimg::t_purple,
<a name="l03674"></a>03674                    cimg_display_type,
<a name="l03675"></a>03675                    cimg::t_normal);
<a name="l03676"></a>03676 
<a name="l03677"></a>03677       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Color terminal :         %s%-13s%s %s(&#39;cimg_color_terminal&#39; %s)%s\n&quot;</span>,
<a name="l03678"></a>03678                    cimg::t_bold,
<a name="l03679"></a>03679 #ifdef cimg_color_terminal
<a name="l03680"></a>03680                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03681"></a>03681 #<span class="keywordflow">else</span>
<a name="l03682"></a>03682                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03683"></a>03683 #endif
<a name="l03684"></a>03684                    cimg::t_normal);
<a name="l03685"></a>03685 
<a name="l03686"></a>03686       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Debug messages :         %s%-13s%s %s(&#39;cimg_debug&#39;=%d)%s\n&quot;</span>,
<a name="l03687"></a>03687                    cimg::t_bold,
<a name="l03688"></a>03688                    cimg_debug==0?<span class="stringliteral">&quot;No&quot;</span>:(cimg_debug==1 || cimg_debug==2?<span class="stringliteral">&quot;Yes&quot;</span>:(cimg_debug==3?<span class="stringliteral">&quot;Yes+&quot;</span>:<span class="stringliteral">&quot;Unknown&quot;</span>)),
<a name="l03689"></a>03689                    cimg::t_normal,cimg::t_purple,
<a name="l03690"></a>03690                    cimg_debug,
<a name="l03691"></a>03691                    cimg::t_normal);
<a name="l03692"></a>03692 
<a name="l03693"></a>03693 <span class="preprocessor">#if cimg_display_type==1</span>
<a name="l03694"></a>03694 <span class="preprocessor"></span>      std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using XShm for X11 :     %s%-13s%s %s(&#39;cimg_use_xshm&#39; %s)%s\n&quot;</span>,
<a name="l03695"></a>03695                    cimg::t_bold,
<a name="l03696"></a>03696 #ifdef cimg_use_xshm
<a name="l03697"></a>03697                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03698"></a>03698 #<span class="keywordflow">else</span>
<a name="l03699"></a>03699                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03700"></a>03700 #endif
<a name="l03701"></a>03701                    cimg::t_normal);
<a name="l03702"></a>03702 
<a name="l03703"></a>03703       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using XRand for X11 :    %s%-13s%s %s(&#39;cimg_use_xrandr&#39; %s)%s\n&quot;</span>,
<a name="l03704"></a>03704                    cimg::t_bold,
<a name="l03705"></a>03705 #ifdef cimg_use_xrandr
<a name="l03706"></a>03706                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03707"></a>03707 #<span class="keywordflow">else</span>
<a name="l03708"></a>03708                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03709"></a>03709 #endif
<a name="l03710"></a>03710                    cimg::t_normal);
<a name="l03711"></a>03711 <span class="preprocessor">#endif</span>
<a name="l03712"></a>03712 <span class="preprocessor"></span>
<a name="l03713"></a>03713       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using PNG library :      %s%-13s%s %s(&#39;cimg_use_png&#39; %s)%s\n&quot;</span>,
<a name="l03714"></a>03714                    cimg::t_bold,
<a name="l03715"></a>03715 #ifdef cimg_use_png
<a name="l03716"></a>03716                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03717"></a>03717 #<span class="keywordflow">else</span>
<a name="l03718"></a>03718                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03719"></a>03719 #endif
<a name="l03720"></a>03720                    cimg::t_normal);
<a name="l03721"></a>03721       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using JPEG library :     %s%-13s%s %s(&#39;cimg_use_jpeg&#39; %s)%s\n&quot;</span>,
<a name="l03722"></a>03722                    cimg::t_bold,
<a name="l03723"></a>03723 #ifdef cimg_use_jpeg
<a name="l03724"></a>03724                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03725"></a>03725 #<span class="keywordflow">else</span>
<a name="l03726"></a>03726                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03727"></a>03727 #endif
<a name="l03728"></a>03728                    cimg::t_normal);
<a name="l03729"></a>03729 
<a name="l03730"></a>03730       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using TIFF library :     %s%-13s%s %s(&#39;cimg_use_tiff&#39; %s)%s\n&quot;</span>,
<a name="l03731"></a>03731                    cimg::t_bold,
<a name="l03732"></a>03732 #ifdef cimg_use_tiff
<a name="l03733"></a>03733                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03734"></a>03734 #<span class="keywordflow">else</span>
<a name="l03735"></a>03735                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03736"></a>03736 #endif
<a name="l03737"></a>03737                    cimg::t_normal);
<a name="l03738"></a>03738 
<a name="l03739"></a>03739       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using Magick++ library : %s%-13s%s %s(&#39;cimg_use_magick&#39; %s)%s\n&quot;</span>,
<a name="l03740"></a>03740                    cimg::t_bold,
<a name="l03741"></a>03741 #ifdef cimg_use_magick
<a name="l03742"></a>03742                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03743"></a>03743 #<span class="keywordflow">else</span>
<a name="l03744"></a>03744                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03745"></a>03745 #endif
<a name="l03746"></a>03746                    cimg::t_normal);
<a name="l03747"></a>03747 
<a name="l03748"></a>03748       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Using FFTW3 library :    %s%-13s%s %s(&#39;cimg_use_fftw3&#39; %s)%s\n&quot;</span>,
<a name="l03749"></a>03749                    cimg::t_bold,
<a name="l03750"></a>03750 #ifdef cimg_use_fftw3
<a name="l03751"></a>03751                    <span class="stringliteral">&quot;Yes&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;defined&quot;</span>,
<a name="l03752"></a>03752 #<span class="keywordflow">else</span>
<a name="l03753"></a>03753                    <span class="stringliteral">&quot;No&quot;</span>,cimg::t_normal,cimg::t_purple,<span class="stringliteral">&quot;undefined&quot;</span>,
<a name="l03754"></a>03754 #endif
<a name="l03755"></a>03755                    cimg::t_normal);
<a name="l03756"></a>03756 
<a name="l03757"></a>03757       std::sprintf(tmp,<span class="stringliteral">&quot;\&quot;%.1020s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>());
<a name="l03758"></a>03758       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Path of ImageMagick :    %s%-13s%s %s(&#39;cimg_imagemagick_path&#39;%s)%s\n&quot;</span>,
<a name="l03759"></a>03759                    cimg::t_bold,
<a name="l03760"></a>03760                    tmp,
<a name="l03761"></a>03761                    cimg::t_normal,
<a name="l03762"></a>03762 #ifdef cimg_imagemagick_path
<a name="l03763"></a>03763                    cimg::t_purple,<span class="stringliteral">&quot;=\&quot;&quot;</span>cimg_imagemagick_path<span class="stringliteral">&quot;\&quot;&quot;</span>,
<a name="l03764"></a>03764 #<span class="keywordflow">else</span>
<a name="l03765"></a>03765                    cimg::t_purple,<span class="stringliteral">&quot; undefined&quot;</span>,
<a name="l03766"></a>03766 #endif
<a name="l03767"></a>03767                    cimg::t_normal);
<a name="l03768"></a>03768 
<a name="l03769"></a>03769       std::sprintf(tmp,<span class="stringliteral">&quot;\&quot;%.1020s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>());
<a name="l03770"></a>03770       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Path of GraphicsMagick : %s%-13s%s %s(&#39;cimg_graphicsmagick_path&#39;%s)%s\n&quot;</span>,
<a name="l03771"></a>03771                    cimg::t_bold,
<a name="l03772"></a>03772                    tmp,
<a name="l03773"></a>03773                    cimg::t_normal,
<a name="l03774"></a>03774 #ifdef cimg_graphicsmagick_path
<a name="l03775"></a>03775                    cimg::t_purple,<span class="stringliteral">&quot;=\&quot;&quot;</span>cimg_graphicsmagick_path<span class="stringliteral">&quot;\&quot;&quot;</span>,
<a name="l03776"></a>03776 #<span class="keywordflow">else</span>
<a name="l03777"></a>03777                    cimg::t_purple,<span class="stringliteral">&quot; undefined&quot;</span>,
<a name="l03778"></a>03778 #endif
<a name="l03779"></a>03779                    cimg::t_normal);
<a name="l03780"></a>03780 
<a name="l03781"></a>03781       std::sprintf(tmp,<span class="stringliteral">&quot;\&quot;%.1020s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">cimg::medcon_path</a>());
<a name="l03782"></a>03782       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Path of &#39;medcon&#39; :       %s%-13s%s %s(&#39;cimg_medcon_path&#39;%s)%s\n&quot;</span>,
<a name="l03783"></a>03783                    cimg::t_bold,
<a name="l03784"></a>03784                    tmp,
<a name="l03785"></a>03785                    cimg::t_normal,
<a name="l03786"></a>03786 #ifdef cimg_medcon_path
<a name="l03787"></a>03787                    cimg::t_purple,<span class="stringliteral">&quot;=\&quot;&quot;</span>cimg_medcon_path<span class="stringliteral">&quot;\&quot;&quot;</span>,
<a name="l03788"></a>03788 #<span class="keywordflow">else</span>
<a name="l03789"></a>03789                    cimg::t_purple,<span class="stringliteral">&quot; undefined&quot;</span>,
<a name="l03790"></a>03790 #endif
<a name="l03791"></a>03791                    cimg::t_normal);
<a name="l03792"></a>03792 
<a name="l03793"></a>03793       std::sprintf(tmp,<span class="stringliteral">&quot;\&quot;%.1020s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>());
<a name="l03794"></a>03794       std::fprintf(stderr,<span class="stringliteral">&quot;  &gt; Temporary path :         %s%-13s%s %s(&#39;cimg_temporary_path&#39;%s)%s\n&quot;</span>,
<a name="l03795"></a>03795                    cimg::t_bold,
<a name="l03796"></a>03796                    tmp,
<a name="l03797"></a>03797                    cimg::t_normal,
<a name="l03798"></a>03798 #ifdef cimg_temporary_path
<a name="l03799"></a>03799                    cimg::t_purple,<span class="stringliteral">&quot;=\&quot;&quot;</span>cimg_temporary_path<span class="stringliteral">&quot;\&quot;&quot;</span>,
<a name="l03800"></a>03800 #<span class="keywordflow">else</span>
<a name="l03801"></a>03801                    cimg::t_purple,<span class="stringliteral">&quot; undefined&quot;</span>,
<a name="l03802"></a>03802 #endif
<a name="l03803"></a>03803                    cimg::t_normal);
<a name="l03804"></a>03804 
<a name="l03805"></a>03805       std::fprintf(stderr,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l03806"></a>03806     }
<a name="l03807"></a>03807 
<a name="l03809"></a><a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a">03809</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">time</a>() {
<a name="l03810"></a>03810 <span class="preprocessor">#if cimg_OS==1</span>
<a name="l03811"></a>03811 <span class="preprocessor"></span>      <span class="keyword">struct </span>timeval st_time;
<a name="l03812"></a>03812       gettimeofday(&amp;st_time,0);
<a name="l03813"></a>03813       <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(st_time.tv_usec/1000 + st_time.tv_sec*1000);
<a name="l03814"></a>03814 <span class="preprocessor">#elif cimg_OS==2</span>
<a name="l03815"></a>03815 <span class="preprocessor"></span>      <span class="keyword">static</span> SYSTEMTIME st_time;
<a name="l03816"></a>03816       GetSystemTime(&amp;st_time);
<a name="l03817"></a>03817       <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(st_time.wMilliseconds + 1000*(st_time.wSecond + 60*(st_time.wMinute + 60*st_time.wHour)));
<a name="l03818"></a>03818 <span class="preprocessor">#else</span>
<a name="l03819"></a>03819 <span class="preprocessor"></span>      <span class="keywordflow">return</span> 0;
<a name="l03820"></a>03820 <span class="preprocessor">#endif</span>
<a name="l03821"></a>03821 <span class="preprocessor"></span>    }
<a name="l03822"></a>03822 
<a name="l03824"></a>03824 
<a name="l03829"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334">03829</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334" title="Sleep for a certain numbers of milliseconds.">sleep</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> milliseconds) {
<a name="l03830"></a>03830 <span class="preprocessor">#if cimg_OS==1</span>
<a name="l03831"></a>03831 <span class="preprocessor"></span>      <span class="keyword">struct </span>timespec tv;
<a name="l03832"></a>03832       tv.tv_sec = milliseconds/1000;
<a name="l03833"></a>03833       tv.tv_nsec = (milliseconds%1000)*1000000;
<a name="l03834"></a>03834       nanosleep(&amp;tv,0);
<a name="l03835"></a>03835 <span class="preprocessor">#elif cimg_OS==2</span>
<a name="l03836"></a>03836 <span class="preprocessor"></span>      Sleep(milliseconds);
<a name="l03837"></a>03837 <span class="preprocessor">#endif</span>
<a name="l03838"></a>03838 <span class="preprocessor"></span>    }
<a name="l03839"></a>03839 
<a name="l03840"></a>03840     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wait(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> milliseconds, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>&amp; timer) {
<a name="l03841"></a>03841       <span class="keywordflow">if</span> (!timer) timer = <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>();
<a name="l03842"></a>03842       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> current_time = <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>();
<a name="l03843"></a>03843       <span class="keywordflow">if</span> (current_time&gt;=timer+milliseconds) { timer = current_time; <span class="keywordflow">return</span> 0; }
<a name="l03844"></a>03844       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> time_diff = timer + milliseconds - current_time;
<a name="l03845"></a>03845       timer = current_time + time_diff;
<a name="l03846"></a>03846       <a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334" title="Sleep for a certain numbers of milliseconds.">cimg::sleep</a>(time_diff);
<a name="l03847"></a>03847       <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)time_diff;
<a name="l03848"></a>03848     }
<a name="l03849"></a>03849 
<a name="l03851"></a>03851 
<a name="l03856"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a3c8917c0f12139bff6de6e3e45fc5b77">03856</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wait(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> milliseconds) {
<a name="l03857"></a>03857       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> timer = 0;
<a name="l03858"></a>03858       <span class="keywordflow">if</span> (!timer) timer = <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>();
<a name="l03859"></a>03859       <span class="keywordflow">return</span> wait(milliseconds,timer);
<a name="l03860"></a>03860     }
<a name="l03861"></a>03861 
<a name="l03862"></a>03862     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T rol(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=1) {
<a name="l03863"></a>03863       <span class="keywordflow">return</span> (T)((a&lt;&lt;n)|(a&gt;&gt;((<span class="keyword">sizeof</span>(T)&lt;&lt;3)-n)));
<a name="l03864"></a>03864     }
<a name="l03865"></a>03865 
<a name="l03866"></a>03866     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T ror(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=1) {
<a name="l03867"></a>03867       <span class="keywordflow">return</span> (T)((a&gt;&gt;n)|(a&lt;&lt;((<span class="keyword">sizeof</span>(T)&lt;&lt;3)-n)));
<a name="l03868"></a>03868     }
<a name="l03869"></a>03869 
<a name="l03871"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31">03871</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> T a)      { <span class="keywordflow">return</span> a&gt;=0?a:-a; }
<a name="l03872"></a>03872     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> a)                     { <span class="keywordflow">return</span> a; }
<a name="l03873"></a>03873     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> a)   { <span class="keywordflow">return</span> a; }
<a name="l03874"></a>03874     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> a) { <span class="keywordflow">return</span> a; }
<a name="l03875"></a>03875     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> a)     { <span class="keywordflow">return</span> a; }
<a name="l03876"></a>03876     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> a)   { <span class="keywordflow">return</span> a; }
<a name="l03877"></a>03877     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> a)                 { <span class="keywordflow">return</span> std::fabs(a); }
<a name="l03878"></a>03878     <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> a)                   { <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)std::fabs((<span class="keywordtype">double</span>)a); }
<a name="l03879"></a>03879     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">abs</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> a)                       { <span class="keywordflow">return</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">std::abs</a>(a); }
<a name="l03880"></a>03880 
<a name="l03882"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1">03882</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">min</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b) {
<a name="l03883"></a>03883       <span class="keywordflow">return</span> a&lt;=b?a:b;
<a name="l03884"></a>03884     }
<a name="l03885"></a>03885 
<a name="l03887"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a291c84f89f2e6e7c42662f066b9f873e">03887</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">min</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b,<span class="keyword">const</span> T c) {
<a name="l03888"></a>03888       <span class="keywordflow">return</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(a,b),c);
<a name="l03889"></a>03889     }
<a name="l03890"></a>03890 
<a name="l03892"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a7f16d9918bd054766b35dd29ef5f9e5d">03892</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">min</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b,<span class="keyword">const</span> T c,<span class="keyword">const</span> T d) {
<a name="l03893"></a>03893       <span class="keywordflow">return</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(a,b,c),d);
<a name="l03894"></a>03894     }
<a name="l03895"></a>03895 
<a name="l03897"></a><a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242">03897</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">max</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b) {
<a name="l03898"></a>03898       <span class="keywordflow">return</span> a&gt;=b?a:b;
<a name="l03899"></a>03899     }
<a name="l03900"></a>03900 
<a name="l03902"></a><a class="code" href="namespacecimg__library_1_1cimg.html#adafdabfabf6275f7d655eae73d47d057">03902</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">max</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b,<span class="keyword">const</span> T c) {
<a name="l03903"></a>03903       <span class="keywordflow">return</span> <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(a,b),c);
<a name="l03904"></a>03904     }
<a name="l03905"></a>03905 
<a name="l03907"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a607cf23cd7144a41788b5e39a7996c83">03907</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">max</a>(<span class="keyword">const</span> T a,<span class="keyword">const</span> T b,<span class="keyword">const</span> T c,<span class="keyword">const</span> T d) {
<a name="l03908"></a>03908       <span class="keywordflow">return</span> <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(a,b,c),d);
<a name="l03909"></a>03909     }
<a name="l03910"></a>03910 
<a name="l03912"></a><a class="code" href="namespacecimg__library_1_1cimg.html#acb00b9ea45d7c523af71071eaad2fd98">03912</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#acb00b9ea45d7c523af71071eaad2fd98" title="Return the sign of x.">sign</a>(<span class="keyword">const</span> T x) {
<a name="l03913"></a>03913       <span class="keywordflow">return</span> (x&lt;0)?(T)(-1):(x==0?(T)0:(T)1);
<a name="l03914"></a>03914     }
<a name="l03915"></a>03915 
<a name="l03917"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a82202bb5c5c52020364951471bb1ae8f">03917</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a82202bb5c5c52020364951471bb1ae8f" title="Return the nearest power of 2 higher than x.">nearest_pow2</a>(<span class="keyword">const</span> T&amp; x) {
<a name="l03918"></a>03918       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i=1;
<a name="l03919"></a>03919       <span class="keywordflow">while</span> (x&gt;i) i&lt;&lt;=1;
<a name="l03920"></a>03920       <span class="keywordflow">return</span> i;
<a name="l03921"></a>03921     }
<a name="l03922"></a>03922 
<a name="l03924"></a>03924 
<a name="l03927"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769">03927</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">mod</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> m) {
<a name="l03928"></a>03928       <span class="keywordflow">if</span> (x&lt;0) { <span class="keywordflow">return</span> m+x+m*std::floor(-x/m); }
<a name="l03929"></a>03929       <span class="keywordflow">return</span> x-m*std::floor(x/m);
<a name="l03930"></a>03930     }
<a name="l03931"></a>03931     <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">mod</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> m) {
<a name="l03932"></a>03932       <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)<a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">mod</a>((<span class="keywordtype">double</span>)x,(<span class="keywordtype">double</span>)m);
<a name="l03933"></a>03933     }
<a name="l03934"></a>03934     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">mod</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> m) {
<a name="l03935"></a>03935       <span class="keywordflow">return</span> x&gt;=0?x%m:(x%m?m+x%m:0);
<a name="l03936"></a>03936     }
<a name="l03937"></a>03937 
<a name="l03939"></a>03939 
<a name="l03944"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f">03944</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T <a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">minmod</a>(<span class="keyword">const</span> T&amp; a,<span class="keyword">const</span> T&amp; b) {
<a name="l03945"></a>03945       <span class="keywordflow">return</span> a*b&lt;=0?0:(a&gt;0?(a&lt;b?a:b):(a&lt;b?b:a));
<a name="l03946"></a>03946     }
<a name="l03947"></a>03947 
<a name="l03949"></a><a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">03949</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">rand</a>() {
<a name="l03950"></a>03950       <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">std::rand</a>()/RAND_MAX;
<a name="l03951"></a>03951     }
<a name="l03952"></a>03952 
<a name="l03954"></a><a class="code" href="namespacecimg__library_1_1cimg.html#aae82972570fdc0904d4f03df7b5d3023">03954</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#aae82972570fdc0904d4f03df7b5d3023" title="Return a random variable between [-1,1], following a uniform distribution.">crand</a>() {
<a name="l03955"></a>03955       <span class="keywordflow">return</span> 1-2*<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>();
<a name="l03956"></a>03956     }
<a name="l03957"></a>03957 
<a name="l03959"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c">03959</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">grand</a>() {
<a name="l03960"></a>03960       <span class="keywordflow">return</span> std::sqrt(-2*std::log((<span class="keywordtype">double</span>)(1e-10 + (1-2e-10)*<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>())))*std::cos((<span class="keywordtype">double</span>)(2*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">PI</a>*<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>()));
<a name="l03961"></a>03961     }
<a name="l03962"></a>03962 
<a name="l03964"></a><a class="code" href="namespacecimg__library_1_1cimg.html#aea674560ff8416d8f1753271865f3d65">03964</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="namespacecimg__library_1_1cimg.html#aea674560ff8416d8f1753271865f3d65" title="Return a rounded number.">round</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> round_type=0) {
<a name="l03965"></a>03965       <span class="keywordflow">if</span> (y&lt;=0) <span class="keywordflow">return</span> x;
<a name="l03966"></a>03966       <span class="keyword">const</span> <span class="keywordtype">double</span> delta = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(x,y);
<a name="l03967"></a>03967       <span class="keywordflow">if</span> (delta==0.0) <span class="keywordflow">return</span> x;
<a name="l03968"></a>03968       <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l03969"></a>03969         backward = x-delta,
<a name="l03970"></a>03970         forward = backward+y;
<a name="l03971"></a>03971       <span class="keywordflow">return</span> round_type==1?backward:(round_type==2?forward:(2*delta&lt;y?backward:forward));
<a name="l03972"></a>03972     }
<a name="l03973"></a>03973 
<a name="l03974"></a>03974     <span class="keyword">inline</span> <span class="keywordtype">double</span> pythagore(<span class="keywordtype">double</span> a, <span class="keywordtype">double</span> b) {
<a name="l03975"></a>03975       <span class="keyword">const</span> <span class="keywordtype">double</span> absa = <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(a), absb = <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(b);
<a name="l03976"></a>03976       <span class="keywordflow">if</span> (absa&gt;absb) { <span class="keyword">const</span> <span class="keywordtype">double</span> tmp = absb/absa; <span class="keywordflow">return</span> absa*std::sqrt(1.0+tmp*tmp); }
<a name="l03977"></a>03977       <span class="keywordflow">else</span> { <span class="keyword">const</span> <span class="keywordtype">double</span> tmp = absa/absb; <span class="keywordflow">return</span> (absb==0?0:absb*std::sqrt(1.0+tmp*tmp)); }
<a name="l03978"></a>03978     }
<a name="l03979"></a>03979 
<a name="l03980"></a>03980     <span class="comment">// End of the &#39;cimg&#39; namespace</span>
<a name="l03981"></a>03981   }
<a name="l03982"></a>03982 
<a name="l03983"></a>03983 
<a name="l03984"></a>03984   <span class="comment">/*</span>
<a name="l03985"></a>03985 <span class="comment">   #------------------------------------------------</span>
<a name="l03986"></a>03986 <span class="comment">   #</span>
<a name="l03987"></a>03987 <span class="comment">   #</span>
<a name="l03988"></a>03988 <span class="comment">   #</span>
<a name="l03989"></a>03989 <span class="comment">   # Definition of common arithmetical operations</span>
<a name="l03990"></a>03990 <span class="comment">   #</span>
<a name="l03991"></a>03991 <span class="comment">   #</span>
<a name="l03992"></a>03992 <span class="comment">   #</span>
<a name="l03993"></a>03993 <span class="comment">   #------------------------------------------------</span>
<a name="l03994"></a>03994 <span class="comment">   */</span>
<a name="l03995"></a>03995 
<a name="l03996"></a>03996 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l03997"></a>03997 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator+(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> t&amp; val) {
<a name="l03998"></a>03998         <span class="keywordflow">return</span> CImg&lt;t&gt;(img,<span class="keyword">false</span>)+=val;
<a name="l03999"></a>03999   }
<a name="l04000"></a>04000 <span class="preprocessor">#else</span>
<a name="l04001"></a>04001 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> t2&amp; val) {
<a name="l04002"></a>04002     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04003"></a>04003     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img,<span class="keyword">false</span>)+=val;
<a name="l04004"></a>04004  }
<a name="l04005"></a>04005 <span class="preprocessor">#endif</span>
<a name="l04006"></a>04006 <span class="preprocessor"></span>
<a name="l04007"></a>04007 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04008"></a>04008 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator+(<span class="keyword">const</span> t&amp; val, <span class="keyword">const</span> CImg&lt;t&gt;&amp; img) {
<a name="l04009"></a>04009     <span class="keywordflow">return</span> img+val;
<a name="l04010"></a>04010   }
<a name="l04011"></a>04011 <span class="preprocessor">#else</span>
<a name="l04012"></a>04012 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img) {
<a name="l04013"></a>04013     <span class="keywordflow">return</span> img+val;
<a name="l04014"></a>04014   }
<a name="l04015"></a>04015 <span class="preprocessor">#endif</span>
<a name="l04016"></a>04016 <span class="preprocessor"></span>
<a name="l04017"></a>04017 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04018"></a>04018 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator+(<span class="keyword">const</span> CImgList&lt;t&gt;&amp; list, <span class="keyword">const</span> t&amp; val) {
<a name="l04019"></a>04019     <span class="keywordflow">return</span> CImgList&lt;t&gt;(list)+=val;
<a name="l04020"></a>04020   }
<a name="l04021"></a>04021 <span class="preprocessor">#else</span>
<a name="l04022"></a>04022 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list, <span class="keyword">const</span> t2&amp; val) {
<a name="l04023"></a>04023           <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04024"></a>04024     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)+=val;
<a name="l04025"></a>04025   }
<a name="l04026"></a>04026 <span class="preprocessor">#endif</span>
<a name="l04027"></a>04027 <span class="preprocessor"></span>
<a name="l04028"></a>04028 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04029"></a>04029 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator+(<span class="keyword">const</span> t&amp; val, <span class="keyword">const</span> CImgList&lt;t&gt;&amp; list) {
<a name="l04030"></a>04030           <span class="keywordflow">return</span> list+val;
<a name="l04031"></a>04031   }
<a name="l04032"></a>04032 <span class="preprocessor">#else</span>
<a name="l04033"></a>04033 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04034"></a>04034           <span class="keywordflow">return</span> list+val;
<a name="l04035"></a>04035   }
<a name="l04036"></a>04036 <span class="preprocessor">#endif</span>
<a name="l04037"></a>04037 <span class="preprocessor"></span>
<a name="l04038"></a>04038   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img1, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img2) {
<a name="l04039"></a>04039     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04040"></a>04040     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img1,<span class="keyword">false</span>)+=img2;
<a name="l04041"></a>04041   }
<a name="l04042"></a>04042 
<a name="l04043"></a>04043   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04044"></a>04044     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04045"></a>04045     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)+=img;
<a name="l04046"></a>04046   }
<a name="l04047"></a>04047 
<a name="l04048"></a>04048   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img) {
<a name="l04049"></a>04049     <span class="keywordflow">return</span> img+list;
<a name="l04050"></a>04050   }
<a name="l04051"></a>04051 
<a name="l04052"></a>04052   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator+(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list1, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list2) {
<a name="l04053"></a>04053     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04054"></a>04054     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list1)+=list2;
<a name="l04055"></a>04055   }
<a name="l04056"></a>04056 
<a name="l04057"></a>04057 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04058"></a>04058 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator-(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> t&amp; val) {
<a name="l04059"></a>04059           <span class="keywordflow">return</span> CImg&lt;t&gt;(img,<span class="keyword">false</span>)-=val;
<a name="l04060"></a>04060   }
<a name="l04061"></a>04061 <span class="preprocessor">#else</span>
<a name="l04062"></a>04062 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> t2&amp; val) {
<a name="l04063"></a>04063     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04064"></a>04064     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img,<span class="keyword">false</span>)-=val;
<a name="l04065"></a>04065   }
<a name="l04066"></a>04066 <span class="preprocessor">#endif</span>
<a name="l04067"></a>04067 <span class="preprocessor"></span>
<a name="l04068"></a>04068 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04069"></a>04069 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator-(<span class="keyword">const</span> t&amp; val, <span class="keyword">const</span> CImg&lt;t&gt;&amp; img) {
<a name="l04070"></a>04070     <span class="keywordflow">return</span> CImg&lt;t&gt;(img.width,img.height,img.depth,img.dim,val)-=img;
<a name="l04071"></a>04071   }
<a name="l04072"></a>04072 <span class="preprocessor">#else</span>
<a name="l04073"></a>04073 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img) {
<a name="l04074"></a>04074     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04075"></a>04075     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img.width,img.height,img.depth,img.dim,(restype)val)-=img;
<a name="l04076"></a>04076   }
<a name="l04077"></a>04077 <span class="preprocessor">#endif</span>
<a name="l04078"></a>04078 <span class="preprocessor"></span>
<a name="l04079"></a>04079 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04080"></a>04080 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator-(<span class="keyword">const</span> CImgList&lt;t&gt;&amp; list, <span class="keyword">const</span> t&amp; val) {
<a name="l04081"></a>04081           <span class="keywordflow">return</span> CImgList&lt;t&gt;(list)-=val;
<a name="l04082"></a>04082   }
<a name="l04083"></a>04083 <span class="preprocessor">#else</span>
<a name="l04084"></a>04084 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list, <span class="keyword">const</span> t2&amp; val) {
<a name="l04085"></a>04085     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04086"></a>04086     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)-=val;
<a name="l04087"></a>04087   }
<a name="l04088"></a>04088 <span class="preprocessor">#endif</span>
<a name="l04089"></a>04089 <span class="preprocessor"></span>
<a name="l04090"></a>04090 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04091"></a>04091 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;double&gt; operator-(<span class="keyword">const</span> t&amp; val, <span class="keyword">const</span> CImgList&lt;t&gt;&amp; list) {
<a name="l04092"></a>04092     CImgList&lt;t&gt; res(list.size);
<a name="l04093"></a>04093     cimglist_for(res,l) res[l] = val-list[l];
<a name="l04094"></a>04094     return res;
<a name="l04095"></a>04095   }
<a name="l04096"></a>04096 <span class="preprocessor">#else</span>
<a name="l04097"></a>04097 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04098"></a>04098     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04099"></a>04099     CImgList&lt;restype&gt; res(list.size);
<a name="l04100"></a>04100     cimglist_for(res,l) res[l] = val-list[l];
<a name="l04101"></a>04101     return res;
<a name="l04102"></a>04102   }
<a name="l04103"></a>04103 <span class="preprocessor">#endif</span>
<a name="l04104"></a>04104 <span class="preprocessor"></span>
<a name="l04105"></a>04105   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img1, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img2) {
<a name="l04106"></a>04106     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04107"></a>04107     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img1,<span class="keyword">false</span>)-=img2;
<a name="l04108"></a>04108   }
<a name="l04109"></a>04109 
<a name="l04110"></a>04110   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04111"></a>04111     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04112"></a>04112     CImgList&lt;restype&gt; res(list.size);
<a name="l04113"></a>04113     cimglist_for(res,l) res[l] = img-list[l];
<a name="l04114"></a>04114     return res;
<a name="l04115"></a>04115   }
<a name="l04116"></a>04116 
<a name="l04117"></a>04117   template&lt;typename t1, typename t2&gt; inline CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(const CImgList&lt;t1&gt;&amp; list, const CImg&lt;t2&gt;&amp; img) {
<a name="l04118"></a>04118     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04119"></a>04119     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)-=img;
<a name="l04120"></a>04120   }
<a name="l04121"></a>04121 
<a name="l04122"></a>04122   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator-(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list1, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list2) {
<a name="l04123"></a>04123     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04124"></a>04124     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list1)-=list2;
<a name="l04125"></a>04125   }
<a name="l04126"></a>04126 
<a name="l04127"></a>04127 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04128"></a>04128 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator*(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l04129"></a>04129         <span class="keywordflow">return</span> CImg&lt;t&gt;(img,<span class="keyword">false</span>)*=val;
<a name="l04130"></a>04130   }
<a name="l04131"></a>04131 <span class="preprocessor">#else</span>
<a name="l04132"></a>04132 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> t2&amp; val) {
<a name="l04133"></a>04133     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04134"></a>04134     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img,<span class="keyword">false</span>)*=val;
<a name="l04135"></a>04135   }
<a name="l04136"></a>04136 <span class="preprocessor">#endif</span>
<a name="l04137"></a>04137 <span class="preprocessor"></span>
<a name="l04138"></a>04138 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04139"></a>04139 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator*(<span class="keyword">const</span> <span class="keywordtype">double</span> val, <span class="keyword">const</span> CImg&lt;t&gt;&amp; img) {
<a name="l04140"></a>04140         <span class="keywordflow">return</span> img*val;
<a name="l04141"></a>04141   }
<a name="l04142"></a>04142 <span class="preprocessor">#else</span>
<a name="l04143"></a>04143 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img) {
<a name="l04144"></a>04144           <span class="keywordflow">return</span> img*val;
<a name="l04145"></a>04145   }
<a name="l04146"></a>04146 <span class="preprocessor">#endif</span>
<a name="l04147"></a>04147 <span class="preprocessor"></span>
<a name="l04148"></a>04148 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04149"></a>04149 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator*(<span class="keyword">const</span> CImgList&lt;t&gt;&amp; list, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l04150"></a>04150           <span class="keywordflow">return</span> CImgList&lt;t&gt;(list)*=val;
<a name="l04151"></a>04151   }
<a name="l04152"></a>04152 <span class="preprocessor">#else</span>
<a name="l04153"></a>04153 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list, <span class="keyword">const</span> t2&amp; val) {
<a name="l04154"></a>04154     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04155"></a>04155     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)*=val;
<a name="l04156"></a>04156   }
<a name="l04157"></a>04157 <span class="preprocessor">#endif</span>
<a name="l04158"></a>04158 <span class="preprocessor"></span>
<a name="l04159"></a>04159 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04160"></a>04160 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator*(<span class="keyword">const</span> <span class="keywordtype">double</span> val, <span class="keyword">const</span> CImgList&lt;t&gt;&amp; list) {
<a name="l04161"></a>04161         <span class="keywordflow">return</span> list*val;
<a name="l04162"></a>04162   }
<a name="l04163"></a>04163 <span class="preprocessor">#else</span>
<a name="l04164"></a>04164 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04165"></a>04165           <span class="keywordflow">return</span> list*val;
<a name="l04166"></a>04166   }
<a name="l04167"></a>04167 <span class="preprocessor">#endif</span>
<a name="l04168"></a>04168 <span class="preprocessor"></span>
<a name="l04169"></a>04169   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img1, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img2) {
<a name="l04170"></a>04170     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04171"></a>04171     <span class="keywordflow">if</span> (img1.width!=img2.height)
<a name="l04172"></a>04172       <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;operator*() : can&#39;t multiply a matrix (%ux%u) by a matrix (%ux%u)&quot;</span>,
<a name="l04173"></a>04173                                   img1.width,img1.height,img2.width,img2.height);
<a name="l04174"></a>04174     CImg&lt;restype&gt; res(img2.width,img1.height);
<a name="l04175"></a>04175     restype val;
<a name="l04176"></a>04176     cimg_forXY(res,i,j) { val=0; cimg_forX(img1,k) val+=img1(k,j)*img2(i,k); res(i,j) = val; }
<a name="l04177"></a>04177     return res;
<a name="l04178"></a>04178   }
<a name="l04179"></a>04179 
<a name="l04180"></a>04180   template&lt;typename t1, typename t2&gt; inline CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(const CImg&lt;t1&gt;&amp; img, const CImgList&lt;t2&gt;&amp; list) {
<a name="l04181"></a>04181     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04182"></a>04182     CImgList&lt;restype&gt; res(list.size);
<a name="l04183"></a>04183     cimglist_for(res,l) res[l] = img*list[l];
<a name="l04184"></a>04184     return res;
<a name="l04185"></a>04185   }
<a name="l04186"></a>04186 
<a name="l04187"></a>04187   template&lt;typename t1, typename t2&gt; inline CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(const CImgList&lt;t1&gt;&amp; list, const CImg&lt;t2&gt;&amp; img) {
<a name="l04188"></a>04188     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04189"></a>04189     CImgList&lt;restype&gt; res(list.size);
<a name="l04190"></a>04190     cimglist_for(res,l) res[l] = list[l]*img;
<a name="l04191"></a>04191     return res;
<a name="l04192"></a>04192   }
<a name="l04193"></a>04193 
<a name="l04194"></a>04194   template&lt;typename t1, typename t2&gt; inline CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator*(const CImgList&lt;t1&gt;&amp; list1, const CImgList&lt;t2&gt;&amp; list2) {
<a name="l04195"></a>04195     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04196"></a>04196     CImgList&lt;restype&gt; res(<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(list1.size,list2.size));
<a name="l04197"></a>04197     cimglist_for(res,l) res[l] = list1[l]*list2[l];
<a name="l04198"></a>04198     return res;
<a name="l04199"></a>04199   }
<a name="l04200"></a>04200 
<a name="l04201"></a>04201 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04202"></a>04202 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator/(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l04203"></a>04203          <span class="keywordflow">return</span> CImg&lt;t&gt;(img,<span class="keyword">false</span>)/=val;
<a name="l04204"></a>04204          }
<a name="l04205"></a>04205 <span class="preprocessor">#else</span>
<a name="l04206"></a>04206 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> t2&amp; val) {
<a name="l04207"></a>04207           <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04208"></a>04208     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img,<span class="keyword">false</span>)/=val;
<a name="l04209"></a>04209   }
<a name="l04210"></a>04210 <span class="preprocessor">#endif</span>
<a name="l04211"></a>04211 <span class="preprocessor"></span>
<a name="l04212"></a>04212 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04213"></a>04213 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImg&lt;t&gt; operator/(<span class="keyword">const</span> <span class="keywordtype">double</span> val, CImg&lt;t&gt;&amp; img) {
<a name="l04214"></a>04214         <span class="keywordflow">return</span> val*img.get_inverse();
<a name="l04215"></a>04215   }
<a name="l04216"></a>04216 <span class="preprocessor">#else</span>
<a name="l04217"></a>04217 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> t1&amp; val, CImg&lt;t2&gt;&amp; img) {
<a name="l04218"></a>04218           <span class="keywordflow">return</span> val*img.get_inverse();
<a name="l04219"></a>04219   }
<a name="l04220"></a>04220 <span class="preprocessor">#endif</span>
<a name="l04221"></a>04221 <span class="preprocessor"></span>
<a name="l04222"></a>04222 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04223"></a>04223 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator/(<span class="keyword">const</span> CImgList&lt;t&gt;&amp; list, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l04224"></a>04224           <span class="keywordflow">return</span> CImgList&lt;t&gt;(list)/=val;
<a name="l04225"></a>04225   }
<a name="l04226"></a>04226 <span class="preprocessor">#else</span>
<a name="l04227"></a>04227 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list, <span class="keyword">const</span> t2&amp; val) {
<a name="l04228"></a>04228     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04229"></a>04229     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)/=val;
<a name="l04230"></a>04230   }
<a name="l04231"></a>04231 <span class="preprocessor">#endif</span>
<a name="l04232"></a>04232 <span class="preprocessor"></span>
<a name="l04233"></a>04233 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l04234"></a>04234 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> CImgList&lt;t&gt; operator/(<span class="keyword">const</span> <span class="keywordtype">double</span> val, <span class="keyword">const</span> CImgList&lt;t&gt;&amp; list) {
<a name="l04235"></a>04235     CImgList&lt;t&gt; res(list.size);
<a name="l04236"></a>04236     cimglist_for(res,l) res[l] = val/list[l];
<a name="l04237"></a>04237     return res;
<a name="l04238"></a>04238   }
<a name="l04239"></a>04239 <span class="preprocessor">#else</span>
<a name="l04240"></a>04240 <span class="preprocessor"></span>  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> t1&amp; val, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04241"></a>04241     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04242"></a>04242     CImgList&lt;restype&gt; res(list.size);
<a name="l04243"></a>04243     cimglist_for(res,l) res[l] = val/list[l];
<a name="l04244"></a>04244     return res;
<a name="l04245"></a>04245   }
<a name="l04246"></a>04246 <span class="preprocessor">#endif</span>
<a name="l04247"></a>04247 <span class="preprocessor"></span>
<a name="l04248"></a>04248   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img1, <span class="keyword">const</span> CImg&lt;t2&gt;&amp; img2) {
<a name="l04249"></a>04249     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04250"></a>04250     <span class="keywordflow">return</span> CImg&lt;restype&gt;(img1,<span class="keyword">false</span>)*=img2.get_inverse();
<a name="l04251"></a>04251   }
<a name="l04252"></a>04252 
<a name="l04253"></a>04253   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImg&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> CImg&lt;t1&gt;&amp; img, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list) {
<a name="l04254"></a>04254     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04255"></a>04255     CImgList&lt;restype&gt; res(list.size);
<a name="l04256"></a>04256     cimglist_for(res,l) res[l] = img/list[l];
<a name="l04257"></a>04257     return res;
<a name="l04258"></a>04258   }
<a name="l04259"></a>04259 
<a name="l04260"></a>04260   template&lt;typename t1, typename t2&gt; inline CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(const CImgList&lt;t1&gt;&amp; list, const CImg&lt;t2&gt;&amp; img) {
<a name="l04261"></a>04261     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04262"></a>04262     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list)/=img;
<a name="l04263"></a>04263   }
<a name="l04264"></a>04264 
<a name="l04265"></a>04265   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <span class="keyword">inline</span> CImgList&lt;typename cimg::largest&lt;t1,t2&gt;::type&gt; operator/(<span class="keyword">const</span> CImgList&lt;t1&gt;&amp; list1, <span class="keyword">const</span> CImgList&lt;t2&gt;&amp; list2) {
<a name="l04266"></a>04266     <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t1,t2&gt;::type restype;
<a name="l04267"></a>04267     <span class="keywordflow">return</span> CImgList&lt;restype&gt;(list1)/=list2;
<a name="l04268"></a>04268   }
<a name="l04269"></a>04269 
<a name="l04270"></a>04270   <span class="comment">/*</span>
<a name="l04271"></a>04271 <span class="comment">   #----------------------------------------</span>
<a name="l04272"></a>04272 <span class="comment">   #</span>
<a name="l04273"></a>04273 <span class="comment">   #</span>
<a name="l04274"></a>04274 <span class="comment">   #</span>
<a name="l04275"></a>04275 <span class="comment">   # Definition of the CImgStats structure</span>
<a name="l04276"></a>04276 <span class="comment">   #</span>
<a name="l04277"></a>04277 <span class="comment">   #</span>
<a name="l04278"></a>04278 <span class="comment">   #</span>
<a name="l04279"></a>04279 <span class="comment">   #----------------------------------------</span>
<a name="l04280"></a>04280 <span class="comment">   */</span>
<a name="l04282"></a>04282 
<a name="l04298"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html">04298</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> {
<a name="l04299"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca">04299</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>;                 
<a name="l04300"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a">04300</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>;                 
<a name="l04301"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0">04301</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>;                
<a name="l04302"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b">04302</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>;            
<a name="l04303"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd">04303</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>;                   
<a name="l04304"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce">04304</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>;                   
<a name="l04305"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020">04305</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>;                   
<a name="l04306"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067">04306</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>;                   
<a name="l04307"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8">04307</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>;                   
<a name="l04308"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce">04308</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>;                   
<a name="l04309"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa">04309</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>;                   
<a name="l04310"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6">04310</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>;                   
<a name="l04311"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed">04311</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>;                   
<a name="l04312"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa">04312</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>;                   
<a name="l04313"></a>04313 
<a name="l04314"></a>04314 <span class="preprocessor">#ifdef cimgstats_plugin</span>
<a name="l04315"></a>04315 <span class="preprocessor"></span><span class="preprocessor">#include cimgstats_plugin</span>
<a name="l04316"></a>04316 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l04317"></a>04317 <span class="preprocessor"></span>
<a name="l04319"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a7cf30aba66cdd7f9420570a81cc0fa30">04319</a>     <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7cf30aba66cdd7f9420570a81cc0fa30" title="Default constructor.">CImgStats</a>():<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>(0),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>(0),<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>(0),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>(0),<a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>(-1),
<a name="l04320"></a>04320                 <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>(-1),<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>(-1) {}
<a name="l04321"></a>04321 
<a name="l04323"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135">04323</a>     <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135" title="In-place version of the default constructor.">assign</a>() {
<a name="l04324"></a>04324       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a> = 0;
<a name="l04325"></a>04325       <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a> = -1;
<a name="l04326"></a>04326       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04327"></a>04327     }
<a name="l04328"></a>04328 
<a name="l04330"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a659670cc7b2dc415fc7df786e7950714">04330</a>     <a class="code" href="structcimg__library_1_1_c_img_stats.html#a659670cc7b2dc415fc7df786e7950714" title="Copy constructor.">CImgStats</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; stats) {
<a name="l04331"></a>04331       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135" title="In-place version of the default constructor.">assign</a>(stats);
<a name="l04332"></a>04332     };
<a name="l04333"></a>04333 
<a name="l04335"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a3adda5c63560364de6aaf01f004c0251">04335</a>     <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3adda5c63560364de6aaf01f004c0251" title="In-place version of the copy constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; stats) {
<a name="l04336"></a>04336       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>;
<a name="l04337"></a>04337       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>;
<a name="l04338"></a>04338       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>;
<a name="l04339"></a>04339       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>;
<a name="l04340"></a>04340       <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>;
<a name="l04341"></a>04341       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a> = stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>;
<a name="l04342"></a>04342       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04343"></a>04343     }
<a name="l04344"></a>04344 
<a name="l04346"></a>04346 
<a name="l04350"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#ae6f01dabd36b18ec51ae21a662b23413">04350</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae6f01dabd36b18ec51ae21a662b23413" title="Constructor that computes statistics of an input image img.">CImgStats</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> compute_variance=<span class="keyword">true</span>) {
<a name="l04351"></a>04351       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135" title="In-place version of the default constructor.">assign</a>(img,compute_variance);
<a name="l04352"></a>04352     }
<a name="l04353"></a>04353 
<a name="l04355"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a6c9dbbce7dbb3ed31d431d980625cb65">04355</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a6c9dbbce7dbb3ed31d431d980625cb65" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> compute_variance=<span class="keyword">true</span>) {
<a name="l04356"></a>04356       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l04357"></a>04357         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgStats::CImgStats() : Specified input image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l04358"></a>04358                                     img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l04359"></a>04359       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a> = 0;
<a name="l04360"></a>04360       <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a> = -1;
<a name="l04361"></a>04361       T pmin=img[0], pmax=pmin, *ptrmin=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>, *ptrmax=ptrmin;
<a name="l04362"></a>04362       cimg_for(img,ptr,T) {
<a name="l04363"></a>04363         <span class="keyword">const</span> T&amp; a=*ptr;
<a name="l04364"></a>04364         <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>+=(double)a;
<a name="l04365"></a>04365         <span class="keywordflow">if</span> (a&lt;pmin) { pmin=a; ptrmin = ptr; }
<a name="l04366"></a>04366         <span class="keywordflow">if</span> (a&gt;pmax) { pmax=a; ptrmax = ptr; }
<a name="l04367"></a>04367       }
<a name="l04368"></a>04368       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>/=img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l04369"></a>04369       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>=(double)pmin;
<a name="l04370"></a>04370       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>=(double)pmax;
<a name="l04371"></a>04371       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offmin = (<span class="keywordtype">unsigned</span> long)(ptrmin-img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>), offmax = (<span class="keywordtype">unsigned</span> long)(ptrmax-img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l04372"></a>04372       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> whz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, wh = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l04373"></a>04373       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a> = offmin/whz; offmin%=whz; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a> = offmin/wh; offmin%=wh; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a> = offmin/img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a> = offmin%img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l04374"></a>04374       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a> = offmax/whz; offmax%=whz; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a> = offmax/wh; offmax%=wh; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a> = offmax/img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a> = offmax%img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l04375"></a>04375       <span class="keywordflow">if</span> (compute_variance) {
<a name="l04376"></a>04376         cimg_for(img,ptr,T) { <span class="keyword">const</span> <span class="keywordtype">double</span> tmpf=(*ptr)-<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>+=tmpf*tmpf; }
<a name="l04377"></a>04377         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l04378"></a>04378         <span class="keywordflow">if</span> (siz&gt;1) <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>/=(siz-1); <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>=0;
<a name="l04379"></a>04379       }
<a name="l04380"></a>04380       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04381"></a>04381     }
<a name="l04382"></a>04382 
<a name="l04384"></a>04384 
<a name="l04388"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#abf1be70ffa308317d5f26f37b6e10f9c">04388</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_stats.html#abf1be70ffa308317d5f26f37b6e10f9c" title="Constructor that computes statistics of an input image list list.">CImgStats</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">bool</span> compute_variance=<span class="keyword">true</span>) {
<a name="l04389"></a>04389       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135" title="In-place version of the default constructor.">assign</a>(list,compute_variance);
<a name="l04390"></a>04390     }
<a name="l04391"></a>04391 
<a name="l04393"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#aae7b9e63b900b74c8c717fce1cf0c9a5">04393</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aae7b9e63b900b74c8c717fce1cf0c9a5" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list,<span class="keyword">const</span> <span class="keywordtype">bool</span> compute_variance=<span class="keyword">true</span>) {
<a name="l04394"></a>04394       <span class="keywordflow">if</span> (list.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>())
<a name="l04395"></a>04395         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgStats::CImgStats() : Specified input list (%u,%p) is empty.&quot;</span>,
<a name="l04396"></a>04396                                     list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a>);
<a name="l04397"></a>04397       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a> = <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a> = 0;
<a name="l04398"></a>04398       T pmin = list[0][0], pmax = pmin, *ptrmin = list[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a>, *ptrmax = ptrmin;
<a name="l04399"></a>04399       <span class="keywordtype">int</span> psize = 0;
<a name="l04400"></a>04400       cimglist_for(list,l) {
<a name="l04401"></a>04401         cimg_for(list[l],ptr,T) {
<a name="l04402"></a>04402           <span class="keyword">const</span> T&amp; a=*ptr;
<a name="l04403"></a>04403           <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>+=(double)a;
<a name="l04404"></a>04404           <span class="keywordflow">if</span> (a&lt;pmin) { pmin=a; ptrmin = ptr; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a> = l; }
<a name="l04405"></a>04405           <span class="keywordflow">if</span> (a&gt;pmax) { pmax=a; ptrmax = ptr; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a> = l; }
<a name="l04406"></a>04406         }
<a name="l04407"></a>04407         psize+=list[l].<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>();
<a name="l04408"></a>04408       }
<a name="l04409"></a>04409       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>/=psize;
<a name="l04410"></a>04410       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>=(double)pmin;
<a name="l04411"></a>04411       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>=(double)pmax;
<a name="l04412"></a>04412       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> &amp;imin = list[<a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>], &amp;imax = list[<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>];
<a name="l04413"></a>04413       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offmin = (ptrmin-imin.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>), offmax = (ptrmax-imax.data);
<a name="l04414"></a>04414       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> whz1 = imin.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*imin.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*imin.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, wh1 = imin.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*imin.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l04415"></a>04415       <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a> = offmin/whz1; offmin%=whz1; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a> = offmin/wh1; offmin%=wh1; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a> = offmin/imin.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a> = offmin%imin.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l04416"></a>04416       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> whz2 = imax.width*imax.height*imax.depth, wh2 = imax.width*imax.height;
<a name="l04417"></a>04417       <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a> = offmax/whz2; offmax%=whz2; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a> = offmax/wh2; offmax%=wh2; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a> = offmax/imax.width; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a> = offmax%imax.width;
<a name="l04418"></a>04418       <span class="keywordflow">if</span> (compute_variance) {
<a name="l04419"></a>04419         cimglist_for(list,l) cimg_for(list[l],ptr,T) { <span class="keyword">const</span> <span class="keywordtype">double</span> tmpf=(*ptr)-<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>+=tmpf*tmpf; }
<a name="l04420"></a>04420         <span class="keywordflow">if</span> (psize&gt;1) <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>/=(psize-1); <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>=0;
<a name="l04421"></a>04421       }
<a name="l04422"></a>04422       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04423"></a>04423     }
<a name="l04424"></a>04424 
<a name="l04426"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#affe7f2dc9417956894d2b4f95e60b623">04426</a>     <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#affe7f2dc9417956894d2b4f95e60b623" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; stats) {
<a name="l04427"></a>04427       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a3eaed1a06b247ea1e2979ef51f840135" title="In-place version of the default constructor.">assign</a>(stats);
<a name="l04428"></a>04428     }
<a name="l04429"></a>04429 
<a name="l04431"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a97e0642b01dff9a58e83acd1e598b3de">04431</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html#a97e0642b01dff9a58e83acd1e598b3de" title="Return true if the current instance contains valid statistics.">is_empty</a>()<span class="keyword"> const </span>{
<a name="l04432"></a>04432       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>&gt;=0);
<a name="l04433"></a>04433     }
<a name="l04434"></a>04434 
<a name="l04436"></a>04436 
<a name="l04439"></a><a class="code" href="structcimg__library_1_1_c_img_stats.html#a84a394e944020659edbff6f68d585bc0">04439</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a84a394e944020659edbff6f68d585bc0" title="Print the current statistics.">print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* title=0)<span class="keyword"> const </span>{
<a name="l04440"></a>04440       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>&gt;=0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>&gt;=0)
<a name="l04441"></a>04441         std::fprintf(stderr,<span class="stringliteral">&quot;%-8s(this=%p) : { min=%g, mean=%g [var=%g], max=%g, &quot;</span>
<a name="l04442"></a>04442                      <span class="stringliteral">&quot;pmin=[%d](%d,%d,%d,%d), pmax=[%d](%d,%d,%d,%d) }\n&quot;</span>,
<a name="l04443"></a>04443                      title?title:<span class="stringliteral">&quot;CImgStats&quot;</span>,(<span class="keywordtype">void</span>*)<span class="keyword">this</span>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>,
<a name="l04444"></a>04444                      <a class="code" href="structcimg__library_1_1_c_img_stats.html#aaf4eb227b28ce91da53d8399174a6de8" title="Image number (for a list) containing the minimum pixel.">lmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7bd17a1b6df26fe1c0e7ae99ce5f9dfa" title="Image number (for a list) containing the maximum pixel.">lmax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>);
<a name="l04445"></a>04445       <span class="keywordflow">else</span>
<a name="l04446"></a>04446         std::fprintf(stderr,<span class="stringliteral">&quot;%-8s(this=%p) : { min=%g, mean=%g [var=%g], max=%g, &quot;</span>
<a name="l04447"></a>04447                      <span class="stringliteral">&quot;pmin=(%d,%d,%d,%d), pmax=(%d,%d,%d,%d) }\n&quot;</span>,
<a name="l04448"></a>04448                      title?title:<span class="stringliteral">&quot;CImgStats&quot;</span>,(<span class="keywordtype">void</span>*)<span class="keyword">this</span>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>,
<a name="l04449"></a>04449                      <a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>,<a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>);
<a name="l04450"></a>04450       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04451"></a>04451     }
<a name="l04452"></a>04452 
<a name="l04453"></a>04453   };
<a name="l04454"></a>04454 
<a name="l04455"></a>04455   <span class="comment">/*</span>
<a name="l04456"></a>04456 <span class="comment">   #-------------------------------------------</span>
<a name="l04457"></a>04457 <span class="comment">   #</span>
<a name="l04458"></a>04458 <span class="comment">   #</span>
<a name="l04459"></a>04459 <span class="comment">   #</span>
<a name="l04460"></a>04460 <span class="comment">   # Definition of the CImgDisplay structure</span>
<a name="l04461"></a>04461 <span class="comment">   #</span>
<a name="l04462"></a>04462 <span class="comment">   #</span>
<a name="l04463"></a>04463 <span class="comment">   #</span>
<a name="l04464"></a>04464 <span class="comment">   #-------------------------------------------</span>
<a name="l04465"></a>04465 <span class="comment">   */</span>
<a name="l04466"></a>04466 
<a name="l04468"></a>04468 
<a name="l04476"></a><a class="code" href="structcimg__library_1_1_c_img_display.html">04476</a>   <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> {
<a name="l04477"></a>04477 
<a name="l04479"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7">04479</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>;
<a name="l04480"></a>04480 
<a name="l04482"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05">04482</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>;
<a name="l04483"></a>04483 
<a name="l04485"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0">04485</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>;
<a name="l04486"></a>04486 
<a name="l04488"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d">04488</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>;
<a name="l04489"></a>04489 
<a name="l04491"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69">04491</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>;
<a name="l04492"></a>04492 
<a name="l04494"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1">04494</a>     <span class="keywordtype">char</span>* <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l04495"></a>04495 
<a name="l04497"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e">04497</a>     <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>;
<a name="l04498"></a>04498 
<a name="l04500"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d">04500</a>     <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>;
<a name="l04501"></a>04501 
<a name="l04503"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee">04503</a>     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>;
<a name="l04504"></a>04504 
<a name="l04506"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1">04506</a>     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>;
<a name="l04507"></a>04507 
<a name="l04509"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c">04509</a>     <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>;
<a name="l04510"></a>04510 
<a name="l04512"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a">04512</a>     <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>;
<a name="l04513"></a>04513 
<a name="l04515"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde">04515</a>     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>[256];
<a name="l04516"></a>04516     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; button;
<a name="l04517"></a>04517 
<a name="l04519"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d">04519</a>     <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>;
<a name="l04520"></a>04520 
<a name="l04522"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443">04522</a>     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>;
<a name="l04523"></a>04523     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keys[256];
<a name="l04524"></a>04524 
<a name="l04526"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086">04526</a>     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>;
<a name="l04527"></a>04527     <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> released_keys[256];
<a name="l04528"></a>04528 
<a name="l04530"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d">04530</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>;
<a name="l04531"></a>04531 
<a name="l04533"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789">04533</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>;
<a name="l04534"></a>04534 
<a name="l04536"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97">04536</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>;
<a name="l04537"></a>04537 
<a name="l04539"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43">04539</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>;
<a name="l04540"></a>04540 
<a name="l04541"></a>04541     <span class="keywordtype">float</span> fps_fps, min, max;
<a name="l04542"></a>04542     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> timer, fps_frames, fps_timer;
<a name="l04543"></a>04543 
<a name="l04544"></a>04544 <span class="preprocessor">#ifdef cimgdisplay_plugin</span>
<a name="l04545"></a>04545 <span class="preprocessor"></span><span class="preprocessor">#include cimgdisplay_plugin</span>
<a name="l04546"></a>04546 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l04547"></a>04547 <span class="preprocessor"></span>
<a name="l04549"></a>04549 
<a name="l04552"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f">04552</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>():
<a name="l04553"></a>04553       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>(0),
<a name="l04554"></a>04554       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>(0),
<a name="l04555"></a>04555       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>(0),button(*<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>),<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>(*keys),<a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>(*released_keys),
<a name="l04556"></a>04556       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>(true),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>(false),
<a name="l04557"></a>04557       min(0),max(0) {
<a name="l04558"></a>04558       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(64,64,0,3,3,<span class="keyword">false</span>,<span class="keyword">true</span>);
<a name="l04559"></a>04559     }
<a name="l04560"></a>04560 
<a name="l04562"></a>04562 
<a name="l04571"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a9fafef6af9930b63632aa41de46ef712">04571</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04572"></a>04572                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04573"></a>04573                 <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>):
<a name="l04574"></a>04574       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>(0),
<a name="l04575"></a>04575       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>(0),
<a name="l04576"></a>04576       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>(0),button(*<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>),<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>(*keys),<a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>(*released_keys),
<a name="l04577"></a>04577       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>(true),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>(false),
<a name="l04578"></a>04578       min(0),max(0) {
<a name="l04579"></a>04579       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(dimw,dimh,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l04580"></a>04580     }
<a name="l04581"></a>04581 
<a name="l04583"></a>04583 
<a name="l04590"></a>04590     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l04591"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a5f31e0f7bab904a7a7da876e5305b100">04591</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04592"></a>04592                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04593"></a>04593                 <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>):
<a name="l04594"></a>04594       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>(0),
<a name="l04595"></a>04595       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>(0),
<a name="l04596"></a>04596       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>(0),button(*<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>),<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>(*keys),<a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>(*released_keys),
<a name="l04597"></a>04597       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>(true),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>(false),min(0),max(0) {
<a name="l04598"></a>04598       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(img,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l04599"></a>04599     }
<a name="l04600"></a>04600 
<a name="l04602"></a>04602 
<a name="l04609"></a>04609     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l04610"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a6ff8481d2bf9cc0d53dd23f8eae68e26">04610</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list,<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04611"></a>04611                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04612"></a>04612                 <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>,<span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>):
<a name="l04613"></a>04613       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>(0),
<a name="l04614"></a>04614       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>(0),
<a name="l04615"></a>04615       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>(0),button(*<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>),<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>(*keys),<a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>(*released_keys),
<a name="l04616"></a>04616       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>(true),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>(false),min(0),max(0) {
<a name="l04617"></a>04617       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(list,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l04618"></a>04618     }
<a name="l04619"></a>04619 
<a name="l04621"></a>04621 
<a name="l04624"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ad4267bd4ac382369ba69af62eb110794">04624</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp):
<a name="l04625"></a>04625       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>(0),
<a name="l04626"></a>04626       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>(0),
<a name="l04627"></a>04627       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>(0),button(*<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>),<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>(0),<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>(*keys),<a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a>(*released_keys),
<a name="l04628"></a>04628       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>(true),<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a>(false),<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>(false),min(0),max(0) {
<a name="l04629"></a>04629       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(disp);
<a name="l04630"></a>04630     }
<a name="l04631"></a>04631 
<a name="l04633"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ac74bd2dc3ff700966eae996505e63080">04633</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html#ac74bd2dc3ff700966eae996505e63080" title="Destructor.">~CImgDisplay</a>() {
<a name="l04634"></a>04634       _assign();
<a name="l04635"></a>04635     }
<a name="l04636"></a>04636 
<a name="l04638"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a4f6a068b54eab95307a8c6fa0fcc6ba3">04638</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a4f6a068b54eab95307a8c6fa0fcc6ba3" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp) {
<a name="l04639"></a>04639       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(disp);
<a name="l04640"></a>04640     }
<a name="l04641"></a>04641 
<a name="l04643"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243">04643</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>()<span class="keyword"> const </span>{
<a name="l04644"></a>04644       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>;
<a name="l04645"></a>04645     }
<a name="l04646"></a>04646 
<a name="l04648"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d">04648</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>()<span class="keyword"> const </span>{
<a name="l04649"></a>04649       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>;
<a name="l04650"></a>04650     }
<a name="l04651"></a>04651 
<a name="l04653"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a9c8504bbdc451b419dc0b216ed867d7a">04653</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a9c8504bbdc451b419dc0b216ed867d7a" title="Return display window width.">window_dimx</a>()<span class="keyword"> const </span>{
<a name="l04654"></a>04654       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>;
<a name="l04655"></a>04655     }
<a name="l04656"></a>04656 
<a name="l04658"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a61324293ac89fcfe96ba684f995a1110">04658</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a61324293ac89fcfe96ba684f995a1110" title="Return display window height.">window_dimy</a>()<span class="keyword"> const </span>{
<a name="l04659"></a>04659       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>;
<a name="l04660"></a>04660     }
<a name="l04661"></a>04661 
<a name="l04663"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a037893bbb691b415114ed28891af244d">04663</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a037893bbb691b415114ed28891af244d" title="Return X-coordinate of the window.">window_posx</a>()<span class="keyword"> const </span>{
<a name="l04664"></a>04664       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>;
<a name="l04665"></a>04665     }
<a name="l04666"></a>04666 
<a name="l04668"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a5b50e0d2a2f29f0e8fb574ed505903b5">04668</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a5b50e0d2a2f29f0e8fb574ed505903b5" title="Return Y-coordinate of the window.">window_posy</a>()<span class="keyword"> const </span>{
<a name="l04669"></a>04669       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>;
<a name="l04670"></a>04670     }
<a name="l04671"></a>04671 
<a name="l04673"></a>04673 
<a name="l04675"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a96efe590da16f2e5b4510b2fde423c67">04675</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a96efe590da16f2e5b4510b2fde423c67" title="Synchronized waiting function. Same as cimg::wait().">wait</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> milliseconds) {
<a name="l04676"></a>04676       <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5e3e882409a68ca12a6aacfcbd09ed3" title="Wait for an event occuring on the current display.">cimg::wait</a>(milliseconds, timer);
<a name="l04677"></a>04677       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04678"></a>04678     }
<a name="l04679"></a>04679 
<a name="l04681"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aa5e3e882409a68ca12a6aacfcbd09ed3">04681</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5e3e882409a68ca12a6aacfcbd09ed3" title="Wait for an event occuring on the current display.">wait</a>() {
<a name="l04682"></a>04682       <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5e3e882409a68ca12a6aacfcbd09ed3" title="Wait for an event occuring on the current display.">wait</a>(*<span class="keyword">this</span>);
<a name="l04683"></a>04683       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04684"></a>04684     }
<a name="l04685"></a>04685 
<a name="l04687"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a8c2bf618661c56a0738ffdfa8f59e247">04687</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8c2bf618661c56a0738ffdfa8f59e247" title="Wait for any event occuring on the display disp1.">wait</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp1) {
<a name="l04688"></a>04688       disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = 0;
<a name="l04689"></a>04689       <span class="keywordflow">while</span> (!disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>();
<a name="l04690"></a>04690     }
<a name="l04691"></a>04691 
<a name="l04693"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#af9d487817a273facc7e0152c2a9b03e8">04693</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#af9d487817a273facc7e0152c2a9b03e8" title="Wait for any event occuring either on the display disp1 or disp2.">wait</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp1, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp2) {
<a name="l04694"></a>04694       disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = 0;
<a name="l04695"></a>04695       <span class="keywordflow">while</span> (!disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>();
<a name="l04696"></a>04696     }
<a name="l04697"></a>04697 
<a name="l04699"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a0e800e61def1cc90892386890c691330">04699</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e800e61def1cc90892386890c691330" title="Wait for any event occuring either on the display disp1, disp2 or disp3.">wait</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp1, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp2, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp3) {
<a name="l04700"></a>04700       disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp3.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = 0;
<a name="l04701"></a>04701       <span class="keywordflow">while</span> (!disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp3.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>();
<a name="l04702"></a>04702     }
<a name="l04703"></a>04703 
<a name="l04705"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a3b25b3b7b2d3021c4ce57174e423e6f3">04705</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3b25b3b7b2d3021c4ce57174e423e6f3" title="Wait for any event occuring either on the display disp1, disp2, disp3 or disp4.">wait</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp1, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp2, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp3, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp4) {
<a name="l04706"></a>04706       disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp3.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = disp4.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = 0;
<a name="l04707"></a>04707       <span class="keywordflow">while</span> (!disp1.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp2.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp3.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> &amp;&amp; !disp4.<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>();
<a name="l04708"></a>04708     }
<a name="l04709"></a>04709 
<a name="l04711"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a07f1827308cf863d49883a83de65bf8d">04711</a>     <span class="keywordtype">float</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a07f1827308cf863d49883a83de65bf8d" title="Return the frame per second rate.">frames_per_second</a>() {
<a name="l04712"></a>04712       <span class="keywordflow">if</span> (!fps_timer) fps_timer = <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>();
<a name="l04713"></a>04713       <span class="keyword">const</span> <span class="keywordtype">float</span> delta = (<a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>()-fps_timer)/1000.0f;
<a name="l04714"></a>04714       fps_frames++;
<a name="l04715"></a>04715       <span class="keywordflow">if</span> (delta&gt;=1.0f) {
<a name="l04716"></a>04716         fps_fps = fps_frames/delta;
<a name="l04717"></a>04717         fps_frames = 0;
<a name="l04718"></a>04718         fps_timer = <a class="code" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision.">cimg::time</a>();
<a name="l04719"></a>04719       }
<a name="l04720"></a>04720       <span class="keywordflow">return</span> fps_fps;
<a name="l04721"></a>04721     }
<a name="l04722"></a>04722 
<a name="l04724"></a>04724 
<a name="l04733"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57">04733</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list,<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>) {
<a name="l04734"></a>04734       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(list.<a class="code" href="structcimg__library_1_1_c_img_list.html#a2e328f768b98559b1d2b9706b1839b31" title="Return a single image which is the concatenation of all images of the current CImgList instance...">get_append</a>(axe,align));
<a name="l04735"></a>04735     }
<a name="l04736"></a>04736 
<a name="l04738"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ab3a91a1c7c31e9fb0db1bfbb1a71d6c3">04738</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; operator&lt;&lt;(const CImg&lt;T&gt;&amp; img) {
<a name="l04739"></a>04739       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(img);
<a name="l04740"></a>04740     }
<a name="l04741"></a>04741 
<a name="l04743"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ada37d4d3220ed2e4eb322afc0bd30f5e">04743</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; operator&lt;&lt;(const CImgList&lt;T&gt;&amp; list) {
<a name="l04744"></a>04744       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(list);
<a name="l04745"></a>04745     }
<a name="l04746"></a>04746 
<a name="l04748"></a>04748 
<a name="l04753"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5">04753</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l04754"></a>04754       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,redraw);
<a name="l04755"></a>04755     }
<a name="l04756"></a>04756 
<a name="l04758"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ac30fbf27d5d132fc45e51c56d8dd6271">04758</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ac30fbf27d5d132fc45e51c56d8dd6271" title="Resize a display window using the size of the given display disp.">resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l04759"></a>04759       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,redraw);
<a name="l04760"></a>04760     }
<a name="l04761"></a>04761 
<a name="l04763"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#adb8b42ca0e236a43bd030252b75a274c">04763</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#adb8b42ca0e236a43bd030252b75a274c" title="Resize a display window in its current size.">resize</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l04764"></a>04764       <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>,redraw);
<a name="l04765"></a>04765       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04766"></a>04766     }
<a name="l04767"></a>04767 
<a name="l04769"></a>04769     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> T, <span class="keyword">typename</span> to&gt;
<a name="l04770"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a056ef0f63c23ca5c200f50cdd8141fa5">04770</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a056ef0f63c23ca5c200f50cdd8141fa5" title="Display a 3d object.">display_object3d</a>(<span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l04771"></a>04771                                   <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> to&amp; opacities,
<a name="l04772"></a>04772                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l04773"></a>04773                                   <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l04774"></a>04774                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l04775"></a>04775                                   <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l04776"></a>04776                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes = <span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0) {
<a name="l04777"></a>04777       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,3,0).<a class="code" href="structcimg__library_1_1_c_img_display.html#a056ef0f63c23ca5c200f50cdd8141fa5" title="Display a 3d object.">display_object3d</a>(points,primitives,colors,opacities,*<span class="keyword">this</span>,
<a name="l04778"></a>04778                                                    centering,render_static,render_motion,
<a name="l04779"></a>04779                                                    double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l04780"></a>04780       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04781"></a>04781     }
<a name="l04782"></a>04782 
<a name="l04784"></a>04784     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> T&gt;
<a name="l04785"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a9764e6caf609ef05d0ba9e82c4126edf">04785</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a056ef0f63c23ca5c200f50cdd8141fa5" title="Display a 3d object.">display_object3d</a>(<span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l04786"></a>04786                                   <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors,
<a name="l04787"></a>04787                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l04788"></a>04788                                   <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l04789"></a>04789                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l04790"></a>04790                                   <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l04791"></a>04791                                   <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f, <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes = <span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0) {
<a name="l04792"></a>04792       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;tp,float&gt;::type to;
<a name="l04793"></a>04793       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,3,0).<a class="code" href="structcimg__library_1_1_c_img_display.html#a056ef0f63c23ca5c200f50cdd8141fa5" title="Display a 3d object.">display_object3d</a>(points,primitives,colors,
<a name="l04794"></a>04794                                                    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>(primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)=(to)opacity,*<span class="keyword">this</span>,
<a name="l04795"></a>04795                                                    centering,render_static,render_motion,
<a name="l04796"></a>04796                                                    double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l04797"></a>04797       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04798"></a>04798     }
<a name="l04799"></a>04799 
<a name="l04801"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a4e6138906a037d73e90b7525861f0058">04801</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a4e6138906a037d73e90b7525861f0058" title="Toggle fullscreen mode.">toggle_fullscreen</a>() {
<a name="l04802"></a>04802       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>,!<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>);
<a name="l04803"></a>04803     }
<a name="l04804"></a>04804 
<a name="l04805"></a>04805     <span class="comment">// Inner routine used for fast resizing of buffer to display size.</span>
<a name="l04806"></a>04806     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t, <span class="keyword">typename</span> T&gt; <span class="keyword">static</span> <span class="keywordtype">void</span> _render_resize(<span class="keyword">const</span> T *ptrs, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ws, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hs,
<a name="l04807"></a>04807                                                                 t *ptrd, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wd, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hd) {
<a name="l04808"></a>04808       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> offx = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[wd], *<span class="keyword">const</span> offy = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[hd+1], *poffx, *poffy;
<a name="l04809"></a>04809       <span class="keywordtype">float</span> s, curr, old;
<a name="l04810"></a>04810       s = (float)ws/wd;
<a name="l04811"></a>04811       poffx = offx; curr=0; <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0; x&lt;wd; x++) { old=curr; curr+=s; *(poffx++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old; }
<a name="l04812"></a>04812       s = (float)hs/hd;
<a name="l04813"></a>04813       poffy = offy; curr=0; <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;hd; y++) { old=curr; curr+=s; *(poffy++) = ws*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }
<a name="l04814"></a>04814       *poffy=0;
<a name="l04815"></a>04815       poffy = offy;
<a name="l04816"></a>04816       {<span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;hd; ) {
<a name="l04817"></a>04817         <span class="keyword">const</span> T *ptr = ptrs;
<a name="l04818"></a>04818         poffx = offx;
<a name="l04819"></a>04819         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0; x&lt;wd; x++) { *(ptrd++)=*ptr; ptr+=*(poffx++); }
<a name="l04820"></a>04820         y++;
<a name="l04821"></a>04821         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=*(poffy++);
<a name="l04822"></a>04822         <span class="keywordflow">for</span> (;!dy &amp;&amp; y&lt;hd; std::memcpy(ptrd, ptrd-wd, <span class="keyword">sizeof</span>(t)*wd), y++, ptrd+=wd, dy=*(poffy++));
<a name="l04823"></a>04823         ptrs+=dy;
<a name="l04824"></a>04824       }}
<a name="l04825"></a>04825       <span class="keyword">delete</span>[] offx; <span class="keyword">delete</span>[] offy;
<a name="l04826"></a>04826     }
<a name="l04827"></a>04827 
<a name="l04829"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a43387d75880547848f1bbade4ad16e36">04829</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a43387d75880547848f1bbade4ad16e36" title="Test if a specific key is pressed.">is_pressed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1)<span class="keyword"> const </span>{
<a name="l04830"></a>04830       <span class="keywordtype">bool</span> pressed = <span class="keyword">false</span>;
<a name="l04831"></a>04831       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;256; ++i) {
<a name="l04832"></a>04832         <span class="keywordflow">if</span> (released_keys[i]==key1) { pressed = <span class="keyword">false</span>; <span class="keywordflow">break</span>; }
<a name="l04833"></a>04833         <span class="keywordflow">if</span> (keys[i]==key1) { pressed = <span class="keyword">true</span>; <span class="keywordflow">break</span>; }
<a name="l04834"></a>04834       }
<a name="l04835"></a>04835       <span class="keywordflow">return</span> pressed;
<a name="l04836"></a>04836     }
<a name="l04837"></a>04837 
<a name="l04839"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0">04839</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> keyseq, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04840"></a>04840       <span class="keywordflow">if</span> (keyseq &amp;&amp; N) {
<a name="l04841"></a>04841         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> ps_end = keyseq+N-1, k = *ps_end, *<span class="keyword">const</span> pk_end = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)keys+257-N;
<a name="l04842"></a>04842         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *pk = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)keys; pk&lt;pk_end; ) {
<a name="l04843"></a>04843           <span class="keywordflow">if</span> (*(pk++)==k) {
<a name="l04844"></a>04844             <span class="keywordtype">bool</span> res = <span class="keyword">true</span>;
<a name="l04845"></a>04845             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *ps = ps_end, *pk2 = pk;
<a name="l04846"></a>04846             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;N; ++i) res = (*(--ps)==*(pk2++));
<a name="l04847"></a>04847             <span class="keywordflow">if</span> (res) {
<a name="l04848"></a>04848               <span class="keywordflow">if</span> (<span class="keyword">remove</span>) std::memset((<span class="keywordtype">void</span>*)(pk-1),0,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*N);
<a name="l04849"></a>04849               <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04850"></a>04850             }
<a name="l04851"></a>04851           }
<a name="l04852"></a>04852         }
<a name="l04853"></a>04853       }
<a name="l04854"></a>04854       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l04855"></a>04855     }
<a name="l04856"></a>04856 
<a name="l04858"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aba531d2ad3048536d89a0c0b5ab49acc">04858</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#aba531d2ad3048536d89a0c0b5ab49acc" title="Test if a key combination has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04859"></a>04859       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(&amp;key1,1,<span class="keyword">remove</span>);
<a name="l04860"></a>04860     }
<a name="l04861"></a>04861 
<a name="l04863"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ad2dba3c2fc021ced6a9118592f042c85">04863</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad2dba3c2fc021ced6a9118592f042c85" title="Test if a key combination has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04864"></a>04864       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[2] = { key1, key2 };
<a name="l04865"></a>04865       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,2,<span class="keyword">remove</span>);
<a name="l04866"></a>04866     }
<a name="l04867"></a>04867 
<a name="l04869"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a94b25f7ed7a6e92949f8a474d760e7d8">04869</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a94b25f7ed7a6e92949f8a474d760e7d8" title="Test if a key combination has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04870"></a>04870       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[3] = { key1, key2, key3 };
<a name="l04871"></a>04871       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,3,<span class="keyword">remove</span>);
<a name="l04872"></a>04872     }
<a name="l04873"></a>04873 
<a name="l04875"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a993cf56e37ffd82a1f72d5cf4821fefb">04875</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04876"></a>04876                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04877"></a>04877       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[4] = { key1, key2, key3, key4 };
<a name="l04878"></a>04878       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,4,<span class="keyword">remove</span>);
<a name="l04879"></a>04879     }
<a name="l04880"></a>04880 
<a name="l04882"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a65c9583febe75ae98fa8a3f255f26e82">04882</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04883"></a>04883                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04884"></a>04884       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[5] = { key1, key2, key3, key4,key5 };
<a name="l04885"></a>04885       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,5,<span class="keyword">remove</span>);
<a name="l04886"></a>04886     }
<a name="l04887"></a>04887 
<a name="l04889"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a2b2ffda4bbcb192a05698741f5983565">04889</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04890"></a>04890                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04891"></a>04891       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[6] = { key1, key2, key3, key4,key5,key6 };
<a name="l04892"></a>04892       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,6,<span class="keyword">remove</span>);
<a name="l04893"></a>04893     }
<a name="l04894"></a>04894 
<a name="l04896"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a20609780849f60357df10dc383e3f5a6">04896</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04897"></a>04897                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6,
<a name="l04898"></a>04898                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04899"></a>04899       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[7] = { key1, key2, key3, key4,key5,key6,key7 };
<a name="l04900"></a>04900       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,7,<span class="keyword">remove</span>);
<a name="l04901"></a>04901     }
<a name="l04902"></a>04902 
<a name="l04904"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#afe41c8f4bc7532c61927681b6757c40e">04904</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04905"></a>04905                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6,
<a name="l04906"></a>04906                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key8, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04907"></a>04907       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[8] = { key1, key2, key3, key4,key5,key6,key7,key8 };
<a name="l04908"></a>04908       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,8,<span class="keyword">remove</span>);
<a name="l04909"></a>04909     }
<a name="l04910"></a>04910 
<a name="l04912"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a8aaa91cb0ac902168e6045c2ae0be165">04912</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key2, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key3,
<a name="l04913"></a>04913                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key4, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key5, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key6,
<a name="l04914"></a>04914                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key7, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key8, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key9, <span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>=<span class="keyword">true</span>) {
<a name="l04915"></a>04915       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seq[9] = { key1, key2, key3, key4,key5,key6,key7,key8,key9 };
<a name="l04916"></a>04916       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a53e0b7615c98054860373ae0622a70c0" title="Test if a key sequence has been typed.">is_typed</a>(seq,9,<span class="keyword">remove</span>);
<a name="l04917"></a>04917     }
<a name="l04918"></a>04918 
<a name="l04919"></a>04919     <span class="comment">// When no display available</span>
<a name="l04920"></a>04920     <span class="comment">//---------------------------</span>
<a name="l04921"></a>04921 <span class="preprocessor">#if cimg_display_type==0</span>
<a name="l04922"></a>04922 <span class="preprocessor"></span>
<a name="l04924"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83">04924</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>() {
<a name="l04925"></a>04925       <span class="keywordflow">return</span> 0;
<a name="l04926"></a>04926     }
<a name="l04927"></a>04927 
<a name="l04929"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7">04929</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>() {
<a name="l04930"></a>04930       <span class="keywordflow">return</span> 0;
<a name="l04931"></a>04931     }
<a name="l04932"></a>04932 
<a name="l04934"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9">04934</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04935"></a>04935                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04936"></a>04936                         <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l04937"></a>04937       <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_display_exception.html">CImgDisplayException</a>(<span class="stringliteral">&quot;CImgDisplay() : Display has been required but is not available (cimg_display_type=0)&quot;</span>);
<a name="l04938"></a>04938       fps_timer = 0*(<span class="keywordtype">unsigned</span> long)(dimw + dimh + <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> + normalization_type + events_type + (<span class="keywordtype">int</span>)fullscreen_flag + (int)closed_flag);
<a name="l04939"></a>04939       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04940"></a>04940     }
<a name="l04941"></a>04941 
<a name="l04943"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#addca36599cd11c3473b74a74cce459b6">04943</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04944"></a>04944                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04945"></a>04945                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l04946"></a>04946       fps_timer = 0*(<span class="keywordtype">unsigned</span> long)(img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> + <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> + normalization_type + events_type + (<span class="keywordtype">int</span>)fullscreen_flag + (int)closed_flag);
<a name="l04947"></a>04947       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(0,0);
<a name="l04948"></a>04948     }
<a name="l04949"></a>04949 
<a name="l04951"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a6718421a69ac9fd2fdca24c15b8dad63">04951</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l04952"></a>04952                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l04953"></a>04953                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l04954"></a>04954       fps_timer = 0*(<span class="keywordtype">unsigned</span> long)(list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> + <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> + normalization_type + events_type + (<span class="keywordtype">int</span>)fullscreen_flag + (int)closed_flag);
<a name="l04955"></a>04955       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(0,0);
<a name="l04956"></a>04956     }
<a name="l04957"></a>04957 
<a name="l04959"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a61aff2566959152ed1f9f36f172d08ed">04959</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a61aff2566959152ed1f9f36f172d08ed" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> &amp;disp) {
<a name="l04960"></a>04960       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l04961"></a>04961     }
<a name="l04962"></a>04962 
<a name="l04963"></a>04963     <span class="comment">// In-place version of the destructor (should not be used by the user).</span>
<a name="l04964"></a>04964     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; _assign() {
<a name="l04965"></a>04965       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04966"></a>04966     }
<a name="l04967"></a>04967 
<a name="l04969"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a3ad00bf4853678899cdf2b929d093eef">04969</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3ad00bf4853678899cdf2b929d093eef" title="Display an image in a window.">display</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img) {
<a name="l04970"></a>04970       fps_timer = 0*img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l04971"></a>04971       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04972"></a>04972     }
<a name="l04973"></a>04973 
<a name="l04975"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aa344f0c6fcb96dad2b6a399a7b707d57">04975</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aa344f0c6fcb96dad2b6a399a7b707d57" title="Resize window.">resize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l04976"></a>04976       fps_timer = 0*width*height*(int)redraw;
<a name="l04977"></a>04977       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04978"></a>04978     }
<a name="l04979"></a>04979 
<a name="l04981"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c">04981</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx, <span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l04982"></a>04982       fps_timer = 0*posx*posy;
<a name="l04983"></a>04983       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04984"></a>04984     }
<a name="l04985"></a>04985 
<a name="l04987"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a38a72a55b3d0fb87e11706c018d55569">04987</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a38a72a55b3d0fb87e11706c018d55569" title="Move mouse pointer to a specific location.">set_mouse</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx, <span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l04988"></a>04988       fps_timer = 0*posx*posy;
<a name="l04989"></a>04989       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04990"></a>04990     }
<a name="l04991"></a>04991 
<a name="l04993"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#ae6d02e259f8234c2c751430f6b9725ca">04993</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ae6d02e259f8234c2c751430f6b9725ca" title="Hide mouse pointer.">hide_mouse</a>() {
<a name="l04994"></a>04994       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04995"></a>04995     }
<a name="l04996"></a>04996 
<a name="l04998"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#aedefb21bea6e00ccf2d8d8469fa0c7bf">04998</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aedefb21bea6e00ccf2d8d8469fa0c7bf" title="Show mouse pointer.">show_mouse</a>() {
<a name="l04999"></a>04999       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05000"></a>05000     }
<a name="l05001"></a>05001 
<a name="l05003"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92">05003</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>() {}
<a name="l05004"></a>05004 
<a name="l05006"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81">05006</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>() {
<a name="l05007"></a>05007       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05008"></a>05008     }
<a name="l05009"></a>05009 
<a name="l05011"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a26c2b81ed378556196f6bb9bbf9fe213">05011</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a26c2b81ed378556196f6bb9bbf9fe213" title="Close a visible display.">close</a>() {
<a name="l05012"></a>05012       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05013"></a>05013     }
<a name="l05014"></a>05014 
<a name="l05016"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a741ae8843434ca36535817e5ad01dec7">05016</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a741ae8843434ca36535817e5ad01dec7" title="Set the window title.">set_title</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l05017"></a>05017       fps_timer = 0*(<span class="keywordtype">unsigned</span> long)format;
<a name="l05018"></a>05018       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05019"></a>05019     }
<a name="l05020"></a>05020 
<a name="l05022"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935">05022</a>     <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>() {
<a name="l05023"></a>05023       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05024"></a>05024     }
<a name="l05025"></a>05025 
<a name="l05027"></a><a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5">05027</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img) {
<a name="l05028"></a>05028       fps_timer = 0*img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l05029"></a>05029       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05030"></a>05030     }
<a name="l05031"></a>05031 
<a name="l05032"></a>05032     <span class="comment">// X11-based display</span>
<a name="l05033"></a>05033     <span class="comment">//-------------------</span>
<a name="l05034"></a>05034 <span class="preprocessor">#elif cimg_display_type==1</span>
<a name="l05035"></a>05035 <span class="preprocessor"></span>    <span class="keywordtype">void</span> *data;
<a name="l05036"></a>05036     Window window;
<a name="l05037"></a>05037     Window background_window;
<a name="l05038"></a>05038     XImage *image;
<a name="l05039"></a>05039     Colormap colormap;
<a name="l05040"></a>05040     Atom wm_delete_window, wm_delete_protocol;
<a name="l05041"></a>05041 <span class="preprocessor">#ifdef cimg_use_xshm</span>
<a name="l05042"></a>05042 <span class="preprocessor"></span>    XShmSegmentInfo *shminfo;
<a name="l05043"></a>05043 <span class="preprocessor">#endif</span>
<a name="l05044"></a>05044 <span class="preprocessor"></span>
<a name="l05045"></a>05045     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>() {
<a name="l05046"></a>05046       <span class="keywordtype">int</span> res = 0;
<a name="l05047"></a>05047       <span class="keywordflow">if</span> (!cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>) {
<a name="l05048"></a>05048         Display *disp = XOpenDisplay((std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) ? std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) : <span class="stringliteral">&quot;:0.0&quot;</span>));
<a name="l05049"></a>05049         <span class="keywordflow">if</span> (!disp) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_display_exception.html">CImgDisplayException</a>(<span class="stringliteral">&quot;CImgDisplay::screen_dimx() : Can&#39;t open X11 display&quot;</span>);
<a name="l05050"></a>05050         res = DisplayWidth(disp,DefaultScreen(disp));
<a name="l05051"></a>05051         XCloseDisplay(disp);
<a name="l05052"></a>05052       } <span class="keywordflow">else</span> {
<a name="l05053"></a>05053 <span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l05054"></a>05054 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (cimg::X11attr().resolutions &amp;&amp; cimg::X11attr().curr_resolution)
<a name="l05055"></a>05055           res = cimg::X11attr().resolutions[cimg::X11attr().curr_resolution].width;
<a name="l05056"></a>05056         <span class="keywordflow">else</span>
<a name="l05057"></a>05057 <span class="preprocessor">#endif</span>
<a name="l05058"></a>05058 <span class="preprocessor"></span>          res = DisplayWidth(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05059"></a>05059       }
<a name="l05060"></a>05060       <span class="keywordflow">return</span> res;
<a name="l05061"></a>05061     }
<a name="l05062"></a>05062 
<a name="l05063"></a>05063     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>() {
<a name="l05064"></a>05064       <span class="keywordtype">int</span> res = 0;
<a name="l05065"></a>05065       <span class="keywordflow">if</span> (!cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>) {
<a name="l05066"></a>05066         Display *disp = XOpenDisplay((std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) ? std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) : <span class="stringliteral">&quot;:0.0&quot;</span>));
<a name="l05067"></a>05067         <span class="keywordflow">if</span> (!disp) <span class="keywordflow">throw</span> CImgDisplayException(<span class="stringliteral">&quot;CImgDisplay::screen_dimy() : Can&#39;t open X11 display&quot;</span>);
<a name="l05068"></a>05068         res = DisplayHeight(disp,DefaultScreen(disp));
<a name="l05069"></a>05069         XCloseDisplay(disp);
<a name="l05070"></a>05070       } <span class="keywordflow">else</span> {
<a name="l05071"></a>05071 <span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l05072"></a>05072 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (cimg::X11attr().resolutions &amp;&amp; cimg::X11attr().curr_resolution)
<a name="l05073"></a>05073           res = cimg::X11attr().resolutions[cimg::X11attr().curr_resolution].height; <span class="keywordflow">else</span>
<a name="l05074"></a>05074 <span class="preprocessor">#endif</span>
<a name="l05075"></a>05075 <span class="preprocessor"></span>            res = DisplayHeight(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05076"></a>05076       }
<a name="l05077"></a>05077       <span class="keywordflow">return</span> res;
<a name="l05078"></a>05078     }
<a name="l05079"></a>05079 
<a name="l05080"></a>05080     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l05081"></a>05081                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05082"></a>05082                         <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05083"></a>05083       <span class="keywordflow">if</span> (!dimw || !dimh)
<a name="l05084"></a>05084         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::assign() : Specified window size (%u,%u) is not valid.&quot;</span>,dimw,dimh);
<a name="l05085"></a>05085       assign_lowlevel(dimw,dimh,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l05086"></a>05086       min = max = 0;
<a name="l05087"></a>05087       std::memset(data,0,(cimg::X11attr().nb_bits==8?<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>):
<a name="l05088"></a>05088                           (cimg::X11attr().nb_bits==16?<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>):<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)))*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l05089"></a>05089       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05090"></a>05090     }
<a name="l05091"></a>05091 
<a name="l05092"></a>05092     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l05093"></a>05093                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05094"></a>05094                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05095"></a>05095       <span class="keywordflow">if</span> (img.is_empty())
<a name="l05096"></a>05096         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::CImgDisplay() : Specified input image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l05097"></a>05097                                     img.width,img.height,img.depth,img.dim,img.data);
<a name="l05098"></a>05098       CImg&lt;T&gt; tmp;
<a name="l05099"></a>05099       <span class="keyword">const</span> CImg&lt;T&gt;&amp; nimg = (img.depth==1)?img:(tmp=img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l05100"></a>05100       assign_lowlevel(nimg.width,nimg.height,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l05101"></a>05101       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==2) { <span class="keyword">const</span> CImgStats st(nimg,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l05102"></a>05102       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(nimg).paint();
<a name="l05103"></a>05103     }
<a name="l05104"></a>05104 
<a name="l05105"></a>05105     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> CImgList&lt;T&gt;&amp; list, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l05106"></a>05106                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05107"></a>05107                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05108"></a>05108       <span class="keywordflow">if</span> (list.is_empty())
<a name="l05109"></a>05109         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::CImgDisplay() : Specified input list (%u,%p) is empty.&quot;</span>,
<a name="l05110"></a>05110                                     list.size,list.data);
<a name="l05111"></a>05111       CImg&lt;T&gt; tmp;
<a name="l05112"></a>05112       <span class="keyword">const</span> CImg&lt;T&gt; img = list.get_append(<span class="charliteral">&#39;x&#39;</span>),
<a name="l05113"></a>05113         &amp;nimg = (img.depth==1)?img:(tmp=img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l05114"></a>05114       assign_lowlevel(nimg.width,nimg.height,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l05115"></a>05115       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==2) { <span class="keyword">const</span> CImgStats st(nimg,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l05116"></a>05116       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(nimg).paint();
<a name="l05117"></a>05117     }
<a name="l05118"></a>05118 
<a name="l05119"></a>05119     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; win) {
<a name="l05120"></a>05120       assign_lowlevel(win.width,win.height,win.title,win.normalization,win.events,win.is_fullscreen,win.is_closed);
<a name="l05121"></a>05121       std::memcpy(data,win.data,(cimg::X11attr().nb_bits==8?<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>):
<a name="l05122"></a>05122                                  cimg::X11attr().nb_bits==16?<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>):
<a name="l05123"></a>05123                                  <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>))*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l05124"></a>05124       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05125"></a>05125     }
<a name="l05126"></a>05126 
<a name="l05127"></a>05127     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; _assign() {
<a name="l05128"></a>05128       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>) {
<a name="l05129"></a>05129         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05130"></a>05130 
<a name="l05131"></a>05131         <span class="comment">// Remove display window from event thread list</span>
<a name="l05132"></a>05132         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l05133"></a>05133         <span class="keywordflow">for</span> (i=0; i&lt;cimg::X11attr().nb_wins &amp;&amp; cimg::X11attr().wins[i]!=<span class="keyword">this</span>; i++);
<a name="l05134"></a>05134         <span class="keywordflow">for</span> (; i&lt;cimg::X11attr().nb_wins-1; i++) cimg::X11attr().wins[i]=cimg::X11attr().wins[i+1];
<a name="l05135"></a>05135         cimg::X11attr().nb_wins--;
<a name="l05136"></a>05136 
<a name="l05137"></a>05137         <span class="comment">// Destroy window, image, colormap and title</span>
<a name="l05138"></a>05138         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _desinit_fullscreen();
<a name="l05139"></a>05139         XDestroyWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window);
<a name="l05140"></a>05140         window = 0;
<a name="l05141"></a>05141 <span class="preprocessor">#ifdef cimg_use_xshm</span>
<a name="l05142"></a>05142 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (shminfo) {
<a name="l05143"></a>05143           XShmDetach(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, shminfo);
<a name="l05144"></a>05144           XDestroyImage(image);
<a name="l05145"></a>05145           shmdt(shminfo-&gt;shmaddr);
<a name="l05146"></a>05146           shmctl(shminfo-&gt;shmid,IPC_RMID,0);
<a name="l05147"></a>05147           <span class="keyword">delete</span> shminfo;
<a name="l05148"></a>05148           shminfo = 0;
<a name="l05149"></a>05149         } <span class="keywordflow">else</span>
<a name="l05150"></a>05150 <span class="preprocessor">#endif</span>
<a name="l05151"></a>05151 <span class="preprocessor"></span>          XDestroyImage(image);
<a name="l05152"></a>05152         data = 0;
<a name="l05153"></a>05153         image = 0;
<a name="l05154"></a>05154         <span class="keywordflow">if</span> (cimg::X11attr().nb_bits==8) XFreeColormap(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,colormap);
<a name="l05155"></a>05155         colormap = 0;
<a name="l05156"></a>05156         XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05157"></a>05157 
<a name="l05158"></a>05158         <span class="comment">// Reset display variables</span>
<a name="l05159"></a>05159         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l05160"></a>05160         <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = 0;
<a name="l05161"></a>05161         <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">false</span>;
<a name="l05162"></a>05162         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">true</span>;
<a name="l05163"></a>05163         <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = 0;
<a name="l05164"></a>05164         <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a> = 0;
<a name="l05165"></a>05165         std::memset((<span class="keywordtype">void</span>*)<a class="code" href="structcimg__library_1_1_c_img_display.html#a3011638314e3a34027c637584c25ccde" title="Button state of the mouse.">buttons</a>,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05166"></a>05166         std::memset((<span class="keywordtype">void</span>*)keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05167"></a>05167         std::memset((<span class="keywordtype">void</span>*)released_keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05168"></a>05168         min = max = 0;
<a name="l05169"></a>05169 
<a name="l05170"></a>05170         <span class="comment">// End event thread and close display if necessary</span>
<a name="l05171"></a>05171         <span class="keywordflow">if</span> (!cimg::X11attr().nb_wins) {
<a name="l05172"></a>05172 
<a name="l05173"></a>05173           <span class="comment">// Kill event thread</span>
<a name="l05174"></a>05174           pthread_cancel(*cimg::X11attr().event_thread);
<a name="l05175"></a>05175           pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05176"></a>05176           pthread_join(*cimg::X11attr().event_thread,0);
<a name="l05177"></a>05177           <span class="keyword">delete</span> cimg::X11attr().event_thread;
<a name="l05178"></a>05178           cimg::X11attr().event_thread = 0;
<a name="l05179"></a>05179           pthread_mutex_destroy(cimg::X11attr().mutex);
<a name="l05180"></a>05180           <span class="keyword">delete</span> cimg::X11attr().mutex;
<a name="l05181"></a>05181           cimg::X11attr().mutex = 0;
<a name="l05182"></a>05182           XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05183"></a>05183           XCloseDisplay(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>);
<a name="l05184"></a>05184           cimg::X11attr().display=0;
<a name="l05185"></a>05185           <span class="keyword">delete</span> cimg::X11attr().gc;
<a name="l05186"></a>05186           cimg::X11attr().gc = 0;
<a name="l05187"></a>05187         } <span class="keywordflow">else</span> pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05188"></a>05188       }
<a name="l05189"></a>05189       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05190"></a>05190     }
<a name="l05191"></a>05191 
<a name="l05192"></a>05192     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img) {
<a name="l05193"></a>05193       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img).paint(<span class="keyword">false</span>);
<a name="l05194"></a>05194     }
<a name="l05195"></a>05195 
<a name="l05196"></a>05196     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> nwidth, <span class="keyword">const</span> <span class="keywordtype">int</span> nheight, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l05197"></a>05197       <span class="keywordflow">if</span> (!(nwidth &amp;&amp; nheight))
<a name="l05198"></a>05198         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::resize() : Specified window size (%d,%d) is not valid.&quot;</span>,
<a name="l05199"></a>05199                                     nwidth,nheight);
<a name="l05200"></a>05200       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l05201"></a>05201         tmpdimx = (nwidth&gt;0)?nwidth:(-nwidth*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/100),
<a name="l05202"></a>05202         tmpdimy = (nheight&gt;0)?nheight:(-nheight*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/100),
<a name="l05203"></a>05203         <a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(tmpdimx?tmpdimx:1,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>()),
<a name="l05204"></a>05204         <a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(tmpdimy?tmpdimy:1,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>());
<a name="l05205"></a>05205       <span class="keyword">const</span> <span class="keywordtype">bool</span>
<a name="l05206"></a>05206         is_disp_different = (<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> || <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>!=dimy),
<a name="l05207"></a>05207         is_win_different = (<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> || <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>);
<a name="l05208"></a>05208       <span class="keywordflow">if</span> (is_disp_different || is_win_different) {
<a name="l05209"></a>05209         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05210"></a>05210         XResizeWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>);
<a name="l05211"></a>05211         <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> = dimx;
<a name="l05212"></a>05212         <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = dimy;
<a name="l05213"></a>05213         <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">false</span>;
<a name="l05214"></a>05214         <span class="keywordflow">if</span> (is_disp_different) {
<a name="l05215"></a>05215           <span class="keywordflow">switch</span> (cimg::X11attr().nb_bits) {
<a name="l05216"></a>05216           <span class="keywordflow">case</span> 8:  { <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> foo=0; _resize(foo,<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>,redraw);  } <span class="keywordflow">break</span>;
<a name="l05217"></a>05217           <span class="keywordflow">case</span> 16: { <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> foo=0; _resize(foo,<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>,redraw); } <span class="keywordflow">break</span>;
<a name="l05218"></a>05218           <span class="keywordflow">default</span>: { <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> foo=0; _resize(foo,<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>,redraw);   } <span class="keywordflow">break</span>;
<a name="l05219"></a>05219           }
<a name="l05220"></a>05220           <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = dimx;
<a name="l05221"></a>05221           <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = dimy;
<a name="l05222"></a>05222         }
<a name="l05223"></a>05223         pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05224"></a>05224         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>((<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>)/2,(<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)/2);
<a name="l05225"></a>05225         <span class="keywordflow">if</span> (redraw) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05226"></a>05226       }
<a name="l05227"></a>05227       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05228"></a>05228     }
<a name="l05229"></a>05229 
<a name="l05230"></a>05230     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx, <span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l05231"></a>05231       <a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>();
<a name="l05232"></a>05232       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05233"></a>05233       XMoveWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,posx,posy);
<a name="l05234"></a>05234       <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <span class="keyword">false</span>;
<a name="l05235"></a>05235       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = posx;
<a name="l05236"></a>05236       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = posy;
<a name="l05237"></a>05237       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05238"></a>05238       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05239"></a>05239     }
<a name="l05240"></a>05240 
<a name="l05241"></a>05241     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a38a72a55b3d0fb87e11706c018d55569" title="Move mouse pointer to a specific location.">set_mouse</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx, <span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l05242"></a>05242       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; posx&gt;=0 &amp;&amp; posy&gt;=0) {
<a name="l05243"></a>05243         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05244"></a>05244         XWarpPointer(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,None,window,0,0,0,0,posx,posy);
<a name="l05245"></a>05245         <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <span class="keyword">false</span>;
<a name="l05246"></a>05246         <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = posx;
<a name="l05247"></a>05247         <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = posy;
<a name="l05248"></a>05248         XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05249"></a>05249         pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05250"></a>05250       }
<a name="l05251"></a>05251       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05252"></a>05252     }
<a name="l05253"></a>05253 
<a name="l05254"></a>05254     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ae6d02e259f8234c2c751430f6b9725ca" title="Hide mouse pointer.">hide_mouse</a>() {
<a name="l05255"></a>05255       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05256"></a>05256       <span class="keyword">const</span> <span class="keywordtype">char</span> pix_data[8] = { 0 };
<a name="l05257"></a>05257       XColor col;
<a name="l05258"></a>05258       col.red = col.green = col.blue = 0;
<a name="l05259"></a>05259       Pixmap pix = XCreateBitmapFromData(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,pix_data,8,8);
<a name="l05260"></a>05260       Cursor cur = XCreatePixmapCursor(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,pix,pix,&amp;col,&amp;col,0,0);
<a name="l05261"></a>05261       XFreePixmap(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,pix);
<a name="l05262"></a>05262       XDefineCursor(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,cur);
<a name="l05263"></a>05263       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05264"></a>05264       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05265"></a>05265     }
<a name="l05266"></a>05266 
<a name="l05267"></a>05267     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aedefb21bea6e00ccf2d8d8469fa0c7bf" title="Show mouse pointer.">show_mouse</a>() {
<a name="l05268"></a>05268       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05269"></a>05269       XDefineCursor(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,None);
<a name="l05270"></a>05270       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05271"></a>05271       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05272"></a>05272     }
<a name="l05273"></a>05273 
<a name="l05274"></a>05274     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>() {
<a name="l05275"></a>05275       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05276"></a>05276       <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;
<a name="l05277"></a>05277       XEvent event;
<a name="l05278"></a>05278       <span class="keywordflow">while</span> (flag) {
<a name="l05279"></a>05279         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;cimg::X11attr().nb_wins; i++) {
<a name="l05280"></a>05280           cimg::X11attr().wins[i]-&gt;is_event = <span class="keyword">false</span>;
<a name="l05281"></a>05281           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xevent_type = (cimg::X11attr().wins[i]-&gt;events)&amp;3;
<a name="l05282"></a>05282           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> emask =
<a name="l05283"></a>05283             ((xevent_type&gt;=1)?ExposureMask|StructureNotifyMask:0)|
<a name="l05284"></a>05284             ((xevent_type&gt;=2)?ButtonPressMask|KeyPressMask|PointerMotionMask|LeaveWindowMask:0)|
<a name="l05285"></a>05285             ((xevent_type&gt;=3)?ButtonReleaseMask|KeyReleaseMask:0);
<a name="l05286"></a>05286           XSelectInput(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,cimg::X11attr().wins[i]-&gt;window,emask);
<a name="l05287"></a>05287         }
<a name="l05288"></a>05288         XNextEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, &amp;event);
<a name="l05289"></a>05289         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;cimg::X11attr().nb_wins; i++)
<a name="l05290"></a>05290           <span class="keywordflow">if</span> (!cimg::X11attr().wins[i]-&gt;is_closed &amp;&amp; <span class="keyword">event</span>.xany.window==cimg::X11attr().wins[i]-&gt;window) {
<a name="l05291"></a>05291             cimg::X11attr().wins[i]-&gt;_handle_events(&amp;event);
<a name="l05292"></a>05292             <span class="keywordflow">if</span> (cimg::X11attr().wins[i]-&gt;<a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a>) flag = <span class="keyword">false</span>;
<a name="l05293"></a>05293           }
<a name="l05294"></a>05294       }
<a name="l05295"></a>05295       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05296"></a>05296     }
<a name="l05297"></a>05297 
<a name="l05298"></a>05298     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>() {
<a name="l05299"></a>05299       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l05300"></a>05300         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05301"></a>05301         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _init_fullscreen();
<a name="l05302"></a>05302         _map_window();
<a name="l05303"></a>05303         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">false</span>;
<a name="l05304"></a>05304         pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05305"></a>05305       }
<a name="l05306"></a>05306       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05307"></a>05307     }
<a name="l05308"></a>05308 
<a name="l05309"></a>05309     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a26c2b81ed378556196f6bb9bbf9fe213" title="Close a visible display.">close</a>() {
<a name="l05310"></a>05310       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l05311"></a>05311         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05312"></a>05312         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _desinit_fullscreen();
<a name="l05313"></a>05313         XUnmapWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window);
<a name="l05314"></a>05314         <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = -1;
<a name="l05315"></a>05315         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">true</span>;
<a name="l05316"></a>05316         pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05317"></a>05317       }
<a name="l05318"></a>05318       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05319"></a>05319     }
<a name="l05320"></a>05320 
<a name="l05321"></a>05321     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a741ae8843434ca36535817e5ad01dec7" title="Set the window title.">set_title</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l05322"></a>05322       <span class="keywordtype">char</span> tmp[1024]={0};
<a name="l05323"></a>05323       va_list ap;
<a name="l05324"></a>05324       va_start(ap, format);
<a name="l05325"></a>05325       std::vsprintf(tmp,format,ap);
<a name="l05326"></a>05326       va_end(ap);
<a name="l05327"></a>05327       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l05328"></a>05328       <span class="keyword">const</span> <span class="keywordtype">int</span> s = cimg::strlen(tmp)+1;
<a name="l05329"></a>05329       <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[s];
<a name="l05330"></a>05330       std::memcpy(<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,tmp,s*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l05331"></a>05331       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05332"></a>05332       XStoreName(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,tmp);
<a name="l05333"></a>05333       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05334"></a>05334       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05335"></a>05335     }
<a name="l05336"></a>05336 
<a name="l05337"></a>05337     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> wait_expose=<span class="keyword">true</span>) {
<a name="l05338"></a>05338       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05339"></a>05339       _paint(wait_expose);
<a name="l05340"></a>05340       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05341"></a>05341       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05342"></a>05342     }
<a name="l05343"></a>05343 
<a name="l05344"></a>05344     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> flag8=<span class="keyword">false</span>) {
<a name="l05345"></a>05345       <span class="keywordflow">if</span> (img.is_empty())
<a name="l05346"></a>05346         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::_render_image() : Specified input image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l05347"></a>05347                                     img.width,img.height,img.depth,img.dim,img.data);
<a name="l05348"></a>05348       <span class="keywordflow">if</span> (img.depth!=1) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l05349"></a>05349       <span class="keywordflow">if</span> (cimg::X11attr().nb_bits==8 &amp;&amp; (img.width!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> || img.height!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img.get_resize(<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,-100,1));
<a name="l05350"></a>05350       <span class="keywordflow">if</span> (cimg::X11attr().nb_bits==8 &amp;&amp; !flag8 &amp;&amp; img.dim==3) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img.get_RGBtoLUT(<span class="keyword">true</span>),<span class="keyword">true</span>);
<a name="l05351"></a>05351 
<a name="l05352"></a>05352       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xymax = img.width*img.height;
<a name="l05353"></a>05353       <span class="keyword">const</span> T
<a name="l05354"></a>05354         *data1 = img.ptr(),
<a name="l05355"></a>05355         *data2 = (img.dim&gt;=2)?img.ptr(0,0,0,1):data1,
<a name="l05356"></a>05356         *data3 = (img.dim&gt;=3)?img.ptr(0,0,0,2):data1;
<a name="l05357"></a>05357       <span class="keywordflow">if</span> (cimg::X11attr().blue_first) cimg::swap(data1,data3);
<a name="l05358"></a>05358       pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05359"></a>05359 
<a name="l05360"></a>05360       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> || (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==3 &amp;&amp; cimg::type&lt;T&gt;::id()==cimg::type&lt;unsigned char&gt;::id())) {
<a name="l05361"></a>05361         min = max = 0;
<a name="l05362"></a>05362         <span class="keywordflow">switch</span> (cimg::X11attr().nb_bits) {
<a name="l05363"></a>05363         <span class="keywordflow">case</span> 8: {
<a name="l05364"></a>05364           _set_colormap(colormap,img.dim);
<a name="l05365"></a>05365           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[img.width*img.height];
<a name="l05366"></a>05366           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05367"></a>05367           <span class="keywordflow">switch</span> (img.dim) {
<a name="l05368"></a>05368           <span class="keywordflow">case</span> 1: <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) (*ptrd++) = (<span class="keywordtype">unsigned</span> char)*(data1++);
<a name="l05369"></a>05369             <span class="keywordflow">break</span>;
<a name="l05370"></a>05370           <span class="keywordflow">case</span> 2: <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05371"></a>05371             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> R = (<span class="keywordtype">unsigned</span> char)*(data1++), G = (<span class="keywordtype">unsigned</span> char)*(data2++);
<a name="l05372"></a>05372             (*ptrd++) = (R&amp;0xf0)|(G&gt;&gt;4);
<a name="l05373"></a>05373           } <span class="keywordflow">break</span>;
<a name="l05374"></a>05374           <span class="keywordflow">default</span>: <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05375"></a>05375             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> R = (<span class="keywordtype">unsigned</span> char)*(data1++), G = (<span class="keywordtype">unsigned</span> char)*(data2++), B = (<span class="keywordtype">unsigned</span> char)*(data3++);
<a name="l05376"></a>05376             (*ptrd++) = (R&amp;0xe0) | ((G&gt;&gt;5)&lt;&lt;2) | (B&gt;&gt;6);
<a name="l05377"></a>05377           } <span class="keywordflow">break</span>;
<a name="l05378"></a>05378           }
<a name="l05379"></a>05379           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05380"></a>05380         } <span class="keywordflow">break</span>;
<a name="l05381"></a>05381         <span class="keywordflow">case</span> 16: {
<a name="l05382"></a>05382           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[img.width*img.height];
<a name="l05383"></a>05383           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05384"></a>05384           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> M = 248;
<a name="l05385"></a>05385           <span class="keywordflow">if</span> (cimg::X11attr().byte_order) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05386"></a>05386             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> G = (<span class="keywordtype">unsigned</span> char)*(data2++)&gt;&gt;2;
<a name="l05387"></a>05387             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data1++)&amp;M | (G&gt;&gt;3);
<a name="l05388"></a>05388             *(ptrd++) = (G&lt;&lt;5) | ((<span class="keywordtype">unsigned</span> char)*(data3++)&gt;&gt;3);
<a name="l05389"></a>05389           } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05390"></a>05390             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> G = (<span class="keywordtype">unsigned</span> char)*(data2++)&gt;&gt;2;
<a name="l05391"></a>05391             *(ptrd++) = (G&lt;&lt;5) | ((<span class="keywordtype">unsigned</span> char)*(data3++)&gt;&gt;3);
<a name="l05392"></a>05392             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data1++)&amp;M | (G&gt;&gt;3);
<a name="l05393"></a>05393           }
<a name="l05394"></a>05394           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05395"></a>05395         } <span class="keywordflow">break</span>;
<a name="l05396"></a>05396         <span class="keywordflow">default</span>: {
<a name="l05397"></a>05397           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[img.width*img.height];
<a name="l05398"></a>05398           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05399"></a>05399           <span class="keywordflow">if</span> (cimg::X11attr().byte_order) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05400"></a>05400             *(ptrd++) = 0;
<a name="l05401"></a>05401             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data1++);
<a name="l05402"></a>05402             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data2++);
<a name="l05403"></a>05403             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data3++);
<a name="l05404"></a>05404           } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05405"></a>05405             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data3++);
<a name="l05406"></a>05406             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data2++);
<a name="l05407"></a>05407             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data1++);
<a name="l05408"></a>05408             *(ptrd++) = 0;
<a name="l05409"></a>05409           }
<a name="l05410"></a>05410           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05411"></a>05411         } <span class="keywordflow">break</span>;
<a name="l05412"></a>05412         };
<a name="l05413"></a>05413       } <span class="keywordflow">else</span> {
<a name="l05414"></a>05414         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==3) {
<a name="l05415"></a>05415           <span class="keywordflow">if</span> (cimg::type&lt;T&gt;::is_float()) { <span class="keyword">const</span> CImgStats st(img,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l05416"></a>05416           <span class="keywordflow">else</span> { min = (float)cimg::type&lt;T&gt;::min(); max = (float)cimg::type&lt;T&gt;::max(); }
<a name="l05417"></a>05417         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((min&gt;max) || <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==1) { <span class="keyword">const</span> CImgStats st(img,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l05418"></a>05418         <span class="keyword">const</span> <span class="keywordtype">float</span> delta = max-min, mm = delta?delta:1.0f;
<a name="l05419"></a>05419         <span class="keywordflow">switch</span> (cimg::X11attr().nb_bits) {
<a name="l05420"></a>05420         <span class="keywordflow">case</span> 8: {
<a name="l05421"></a>05421           _set_colormap(colormap,img.dim);
<a name="l05422"></a>05422           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[img.width*img.height];
<a name="l05423"></a>05423           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05424"></a>05424           <span class="keywordflow">switch</span> (img.dim) {
<a name="l05425"></a>05425           <span class="keywordflow">case</span> 1: <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05426"></a>05426             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> R = (<span class="keywordtype">unsigned</span> char)(255*(*(data1++)-min)/mm);
<a name="l05427"></a>05427             *(ptrd++) = R;
<a name="l05428"></a>05428           } <span class="keywordflow">break</span>;
<a name="l05429"></a>05429           <span class="keywordflow">case</span> 2: <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05430"></a>05430             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l05431"></a>05431               R = (<span class="keywordtype">unsigned</span> char)(255*(*(data1++)-min)/mm),
<a name="l05432"></a>05432               G = (<span class="keywordtype">unsigned</span> char)(255*(*(data2++)-min)/mm);
<a name="l05433"></a>05433             (*ptrd++) = (R&amp;0xf0) | (G&gt;&gt;4);
<a name="l05434"></a>05434           } <span class="keywordflow">break</span>;
<a name="l05435"></a>05435           <span class="keywordflow">default</span>:
<a name="l05436"></a>05436             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05437"></a>05437               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l05438"></a>05438                 R = (<span class="keywordtype">unsigned</span> char)(255*(*(data1++)-min)/mm),
<a name="l05439"></a>05439                 G = (<span class="keywordtype">unsigned</span> char)(255*(*(data2++)-min)/mm),
<a name="l05440"></a>05440                 B = (<span class="keywordtype">unsigned</span> char)(255*(*(data3++)-min)/mm);
<a name="l05441"></a>05441               *(ptrd++) = (R&amp;0xe0) | ((G&gt;&gt;5)&lt;&lt;2) | (B&gt;&gt;6);
<a name="l05442"></a>05442             } <span class="keywordflow">break</span>;
<a name="l05443"></a>05443           }
<a name="l05444"></a>05444           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05445"></a>05445         } <span class="keywordflow">break</span>;
<a name="l05446"></a>05446         <span class="keywordflow">case</span> 16: {
<a name="l05447"></a>05447           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[img.width*img.height];
<a name="l05448"></a>05448           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05449"></a>05449           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> M = 248;
<a name="l05450"></a>05450           <span class="keywordflow">if</span> (cimg::X11attr().byte_order) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05451"></a>05451             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> G = (<span class="keywordtype">unsigned</span> char)(255*(*(data2++)-min)/mm)&gt;&gt;2;
<a name="l05452"></a>05452             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data1++)-min)/mm)&amp;M | (G&gt;&gt;3);
<a name="l05453"></a>05453             *(ptrd++) = (G&lt;&lt;5) | ((<span class="keywordtype">unsigned</span> char)(255*(*(data3++)-min)/mm)&gt;&gt;3);
<a name="l05454"></a>05454           } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05455"></a>05455             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> G = (<span class="keywordtype">unsigned</span> char)(255*(*(data2++)-min)/mm)&gt;&gt;2;
<a name="l05456"></a>05456             *(ptrd++) = (G&lt;&lt;5) | ((<span class="keywordtype">unsigned</span> char)(255*(*(data3++)-min)/mm)&gt;&gt;3);
<a name="l05457"></a>05457             *(ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data1++)-min)/mm)&amp;M | (G&gt;&gt;3);
<a name="l05458"></a>05458           }
<a name="l05459"></a>05459           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05460"></a>05460         } <span class="keywordflow">break</span>;
<a name="l05461"></a>05461         <span class="keywordflow">default</span>: {
<a name="l05462"></a>05462           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[img.width*img.height];
<a name="l05463"></a>05463           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)ndata;
<a name="l05464"></a>05464           <span class="keywordflow">if</span> (cimg::X11attr().byte_order) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05465"></a>05465             (*ptrd++) = 0;
<a name="l05466"></a>05466             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data1++)-min)/mm);
<a name="l05467"></a>05467             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data2++)-min)/mm);
<a name="l05468"></a>05468             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data3++)-min)/mm);
<a name="l05469"></a>05469           } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy=0; xy&lt;xymax; xy++) {
<a name="l05470"></a>05470             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data3++)-min)/mm);
<a name="l05471"></a>05471             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data2++)-min)/mm);
<a name="l05472"></a>05472             (*ptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(255*(*(data1++)-min)/mm);
<a name="l05473"></a>05473             (*ptrd++) = 0;
<a name="l05474"></a>05474           }
<a name="l05475"></a>05475           <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l05476"></a>05476         } <span class="keywordflow">break</span>;
<a name="l05477"></a>05477         }
<a name="l05478"></a>05478       }
<a name="l05479"></a>05479 
<a name="l05480"></a>05480       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05481"></a>05481       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l05482"></a>05482     }
<a name="l05483"></a>05483 
<a name="l05484"></a>05484     <span class="keyword">static</span> <span class="keywordtype">int</span> _assign_lowlevel_xshm(Display *dpy, XErrorEvent *error) {
<a name="l05485"></a>05485       dpy = 0; error = 0;
<a name="l05486"></a>05486       cimg::X11attr().shm_enabled = <span class="keyword">false</span>;
<a name="l05487"></a>05487       <span class="keywordflow">return</span> 0;
<a name="l05488"></a>05488     }
<a name="l05489"></a>05489 
<a name="l05490"></a>05490     <span class="keywordtype">void</span> assign_lowlevel(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh, <span class="keyword">const</span> <span class="keywordtype">char</span> *ptitle=0,
<a name="l05491"></a>05491                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05492"></a>05492                          <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05493"></a>05493 
<a name="l05494"></a>05494       <span class="comment">// Allocate space for window title</span>
<a name="l05495"></a>05495       <span class="keyword">const</span> <span class="keywordtype">int</span> s = cimg::strlen(ptitle)+1;
<a name="l05496"></a>05496       <span class="keywordtype">char</span> *tmp_title = s?<span class="keyword">new</span> <span class="keywordtype">char</span>[s]:0;
<a name="l05497"></a>05497       <span class="keywordflow">if</span> (s) std::memcpy(tmp_title,ptitle,s*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l05498"></a>05498 
<a name="l05499"></a>05499       <span class="comment">// Destroy previous display window if existing</span>
<a name="l05500"></a>05500       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>) _assign();
<a name="l05501"></a>05501 
<a name="l05502"></a>05502       <span class="comment">// Open X11 display if necessary.</span>
<a name="l05503"></a>05503       <span class="keywordflow">if</span> (!cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>) {
<a name="l05504"></a>05504         cimg::X11attr().nb_wins = 0;
<a name="l05505"></a>05505         cimg::X11attr().mutex = <span class="keyword">new</span> pthread_mutex_t;
<a name="l05506"></a>05506         pthread_mutex_init(cimg::X11attr().mutex,0);
<a name="l05507"></a>05507 
<a name="l05508"></a>05508         cimg::X11attr().display = XOpenDisplay((std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) ? std::getenv(<span class="stringliteral">&quot;DISPLAY&quot;</span>) : <span class="stringliteral">&quot;:0.0&quot;</span>));
<a name="l05509"></a>05509         <span class="keywordflow">if</span> (!cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)
<a name="l05510"></a>05510           <span class="keywordflow">throw</span> CImgDisplayException(<span class="stringliteral">&quot;CImgDisplay::_create_window() : Can&#39;t open X11 display&quot;</span>);
<a name="l05511"></a>05511         cimg::X11attr().nb_bits = DefaultDepth(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05512"></a>05512         <span class="keywordflow">if</span> (cimg::X11attr().nb_bits!=8 &amp;&amp; cimg::X11attr().nb_bits!=16 &amp;&amp; cimg::X11attr().nb_bits!=24 &amp;&amp; cimg::X11attr().nb_bits!=32)
<a name="l05513"></a>05513           <span class="keywordflow">throw</span> CImgDisplayException(<span class="stringliteral">&quot;CImgDisplay::_create_window() : %u bits mode is not supported &quot;</span>
<a name="l05514"></a>05514                                      <span class="stringliteral">&quot;(only 8, 16, 24 and 32 bits modes are supported)&quot;</span>,cimg::X11attr().nb_bits);
<a name="l05515"></a>05515         cimg::X11attr().gc = <span class="keyword">new</span> GC;
<a name="l05516"></a>05516         *cimg::X11attr().gc = DefaultGC(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05517"></a>05517         Visual *visual = DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05518"></a>05518         XVisualInfo vtemplate;
<a name="l05519"></a>05519         vtemplate.visualid = XVisualIDFromVisual(visual);
<a name="l05520"></a>05520         <span class="keywordtype">int</span> nb_visuals;
<a name="l05521"></a>05521         XVisualInfo *vinfo = XGetVisualInfo(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,VisualIDMask,&amp;vtemplate,&amp;nb_visuals);
<a name="l05522"></a>05522         <span class="keywordflow">if</span> (vinfo &amp;&amp; vinfo-&gt;red_mask&lt;vinfo-&gt;blue_mask) cimg::X11attr().blue_first = <span class="keyword">true</span>;
<a name="l05523"></a>05523         cimg::X11attr().byte_order = ImageByteOrder(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>);
<a name="l05524"></a>05524 
<a name="l05525"></a>05525         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05526"></a>05526         cimg::X11attr().event_thread = <span class="keyword">new</span> pthread_t;
<a name="l05527"></a>05527         pthread_create(cimg::X11attr().event_thread,0,_events_thread,0);
<a name="l05528"></a>05528       } <span class="keywordflow">else</span> pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05529"></a>05529 
<a name="l05530"></a>05530       <span class="comment">// Set display variables</span>
<a name="l05531"></a>05531       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(dimw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>());
<a name="l05532"></a>05532       <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(dimh,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>());
<a name="l05533"></a>05533       <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = normalization_type%4;
<a name="l05534"></a>05534       <a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = events_type%4;
<a name="l05535"></a>05535       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = fullscreen_flag;
<a name="l05536"></a>05536       <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = tmp_title;
<a name="l05537"></a>05537       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a> = 0;
<a name="l05538"></a>05538       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = -1;
<a name="l05539"></a>05539       std::memset((<span class="keywordtype">void</span>*)buttons,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05540"></a>05540       std::memset((<span class="keywordtype">void</span>*)keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05541"></a>05541       std::memset((<span class="keywordtype">void</span>*)released_keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l05542"></a>05542       <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">false</span>;
<a name="l05543"></a>05543       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = closed_flag;
<a name="l05544"></a>05544       fps_timer = fps_frames = timer = 0;
<a name="l05545"></a>05545       fps_fps = 0;
<a name="l05546"></a>05546 
<a name="l05547"></a>05547       <span class="comment">// Create X11 window and palette (if 8bits display)</span>
<a name="l05548"></a>05548       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l05549"></a>05549         _init_fullscreen();
<a name="l05550"></a>05550         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sx = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>(), sy = <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>();
<a name="l05551"></a>05551         XSetWindowAttributes winattr;
<a name="l05552"></a>05552         winattr.override_redirect = True;
<a name="l05553"></a>05553         window = XCreateWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,
<a name="l05554"></a>05554                                RootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05555"></a>05555                                (sx-<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>)/2,(sy-<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)/2,
<a name="l05556"></a>05556                                <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,0,0,InputOutput,CopyFromParent,CWOverrideRedirect,&amp;winattr);
<a name="l05557"></a>05557       } <span class="keywordflow">else</span>
<a name="l05558"></a>05558         window = XCreateSimpleWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,
<a name="l05559"></a>05559                                      RootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05560"></a>05560                                      0,0,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,2,0,0x0L);
<a name="l05561"></a>05561       XStoreName(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>?<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>:<span class="stringliteral">&quot; &quot;</span>);
<a name="l05562"></a>05562       <span class="keywordflow">if</span> (cimg::X11attr().nb_bits==8) {
<a name="l05563"></a>05563         colormap = XCreateColormap(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,
<a name="l05564"></a>05564                                                                                 DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),AllocAll);
<a name="l05565"></a>05565         _set_colormap(colormap,3);
<a name="l05566"></a>05566         XSetWindowColormap(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,colormap);
<a name="l05567"></a>05567       }
<a name="l05568"></a>05568       <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>;
<a name="l05569"></a>05569       <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>;
<a name="l05570"></a>05570 
<a name="l05571"></a>05571       <span class="comment">// Create XImage</span>
<a name="l05572"></a>05572       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>*(cimg::X11attr().nb_bits==8?1:(cimg::X11attr().nb_bits==16?2:4));
<a name="l05573"></a>05573 <span class="preprocessor">#ifdef cimg_use_xshm</span>
<a name="l05574"></a>05574 <span class="preprocessor"></span>      shminfo = 0;
<a name="l05575"></a>05575       <span class="keywordflow">if</span> (XShmQueryExtension(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)) {
<a name="l05576"></a>05576         shminfo = <span class="keyword">new</span> XShmSegmentInfo;
<a name="l05577"></a>05577         image = XShmCreateImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05578"></a>05578                                 cimg::X11attr().nb_bits,ZPixmap,0,shminfo,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l05579"></a>05579         <span class="keywordflow">if</span> (!image) { <span class="keyword">delete</span> shminfo; shminfo = 0; }
<a name="l05580"></a>05580         <span class="keywordflow">else</span> {
<a name="l05581"></a>05581           shminfo-&gt;shmid = shmget(IPC_PRIVATE, bufsize, IPC_CREAT | 0777);
<a name="l05582"></a>05582           <span class="keywordflow">if</span> (shminfo-&gt;shmid==-1) { XDestroyImage(image); <span class="keyword">delete</span> shminfo; shminfo = 0; }
<a name="l05583"></a>05583           <span class="keywordflow">else</span> {
<a name="l05584"></a>05584             shminfo-&gt;shmaddr = image-&gt;data = (<span class="keywordtype">char</span>*)(data = shmat(shminfo-&gt;shmid,0,0));
<a name="l05585"></a>05585             <span class="keywordflow">if</span> (shminfo-&gt;shmaddr==(<span class="keywordtype">char</span>*)-1) { XDestroyImage(image); shmctl(shminfo-&gt;shmid,IPC_RMID,0); <span class="keyword">delete</span> shminfo; shminfo = 0; }
<a name="l05586"></a>05586             shminfo-&gt;readOnly = False;
<a name="l05587"></a>05587             cimg::X11attr().shm_enabled = <span class="keyword">true</span>;
<a name="l05588"></a>05588             XErrorHandler oldXErrorHandler = XSetErrorHandler(_assign_lowlevel_xshm);
<a name="l05589"></a>05589             XShmAttach(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, shminfo);
<a name="l05590"></a>05590             XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05591"></a>05591             XSetErrorHandler(oldXErrorHandler);
<a name="l05592"></a>05592             <span class="keywordflow">if</span> (!cimg::X11attr().shm_enabled) {
<a name="l05593"></a>05593               XDestroyImage(image);
<a name="l05594"></a>05594               shmdt(shminfo-&gt;shmaddr);
<a name="l05595"></a>05595               shmctl(shminfo-&gt;shmid,IPC_RMID,0);
<a name="l05596"></a>05596               <span class="keyword">delete</span> shminfo; shminfo = 0;
<a name="l05597"></a>05597             }
<a name="l05598"></a>05598           }
<a name="l05599"></a>05599         }
<a name="l05600"></a>05600       }
<a name="l05601"></a>05601       <span class="keywordflow">if</span> (!shminfo)
<a name="l05602"></a>05602 <span class="preprocessor">#endif</span>
<a name="l05603"></a>05603 <span class="preprocessor"></span>        {
<a name="l05604"></a>05604           data = std::malloc(bufsize);
<a name="l05605"></a>05605           image = XCreateImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05606"></a>05606                                cimg::X11attr().nb_bits,ZPixmap,0,(<span class="keywordtype">char</span>*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,8,0);
<a name="l05607"></a>05607         }
<a name="l05608"></a>05608 
<a name="l05609"></a>05609       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) _map_window(); <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = cimg::type&lt;int&gt;::min(); }
<a name="l05610"></a>05610 
<a name="l05611"></a>05611       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>) {
<a name="l05612"></a>05612         wm_delete_window = XInternAtom(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, <span class="stringliteral">&quot;WM_DELETE_WINDOW&quot;</span>, False);
<a name="l05613"></a>05613         wm_delete_protocol = XInternAtom(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, <span class="stringliteral">&quot;WM_PROTOCOLS&quot;</span>, False);
<a name="l05614"></a>05614         XSetWMProtocols(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, &amp;wm_delete_window, 1);
<a name="l05615"></a>05615         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) XGrabKeyboard(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, True, GrabModeAsync, GrabModeAsync, CurrentTime);
<a name="l05616"></a>05616       }
<a name="l05617"></a>05617       cimg::X11attr().wins[cimg::X11attr().nb_wins++]=<span class="keyword">this</span>;
<a name="l05618"></a>05618       pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05619"></a>05619     }
<a name="l05620"></a>05620 
<a name="l05621"></a>05621     <span class="keywordtype">void</span> _map_window() {
<a name="l05622"></a>05622       XWindowAttributes attr;
<a name="l05623"></a>05623       XEvent event;
<a name="l05624"></a>05624       XSelectInput(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,ExposureMask | StructureNotifyMask);
<a name="l05625"></a>05625       <span class="keywordtype">bool</span> exposed = <span class="keyword">false</span>, mapped = <span class="keyword">false</span>;
<a name="l05626"></a>05626       XMapRaised(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window);
<a name="l05627"></a>05627       XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,False);
<a name="l05628"></a>05628       <span class="keywordflow">do</span> {
<a name="l05629"></a>05629         XWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,StructureNotifyMask | ExposureMask,&amp;event);
<a name="l05630"></a>05630         <span class="keywordflow">switch</span> (event.type) {
<a name="l05631"></a>05631         <span class="keywordflow">case</span> MapNotify: mapped = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05632"></a>05632         <span class="keywordflow">case</span> Expose: exposed = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05633"></a>05633         <span class="keywordflow">default</span>:  XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False); <a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334" title="Sleep for a certain numbers of milliseconds.">cimg::sleep</a>(10);
<a name="l05634"></a>05634         }
<a name="l05635"></a>05635       } <span class="keywordflow">while</span> (!(exposed &amp;&amp; mapped));
<a name="l05636"></a>05636       <span class="keywordflow">do</span> {
<a name="l05637"></a>05637         XGetWindowAttributes(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, &amp;attr);
<a name="l05638"></a>05638         <span class="keywordflow">if</span> (attr.map_state!=IsViewable) { XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,False); <a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334" title="Sleep for a certain numbers of milliseconds.">cimg::sleep</a>(10); }
<a name="l05639"></a>05639       } <span class="keywordflow">while</span> (attr.map_state != IsViewable);
<a name="l05640"></a>05640       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = attr.x;
<a name="l05641"></a>05641       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = attr.y;
<a name="l05642"></a>05642     }
<a name="l05643"></a>05643 
<a name="l05644"></a>05644     <span class="keywordtype">void</span> _set_colormap(Colormap&amp; colormap, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim) {
<a name="l05645"></a>05645       XColor palette[256];
<a name="l05646"></a>05646       <span class="keywordflow">switch</span> (dim) {
<a name="l05647"></a>05647       <span class="keywordflow">case</span> 1:  <span class="comment">// palette for greyscale images</span>
<a name="l05648"></a>05648         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index=0; index&lt;256; index++) {
<a name="l05649"></a>05649           palette[index].pixel = index;
<a name="l05650"></a>05650           palette[index].red = palette[index].green = palette[index].blue = index&lt;&lt;8;
<a name="l05651"></a>05651           palette[index].flags = DoRed | DoGreen | DoBlue;
<a name="l05652"></a>05652         }
<a name="l05653"></a>05653         <span class="keywordflow">break</span>;
<a name="l05654"></a>05654       <span class="keywordflow">case</span> 2: <span class="comment">// palette for RG images</span>
<a name="l05655"></a>05655         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index=0, r=8; r&lt;256; r+=16)
<a name="l05656"></a>05656           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> g=8; g&lt;256; g+=16) {
<a name="l05657"></a>05657             palette[index].pixel = index;
<a name="l05658"></a>05658             palette[index].red   = palette[index].blue = r&lt;&lt;8;
<a name="l05659"></a>05659             palette[index].green = g&lt;&lt;8;
<a name="l05660"></a>05660             palette[index++].flags = DoRed | DoGreen | DoBlue;
<a name="l05661"></a>05661           }
<a name="l05662"></a>05662         <span class="keywordflow">break</span>;
<a name="l05663"></a>05663       <span class="keywordflow">default</span>: <span class="comment">// palette for RGB images</span>
<a name="l05664"></a>05664         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index=0, r=16; r&lt;256; r+=32)
<a name="l05665"></a>05665           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> g=16; g&lt;256; g+=32)
<a name="l05666"></a>05666             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b=32; b&lt;256; b+=64) {
<a name="l05667"></a>05667               palette[index].pixel = index;
<a name="l05668"></a>05668               palette[index].red   = r&lt;&lt;8;
<a name="l05669"></a>05669               palette[index].green = g&lt;&lt;8;
<a name="l05670"></a>05670               palette[index].blue  = b&lt;&lt;8;
<a name="l05671"></a>05671               palette[index++].flags = DoRed | DoGreen | DoBlue;
<a name="l05672"></a>05672             }
<a name="l05673"></a>05673         <span class="keywordflow">break</span>;
<a name="l05674"></a>05674       }
<a name="l05675"></a>05675       XStoreColors(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,colormap,palette,256);
<a name="l05676"></a>05676     }
<a name="l05677"></a>05677 
<a name="l05678"></a>05678     <span class="keywordtype">void</span> _paint(<span class="keyword">const</span> <span class="keywordtype">bool</span> wait_expose=<span class="keyword">true</span>) {
<a name="l05679"></a>05679       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l05680"></a>05680         <span class="keywordflow">if</span> (wait_expose) {
<a name="l05681"></a>05681           <span class="keyword">static</span> XEvent event;
<a name="l05682"></a>05682           <span class="keyword">event</span>.xexpose.type = Expose;
<a name="l05683"></a>05683           <span class="keyword">event</span>.xexpose.serial = 0;
<a name="l05684"></a>05684           <span class="keyword">event</span>.xexpose.send_event = True;
<a name="l05685"></a>05685           <span class="keyword">event</span>.xexpose.display = cimg::X11attr().display;
<a name="l05686"></a>05686           <span class="keyword">event</span>.xexpose.window = window;
<a name="l05687"></a>05687           <span class="keyword">event</span>.xexpose.x = 0;
<a name="l05688"></a>05688           <span class="keyword">event</span>.xexpose.y = 0;
<a name="l05689"></a>05689           <span class="keyword">event</span>.xexpose.width = (int)<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>;
<a name="l05690"></a>05690           <span class="keyword">event</span>.xexpose.height = (int)<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>;
<a name="l05691"></a>05691           <span class="keyword">event</span>.xexpose.count = 0;
<a name="l05692"></a>05692           XSendEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, False, 0, &amp;event);
<a name="l05693"></a>05693         } <span class="keywordflow">else</span> {
<a name="l05694"></a>05694 <span class="preprocessor">#if cimg_use_xshm</span>
<a name="l05695"></a>05695 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (shminfo) XShmPutImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,*cimg::X11attr().gc,image,0,0,0,0,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,False);
<a name="l05696"></a>05696           <span class="keywordflow">else</span>
<a name="l05697"></a>05697 <span class="preprocessor">#endif</span>
<a name="l05698"></a>05698 <span class="preprocessor"></span>            XPutImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,*cimg::X11attr().gc,image,0,0,0,0,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l05699"></a>05699           XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05700"></a>05700         }
<a name="l05701"></a>05701       }
<a name="l05702"></a>05702     }
<a name="l05703"></a>05703 
<a name="l05704"></a>05704     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> _resize(T foo, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ndimx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ndimy, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw) {
<a name="l05705"></a>05705       foo = 0;
<a name="l05706"></a>05706 <span class="preprocessor">#ifdef cimg_use_xshm</span>
<a name="l05707"></a>05707 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (shminfo) {
<a name="l05708"></a>05708         XShmSegmentInfo *nshminfo = <span class="keyword">new</span> XShmSegmentInfo;
<a name="l05709"></a>05709         XImage *nimage = XShmCreateImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05710"></a>05710                                          cimg::X11attr().nb_bits,ZPixmap,0,nshminfo,ndimx,ndimy);
<a name="l05711"></a>05711         nshminfo-&gt;shmid = shmget(IPC_PRIVATE, ndimx*ndimy*<span class="keyword">sizeof</span>(T), IPC_CREAT | 0777);
<a name="l05712"></a>05712         nshminfo-&gt;shmaddr = nimage-&gt;data = (<span class="keywordtype">char</span>*)shmat(nshminfo-&gt;shmid,0,0);
<a name="l05713"></a>05713         nshminfo-&gt;readOnly = False;
<a name="l05714"></a>05714         XShmAttach(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, nshminfo);
<a name="l05715"></a>05715         XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05716"></a>05716         T *<span class="keyword">const</span> ndata = (T*)nimage-&gt;data;
<a name="l05717"></a>05717         if (redraw) _render_resize((T*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,ndata,ndimx,ndimy);
<a name="l05718"></a>05718         <span class="keywordflow">else</span> std::memset(ndata,0,<span class="keyword">sizeof</span>(T)*ndimx*ndimy);
<a name="l05719"></a>05719         XShmDetach(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, shminfo);
<a name="l05720"></a>05720         XDestroyImage(image);
<a name="l05721"></a>05721         shmdt(shminfo-&gt;shmaddr);
<a name="l05722"></a>05722         shmctl(shminfo-&gt;shmid,IPC_RMID,0);
<a name="l05723"></a>05723         <span class="keyword">delete</span> shminfo;
<a name="l05724"></a>05724         shminfo = nshminfo;
<a name="l05725"></a>05725         image = nimage;
<a name="l05726"></a>05726         data = (<span class="keywordtype">void</span>*)ndata;
<a name="l05727"></a>05727       } <span class="keywordflow">else</span>
<a name="l05728"></a>05728 <span class="preprocessor">#endif</span>
<a name="l05729"></a>05729 <span class="preprocessor"></span>        {
<a name="l05730"></a>05730           T *ndata = (T*)std::malloc(ndimx*ndimy*<span class="keyword">sizeof</span>(T));
<a name="l05731"></a>05731           <span class="keywordflow">if</span> (redraw) _render_resize((T*)data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,ndata,ndimx,ndimy);
<a name="l05732"></a>05732           <span class="keywordflow">else</span> std::memset(ndata,0,<span class="keyword">sizeof</span>(T)*ndimx*ndimy);
<a name="l05733"></a>05733           data = (<span class="keywordtype">void</span>*)ndata;
<a name="l05734"></a>05734           XDestroyImage(image);
<a name="l05735"></a>05735           image = XCreateImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05736"></a>05736                                cimg::X11attr().nb_bits,ZPixmap,0,(<span class="keywordtype">char</span>*)data,ndimx,ndimy,8,0);
<a name="l05737"></a>05737         }
<a name="l05738"></a>05738     }
<a name="l05739"></a>05739 
<a name="l05740"></a>05740     <span class="keywordtype">void</span> _init_fullscreen() {
<a name="l05741"></a>05741       background_window = 0;
<a name="l05742"></a>05742       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l05743"></a>05743 <span class="preprocessor">#ifdef cimg_use_xrandr</span>
<a name="l05744"></a>05744 <span class="preprocessor"></span>        <span class="keywordtype">int</span> foo;
<a name="l05745"></a>05745         <span class="keywordflow">if</span> (XRRQueryExtension(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,&amp;foo,&amp;foo)) {
<a name="l05746"></a>05746           XRRRotations(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>), &amp;cimg::X11attr().curr_rotation);
<a name="l05747"></a>05747           <span class="keywordflow">if</span> (!cimg::X11attr().resolutions) {
<a name="l05748"></a>05748             cimg::X11attr().resolutions = XRRSizes(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>),&amp;foo);
<a name="l05749"></a>05749             cimg::X11attr().nb_resolutions = (<span class="keywordtype">unsigned</span> int)foo;
<a name="l05750"></a>05750           }
<a name="l05751"></a>05751           <span class="keywordflow">if</span> (cimg::X11attr().resolutions) {
<a name="l05752"></a>05752             cimg::X11attr().curr_resolution = 0;
<a name="l05753"></a>05753             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;cimg::X11attr().nb_resolutions; i++) {
<a name="l05754"></a>05754               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l05755"></a>05755                 nw = (<span class="keywordtype">unsigned</span> int)(cimg::X11attr().resolutions[i].width),
<a name="l05756"></a>05756                 nh = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(cimg::X11attr().resolutions[i].height);
<a name="l05757"></a>05757               <span class="keywordflow">if</span> (nw&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; nh&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> &amp;&amp;
<a name="l05758"></a>05758                   nw&lt;=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(cimg::X11attr().resolutions[cimg::X11attr().curr_resolution].width) &amp;&amp;
<a name="l05759"></a>05759                   nh&lt;=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(cimg::X11attr().resolutions[cimg::X11attr().curr_resolution].height))
<a name="l05760"></a>05760                 cimg::X11attr().curr_resolution = i;
<a name="l05761"></a>05761             }
<a name="l05762"></a>05762             <span class="keywordflow">if</span> (cimg::X11attr().curr_resolution&gt;0) {
<a name="l05763"></a>05763               XRRScreenConfiguration *config = XRRGetScreenInfo(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, DefaultRootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05764"></a>05764               XRRSetScreenConfig(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, config, DefaultRootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>),
<a name="l05765"></a>05765                                  cimg::X11attr().curr_resolution, cimg::X11attr().curr_rotation, CurrentTime);
<a name="l05766"></a>05766               XRRFreeScreenConfigInfo(config);
<a name="l05767"></a>05767               XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05768"></a>05768             }
<a name="l05769"></a>05769           }
<a name="l05770"></a>05770         }
<a name="l05771"></a>05771         cimg::warn(!cimg::X11attr().resolutions,<span class="stringliteral">&quot;CImgDisplay::_create_window() : Xrandr extension is not supported by the X server.&quot;</span>);
<a name="l05772"></a>05772 <span class="preprocessor">#endif</span>
<a name="l05773"></a>05773 <span class="preprocessor"></span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sx = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>(), sy = <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>();
<a name="l05774"></a>05774         XSetWindowAttributes winattr;
<a name="l05775"></a>05775         winattr.override_redirect = True;
<a name="l05776"></a>05776         <span class="keywordflow">if</span> (sx!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> || sy!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>) {
<a name="l05777"></a>05777           background_window = XCreateWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,
<a name="l05778"></a>05778                                             RootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),0,0,
<a name="l05779"></a>05779                                             sx,sy,0,0,InputOutput,CopyFromParent,CWOverrideRedirect,&amp;winattr);
<a name="l05780"></a>05780           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = sx*sy*(cimg::X11attr().nb_bits==8?1:(cimg::X11attr().nb_bits==16?2:4));
<a name="l05781"></a>05781           <span class="keywordtype">void</span> *background_data = std::malloc(bufsize);
<a name="l05782"></a>05782           std::memset(background_data,0,bufsize);
<a name="l05783"></a>05783           XImage *background_image = XCreateImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultVisual(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,DefaultScreen(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>)),
<a name="l05784"></a>05784                                                   cimg::X11attr().nb_bits,ZPixmap,0,(<span class="keywordtype">char</span>*)background_data,sx,sy,8,0);
<a name="l05785"></a>05785           XEvent event;
<a name="l05786"></a>05786           XSelectInput(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,background_window,StructureNotifyMask);
<a name="l05787"></a>05787           XMapRaised(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,background_window);
<a name="l05788"></a>05788           <span class="keywordflow">do</span> XWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,background_window,StructureNotifyMask,&amp;event);
<a name="l05789"></a>05789           <span class="keywordflow">while</span> (event.type!=MapNotify);
<a name="l05790"></a>05790           XPutImage(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,background_window,*cimg::X11attr().gc,background_image,0,0,0,0,sx,sy);
<a name="l05791"></a>05791           XWindowAttributes attr;
<a name="l05792"></a>05792           XGetWindowAttributes(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, background_window, &amp;attr);
<a name="l05793"></a>05793           <span class="keywordflow">while</span> (attr.map_state != IsViewable) XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05794"></a>05794           XDestroyImage(background_image);
<a name="l05795"></a>05795         }
<a name="l05796"></a>05796       }
<a name="l05797"></a>05797     }
<a name="l05798"></a>05798 
<a name="l05799"></a>05799     <span class="keywordtype">void</span> _desinit_fullscreen() {
<a name="l05800"></a>05800       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l05801"></a>05801         XUngrabKeyboard(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,CurrentTime);
<a name="l05802"></a>05802 <span class="preprocessor">#if cimg_use_xrandr</span>
<a name="l05803"></a>05803 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (cimg::X11attr().resolutions &amp;&amp; cimg::X11attr().curr_resolution) {
<a name="l05804"></a>05804           XRRScreenConfiguration *config = XRRGetScreenInfo(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, DefaultRootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>));
<a name="l05805"></a>05805           XRRSetScreenConfig(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, config, DefaultRootWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>),
<a name="l05806"></a>05806                              0, cimg::X11attr().curr_rotation, CurrentTime);
<a name="l05807"></a>05807           XRRFreeScreenConfigInfo(config);
<a name="l05808"></a>05808           XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05809"></a>05809           cimg::X11attr().curr_resolution = 0;
<a name="l05810"></a>05810         }
<a name="l05811"></a>05811 <span class="preprocessor">#endif</span>
<a name="l05812"></a>05812 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (background_window) XDestroyWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,background_window);
<a name="l05813"></a>05813         background_window = 0;
<a name="l05814"></a>05814         <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = <span class="keyword">false</span>;
<a name="l05815"></a>05815       }
<a name="l05816"></a>05816     }
<a name="l05817"></a>05817 
<a name="l05818"></a>05818     <span class="keywordtype">void</span> _handle_events(<span class="keyword">const</span> XEvent *<span class="keyword">const</span> pevent) {
<a name="l05819"></a>05819       XEvent <span class="keyword">event</span>=*pevent;
<a name="l05820"></a>05820       <span class="keywordflow">switch</span> (event.type) {
<a name="l05821"></a>05821       <span class="keywordflow">case</span> ClientMessage:
<a name="l05822"></a>05822         <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)event.xclient.message_type==(<span class="keywordtype">int</span>)wm_delete_protocol &amp;&amp;
<a name="l05823"></a>05823             (<span class="keywordtype">int</span>)event.xclient.data.l[0]==(<span class="keywordtype">int</span>)wm_delete_window) {
<a name="l05824"></a>05824           XUnmapWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window);
<a name="l05825"></a>05825           <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = -1;
<a name="l05826"></a>05826           std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255);
<a name="l05827"></a>05827           std::memmove((<span class="keywordtype">void</span>*)(keys+1),(<span class="keywordtype">void</span>*)keys,255);
<a name="l05828"></a>05828           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>) { std::memmove((<span class="keywordtype">void</span>*)(released_keys+1),(<span class="keywordtype">void</span>*)released_keys,255); <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>; }
<a name="l05829"></a>05829           <a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = button = 0;
<a name="l05830"></a>05830           <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05831"></a>05831         }
<a name="l05832"></a>05832         <span class="keywordflow">break</span>;
<a name="l05833"></a>05833      <span class="keywordflow">case</span> ConfigureNotify: {
<a name="l05834"></a>05834         <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,StructureNotifyMask,&amp;event));
<a name="l05835"></a>05835         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l05836"></a>05836           nw = <span class="keyword">event</span>.xconfigure.width,
<a name="l05837"></a>05837           nh = <span class="keyword">event</span>.xconfigure.height;
<a name="l05838"></a>05838         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l05839"></a>05839           nx = <span class="keyword">event</span>.xconfigure.x,
<a name="l05840"></a>05840           ny = <span class="keyword">event</span>.xconfigure.y;
<a name="l05841"></a>05841         <span class="keywordflow">if</span> (nw &amp;&amp; nh &amp;&amp; (nw!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> || nh!=<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>)) {
<a name="l05842"></a>05842           <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> = nw;
<a name="l05843"></a>05843           <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = nh;
<a name="l05844"></a>05844           <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = -1;
<a name="l05845"></a>05845           XResizeWindow(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>);
<a name="l05846"></a>05846           <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05847"></a>05847         }
<a name="l05848"></a>05848         <span class="keywordflow">if</span> (nx!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> || ny!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>) {
<a name="l05849"></a>05849           <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = nx;
<a name="l05850"></a>05850           <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = ny;
<a name="l05851"></a>05851           <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05852"></a>05852         }
<a name="l05853"></a>05853      } <span class="keywordflow">break</span>;
<a name="l05854"></a>05854       <span class="keywordflow">case</span> Expose: {
<a name="l05855"></a>05855         <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,ExposureMask,&amp;event));
<a name="l05856"></a>05856         _paint(<span class="keyword">false</span>);
<a name="l05857"></a>05857         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l05858"></a>05858           XWindowAttributes attr;
<a name="l05859"></a>05859           XGetWindowAttributes(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, &amp;attr);
<a name="l05860"></a>05860           <span class="keywordflow">while</span> (attr.map_state != IsViewable) XSync(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, False);
<a name="l05861"></a>05861           XSetInputFocus(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, window, RevertToParent, CurrentTime);
<a name="l05862"></a>05862         }
<a name="l05863"></a>05863       } <span class="keywordflow">break</span>;
<a name="l05864"></a>05864       <span class="keywordflow">case</span> ButtonPress: {
<a name="l05865"></a>05865         <span class="keywordflow">do</span> {
<a name="l05866"></a>05866           <span class="keywordflow">switch</span> (event.xbutton.button) {
<a name="l05867"></a>05867           <span class="keywordflow">case</span> 1: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button|=1; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05868"></a>05868           <span class="keywordflow">case</span> 2: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button|=4; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05869"></a>05869           <span class="keywordflow">case</span> 3: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button|=2; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05870"></a>05870           <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l05871"></a>05871           }
<a name="l05872"></a>05872         } <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,ButtonPressMask,&amp;event));
<a name="l05873"></a>05873       } <span class="keywordflow">break</span>;
<a name="l05874"></a>05874       <span class="keywordflow">case</span> ButtonRelease: {
<a name="l05875"></a>05875         <span class="keywordflow">do</span> {
<a name="l05876"></a>05876           <span class="keywordflow">switch</span> (event.xbutton.button) {
<a name="l05877"></a>05877           <span class="keywordflow">case</span> 1: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button&amp;=~1U; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05878"></a>05878           <span class="keywordflow">case</span> 2: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button&amp;=~4U; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05879"></a>05879           <span class="keywordflow">case</span> 3: std::memmove((<span class="keywordtype">void</span>*)(buttons+1),(<span class="keywordtype">void</span>*)buttons,255); button&amp;=~2U; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05880"></a>05880           <span class="keywordflow">case</span> 4: <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>++; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05881"></a>05881           <span class="keywordflow">case</span> 5: <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>--; <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l05882"></a>05882           <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l05883"></a>05883           }
<a name="l05884"></a>05884         } <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,ButtonReleaseMask,&amp;event));
<a name="l05885"></a>05885       } <span class="keywordflow">break</span>;
<a name="l05886"></a>05886       <span class="keywordflow">case</span> KeyPress: {
<a name="l05887"></a>05887         <span class="keywordtype">char</span> tmp;
<a name="l05888"></a>05888         KeySym ksym;
<a name="l05889"></a>05889         XLookupString(&amp;event.xkey,&amp;tmp,1,&amp;ksym,0);
<a name="l05890"></a>05890         std::memmove((<span class="keywordtype">void</span>*)(keys+1),(<span class="keywordtype">void</span>*)keys,255); <a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = (<span class="keywordtype">unsigned</span> int)ksym;
<a name="l05891"></a>05891         std::memmove((<span class="keywordtype">void</span>*)(released_keys+1),(<span class="keywordtype">void</span>*)released_keys,255); <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a> = 0;
<a name="l05892"></a>05892         <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05893"></a>05893       } <span class="keywordflow">break</span>;
<a name="l05894"></a>05894       <span class="keywordflow">case</span> KeyRelease: {
<a name="l05895"></a>05895         <span class="keywordtype">char</span> tmp;
<a name="l05896"></a>05896         KeySym ksym;
<a name="l05897"></a>05897         XLookupString(&amp;event.xkey,&amp;tmp,1,&amp;ksym,0);
<a name="l05898"></a>05898         std::memmove((<span class="keywordtype">void</span>*)(keys+1),(<span class="keywordtype">void</span>*)keys,255); <a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = 0;
<a name="l05899"></a>05899         std::memmove((<span class="keywordtype">void</span>*)(released_keys+1),(<span class="keywordtype">void</span>*)released_keys,255); <a class="code" href="structcimg__library_1_1_c_img_display.html#aa5efa3631ec3aca254a00737fccc7086" title="Key value if released.">released_key</a> = (<span class="keywordtype">unsigned</span> int)ksym;
<a name="l05900"></a>05900         <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05901"></a>05901         } <span class="keywordflow">break</span>;
<a name="l05902"></a>05902       <span class="keywordflow">case</span> LeaveNotify:
<a name="l05903"></a>05903         <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,LeaveWindowMask,&amp;event));
<a name="l05904"></a>05904         <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> =-1;
<a name="l05905"></a>05905         <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05906"></a>05906         <span class="keywordflow">break</span>;
<a name="l05907"></a>05907       <span class="keywordflow">case</span> MotionNotify:
<a name="l05908"></a>05908         <span class="keywordflow">while</span> (XCheckWindowEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,window,PointerMotionMask,&amp;event));
<a name="l05909"></a>05909         <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <span class="keyword">event</span>.xmotion.x;
<a name="l05910"></a>05910         <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = <span class="keyword">event</span>.xmotion.y;
<a name="l05911"></a>05911         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>&lt;0 || mouse_y&lt;0 || mouse_x&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>() || <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>()) <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = -1;
<a name="l05912"></a>05912         <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">true</span>;
<a name="l05913"></a>05913         <span class="keywordflow">break</span>;
<a name="l05914"></a>05914       }
<a name="l05915"></a>05915     }
<a name="l05916"></a>05916 
<a name="l05917"></a>05917     <span class="keyword">static</span> <span class="keywordtype">void</span>* _events_thread(<span class="keywordtype">void</span> *arg) {
<a name="l05918"></a>05918       arg = 0;
<a name="l05919"></a>05919       XEvent event;
<a name="l05920"></a>05920       pthread_setcanceltype(PTHREAD_CANCEL_DEFERRED,0);
<a name="l05921"></a>05921       pthread_setcancelstate(PTHREAD_CANCEL_ENABLE,0);
<a name="l05922"></a>05922       <span class="keywordflow">for</span> (;;) {
<a name="l05923"></a>05923         pthread_mutex_lock(cimg::X11attr().mutex);
<a name="l05924"></a>05924         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;cimg::X11attr().nb_wins; i++) {
<a name="l05925"></a>05925           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xevent_type = (cimg::X11attr().wins[i]-&gt;events)&amp;3;
<a name="l05926"></a>05926           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> emask =
<a name="l05927"></a>05927             ((xevent_type&gt;=1)?ExposureMask|StructureNotifyMask:0)|
<a name="l05928"></a>05928             ((xevent_type&gt;=2)?ButtonPressMask|KeyPressMask|PointerMotionMask|LeaveWindowMask:0)|
<a name="l05929"></a>05929             ((xevent_type&gt;=3)?ButtonReleaseMask|KeyReleaseMask:0);
<a name="l05930"></a>05930           XSelectInput(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,cimg::X11attr().wins[i]-&gt;window,emask);
<a name="l05931"></a>05931         }
<a name="l05932"></a>05932         <span class="keywordtype">bool</span> event_flag = XCheckTypedEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>, ClientMessage, &amp;event);
<a name="l05933"></a>05933         <span class="keywordflow">if</span> (!event_flag) event_flag = XCheckMaskEvent(cimg::X11attr().<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>,
<a name="l05934"></a>05934                                                       ExposureMask|StructureNotifyMask|ButtonPressMask|
<a name="l05935"></a>05935                                                       KeyPressMask|PointerMotionMask|LeaveWindowMask|ButtonReleaseMask|
<a name="l05936"></a>05936                                                       KeyReleaseMask,&amp;event);
<a name="l05937"></a>05937         <span class="keywordflow">if</span> (event_flag) {
<a name="l05938"></a>05938           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;cimg::X11attr().nb_wins; i++)
<a name="l05939"></a>05939             <span class="keywordflow">if</span> (!cimg::X11attr().wins[i]-&gt;is_closed &amp;&amp; <span class="keyword">event</span>.xany.window==cimg::X11attr().wins[i]-&gt;window)
<a name="l05940"></a>05940               cimg::X11attr().wins[i]-&gt;_handle_events(&amp;event);
<a name="l05941"></a>05941         }
<a name="l05942"></a>05942         pthread_mutex_unlock(cimg::X11attr().mutex);
<a name="l05943"></a>05943         pthread_testcancel();
<a name="l05944"></a>05944         <a class="code" href="namespacecimg__library_1_1cimg.html#a3ac7655e49556a90715f3532af221334" title="Sleep for a certain numbers of milliseconds.">cimg::sleep</a>(7);
<a name="l05945"></a>05945       }
<a name="l05946"></a>05946       <span class="keywordflow">return</span> 0;
<a name="l05947"></a>05947     }
<a name="l05948"></a>05948 
<a name="l05949"></a>05949     <span class="comment">// Windows-based display</span>
<a name="l05950"></a>05950     <span class="comment">//-----------------------</span>
<a name="l05951"></a>05951 <span class="preprocessor">#elif cimg_display_type==2</span>
<a name="l05952"></a>05952 <span class="preprocessor"></span>    CLIENTCREATESTRUCT ccs;
<a name="l05953"></a>05953     BITMAPINFO bmi;
<a name="l05954"></a>05954     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *data;
<a name="l05955"></a>05955     DEVMODE curr_mode;
<a name="l05956"></a>05956     HWND window;
<a name="l05957"></a>05957     HWND background_window;
<a name="l05958"></a>05958     HDC hdc;
<a name="l05959"></a>05959     HANDLE thread;
<a name="l05960"></a>05960     HANDLE created;
<a name="l05961"></a>05961     HANDLE mutex;
<a name="l05962"></a>05962     <span class="keywordtype">bool</span> visible_cursor;
<a name="l05963"></a>05963 
<a name="l05964"></a>05964     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>() {
<a name="l05965"></a>05965       DEVMODE mode;
<a name="l05966"></a>05966       mode.dmSize = <span class="keyword">sizeof</span>(DEVMODE);
<a name="l05967"></a>05967       mode.dmDriverExtra = 0;
<a name="l05968"></a>05968       EnumDisplaySettings(0,ENUM_CURRENT_SETTINGS,&amp;mode);
<a name="l05969"></a>05969       <span class="keywordflow">return</span> mode.dmPelsWidth;
<a name="l05970"></a>05970     }
<a name="l05971"></a>05971 
<a name="l05972"></a>05972     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>() {
<a name="l05973"></a>05973       DEVMODE mode;
<a name="l05974"></a>05974       mode.dmSize = <span class="keyword">sizeof</span>(DEVMODE);
<a name="l05975"></a>05975       mode.dmDriverExtra = 0;
<a name="l05976"></a>05976       EnumDisplaySettings(0,ENUM_CURRENT_SETTINGS,&amp;mode);
<a name="l05977"></a>05977       <span class="keywordflow">return</span> mode.dmPelsHeight;
<a name="l05978"></a>05978     }
<a name="l05979"></a>05979 
<a name="l05980"></a>05980     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l05981"></a>05981                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05982"></a>05982                         <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05983"></a>05983       <span class="keywordflow">if</span> (!dimw || !dimh)
<a name="l05984"></a>05984         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::assign() : Specified window size (%u,%u) is not valid.&quot;</span>,dimw,dimh);
<a name="l05985"></a>05985       assign_lowlevel(dimw,dimh,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l05986"></a>05986       min = max = 0;
<a name="l05987"></a>05987       std::memset(data,0,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l05988"></a>05988       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l05989"></a>05989     }
<a name="l05990"></a>05990 
<a name="l05991"></a>05991     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l05992"></a>05992                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l05993"></a>05993                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l05994"></a>05994       <span class="keywordflow">if</span> (img.is_empty())
<a name="l05995"></a>05995         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::CImgDisplay() : Specified input image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l05996"></a>05996                                     img.width,img.height,img.depth,img.dim,img.data);
<a name="l05997"></a>05997       CImg&lt;T&gt; tmp;
<a name="l05998"></a>05998       <span class="keyword">const</span> CImg&lt;T&gt;&amp; nimg = (img.depth==1)?img:(tmp=img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l05999"></a>05999       assign_lowlevel(nimg.width,nimg.height,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l06000"></a>06000       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==2) { <span class="keyword">const</span> CImgStats st(nimg,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l06001"></a>06001       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(nimg);
<a name="l06002"></a>06002     }
<a name="l06003"></a>06003 
<a name="l06004"></a>06004     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> CImgList&lt;T&gt;&amp; list,<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>=0,
<a name="l06005"></a>06005                                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l06006"></a>06006                                              <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l06007"></a>06007       <span class="keywordflow">if</span> (list.is_empty())
<a name="l06008"></a>06008         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::CImgDisplay() : Specified input list (%u,%p) is empty.&quot;</span>,
<a name="l06009"></a>06009                                     list.size,list.data);
<a name="l06010"></a>06010       CImg&lt;T&gt; tmp;
<a name="l06011"></a>06011       <span class="keyword">const</span> CImg&lt;T&gt; img = list.get_append(<span class="charliteral">&#39;x&#39;</span>),
<a name="l06012"></a>06012         &amp;nimg = (img.depth==1)?img:(tmp=img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l06013"></a>06013       assign_lowlevel(nimg.width,nimg.height,<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,normalization_type,events_type,fullscreen_flag,closed_flag);
<a name="l06014"></a>06014       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==2) { <span class="keyword">const</span> CImgStats st(nimg,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l06015"></a>06015       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(nimg);
<a name="l06016"></a>06016     }
<a name="l06017"></a>06017 
<a name="l06018"></a>06018     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a3f8c36f69f66721ea534b4a99b78e3f9" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; win) {
<a name="l06019"></a>06019       assign_lowlevel(win.width,win.height,win.title,win.normalization,win.events,win.is_fullscreen,win.is_closed);
<a name="l06020"></a>06020       std::memcpy(data,win.data,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l06021"></a>06021       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l06022"></a>06022     }
<a name="l06023"></a>06023 
<a name="l06024"></a>06024     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; _assign() {
<a name="l06025"></a>06025       DestroyWindow(window);
<a name="l06026"></a>06026       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>) TerminateThread(thread,0);
<a name="l06027"></a>06027       <span class="keywordflow">if</span> (data) <span class="keyword">delete</span>[] data;
<a name="l06028"></a>06028       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l06029"></a>06029       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _desinit_fullscreen();
<a name="l06030"></a>06030       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = 0;
<a name="l06031"></a>06031       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">false</span>;
<a name="l06032"></a>06032       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">true</span>;
<a name="l06033"></a>06033       <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = 0;
<a name="l06034"></a>06034       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a> = 0;
<a name="l06035"></a>06035       std::memset((<span class="keywordtype">void</span>*)buttons,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06036"></a>06036       std::memset((<span class="keywordtype">void</span>*)keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06037"></a>06037       std::memset((<span class="keywordtype">void</span>*)released_keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06038"></a>06038       min = max = 0;
<a name="l06039"></a>06039       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06040"></a>06040     }
<a name="l06041"></a>06041 
<a name="l06042"></a>06042    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img) {
<a name="l06043"></a>06043       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img).paint();
<a name="l06044"></a>06044     }
<a name="l06045"></a>06045 
<a name="l06046"></a>06046     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> nwidth, <span class="keyword">const</span> <span class="keywordtype">int</span> nheight, <span class="keyword">const</span> <span class="keywordtype">bool</span> redraw=<span class="keyword">true</span>) {
<a name="l06047"></a>06047       <span class="keywordflow">if</span> (!(nwidth &amp;&amp; nheight))
<a name="l06048"></a>06048         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::resize() : Specified window size (%d,%d) is not valid.&quot;</span>,
<a name="l06049"></a>06049                                     nwidth,nheight);
<a name="l06050"></a>06050       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l06051"></a>06051         tmpdimx=(nwidth&gt;0)?nwidth:(-nwidth*<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/100),
<a name="l06052"></a>06052         tmpdimy=(nheight&gt;0)?nheight:(-nheight*<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/100),
<a name="l06053"></a>06053         <a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(tmpdimx?tmpdimx:1,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>()),
<a name="l06054"></a>06054         <a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(tmpdimy?tmpdimy:1,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>());
<a name="l06055"></a>06055       <span class="keyword">const</span> <span class="keywordtype">bool</span>
<a name="l06056"></a>06056         is_disp_different = (<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> || <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>!=dimy),
<a name="l06057"></a>06057         is_win_different = (<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a> || <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>);
<a name="l06058"></a>06058 
<a name="l06059"></a>06059       <span class="keywordflow">if</span> (is_disp_different || is_win_different) {
<a name="l06060"></a>06060         RECT rect; rect.left=rect.top=0; rect.right = <a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>-1; rect.bottom = <a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>-1;
<a name="l06061"></a>06061         AdjustWindowRect(&amp;rect,WS_CAPTION | WS_SYSMENU | WS_THICKFRAME | WS_MINIMIZEBOX | WS_MAXIMIZEBOX,<span class="keyword">false</span>);
<a name="l06062"></a>06062         <span class="keyword">const</span> <span class="keywordtype">int</span> cwidth = rect.right-rect.left+1, cheight = rect.bottom-rect.top+1;
<a name="l06063"></a>06063         SetWindowPos(window,0,0,0,cwidth,cheight,SWP_NOMOVE | SWP_NOZORDER | SWP_NOCOPYBITS);
<a name="l06064"></a>06064         <a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>  = dimx;
<a name="l06065"></a>06065         <a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a> = dimy;
<a name="l06066"></a>06066         <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">false</span>;
<a name="l06067"></a>06067         <span class="keywordflow">if</span> (is_disp_different) {
<a name="l06068"></a>06068           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *ndata = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>*dimy];
<a name="l06069"></a>06069           <span class="keywordflow">if</span> (redraw) _render_resize(data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,ndata,<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>);
<a name="l06070"></a>06070           <span class="keywordflow">else</span> std::memset(ndata,0x80,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>);
<a name="l06071"></a>06071           <span class="keyword">delete</span>[] data;
<a name="l06072"></a>06072           data = ndata;
<a name="l06073"></a>06073           bmi.bmiHeader.biWidth = dimx;
<a name="l06074"></a>06074           bmi.bmiHeader.biHeight = -(int)<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>;
<a name="l06075"></a>06075           <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = dimx;
<a name="l06076"></a>06076           <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = dimy;
<a name="l06077"></a>06077         }
<a name="l06078"></a>06078         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) <a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>((<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>)/2,(<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)/2);
<a name="l06079"></a>06079         <span class="keywordflow">if</span> (redraw) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l06080"></a>06080       }
<a name="l06081"></a>06081       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06082"></a>06082     }
<a name="l06083"></a>06083 
<a name="l06084"></a>06084     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx,<span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l06085"></a>06085       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l06086"></a>06086         RECT rect; rect.left=rect.top=0; rect.right=<a class="code" href="structcimg__library_1_1_c_img_display.html#a95304d5b1cc58cc5b9dee2dcd86a01ee" title="Width of the underlying window.">window_width</a>-1; rect.bottom=<a class="code" href="structcimg__library_1_1_c_img_display.html#abbb82a3389e660da92a7de90497ef3d1" title="Height of the underlying window.">window_height</a>-1;
<a name="l06087"></a>06087         AdjustWindowRect(&amp;rect,WS_CAPTION | WS_SYSMENU | WS_THICKFRAME | WS_MINIMIZEBOX | WS_MAXIMIZEBOX,<span class="keyword">false</span>);
<a name="l06088"></a>06088         <span class="keyword">const</span> <span class="keywordtype">int</span> border1 = (rect.right-rect.left+1-<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>)/2, border2 = rect.bottom-rect.top+1-<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>-border1;
<a name="l06089"></a>06089         SetWindowPos(window,0,posx-border1,posy-border2,0,0,SWP_NOSIZE | SWP_NOZORDER);
<a name="l06090"></a>06090       } <span class="keywordflow">else</span> SetWindowPos(window,0,posx,posy,0,0,SWP_NOSIZE | SWP_NOZORDER);
<a name="l06091"></a>06091       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = posx;
<a name="l06092"></a>06092       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = posy;
<a name="l06093"></a>06093       <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <span class="keyword">false</span>;
<a name="l06094"></a>06094       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>();
<a name="l06095"></a>06095     }
<a name="l06096"></a>06096 
<a name="l06097"></a>06097     <span class="comment">// Internal routine to retrieve the position of the current window.</span>
<a name="l06098"></a>06098     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; _update_window_pos() {
<a name="l06099"></a>06099       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l06100"></a>06100         RECT rect;
<a name="l06101"></a>06101         rect.left = rect.top = 0; rect.right = <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>-1; rect.bottom = <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>-1;
<a name="l06102"></a>06102         AdjustWindowRect(&amp;rect,WS_CAPTION | WS_SYSMENU | WS_THICKFRAME | WS_MINIMIZEBOX | WS_MAXIMIZEBOX,<span class="keyword">false</span>);
<a name="l06103"></a>06103         <span class="keyword">const</span> <span class="keywordtype">int</span> border1 = (rect.right-rect.left+1-<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>)/2, border2 = rect.bottom-rect.top+1-<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>-border1;
<a name="l06104"></a>06104         GetWindowRect(window,&amp;rect);
<a name="l06105"></a>06105         <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = rect.left + border1;
<a name="l06106"></a>06106         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = rect.top + border2;
<a name="l06107"></a>06107       } <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = -1;
<a name="l06108"></a>06108       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06109"></a>06109     }
<a name="l06110"></a>06110 
<a name="l06111"></a>06111     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a38a72a55b3d0fb87e11706c018d55569" title="Move mouse pointer to a specific location.">set_mouse</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> posx, <span class="keyword">const</span> <span class="keywordtype">int</span> posy) {
<a name="l06112"></a>06112       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; posx&gt;=0 &amp;&amp; posy&gt;=0) {
<a name="l06113"></a>06113         _update_window_pos();
<a name="l06114"></a>06114         SetCursorPos(<a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a>+posx,<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a>+posy);
<a name="l06115"></a>06115         <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = posx;
<a name="l06116"></a>06116         <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = posy;
<a name="l06117"></a>06117       }
<a name="l06118"></a>06118       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06119"></a>06119     }
<a name="l06120"></a>06120 
<a name="l06121"></a>06121     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#ae6d02e259f8234c2c751430f6b9725ca" title="Hide mouse pointer.">hide_mouse</a>() {
<a name="l06122"></a>06122       visible_cursor = <span class="keyword">false</span>;
<a name="l06123"></a>06123           ShowCursor(FALSE);
<a name="l06124"></a>06124           SendMessage(window,WM_SETCURSOR,0,0);
<a name="l06125"></a>06125       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06126"></a>06126     }
<a name="l06127"></a>06127 
<a name="l06128"></a>06128     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#aedefb21bea6e00ccf2d8d8469fa0c7bf" title="Show mouse pointer.">show_mouse</a>() {
<a name="l06129"></a>06129       visible_cursor = <span class="keyword">true</span>;
<a name="l06130"></a>06130           ShowCursor(TRUE);
<a name="l06131"></a>06131           SendMessage(window,WM_SETCURSOR,0,0);
<a name="l06132"></a>06132       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06133"></a>06133     }
<a name="l06134"></a>06134 
<a name="l06135"></a>06135     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a928bdc29039ee9369d3b38370f7b0f92" title="Wait for a window event in any CImg window.">wait_all</a>() {
<a name="l06136"></a>06136       WaitForSingleObject(cimg::Win32attr().wait_event,INFINITE);
<a name="l06137"></a>06137     }
<a name="l06138"></a>06138 
<a name="l06139"></a>06139     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>() {
<a name="l06140"></a>06140       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l06141"></a>06141         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">false</span>;
<a name="l06142"></a>06142         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _init_fullscreen();
<a name="l06143"></a>06143         ShowWindow(window,SW_SHOW);
<a name="l06144"></a>06144         _update_window_pos();
<a name="l06145"></a>06145       }
<a name="l06146"></a>06146       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>();
<a name="l06147"></a>06147     }
<a name="l06148"></a>06148 
<a name="l06149"></a>06149     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a26c2b81ed378556196f6bb9bbf9fe213" title="Close a visible display.">close</a>() {
<a name="l06150"></a>06150       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l06151"></a>06151         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _desinit_fullscreen();
<a name="l06152"></a>06152         ShowWindow(window,SW_HIDE);
<a name="l06153"></a>06153         <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = <span class="keyword">true</span>;
<a name="l06154"></a>06154         <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = 0;
<a name="l06155"></a>06155       }
<a name="l06156"></a>06156       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06157"></a>06157     }
<a name="l06158"></a>06158 
<a name="l06159"></a>06159     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a741ae8843434ca36535817e5ad01dec7" title="Set the window title.">set_title</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l06160"></a>06160       <span class="keywordtype">char</span> tmp[1024]={0};
<a name="l06161"></a>06161       va_list ap;
<a name="l06162"></a>06162       va_start(ap, format);
<a name="l06163"></a>06163       std::vsprintf(tmp,format,ap);
<a name="l06164"></a>06164       va_end(ap);
<a name="l06165"></a>06165       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l06166"></a>06166       <span class="keyword">const</span> <span class="keywordtype">int</span> s = cimg::strlen(tmp)+1;
<a name="l06167"></a>06167       <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[s];
<a name="l06168"></a>06168       std::memcpy(<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>,tmp,s*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l06169"></a>06169       SetWindowTextA(window, tmp);
<a name="l06170"></a>06170       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06171"></a>06171     }
<a name="l06172"></a>06172 
<a name="l06173"></a>06173     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a08906b39cd55a8b5f0d52112ba635935" title="Re-paint image content in window.">paint</a>() {
<a name="l06174"></a>06174       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l06175"></a>06175         WaitForSingleObject(mutex,INFINITE);
<a name="l06176"></a>06176         SetDIBitsToDevice(hdc,0,0,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,0,0,0,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,data,&amp;bmi,DIB_RGB_COLORS);
<a name="l06177"></a>06177         ReleaseMutex(mutex);
<a name="l06178"></a>06178       }
<a name="l06179"></a>06179       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06180"></a>06180     }
<a name="l06181"></a>06181 
<a name="l06182"></a>06182     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(<span class="keyword">const</span> CImg&lt;T&gt;&amp; img) {
<a name="l06183"></a>06183       <span class="keywordflow">if</span> (img.is_empty())
<a name="l06184"></a>06184         <span class="keywordflow">throw</span> CImgArgumentException(<span class="stringliteral">&quot;CImgDisplay::_render_image() : Specified input image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l06185"></a>06185                                     img.width,img.height,img.depth,img.dim,img.data);
<a name="l06186"></a>06186       <span class="keywordflow">if</span> (img.depth!=1) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_display.html#a098a2963c267aa495ad36c4ee39bcbc5" title="Render image buffer into GDI native image format.">render</a>(img.get_projections2d(img.width/2,img.height/2,img.depth/2));
<a name="l06187"></a>06187 
<a name="l06188"></a>06188       <span class="keyword">const</span> T
<a name="l06189"></a>06189         *data1 = img.ptr(),
<a name="l06190"></a>06190         *data2 = (img.dim&gt;=2)?img.ptr(0,0,0,1):data1,
<a name="l06191"></a>06191         *data3 = (img.dim&gt;=3)?img.ptr(0,0,0,2):data1;
<a name="l06192"></a>06192 
<a name="l06193"></a>06193       WaitForSingleObject(mutex,INFINITE);
<a name="l06194"></a>06194       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l06195"></a>06195         *<span class="keyword">const</span> ndata = (img.width==<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; img.height==<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>)?data:<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[img.width*img.height],
<a name="l06196"></a>06196         *ptrd = ndata;
<a name="l06197"></a>06197 
<a name="l06198"></a>06198       if (!<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> || (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==3 &amp;&amp; cimg::type&lt;T&gt;::id()==cimg::type&lt;unsigned char&gt;::id())) {
<a name="l06199"></a>06199         min = max = 0;
<a name="l06200"></a>06200         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy = img.width*img.height; xy&gt;0; xy--)
<a name="l06201"></a>06201           *(ptrd++) = ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data1++)&lt;&lt;16) | ((<span class="keywordtype">unsigned</span> char)*(data2++)&lt;&lt;8) | (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(data3++);
<a name="l06202"></a>06202       } <span class="keywordflow">else</span> {
<a name="l06203"></a>06203         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==3) {
<a name="l06204"></a>06204           <span class="keywordflow">if</span> (cimg::type&lt;T&gt;::is_float()) { <span class="keyword">const</span> CImgStats st(img,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l06205"></a>06205           <span class="keywordflow">else</span> { min = (float)cimg::type&lt;T&gt;::min(); max = (float)cimg::type&lt;T&gt;::max(); }
<a name="l06206"></a>06206         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((min&gt;max) || <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>==1) { <span class="keyword">const</span> CImgStats st(img,<span class="keyword">false</span>); min = (float)st.min; max = (<span class="keywordtype">float</span>)st.max; }
<a name="l06207"></a>06207         <span class="keyword">const</span> <span class="keywordtype">float</span> delta = max-min, mm = delta?delta:1.0f;
<a name="l06208"></a>06208         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xy = img.width*img.height; xy&gt;0; xy--) {
<a name="l06209"></a>06209           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l06210"></a>06210             R = (<span class="keywordtype">unsigned</span> char)(255*(*(data1++)-min)/mm),
<a name="l06211"></a>06211             G = (<span class="keywordtype">unsigned</span> char)(255*(*(data2++)-min)/mm),
<a name="l06212"></a>06212             B = (<span class="keywordtype">unsigned</span> char)(255*(*(data3++)-min)/mm);
<a name="l06213"></a>06213           *(ptrd++) = (R&lt;&lt;16) | (G&lt;&lt;8) | (B);
<a name="l06214"></a>06214         }
<a name="l06215"></a>06215       }
<a name="l06216"></a>06216       <span class="keywordflow">if</span> (ndata!=data) { _render_resize(ndata,img.width,img.height,data,<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>); <span class="keyword">delete</span>[] ndata; }
<a name="l06217"></a>06217       ReleaseMutex(mutex);
<a name="l06218"></a>06218       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06219"></a>06219     }
<a name="l06220"></a>06220 
<a name="l06221"></a>06221     <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>&amp; assign_lowlevel(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh,<span class="keyword">const</span> <span class="keywordtype">char</span> *ptitle=0,
<a name="l06222"></a>06222                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> normalization_type=3,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> events_type=3,
<a name="l06223"></a>06223                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> fullscreen_flag=<span class="keyword">false</span>,<span class="keyword">const</span> <span class="keywordtype">bool</span> closed_flag=<span class="keyword">false</span>) {
<a name="l06224"></a>06224 
<a name="l06225"></a>06225 
<a name="l06226"></a>06226       <span class="comment">// Allocate space for window title</span>
<a name="l06227"></a>06227       <span class="keyword">const</span> <span class="keywordtype">int</span> s = cimg::strlen(ptitle)+1;
<a name="l06228"></a>06228       <span class="keywordtype">char</span> *tmp_title = s?<span class="keyword">new</span> <span class="keywordtype">char</span>[s]:0;
<a name="l06229"></a>06229       <span class="keywordflow">if</span> (s) std::memcpy(tmp_title,ptitle,s*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l06230"></a>06230 
<a name="l06231"></a>06231       <span class="comment">// Destroy previous window if existing</span>
<a name="l06232"></a>06232       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>) _assign();
<a name="l06233"></a>06233 
<a name="l06234"></a>06234       <span class="comment">// Set display variables</span>
<a name="l06235"></a>06235       <a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(dimw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>());
<a name="l06236"></a>06236       <a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(dimh,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>());
<a name="l06237"></a>06237       <a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = normalization_type%4;
<a name="l06238"></a>06238       <a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = events_type%4;
<a name="l06239"></a>06239       <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = fullscreen_flag;
<a name="l06240"></a>06240       <a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = tmp_title;
<a name="l06241"></a>06241       <a class="code" href="structcimg__library_1_1_c_img_display.html#a55e61abbad6bfa408087ac135d1c811e" title="X-pos of the display on the screen.">window_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a92b9b011a795c824d1c0c842dadc8d" title="Y-pos of the display on the screen.">window_y</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a> = 0;
<a name="l06242"></a>06242       <a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a> = -1;
<a name="l06243"></a>06243       std::memset((<span class="keywordtype">void</span>*)buttons,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06244"></a>06244       std::memset((<span class="keywordtype">void</span>*)keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06245"></a>06245       std::memset((<span class="keywordtype">void</span>*)released_keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06246"></a>06246       <a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#ad61ba5d868ce4499bcfe9abc6a7fbe97" title="Moved state of the window.">is_moved</a> = <a class="code" href="structcimg__library_1_1_c_img_display.html#abba584797be034f51c58dfddd02a2f43" title="Event state of the window.">is_event</a> = <span class="keyword">false</span>;
<a name="l06247"></a>06247       <a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> = closed_flag;
<a name="l06248"></a>06248       fps_timer = fps_frames = timer = 0;
<a name="l06249"></a>06249       fps_fps = 0;
<a name="l06250"></a>06250       visible_cursor = <span class="keyword">true</span>;
<a name="l06251"></a>06251 
<a name="l06252"></a>06252       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) _init_fullscreen();
<a name="l06253"></a>06253 
<a name="l06254"></a>06254       <span class="comment">// Create event thread</span>
<a name="l06255"></a>06255       <span class="keywordtype">void</span> *arg = (<span class="keywordtype">void</span>*)(<span class="keyword">new</span> <span class="keywordtype">void</span>*[2]);
<a name="l06256"></a>06256       ((<span class="keywordtype">void</span>**)arg)[0]=(<span class="keywordtype">void</span>*)<span class="keyword">this</span>;
<a name="l06257"></a>06257       ((<span class="keywordtype">void</span>**)arg)[1]=(<span class="keywordtype">void</span>*)<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a>;
<a name="l06258"></a>06258       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>) {
<a name="l06259"></a>06259         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ThreadID = 0;
<a name="l06260"></a>06260         mutex     = CreateMutex(0,FALSE,0);
<a name="l06261"></a>06261         created   = CreateEvent(0,FALSE,FALSE,0);
<a name="l06262"></a>06262         thread    = CreateThread(0,0,_events_thread,arg,0,&amp;ThreadID);
<a name="l06263"></a>06263         WaitForSingleObject(created,INFINITE);
<a name="l06264"></a>06264       } <span class="keywordflow">else</span> _events_thread(arg);
<a name="l06265"></a>06265 
<a name="l06266"></a>06266       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06267"></a>06267     }
<a name="l06268"></a>06268 
<a name="l06269"></a>06269     <span class="keyword">static</span> LRESULT APIENTRY _handle_events(HWND window,UINT msg,WPARAM wParam,LPARAM lParam) {
<a name="l06270"></a>06270 <span class="preprocessor">#ifdef _WIN64</span>
<a name="l06271"></a>06271 <span class="preprocessor"></span>      <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>* disp = (<a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>*)GetWindowLongPtr(window,GWLP_USERDATA);
<a name="l06272"></a>06272 <span class="preprocessor">#else</span>
<a name="l06273"></a>06273 <span class="preprocessor"></span>      <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>* disp = (<a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>*)GetWindowLong(window,GWL_USERDATA);
<a name="l06274"></a>06274 <span class="preprocessor">#endif</span>
<a name="l06275"></a>06275 <span class="preprocessor"></span>      MSG st_msg;
<a name="l06276"></a>06276 
<a name="l06277"></a>06277       <span class="keywordflow">switch</span>(msg) {
<a name="l06278"></a>06278       <span class="keywordflow">case</span> WM_CLOSE:
<a name="l06279"></a>06279         disp-&gt;mouse_x = disp-&gt;mouse_y = -1;
<a name="l06280"></a>06280         disp-&gt;window_x = disp-&gt;window_y = 0;
<a name="l06281"></a>06281         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06282"></a>06282         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;keys+1),(<span class="keywordtype">void</span>*)disp-&gt;keys,255);
<a name="l06283"></a>06283         <span class="keywordflow">if</span> (disp-&gt;key) {
<a name="l06284"></a>06284           std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;released_keys+1),(<span class="keywordtype">void</span>*)disp-&gt;released_keys,255);
<a name="l06285"></a>06285           disp-&gt;released_key = disp-&gt;key;
<a name="l06286"></a>06286         }
<a name="l06287"></a>06287         disp-&gt;key = disp-&gt;button = 0;
<a name="l06288"></a>06288         disp-&gt;is_closed=<span class="keyword">true</span>;
<a name="l06289"></a>06289         ReleaseMutex(disp-&gt;mutex);
<a name="l06290"></a>06290         ShowWindow(disp-&gt;window,SW_HIDE);
<a name="l06291"></a>06291         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06292"></a>06292         SetEvent(cimg::Win32attr().wait_event);
<a name="l06293"></a>06293         <span class="keywordflow">return</span> 0;
<a name="l06294"></a>06294       <span class="keywordflow">case</span> WM_SIZE: {
<a name="l06295"></a>06295         <span class="keywordflow">while</span> (PeekMessage(&amp;st_msg,window,WM_SIZE,WM_SIZE,PM_REMOVE));
<a name="l06296"></a>06296         WaitForSingleObject(disp-&gt;mutex,INFINITE);
<a name="l06297"></a>06297         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nw = LOWORD(lParam),nh = HIWORD(lParam);
<a name="l06298"></a>06298         <span class="keywordflow">if</span> (nw &amp;&amp; nh &amp;&amp; (nw!=disp-&gt;width || nh!=disp-&gt;height)) {
<a name="l06299"></a>06299           disp-&gt;window_width  = nw;
<a name="l06300"></a>06300           disp-&gt;window_height = nh;
<a name="l06301"></a>06301           disp-&gt;mouse_x = disp-&gt;mouse_y = -1;
<a name="l06302"></a>06302           disp-&gt;is_resized = disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06303"></a>06303           SetEvent(cimg::Win32attr().wait_event);
<a name="l06304"></a>06304         }
<a name="l06305"></a>06305         ReleaseMutex(disp-&gt;mutex);
<a name="l06306"></a>06306       } <span class="keywordflow">break</span>;
<a name="l06307"></a>06307       <span class="keywordflow">case</span> WM_MOVE: {
<a name="l06308"></a>06308         <span class="keywordflow">while</span> (PeekMessage(&amp;st_msg,window,WM_SIZE,WM_SIZE,PM_REMOVE));
<a name="l06309"></a>06309         WaitForSingleObject(disp-&gt;mutex,INFINITE);
<a name="l06310"></a>06310         <span class="keyword">const</span> <span class="keywordtype">int</span> nx = (int)(<span class="keywordtype">short</span>)(LOWORD(lParam)), ny = (<span class="keywordtype">int</span>)(short)(HIWORD(lParam));
<a name="l06311"></a>06311         <span class="keywordflow">if</span> (nx!=disp-&gt;window_x || ny!=disp-&gt;window_y) {
<a name="l06312"></a>06312           disp-&gt;window_x = nx;
<a name="l06313"></a>06313           disp-&gt;window_y = ny;
<a name="l06314"></a>06314           disp-&gt;is_moved = disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06315"></a>06315           SetEvent(cimg::Win32attr().wait_event);
<a name="l06316"></a>06316         }
<a name="l06317"></a>06317         ReleaseMutex(disp-&gt;mutex);
<a name="l06318"></a>06318       } <span class="keywordflow">break</span>;
<a name="l06319"></a>06319       <span class="keywordflow">case</span> WM_PAINT:
<a name="l06320"></a>06320         disp-&gt;paint();
<a name="l06321"></a>06321         <span class="keywordflow">break</span>;
<a name="l06322"></a>06322       }
<a name="l06323"></a>06323       <span class="keywordflow">if</span> (disp-&gt;events&gt;=2) <span class="keywordflow">switch</span>(msg) {
<a name="l06324"></a>06324       <span class="keywordflow">case</span> WM_KEYDOWN:
<a name="l06325"></a>06325         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;keys+1),(<span class="keywordtype">void</span>*)disp-&gt;keys,255); disp-&gt;key = (int)wParam;
<a name="l06326"></a>06326         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;released_keys+1),(<span class="keywordtype">void</span>*)disp-&gt;released_keys,255); disp-&gt;released_key = 0;
<a name="l06327"></a>06327         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06328"></a>06328         SetEvent(cimg::Win32attr().wait_event);
<a name="l06329"></a>06329         <span class="keywordflow">break</span>;
<a name="l06330"></a>06330       <span class="keywordflow">case</span> WM_MOUSEMOVE: {
<a name="l06331"></a>06331         <span class="keywordflow">while</span> (PeekMessage(&amp;st_msg,window,WM_MOUSEMOVE,WM_MOUSEMOVE,PM_REMOVE));
<a name="l06332"></a>06332         disp-&gt;mouse_x = LOWORD(lParam);
<a name="l06333"></a>06333         disp-&gt;mouse_y = HIWORD(lParam);
<a name="l06334"></a>06334         <span class="keywordflow">if</span> (disp-&gt;mouse_x&lt;0 || disp-&gt;mouse_y&lt;0 || disp-&gt;mouse_x&gt;=disp-&gt;dimx() || disp-&gt;mouse_y&gt;=disp-&gt;dimy())
<a name="l06335"></a>06335           disp-&gt;mouse_x=disp-&gt;mouse_y=-1;
<a name="l06336"></a>06336         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06337"></a>06337         SetEvent(cimg::Win32attr().wait_event);
<a name="l06338"></a>06338       } <span class="keywordflow">break</span>;
<a name="l06339"></a>06339       <span class="keywordflow">case</span> WM_LBUTTONDOWN:
<a name="l06340"></a>06340         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06341"></a>06341         disp-&gt;button|=1U;
<a name="l06342"></a>06342         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06343"></a>06343         SetEvent(cimg::Win32attr().wait_event);
<a name="l06344"></a>06344         <span class="keywordflow">break</span>;
<a name="l06345"></a>06345       <span class="keywordflow">case</span> WM_RBUTTONDOWN:
<a name="l06346"></a>06346         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06347"></a>06347         disp-&gt;button|=2U;
<a name="l06348"></a>06348         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06349"></a>06349         SetEvent(cimg::Win32attr().wait_event);
<a name="l06350"></a>06350         <span class="keywordflow">break</span>;
<a name="l06351"></a>06351       <span class="keywordflow">case</span> WM_MBUTTONDOWN:
<a name="l06352"></a>06352         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06353"></a>06353         disp-&gt;button|=4U;
<a name="l06354"></a>06354         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06355"></a>06355         SetEvent(cimg::Win32attr().wait_event);
<a name="l06356"></a>06356         <span class="keywordflow">break</span>;
<a name="l06357"></a>06357       <span class="keywordflow">case</span> 0x020A: <span class="comment">// WM_MOUSEWHEEL:</span>
<a name="l06358"></a>06358         disp-&gt;wheel+=(int)((<span class="keywordtype">short</span>)HIWORD(wParam))/120;
<a name="l06359"></a>06359         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06360"></a>06360         SetEvent(cimg::Win32attr().wait_event);
<a name="l06361"></a>06361       }
<a name="l06362"></a>06362       <span class="keywordflow">if</span> (disp-&gt;events&gt;=3) <span class="keywordflow">switch</span>(msg) {
<a name="l06363"></a>06363       <span class="keywordflow">case</span> WM_KEYUP:
<a name="l06364"></a>06364         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;keys+1),(<span class="keywordtype">void</span>*)disp-&gt;keys,255); disp-&gt;key = 0;
<a name="l06365"></a>06365         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;released_keys+1),(<span class="keywordtype">void</span>*)disp-&gt;released_keys,255); disp-&gt;released_key = (int)wParam;
<a name="l06366"></a>06366         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06367"></a>06367         SetEvent(cimg::Win32attr().wait_event);
<a name="l06368"></a>06368         <span class="keywordflow">break</span>;
<a name="l06369"></a>06369       <span class="keywordflow">case</span> WM_LBUTTONUP:
<a name="l06370"></a>06370         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06371"></a>06371         disp-&gt;button&amp;=~1U;
<a name="l06372"></a>06372         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06373"></a>06373         SetEvent(cimg::Win32attr().wait_event);
<a name="l06374"></a>06374         <span class="keywordflow">break</span>;
<a name="l06375"></a>06375       <span class="keywordflow">case</span> WM_RBUTTONUP:
<a name="l06376"></a>06376         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06377"></a>06377         disp-&gt;button&amp;=~2U;
<a name="l06378"></a>06378         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06379"></a>06379         SetEvent(cimg::Win32attr().wait_event);
<a name="l06380"></a>06380         <span class="keywordflow">break</span>;
<a name="l06381"></a>06381       <span class="keywordflow">case</span> WM_MBUTTONUP:
<a name="l06382"></a>06382         std::memmove((<span class="keywordtype">void</span>*)(disp-&gt;buttons+1),(<span class="keywordtype">void</span>*)disp-&gt;buttons,255);
<a name="l06383"></a>06383         disp-&gt;button&amp;=~4U;
<a name="l06384"></a>06384         disp-&gt;is_event = <span class="keyword">true</span>;
<a name="l06385"></a>06385         SetEvent(cimg::Win32attr().wait_event);
<a name="l06386"></a>06386         <span class="keywordflow">break</span>;
<a name="l06387"></a>06387       <span class="keywordflow">case</span> WM_SETCURSOR:
<a name="l06388"></a>06388         <span class="keywordflow">if</span> (disp-&gt;visible_cursor) ShowCursor(TRUE);
<a name="l06389"></a>06389         <span class="keywordflow">else</span> ShowCursor(FALSE);
<a name="l06390"></a>06390         <span class="keywordflow">break</span>;
<a name="l06391"></a>06391       }
<a name="l06392"></a>06392       <span class="keywordflow">return</span> DefWindowProc(window,msg,wParam,lParam);
<a name="l06393"></a>06393     }
<a name="l06394"></a>06394 
<a name="l06395"></a>06395     <span class="keyword">static</span> DWORD WINAPI _events_thread(<span class="keywordtype">void</span>* arg) {
<a name="l06396"></a>06396       <a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a> *disp  = (<a class="code" href="structcimg__library_1_1_c_img_display.html#acc67139c6af7ecc3e6eb4964a6b3a07f" title="Create a default display window.">CImgDisplay</a>*)(((<span class="keywordtype">void</span>**)arg)[0]);
<a name="l06397"></a>06397       <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcimg__library_1_1_c_img_display.html#afa41a285232ef89035e1832c7dc92ec1" title="Display title.">title</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)(((<span class="keywordtype">void</span>**)arg)[1]);
<a name="l06398"></a>06398       MSG msg;
<a name="l06399"></a>06399       <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>**)arg;
<a name="l06400"></a>06400       disp-&gt;bmi.bmiHeader.biSize=<span class="keyword">sizeof</span>(BITMAPINFOHEADER);
<a name="l06401"></a>06401       disp-&gt;bmi.bmiHeader.biWidth=disp-&gt;width;
<a name="l06402"></a>06402       disp-&gt;bmi.bmiHeader.biHeight=-(int)disp-&gt;height;
<a name="l06403"></a>06403       disp-&gt;bmi.bmiHeader.biPlanes=1;
<a name="l06404"></a>06404       disp-&gt;bmi.bmiHeader.biBitCount=32;
<a name="l06405"></a>06405       disp-&gt;bmi.bmiHeader.biCompression=BI_RGB;
<a name="l06406"></a>06406       disp-&gt;bmi.bmiHeader.biSizeImage=0;
<a name="l06407"></a>06407       disp-&gt;bmi.bmiHeader.biXPelsPerMeter=1;
<a name="l06408"></a>06408       disp-&gt;bmi.bmiHeader.biYPelsPerMeter=1;
<a name="l06409"></a>06409       disp-&gt;bmi.bmiHeader.biClrUsed=0;
<a name="l06410"></a>06410       disp-&gt;bmi.bmiHeader.biClrImportant=0;
<a name="l06411"></a>06411       disp-&gt;data = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[disp-&gt;width*disp-&gt;height];
<a name="l06412"></a>06412       if (!disp-&gt;is_fullscreen) { <span class="comment">// Normal window</span>
<a name="l06413"></a>06413         RECT rect;
<a name="l06414"></a>06414         rect.left=rect.top=0; rect.right=disp-&gt;width-1; rect.bottom=disp-&gt;height-1;
<a name="l06415"></a>06415         AdjustWindowRect(&amp;rect,WS_CAPTION | WS_SYSMENU | WS_THICKFRAME | WS_MINIMIZEBOX | WS_MAXIMIZEBOX,<span class="keyword">false</span>);
<a name="l06416"></a>06416         <span class="keyword">const</span> <span class="keywordtype">int</span> border1 = (rect.right-rect.left+1-disp-&gt;width)/2, border2 = rect.bottom-rect.top+1-disp-&gt;height-border1;
<a name="l06417"></a>06417         disp-&gt;window = CreateWindowA(<span class="stringliteral">&quot;MDICLIENT&quot;</span>,title?title:<span class="stringliteral">&quot; &quot;</span>,
<a name="l06418"></a>06418                                      WS_OVERLAPPEDWINDOW | (disp-&gt;is_closed?0:WS_VISIBLE), CW_USEDEFAULT,CW_USEDEFAULT,
<a name="l06419"></a>06419                                      disp-&gt;width + 2*border1, disp-&gt;height + border1 + border2,
<a name="l06420"></a>06420                                      0,0,0,&amp;(disp-&gt;ccs));
<a name="l06421"></a>06421         <span class="keywordflow">if</span> (!disp-&gt;is_closed) {
<a name="l06422"></a>06422           GetWindowRect(disp-&gt;window,&amp;rect);
<a name="l06423"></a>06423           disp-&gt;window_x = rect.left + border1;
<a name="l06424"></a>06424           disp-&gt;window_y = rect.top + border2;
<a name="l06425"></a>06425         } <span class="keywordflow">else</span> disp-&gt;window_x = disp-&gt;window_y = 0;
<a name="l06426"></a>06426       } <span class="keywordflow">else</span> { <span class="comment">// Fullscreen window</span>
<a name="l06427"></a>06427         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sx = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>(), sy = <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>();
<a name="l06428"></a>06428         disp-&gt;window = CreateWindowA(<span class="stringliteral">&quot;MDICLIENT&quot;</span>,title?title:<span class="stringliteral">&quot; &quot;</span>,
<a name="l06429"></a>06429                                      WS_POPUP | (disp-&gt;is_closed?0:WS_VISIBLE), (sx-disp-&gt;width)/2, (sy-disp-&gt;height)/2,
<a name="l06430"></a>06430                                      disp-&gt;width,disp-&gt;height,0,0,0,&amp;(disp-&gt;ccs));
<a name="l06431"></a>06431         disp-&gt;window_x = disp-&gt;window_y = 0;
<a name="l06432"></a>06432       }
<a name="l06433"></a>06433       SetForegroundWindow(disp-&gt;window);
<a name="l06434"></a>06434       disp-&gt;hdc = GetDC(disp-&gt;window);
<a name="l06435"></a>06435       disp-&gt;window_width = disp-&gt;width;
<a name="l06436"></a>06436       disp-&gt;window_height = disp-&gt;height;
<a name="l06437"></a>06437       disp-&gt;mouse_x = disp-&gt;mouse_y = -1;
<a name="l06438"></a>06438       disp-&gt;wheel = 0;
<a name="l06439"></a>06439       std::memset((<span class="keywordtype">void</span>*)disp-&gt;buttons,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06440"></a>06440       std::memset((<span class="keywordtype">void</span>*)disp-&gt;keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06441"></a>06441       std::memset((<span class="keywordtype">void</span>*)disp-&gt;released_keys,0,256*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
<a name="l06442"></a>06442       disp-&gt;is_resized = disp-&gt;is_moved = disp-&gt;is_event = <span class="keyword">false</span>;
<a name="l06443"></a>06443       <span class="keywordflow">if</span> (disp-&gt;events) {
<a name="l06444"></a>06444 <span class="preprocessor">#ifdef _WIN64</span>
<a name="l06445"></a>06445 <span class="preprocessor"></span>        SetWindowLongPtr(disp-&gt;window,GWLP_USERDATA,(LONG_PTR)disp);
<a name="l06446"></a>06446         SetWindowLongPtr(disp-&gt;window,GWLP_WNDPROC,(LONG_PTR)_handle_events);
<a name="l06447"></a>06447 <span class="preprocessor">#else</span>
<a name="l06448"></a>06448 <span class="preprocessor"></span>        SetWindowLong(disp-&gt;window,GWL_USERDATA,(LONG)disp);
<a name="l06449"></a>06449         SetWindowLong(disp-&gt;window,GWL_WNDPROC,(LONG)_handle_events);
<a name="l06450"></a>06450 <span class="preprocessor">#endif</span>
<a name="l06451"></a>06451 <span class="preprocessor"></span>        SetEvent(disp-&gt;created);
<a name="l06452"></a>06452         <span class="keywordflow">while</span>( GetMessage(&amp;msg,0,0,0) ) DispatchMessage( &amp;msg );
<a name="l06453"></a>06453       }
<a name="l06454"></a>06454       <span class="keywordflow">return</span> 0;
<a name="l06455"></a>06455     }
<a name="l06456"></a>06456 
<a name="l06457"></a>06457     <span class="keywordtype">void</span> _init_fullscreen() {
<a name="l06458"></a>06458       background_window = 0;
<a name="l06459"></a>06459       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) {
<a name="l06460"></a>06460         DEVMODE mode;
<a name="l06461"></a>06461         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> imode=0, ibest=0, bestbpp=0, bw=~0U, bh=~0U;
<a name="l06462"></a>06462         <span class="keywordflow">for</span> (mode.dmSize = <span class="keyword">sizeof</span>(DEVMODE), mode.dmDriverExtra = 0; EnumDisplaySettings(0,imode,&amp;mode); imode++) {
<a name="l06463"></a>06463           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nw = mode.dmPelsWidth, nh = mode.dmPelsHeight;
<a name="l06464"></a>06464           <span class="keywordflow">if</span> (nw&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> &amp;&amp; nh&gt;=<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a> &amp;&amp; mode.dmBitsPerPel&gt;=bestbpp &amp;&amp; nw&lt;=bw &amp;&amp; nh&lt;=bh) {
<a name="l06465"></a>06465             bestbpp = mode.dmBitsPerPel;
<a name="l06466"></a>06466             ibest = imode;
<a name="l06467"></a>06467             bw = nw; bh = nh;
<a name="l06468"></a>06468           }
<a name="l06469"></a>06469         }
<a name="l06470"></a>06470         <span class="keywordflow">if</span> (bestbpp) {
<a name="l06471"></a>06471           curr_mode.dmSize = <span class="keyword">sizeof</span>(DEVMODE); curr_mode.dmDriverExtra = 0;
<a name="l06472"></a>06472           EnumDisplaySettings(0,ENUM_CURRENT_SETTINGS,&amp;curr_mode);
<a name="l06473"></a>06473           EnumDisplaySettings(0,ibest,&amp;mode);
<a name="l06474"></a>06474           ChangeDisplaySettings(&amp;mode,0);
<a name="l06475"></a>06475         } <span class="keywordflow">else</span> curr_mode.dmSize = 0;
<a name="l06476"></a>06476 
<a name="l06477"></a>06477         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sx = <a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>(), sy = <a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>();
<a name="l06478"></a>06478         <span class="keywordflow">if</span> (sx!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a> || sy!=<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>) {
<a name="l06479"></a>06479           CLIENTCREATESTRUCT background_ccs;
<a name="l06480"></a>06480           background_window = CreateWindowA(<span class="stringliteral">&quot;MDICLIENT&quot;</span>,<span class="stringliteral">&quot; &quot;</span>,WS_POPUP | WS_VISIBLE, 0,0,sx,sy,0,0,0,&amp;background_ccs);
<a name="l06481"></a>06481           SetForegroundWindow(background_window);
<a name="l06482"></a>06482         }
<a name="l06483"></a>06483       } <span class="keywordflow">else</span> curr_mode.dmSize = 0;
<a name="l06484"></a>06484     }
<a name="l06485"></a>06485 
<a name="l06486"></a>06486     <span class="keywordtype">void</span> _desinit_fullscreen() {
<a name="l06487"></a>06487       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) {
<a name="l06488"></a>06488         <span class="keywordflow">if</span> (background_window) DestroyWindow(background_window);
<a name="l06489"></a>06489         background_window = 0;
<a name="l06490"></a>06490         <span class="keywordflow">if</span> (curr_mode.dmSize) ChangeDisplaySettings(&amp;curr_mode,0);
<a name="l06491"></a>06491         <a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a> = <span class="keyword">false</span>;
<a name="l06492"></a>06492       }
<a name="l06493"></a>06493     }
<a name="l06494"></a>06494 
<a name="l06495"></a>06495 <span class="preprocessor">#endif</span>
<a name="l06496"></a>06496 <span class="preprocessor"></span>
<a name="l06497"></a>06497   };
<a name="l06498"></a>06498 
<a name="l06499"></a>06499   <span class="comment">/*</span>
<a name="l06500"></a>06500 <span class="comment">   #--------------------------------------</span>
<a name="l06501"></a>06501 <span class="comment">   #</span>
<a name="l06502"></a>06502 <span class="comment">   #</span>
<a name="l06503"></a>06503 <span class="comment">   #</span>
<a name="l06504"></a>06504 <span class="comment">   # Definition of the CImg&lt;T&gt; structure</span>
<a name="l06505"></a>06505 <span class="comment">   #</span>
<a name="l06506"></a>06506 <span class="comment">   #</span>
<a name="l06507"></a>06507 <span class="comment">   #</span>
<a name="l06508"></a>06508 <span class="comment">   #--------------------------------------</span>
<a name="l06509"></a>06509 <span class="comment">   */</span>
<a name="l06510"></a>06510 
<a name="l06512"></a>06512 
<a name="l06603"></a><a class="code" href="structcimg__library_1_1_c_img.html">06603</a>   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> {
<a name="l06604"></a>06604 
<a name="l06606"></a>06606 
<a name="l06613"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f">06613</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l06614"></a>06614 
<a name="l06616"></a>06616 
<a name="l06624"></a><a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a">06624</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l06625"></a>06625 
<a name="l06627"></a>06627 
<a name="l06635"></a><a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a">06635</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l06636"></a>06636 
<a name="l06638"></a>06638 
<a name="l06646"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e">06646</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim;
<a name="l06647"></a>06647 
<a name="l06649"></a><a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543">06649</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>;
<a name="l06650"></a>06650 
<a name="l06652"></a><a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013">06652</a>     T *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l06653"></a>06653 
<a name="l06655"></a>06655 
<a name="l06660"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3ff3f07802e67c4ba930427ea45655c8">06660</a>     <span class="keyword">typedef</span> T* iterator;
<a name="l06661"></a>06661 
<a name="l06663"></a>06663 
<a name="l06668"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad444f21017aaa7da6fab45930d3579aa">06668</a>     <span class="keyword">typedef</span> <span class="keyword">const</span> T* const_iterator;
<a name="l06669"></a>06669 
<a name="l06671"></a><a class="code" href="structcimg__library_1_1_c_img.html#a94119922993ffa72217a158fede82f3b">06671</a>     <span class="keyword">typedef</span> T value_type;
<a name="l06672"></a>06672 
<a name="l06674"></a>06674     <span class="comment">//---------------------------</span>
<a name="l06675"></a>06675     <span class="comment">//</span>
<a name="l06677"></a>06677 <span class="comment"></span>
<a name="l06678"></a>06678     <span class="comment">//---------------------------</span>
<a name="l06679"></a>06679 <span class="preprocessor">#ifdef cimg_plugin</span>
<a name="l06680"></a>06680 <span class="preprocessor"></span><span class="preprocessor">#include cimg_plugin</span>
<a name="l06681"></a>06681 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l06682"></a>06682 <span class="preprocessor"></span>
<a name="l06683"></a>06683 
<a name="l06684"></a>06684     <span class="comment">//--------------------------------------</span>
<a name="l06685"></a>06685     <span class="comment">//</span>
<a name="l06687"></a>06687 <span class="comment"></span>
<a name="l06688"></a>06688     <span class="comment">//--------------------------------------</span>
<a name="l06689"></a>06689 
<a name="l06691"></a>06691 
<a name="l06699"></a><a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7">06699</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>():
<a name="l06700"></a>06700       <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>(0),dim(0),<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {}
<a name="l06701"></a>06701 
<a name="l06703"></a>06703 
<a name="l06712"></a><a class="code" href="structcimg__library_1_1_c_img.html#a563f74a7b1f7f5313d1f1b86bfb23efd">06712</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a563f74a7b1f7f5313d1f1b86bfb23efd" title="Destructor.">~CImg</a>() {
<a name="l06713"></a>06713       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l06714"></a>06714     }
<a name="l06715"></a>06715 
<a name="l06717"></a>06717 
<a name="l06726"></a><a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292">06726</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>() {
<a name="l06727"></a>06727       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l06728"></a>06728       <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0;
<a name="l06729"></a>06729       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06730"></a>06730     }
<a name="l06731"></a>06731 
<a name="l06733"></a>06733 
<a name="l06738"></a><a class="code" href="structcimg__library_1_1_c_img.html#a03f62716b3aeefb924ec762fbac6d959">06738</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a03f62716b3aeefb924ec762fbac6d959" title="In-place version of the default constructor.">clear</a>() {
<a name="l06739"></a>06739       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l06740"></a>06740     }
<a name="l06741"></a>06741 
<a name="l06743"></a>06743 
<a name="l06761"></a><a class="code" href="structcimg__library_1_1_c_img.html#a66c7fa3d12a095a5c5ade44f8c7f525a">06761</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a66c7fa3d12a095a5c5ade44f8c7f525a" title="Default copy constructor.">CImg</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img):<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false) {
<a name="l06762"></a>06762       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l06763"></a>06763       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; siz) {
<a name="l06764"></a>06764         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz];
<a name="l06765"></a>06765         <span class="keyword">const</span> t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+siz; cimg_for(*<span class="keyword">this</span>,ptrd,T) *ptrd = (T)*(--ptrs);
<a name="l06766"></a>06766       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06767"></a>06767     }
<a name="l06768"></a>06768 
<a name="l06769"></a>06769     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l06770"></a>06770       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l06771"></a>06771       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; siz) {
<a name="l06772"></a>06772         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>;
<a name="l06773"></a>06773         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">const_cast&lt;</span>T*<span class="keyword">&gt;</span>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l06774"></a>06774         <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,siz*<span class="keyword">sizeof</span>(T)); }
<a name="l06775"></a>06775       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06776"></a>06776     }
<a name="l06777"></a>06777 
<a name="l06779"></a>06779 
<a name="l06789"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae8018950a740a3e76878727fdcb03076">06789</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae8018950a740a3e76878727fdcb03076" title="In-place version of the default copy constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l06790"></a>06790       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l06791"></a>06791     }
<a name="l06792"></a>06792 
<a name="l06794"></a>06794 
<a name="l06808"></a><a class="code" href="structcimg__library_1_1_c_img.html#a91826df0d3bf6569c39ae07705ea43d4">06808</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a91826df0d3bf6569c39ae07705ea43d4" title="Advanced copy constructor.">CImg</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared):<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false) {
<a name="l06809"></a>06809       <span class="keywordflow">if</span> (shared) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::CImg() : Cannot construct a shared copy from a CImg&lt;%s&gt; image &quot;</span>
<a name="l06810"></a>06810                                               <span class="stringliteral">&quot;(different pixel types).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;::pixel_type</a>());
<a name="l06811"></a>06811       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l06812"></a>06812       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; siz) {
<a name="l06813"></a>06813         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz];
<a name="l06814"></a>06814         <span class="keyword">const</span> t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+siz; cimg_for(*<span class="keyword">this</span>,ptrd,T) *ptrd = (T)*(--ptrs);
<a name="l06815"></a>06815       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06816"></a>06816     }
<a name="l06817"></a>06817 
<a name="l06818"></a>06818     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l06819"></a>06819       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l06820"></a>06820       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; siz) {
<a name="l06821"></a>06821         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = shared;
<a name="l06822"></a>06822         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">const_cast&lt;</span>T*<span class="keyword">&gt;</span>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l06823"></a>06823         <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,siz*<span class="keyword">sizeof</span>(T)); }
<a name="l06824"></a>06824       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06825"></a>06825     }
<a name="l06826"></a>06826 
<a name="l06828"></a>06828 
<a name="l06841"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8ef44313e56a0df4cde616f289422eae">06841</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8ef44313e56a0df4cde616f289422eae" title="In-place version of the advanced constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l06842"></a>06842       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,shared);
<a name="l06843"></a>06843     }
<a name="l06844"></a>06844 
<a name="l06846"></a>06846 
<a name="l06862"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3c57bd9536e4cc2df00a902a377f1b3b">06862</a>     <span class="keyword">explicit</span> <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1):
<a name="l06863"></a>06863       <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false) {
<a name="l06864"></a>06864       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l06865"></a>06865       <span class="keywordflow">if</span> (siz) { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; }
<a name="l06866"></a>06866       <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06867"></a>06867     }
<a name="l06868"></a>06868 
<a name="l06870"></a>06870 
<a name="l06886"></a><a class="code" href="structcimg__library_1_1_c_img.html#a32e4857acca9063f247a025e163e41b8">06886</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a32e4857acca9063f247a025e163e41b8" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1) {
<a name="l06887"></a>06887       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> siz = dx*dy*dz*dv, curr_siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l06888"></a>06888       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) {
<a name="l06889"></a>06889         <span class="keywordflow">if</span> (siz!=curr_siz)
<a name="l06890"></a>06890           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::assign() : Cannot assign image (%u,%u,%u,%u) to shared instance image (%u,%u,%u,%u,%p).&quot;</span>,
<a name="l06891"></a>06891                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dx,dy,dz,dv,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l06892"></a>06892       } <span class="keywordflow">else</span> {
<a name="l06893"></a>06893         <span class="keywordflow">if</span> (siz) {
<a name="l06894"></a>06894           <span class="keywordflow">if</span> (siz!=curr_siz) { <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; }
<a name="l06895"></a>06895           <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv;
<a name="l06896"></a>06896         } <span class="keywordflow">else</span> {
<a name="l06897"></a>06897           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l06898"></a>06898           <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0;
<a name="l06899"></a>06899         }
<a name="l06900"></a>06900       }
<a name="l06901"></a>06901       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l06902"></a>06902     }
<a name="l06903"></a>06903 
<a name="l06905"></a>06905 
<a name="l06917"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad024111e98670fe76bea4012a182790d">06917</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv, <span class="keyword">const</span> T&amp; val):
<a name="l06918"></a>06918       <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false) {
<a name="l06919"></a>06919       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l06920"></a>06920       <span class="keywordflow">if</span> (siz) { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val); }
<a name="l06921"></a>06921       <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06922"></a>06922     }
<a name="l06923"></a>06923 
<a name="l06925"></a>06925 
<a name="l06937"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac7f3c90ee5f43317abfbc6a7bb3d4ea6">06937</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac7f3c90ee5f43317abfbc6a7bb3d4ea6" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv, <span class="keyword">const</span> T&amp; val) {
<a name="l06938"></a>06938       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val);
<a name="l06939"></a>06939     }
<a name="l06940"></a>06940 
<a name="l06942"></a>06942 
<a name="l06953"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9a6e32d682055c3e357e8bddbb18916b">06953</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a9a6e32d682055c3e357e8bddbb18916b" title="Construct an image from an image file.">CImg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename):<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>(0),<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>(0),<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>(0),dim(0),<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l06954"></a>06954       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(filename);
<a name="l06955"></a>06955     }
<a name="l06956"></a>06956 
<a name="l06958"></a>06958 
<a name="l06967"></a><a class="code" href="structcimg__library_1_1_c_img.html#a791ec7a0e62b46d077a0c2fca1cd59f3">06967</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a791ec7a0e62b46d077a0c2fca1cd59f3" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l06968"></a>06968       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac232288147b4167d8daca12e752de20a" title="Load an image from a file.">load</a>(filename);
<a name="l06969"></a>06969     }
<a name="l06970"></a>06970 
<a name="l06972"></a>06972 
<a name="l06976"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2795d889315351d99ce61094a1508266">06976</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> t *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1,
<a name="l06977"></a>06977                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>(false) {
<a name="l06978"></a>06978       <span class="keywordflow">if</span> (shared) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::CImg() : Cannot construct a shared copy from a (%s*) buffer &quot;</span>
<a name="l06979"></a>06979                                               <span class="stringliteral">&quot;(different pixel types).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;::pixel_type</a>());
<a name="l06980"></a>06980       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l06981"></a>06981       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) {
<a name="l06982"></a>06982         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz];
<a name="l06983"></a>06983         <span class="keyword">const</span> t *ptrs = data_buffer+siz; cimg_for(*<span class="keyword">this</span>,ptrd,T) *ptrd = (T)*(--ptrs);
<a name="l06984"></a>06984       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l06985"></a>06985     }
<a name="l06986"></a>06986 
<a name="l06987"></a>06987 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l06988"></a>06988 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> T *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy,
<a name="l06989"></a>06989          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l06990"></a>06990 <span class="preprocessor">#else</span>
<a name="l06991"></a>06991 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> T *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1,
<a name="l06992"></a>06992          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l06993"></a>06993 <span class="preprocessor">#endif</span>
<a name="l06994"></a>06994 <span class="preprocessor"></span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l06995"></a>06995       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) {
<a name="l06996"></a>06996         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = shared;
<a name="l06997"></a>06997         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">const_cast&lt;</span>T*<span class="keyword">&gt;</span>(data_buffer);
<a name="l06998"></a>06998         <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,data_buffer,siz*<span class="keyword">sizeof</span>(T)); }
<a name="l06999"></a>06999       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l07000"></a>07000     }
<a name="l07001"></a>07001 
<a name="l07002"></a>07002         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>(<span class="keyword">const</span> t *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1) {
<a name="l07003"></a>07003 
<a name="l07004"></a>07004         }
<a name="l07005"></a>07005 
<a name="l07007"></a>07007 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l07008"></a>07008 <span class="preprocessor"></span>    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> t *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy,
<a name="l07009"></a>07009                                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv) {
<a name="l07010"></a>07010 <span class="preprocessor">#else</span>
<a name="l07011"></a><a class="code" href="structcimg__library_1_1_c_img.html#aff160dedc67b60cc808ae345b81e83d3">07011</a> <span class="preprocessor"></span>    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> t *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1,
<a name="l07012"></a>07012                                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1) {
<a name="l07013"></a>07013 <span class="preprocessor">#endif</span>
<a name="l07014"></a>07014 <span class="preprocessor"></span>      <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l07015"></a>07015       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l07016"></a>07016       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) { <span class="keyword">const</span> t *ptrs = data_buffer+siz; cimg_for(*<span class="keyword">this</span>,ptrd,T) *ptrd = (T)*(--ptrs); }
<a name="l07017"></a>07017       <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l07018"></a>07018       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07019"></a>07019     }
<a name="l07020"></a>07020 
<a name="l07021"></a>07021     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> T *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=1,
<a name="l07022"></a>07022                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=1) {
<a name="l07023"></a>07023       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l07024"></a>07024       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l07025"></a>07025       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,data_buffer,siz*<span class="keyword">sizeof</span>(T));
<a name="l07026"></a>07026       <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l07027"></a>07027       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07028"></a>07028     }
<a name="l07029"></a>07029 
<a name="l07031"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad2703bb73626084dec0300bf5d58e250">07031</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> t *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy,
<a name="l07032"></a>07032                                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l07033"></a>07033       <span class="keywordflow">if</span> (shared) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::assign() : Cannot define a shared copy from a CImg&lt;%s&gt; image &quot;</span>
<a name="l07034"></a>07034                                               <span class="stringliteral">&quot;(different pixel types).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;::pixel_type</a>());
<a name="l07035"></a>07035       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07036"></a>07036       <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>;
<a name="l07037"></a>07037       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l07038"></a>07038       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) {
<a name="l07039"></a>07039         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz];
<a name="l07040"></a>07040         <span class="keyword">const</span> t *ptrs = data_buffer+siz; cimg_for(*<span class="keyword">this</span>,ptrd,T) *ptrd = (T)*(--ptrs);
<a name="l07041"></a>07041       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l07042"></a>07042       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07043"></a>07043     }
<a name="l07044"></a>07044 
<a name="l07045"></a>07045     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> T *<span class="keyword">const</span> data_buffer, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy,
<a name="l07046"></a>07046                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l07047"></a>07047       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; !<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07048"></a>07048       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = dx*dy*dz*dv;
<a name="l07049"></a>07049       <span class="keywordflow">if</span> (data_buffer &amp;&amp; siz) {
<a name="l07050"></a>07050         <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dz; dim = dv; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = shared;
<a name="l07051"></a>07051         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">const_cast&lt;</span>T*<span class="keyword">&gt;</span>(data_buffer);
<a name="l07052"></a>07052         <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> T[siz]; std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,data_buffer,siz*<span class="keyword">sizeof</span>(T)); }
<a name="l07053"></a>07053       } <span class="keywordflow">else</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a> = <span class="keyword">false</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0; }
<a name="l07054"></a>07054       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07055"></a>07055     }
<a name="l07056"></a>07056 
<a name="l07057"></a>07057     <span class="comment">// INNER ROUTINE : Swap fields of an image (use it carefully!)</span>
<a name="l07058"></a>07058     <span class="comment">// If one of the image is shared, its content is replaced by the non-shared image (which remains unchanged).</span>
<a name="l07059"></a>07059     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; swap(<a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; img) {
<a name="l07060"></a>07060       <span class="keywordflow">if</span> (img.is_shared==<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>) {
<a name="l07061"></a>07061         cimg::swap(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.width);
<a name="l07062"></a>07062         cimg::swap(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.height);
<a name="l07063"></a>07063         cimg::swap(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.depth);
<a name="l07064"></a>07064         cimg::swap(dim,img.dim);
<a name="l07065"></a>07065         cimg::swap(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.data);
<a name="l07066"></a>07066       } <span class="keywordflow">else</span> {
<a name="l07067"></a>07067         <span class="keywordflow">if</span> (img.is_shared) img.assign(*<span class="keyword">this</span>);
<a name="l07068"></a>07068         <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img);
<a name="l07069"></a>07069       }
<a name="l07070"></a>07070       <span class="keywordflow">return</span> img;
<a name="l07071"></a>07071     }
<a name="l07072"></a>07072 
<a name="l07074"></a>07074     <span class="comment">//-------------------------------------</span>
<a name="l07075"></a>07075     <span class="comment">//</span>
<a name="l07077"></a>07077 <span class="comment"></span>
<a name="l07078"></a>07078     <span class="comment">//-------------------------------------</span>
<a name="l07079"></a>07079 
<a name="l07081"></a>07081 
<a name="l07086"></a><a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9">07086</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>() {
<a name="l07087"></a>07087       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::id</a>();
<a name="l07088"></a>07088     }
<a name="l07089"></a>07089 
<a name="l07091"></a>07091 
<a name="l07101"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e">07101</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()<span class="keyword"> const </span>{
<a name="l07102"></a>07102       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*dim;
<a name="l07103"></a>07103     }
<a name="l07104"></a>07104 
<a name="l07106"></a>07106 
<a name="l07109"></a><a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e">07109</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()<span class="keyword"> const </span>{
<a name="l07110"></a>07110       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l07111"></a>07111     }
<a name="l07112"></a>07112 
<a name="l07114"></a>07114 
<a name="l07117"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c">07117</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()<span class="keyword"> const </span>{
<a name="l07118"></a>07118       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l07119"></a>07119     }
<a name="l07120"></a>07120 
<a name="l07122"></a>07122 
<a name="l07125"></a><a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75">07125</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()<span class="keyword"> const </span>{
<a name="l07126"></a>07126       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l07127"></a>07127     }
<a name="l07128"></a>07128 
<a name="l07130"></a>07130 
<a name="l07133"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49">07133</a>     <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()<span class="keyword"> const </span>{
<a name="l07134"></a>07134       <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)dim;
<a name="l07135"></a>07135     }
<a name="l07136"></a>07136 
<a name="l07138"></a><a class="code" href="structcimg__library_1_1_c_img.html#af6159b79f4adb751936f93b5dd449ad0">07138</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#af6159b79f4adb751936f93b5dd449ad0" title="Return true if images (*this) and img have same width.">is_sameX</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07139"></a>07139       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l07140"></a>07140     }
<a name="l07141"></a>07141 
<a name="l07143"></a><a class="code" href="structcimg__library_1_1_c_img.html#af47030feb9d6fb87462ed939b7e45ea5">07143</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#af47030feb9d6fb87462ed939b7e45ea5" title="Return true if images (*this) and the display disp have same width.">is_sameX</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp)<span class="keyword"> const </span>{
<a name="l07144"></a>07144       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>);
<a name="l07145"></a>07145     }
<a name="l07146"></a>07146 
<a name="l07148"></a><a class="code" href="structcimg__library_1_1_c_img.html#aad820536738d41afc41f67e50fba0237">07148</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#aad820536738d41afc41f67e50fba0237" title="Return true if images (*this) and img have same height.">is_sameY</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07149"></a>07149       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l07150"></a>07150     }
<a name="l07151"></a>07151 
<a name="l07153"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa686f35fb0e2a1d03ee7dc55fa97601d">07153</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa686f35fb0e2a1d03ee7dc55fa97601d" title="Return true if images (*this) and the display disp have same height.">is_sameY</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp)<span class="keyword"> const </span>{
<a name="l07154"></a>07154       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>);
<a name="l07155"></a>07155     }
<a name="l07156"></a>07156 
<a name="l07158"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0cb6b2d2e03ad9575d1c0ab35d6eb5e4">07158</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0cb6b2d2e03ad9575d1c0ab35d6eb5e4" title="Return true if images (*this) and img have same depth.">is_sameZ</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07159"></a>07159       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l07160"></a>07160     }
<a name="l07161"></a>07161 
<a name="l07163"></a><a class="code" href="structcimg__library_1_1_c_img.html#a16eaf2715549be53fb62e58d57dbe347">07163</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a16eaf2715549be53fb62e58d57dbe347" title="Return true if images (*this) and img have same dim.">is_sameV</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07164"></a>07164       <span class="keywordflow">return</span> (dim==img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l07165"></a>07165     }
<a name="l07166"></a>07166 
<a name="l07168"></a><a class="code" href="structcimg__library_1_1_c_img.html#af4731def95a5ee421a35451e63884dcd">07168</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#af4731def95a5ee421a35451e63884dcd" title="Return true if images have same width and same height.">is_sameXY</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07169"></a>07169       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#af6159b79f4adb751936f93b5dd449ad0" title="Return true if images (*this) and img have same width.">is_sameX</a>(img) &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aad820536738d41afc41f67e50fba0237" title="Return true if images (*this) and img have same height.">is_sameY</a>(img));
<a name="l07170"></a>07170     }
<a name="l07171"></a>07171 
<a name="l07173"></a><a class="code" href="structcimg__library_1_1_c_img.html#aea56577e695bd44512d4acecac27a3a5">07173</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#aea56577e695bd44512d4acecac27a3a5" title="Return true if image (*this) and the display disp have same width and same height.">is_sameXY</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp)<span class="keyword"> const </span>{
<a name="l07174"></a>07174       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#af6159b79f4adb751936f93b5dd449ad0" title="Return true if images (*this) and img have same width.">is_sameX</a>(disp) &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aad820536738d41afc41f67e50fba0237" title="Return true if images (*this) and img have same height.">is_sameY</a>(disp));
<a name="l07175"></a>07175     }
<a name="l07176"></a>07176 
<a name="l07178"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad7eed98e5f834320d33a5fe748d1a158">07178</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad7eed98e5f834320d33a5fe748d1a158" title="Return true if images have same width, same height and same depth.">is_sameXYZ</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07179"></a>07179       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#af4731def95a5ee421a35451e63884dcd" title="Return true if images have same width and same height.">is_sameXY</a>(img) &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0cb6b2d2e03ad9575d1c0ab35d6eb5e4" title="Return true if images (*this) and img have same depth.">is_sameZ</a>(img));
<a name="l07180"></a>07180     }
<a name="l07181"></a>07181 
<a name="l07183"></a><a class="code" href="structcimg__library_1_1_c_img.html#a74dbcc16c7022ddfd4df2c97925fcd76">07183</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a74dbcc16c7022ddfd4df2c97925fcd76" title="Return true if images (*this) and img have same width, same height, same depth and same number of cha...">is_sameXYZV</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07184"></a>07184       <span class="keywordflow">return</span> (<a class="code" href="structcimg__library_1_1_c_img.html#ad7eed98e5f834320d33a5fe748d1a158" title="Return true if images have same width, same height and same depth.">is_sameXYZ</a>(img) &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a16eaf2715549be53fb62e58d57dbe347" title="Return true if images (*this) and img have same dim.">is_sameV</a>(img));
<a name="l07185"></a>07185     }
<a name="l07186"></a>07186 
<a name="l07188"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4631fac1a1d17e6702c4c5ca4315bcbd">07188</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4631fac1a1d17e6702c4c5ca4315bcbd" title="Return true if pixel (x,y,z,v) is inside the image boundaries.">contains</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07189"></a>07189       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; x&gt;=0 &amp;&amp; x&lt;(int)width &amp;&amp; y&gt;=0 &amp;&amp; y&lt;(int)height &amp;&amp; z&gt;=0 &amp;&amp; z&lt;(int)depth &amp;&amp; v&gt;=0 &amp;&amp; v&lt;(int)dim;
<a name="l07190"></a>07190     }
<a name="l07191"></a>07191 
<a name="l07193"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5">07193</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()<span class="keyword"> const </span>{
<a name="l07194"></a>07194       <span class="keywordflow">return</span> !(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> &amp;&amp; dim);
<a name="l07195"></a>07195     }
<a name="l07196"></a>07196 
<a name="l07198"></a>07198 
<a name="l07214"></a><a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9">07214</a>     <span class="keywordtype">long</span> <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x=0, <span class="keyword">const</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07215"></a>07215       <span class="keywordflow">return</span> x + y*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> + z*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> + v*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l07216"></a>07216     }
<a name="l07217"></a>07217 
<a name="l07219"></a>07219 
<a name="l07237"></a><a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0">07237</a>     T* <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0) {
<a name="l07238"></a>07238       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07239"></a>07239 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l07240"></a>07240 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (off&lt;0 || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l07241"></a>07241         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::ptr() : Asked for a pointer at coordinates (%u,%u,%u,%u) (offset=%u), &quot;</span>
<a name="l07242"></a>07242                    <span class="stringliteral">&quot;outside image range (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07243"></a>07243                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07244"></a>07244         <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07245"></a>07245       }
<a name="l07246"></a>07246 <span class="preprocessor">#endif</span>
<a name="l07247"></a>07247 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+off;
<a name="l07248"></a>07248     }
<a name="l07249"></a>07249 
<a name="l07250"></a>07250     <span class="keyword">const</span> T* <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07251"></a>07251       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07252"></a>07252 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l07253"></a>07253 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (off&lt;0 || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l07254"></a>07254         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::ptr() : Trying to get a pointer at (%u,%u,%u,%u) (offset=%d) which is&quot;</span>
<a name="l07255"></a>07255                    <span class="stringliteral">&quot;outside the data of the image (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07256"></a>07256                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07257"></a>07257         <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07258"></a>07258       }
<a name="l07259"></a>07259 <span class="preprocessor">#endif</span>
<a name="l07260"></a>07260 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+off;
<a name="l07261"></a>07261     }
<a name="l07262"></a>07262 
<a name="l07264"></a><a class="code" href="structcimg__library_1_1_c_img.html#a949050ed420affec534b8aca29021846">07264</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a3ff3f07802e67c4ba930427ea45655c8" title="Iterator type for CImg&amp;lt;T&amp;gt;.">iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a949050ed420affec534b8aca29021846" title="Return an iterator to the first image pixel.">begin</a>() {
<a name="l07265"></a>07265       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07266"></a>07266     }
<a name="l07267"></a>07267 
<a name="l07268"></a>07268     <a class="code" href="structcimg__library_1_1_c_img.html#ad444f21017aaa7da6fab45930d3579aa" title="Const iterator type for CImg&amp;lt;T&amp;gt;.">const_iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a949050ed420affec534b8aca29021846" title="Return an iterator to the first image pixel.">begin</a>()<span class="keyword"> const </span>{
<a name="l07269"></a>07269       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07270"></a>07270     }
<a name="l07271"></a>07271 
<a name="l07273"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05">07273</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a3ff3f07802e67c4ba930427ea45655c8" title="Iterator type for CImg&amp;lt;T&amp;gt;.">iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>() {
<a name="l07274"></a>07274       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l07275"></a>07275     }
<a name="l07276"></a>07276 
<a name="l07277"></a>07277     <a class="code" href="structcimg__library_1_1_c_img.html#ad444f21017aaa7da6fab45930d3579aa" title="Const iterator type for CImg&amp;lt;T&amp;gt;.">const_iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()<span class="keyword"> const </span>{
<a name="l07278"></a>07278       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l07279"></a>07279     }
<a name="l07280"></a>07280 
<a name="l07282"></a>07282 
<a name="l07304"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041">07304</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0) {
<a name="l07305"></a>07305       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07306"></a>07306 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l07307"></a>07307 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l07308"></a>07308         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::operator() : Pixel access requested at (%u,%u,%u,%u) (offset=%d) &quot;</span>
<a name="l07309"></a>07309                    <span class="stringliteral">&quot;outside the image range (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07310"></a>07310                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07311"></a>07311         <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07312"></a>07312       }
<a name="l07313"></a>07313 <span class="preprocessor">#endif</span>
<a name="l07314"></a>07314 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off];
<a name="l07315"></a>07315     }
<a name="l07316"></a>07316 
<a name="l07317"></a>07317     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07318"></a>07318       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07319"></a>07319 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l07320"></a>07320 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l07321"></a>07321         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::operator() : Pixel access requested at (%u,%u,%u,%u) (offset=%d) &quot;</span>
<a name="l07322"></a>07322                    <span class="stringliteral">&quot;outside the image range (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07323"></a>07323                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07324"></a>07324         <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07325"></a>07325       }
<a name="l07326"></a>07326 <span class="preprocessor">#endif</span>
<a name="l07327"></a>07327 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off];
<a name="l07328"></a>07328     }
<a name="l07329"></a>07329 
<a name="l07331"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6548e89af57209fe85dd65a8af7ad43b">07331</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6548e89af57209fe85dd65a8af7ad43b" title="Return pixel value at a given position. Equivalent to operator().">at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0) {
<a name="l07332"></a>07332       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07333"></a>07333       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l07334"></a>07334         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::at() : Pixel access requested at (%u,%u,%u,%u) (offset=%d) &quot;</span>
<a name="l07335"></a>07335                                     <span class="stringliteral">&quot;outside the image range (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07336"></a>07336                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07337"></a>07337       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off];
<a name="l07338"></a>07338     }
<a name="l07339"></a>07339 
<a name="l07340"></a>07340     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6548e89af57209fe85dd65a8af7ad43b" title="Return pixel value at a given position. Equivalent to operator().">at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07341"></a>07341       <span class="keyword">const</span> <span class="keywordtype">long</span> off = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x,y,z,v);
<a name="l07342"></a>07342       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> || off&gt;=(<span class="keywordtype">long</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l07343"></a>07343         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::at() : Pixel access requested at (%u,%u,%u,%u) (offset=%d) &quot;</span>
<a name="l07344"></a>07344                                     <span class="stringliteral">&quot;outside the image range (%u,%u,%u,%u) (size=%u)&quot;</span>,
<a name="l07345"></a>07345                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x,y,z,v,off,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07346"></a>07346       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off];
<a name="l07347"></a>07347     }
<a name="l07348"></a>07348 
<a name="l07350"></a>07350 
<a name="l07367"></a><a class="code" href="structcimg__library_1_1_c_img.html#a53ee85b82244ff16acd428e5ad655540">07367</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a53ee85b82244ff16acd428e5ad655540" title="Fast access to pixel value for reading or writing, using an offset to the image pixel.">operator[]</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> off) {
<a name="l07368"></a>07368       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(off);
<a name="l07369"></a>07369     }
<a name="l07370"></a>07370 
<a name="l07371"></a>07371     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a53ee85b82244ff16acd428e5ad655540" title="Fast access to pixel value for reading or writing, using an offset to the image pixel.">operator[]</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> off)<span class="keyword"> const </span>{
<a name="l07372"></a>07372       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(off);
<a name="l07373"></a>07373     }
<a name="l07374"></a>07374 
<a name="l07376"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9fe3b98715c7e946498a301a273fa25b">07376</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9fe3b98715c7e946498a301a273fa25b" title="Return a reference to the last image value.">back</a>() {
<a name="l07377"></a>07377       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1);
<a name="l07378"></a>07378     }
<a name="l07379"></a>07379 
<a name="l07380"></a>07380     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9fe3b98715c7e946498a301a273fa25b" title="Return a reference to the last image value.">back</a>()<span class="keyword"> const </span>{
<a name="l07381"></a>07381       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1);
<a name="l07382"></a>07382     }
<a name="l07383"></a>07383 
<a name="l07385"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8b0a55d72dc695fe935d6a900e469364">07385</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8b0a55d72dc695fe935d6a900e469364" title="Return a reference to the first image value.">front</a>() {
<a name="l07386"></a>07386       <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07387"></a>07387     }
<a name="l07388"></a>07388 
<a name="l07389"></a>07389     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8b0a55d72dc695fe935d6a900e469364" title="Return a reference to the first image value.">front</a>()<span class="keyword"> const </span>{
<a name="l07390"></a>07390       <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l07391"></a>07391     }
<a name="l07392"></a>07392 
<a name="l07394"></a>07394 
<a name="l07416"></a><a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c">07416</a>     T <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v, <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07417"></a>07417       <span class="keywordflow">return</span> (x&lt;0 || y&lt;0 || z&lt;0 || v&lt;0 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>() || v&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>())?out_val:(*this)(x,y,z,v);
<a name="l07418"></a>07418     }
<a name="l07419"></a>07419 
<a name="l07420"></a>07420     T <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v)<span class="keyword"> const </span>{
<a name="l07421"></a>07421       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(x&lt;0?0:(x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1:x), y&lt;0?0:(y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1:y),
<a name="l07422"></a>07422                      z&lt;0?0:(z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1:z), v&lt;0?0:(v&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()-1:v));
<a name="l07423"></a>07423     }
<a name="l07424"></a>07424 
<a name="l07426"></a><a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f">07426</a>     T <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v, <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07427"></a>07427       <span class="keywordflow">return</span> (x&lt;0 || y&lt;0 || z&lt;0 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>())?out_val:(*this)(x,y,z,v);
<a name="l07428"></a>07428     }
<a name="l07429"></a>07429 
<a name="l07430"></a>07430     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07431"></a>07431       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(x&lt;0?0:(x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1:x), y&lt;0?0:(y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1:y),
<a name="l07432"></a>07432                      z&lt;0?0:(z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1:z),v);
<a name="l07433"></a>07433     }
<a name="l07434"></a>07434 
<a name="l07436"></a><a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd">07436</a>     T <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v, <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07437"></a>07437       <span class="keywordflow">return</span> (x&lt;0 || y&lt;0 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())?out_val:(*this)(x,y,z,v);
<a name="l07438"></a>07438     }
<a name="l07439"></a>07439 
<a name="l07440"></a>07440     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z=0,<span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07441"></a>07441       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(x&lt;0?0:(x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1:x), y&lt;0?0:(y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1:y),z,v);
<a name="l07442"></a>07442     }
<a name="l07443"></a>07443 
<a name="l07445"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab5ef0ea3ac3076504ff33c098abd27ab">07445</a>     T <a class="code" href="structcimg__library_1_1_c_img.html#ab5ef0ea3ac3076504ff33c098abd27ab" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the first coordinate x...">pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v, <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07446"></a>07446       <span class="keywordflow">return</span> (x&lt;0 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?out_val:(*this)(x,y,z,v);
<a name="l07447"></a>07447     }
<a name="l07448"></a>07448 
<a name="l07449"></a>07449     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ab5ef0ea3ac3076504ff33c098abd27ab" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the first coordinate x...">pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07450"></a>07450       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(x&lt;0?0:(x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1:x),y,z,v);
<a name="l07451"></a>07451     }
<a name="l07452"></a>07452 
<a name="l07454"></a>07454 
<a name="l07478"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0048824e103ea2bacefddbef39678a89">07478</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#a0048824e103ea2bacefddbef39678a89" title="Read a pixel value using linear interpolation.">linear_pix4d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx,<span class="keyword">const</span> <span class="keywordtype">float</span> fy,<span class="keyword">const</span> <span class="keywordtype">float</span> fz,<span class="keyword">const</span> <span class="keywordtype">float</span> fv,
<a name="l07479"></a>07479                                                        <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07480"></a>07480       <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)fx-(fx&gt;=0?0:1), y = (int)fy-(fy&gt;=0?0:1), z = (int)fz-(fz&gt;=0?0:1), v = (int)fv-(fv&gt;=0?0:1),
<a name="l07481"></a>07481         nx = x+1, ny = y+1, nz = z+1, nv = v+1;
<a name="l07482"></a>07482       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y, dz = fz-z, dv = fv-v;
<a name="l07483"></a>07483       <span class="keyword">const</span> T
<a name="l07484"></a>07484         Icccc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,y,z,v,out_val),    Inccc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,y,z,v,out_val),
<a name="l07485"></a>07485         Icncc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,ny,z,v,out_val),   Inncc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,ny,z,v,out_val),
<a name="l07486"></a>07486         Iccnc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,y,nz,v,out_val),   Incnc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,y,nz,v,out_val),
<a name="l07487"></a>07487         Icnnc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,ny,nz,v,out_val),  Innnc = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,ny,nz,v,out_val),
<a name="l07488"></a>07488         Icccn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,y,z,nv,out_val),   Inccn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,y,z,nv,out_val),
<a name="l07489"></a>07489         Icncn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,ny,z,nv,out_val),  Inncn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,ny,z,nv,out_val),
<a name="l07490"></a>07490         Iccnn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,y,nz,nv,out_val),  Incnn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,y,nz,nv,out_val),
<a name="l07491"></a>07491         Icnnn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x,ny,nz,nv,out_val), Innnn = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(nx,ny,nz,nv,out_val);
<a name="l07492"></a>07492       <span class="keywordflow">return</span> Icccc +
<a name="l07493"></a>07493         dx*(Inccc-Icccc +
<a name="l07494"></a>07494             dy*(Icccc+Inncc-Icncc-Inccc +
<a name="l07495"></a>07495                 dz*(Iccnc+Innnc+Icncc+Inccc-Icnnc-Incnc-Icccc-Inncc +
<a name="l07496"></a>07496                     dv*(Iccnn+Innnn+Icncn+Inccn+Icnnc+Incnc+Icccc+Inncc-Icnnn-Incnn-Icccn-Inncn-Iccnc-Innnc-Icncc-Inccc)) +
<a name="l07497"></a>07497                 dv*(Icccn+Inncn+Icncc+Inccc-Icncn-Inccn-Icccc-Inncc)) +
<a name="l07498"></a>07498             dz*(Icccc+Incnc-Iccnc-Inccc +
<a name="l07499"></a>07499                 dv*(Icccn+Incnn+Iccnc+Inccc-Iccnn-Inccn-Icccc-Incnc)) +
<a name="l07500"></a>07500             dv*(Icccc+Inccn-Inccc-Icccn)) +
<a name="l07501"></a>07501         dy*(Icncc-Icccc +
<a name="l07502"></a>07502             dz*(Icccc+Icnnc-Iccnc-Icncc +
<a name="l07503"></a>07503                 dv*(Icccn+Icnnn+Iccnc+Icncc-Iccnn-Icncn-Icccc-Icnnc)) +
<a name="l07504"></a>07504             dv*(Icccc+Icncn-Icncc-Icccn)) +
<a name="l07505"></a>07505         dz*(Iccnc-Icccc +
<a name="l07506"></a>07506             dv*(Icccc+Iccnn-Iccnc-Icccn)) +
<a name="l07507"></a>07507         dv*(Icccn-Icccc);
<a name="l07508"></a>07508     }
<a name="l07509"></a>07509 
<a name="l07510"></a>07510     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#a0048824e103ea2bacefddbef39678a89" title="Read a pixel value using linear interpolation.">linear_pix4d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> ffx,<span class="keyword">const</span> <span class="keywordtype">float</span> ffy=0,<span class="keyword">const</span> <span class="keywordtype">float</span> ffz=0,<span class="keyword">const</span> <span class="keywordtype">float</span> ffv=0)<span class="keyword"> const </span>{
<a name="l07511"></a>07511       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l07512"></a>07512         fx = ffx&lt;0?0:(ffx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:ffx), fy = ffy&lt;0?0:(ffy&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:ffy),
<a name="l07513"></a>07513         fz = ffz&lt;0?0:(ffz&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1:ffz), fv = ffv&lt;0?0:(ffv&gt;dim-1?dim-1:ffv);
<a name="l07514"></a>07514       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (<span class="keywordtype">unsigned</span> int)fx, y = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)fy,  z = (<span class="keywordtype">unsigned</span> int)fz, v = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)fv;
<a name="l07515"></a>07515       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y, dz = fz-z, dv = fv-v;
<a name="l07516"></a>07516       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx = dx&gt;0?x+1:x, ny = dy&gt;0?y+1:y,  nz = dz&gt;0?z+1:z, nv = dv&gt;0?v+1:v;
<a name="l07517"></a>07517       <span class="keyword">const</span> T
<a name="l07518"></a>07518         &amp;Icccc = (*this)(x,y,z,v),   &amp;Inccc = (*<span class="keyword">this</span>)(nx,y,z,v),   &amp;Icncc = (*<span class="keyword">this</span>)(x,ny,z,v),   &amp;Inncc = (*<span class="keyword">this</span>)(nx,ny,z,v),
<a name="l07519"></a>07519         &amp;Iccnc = (*<span class="keyword">this</span>)(x,y,nz,v),  &amp;Incnc = (*<span class="keyword">this</span>)(nx,y,nz,v),  &amp;Icnnc = (*<span class="keyword">this</span>)(x,ny,nz,v),  &amp;Innnc = (*<span class="keyword">this</span>)(nx,ny,nz,v),
<a name="l07520"></a>07520         &amp;Icccn = (*<span class="keyword">this</span>)(x,y,z,nv),  &amp;Inccn = (*<span class="keyword">this</span>)(nx,y,z,nv),  &amp;Icncn = (*<span class="keyword">this</span>)(x,ny,z,nv),  &amp;Inncn = (*<span class="keyword">this</span>)(nx,ny,z,nv),
<a name="l07521"></a>07521         &amp;Iccnn = (*<span class="keyword">this</span>)(x,y,nz,nv), &amp;Incnn = (*<span class="keyword">this</span>)(nx,y,nz,nv), &amp;Icnnn = (*<span class="keyword">this</span>)(x,ny,nz,nv), &amp;Innnn = (*<span class="keyword">this</span>)(nx,ny,nz,nv);
<a name="l07522"></a>07522       <span class="keywordflow">return</span> Icccc +
<a name="l07523"></a>07523         dx*(Inccc-Icccc +
<a name="l07524"></a>07524             dy*(Icccc+Inncc-Icncc-Inccc +
<a name="l07525"></a>07525                 dz*(Iccnc+Innnc+Icncc+Inccc-Icnnc-Incnc-Icccc-Inncc +
<a name="l07526"></a>07526                     dv*(Iccnn+Innnn+Icncn+Inccn+Icnnc+Incnc+Icccc+Inncc-Icnnn-Incnn-Icccn-Inncn-Iccnc-Innnc-Icncc-Inccc)) +
<a name="l07527"></a>07527                 dv*(Icccn+Inncn+Icncc+Inccc-Icncn-Inccn-Icccc-Inncc)) +
<a name="l07528"></a>07528             dz*(Icccc+Incnc-Iccnc-Inccc +
<a name="l07529"></a>07529                 dv*(Icccn+Incnn+Iccnc+Inccc-Iccnn-Inccn-Icccc-Incnc)) +
<a name="l07530"></a>07530             dv*(Icccc+Inccn-Inccc-Icccn)) +
<a name="l07531"></a>07531         dy*(Icncc-Icccc +
<a name="l07532"></a>07532             dz*(Icccc+Icnnc-Iccnc-Icncc +
<a name="l07533"></a>07533                 dv*(Icccn+Icnnn+Iccnc+Icncc-Iccnn-Icncn-Icccc-Icnnc)) +
<a name="l07534"></a>07534             dv*(Icccc+Icncn-Icncc-Icccn)) +
<a name="l07535"></a>07535         dz*(Iccnc-Icccc +
<a name="l07536"></a>07536             dv*(Icccc+Iccnn-Iccnc-Icccn)) +
<a name="l07537"></a>07537         dv*(Icccn-Icccc);
<a name="l07538"></a>07538     }
<a name="l07539"></a>07539 
<a name="l07541"></a>07541 
<a name="l07546"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef">07546</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx,<span class="keyword">const</span> <span class="keywordtype">float</span> fy,<span class="keyword">const</span> <span class="keywordtype">float</span> fz,<span class="keyword">const</span> <span class="keywordtype">int</span> v,
<a name="l07547"></a>07547                                                        <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07548"></a>07548       <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)fx-(fx&gt;=0?0:1), y = (int)fy-(fy&gt;=0?0:1), z = (int)fz-(fz&gt;=0?0:1), nx = x+1, ny = y+1, nz = z+1;
<a name="l07549"></a>07549       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y, dz = fz-z;
<a name="l07550"></a>07550       <span class="keyword">const</span> T
<a name="l07551"></a>07551         Iccc = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x,y,z,v,out_val),  Incc = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(nx,y,z,v,out_val),  Icnc = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x,ny,z,v,out_val),  Innc = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(nx,ny,z,v,out_val),
<a name="l07552"></a>07552         Iccn = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x,y,nz,v,out_val), Incn = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(nx,y,nz,v,out_val), Icnn = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x,ny,nz,v,out_val), Innn = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(nx,ny,nz,v,out_val);
<a name="l07553"></a>07553       <span class="keywordflow">return</span> Iccc +
<a name="l07554"></a>07554         dx*(Incc-Iccc +
<a name="l07555"></a>07555             dy*(Iccc+Innc-Icnc-Incc +
<a name="l07556"></a>07556                 dz*(Iccn+Innn+Icnc+Incc-Icnn-Incn-Iccc-Innc)) +
<a name="l07557"></a>07557             dz*(Iccc+Incn-Iccn-Incc)) +
<a name="l07558"></a>07558         dy*(Icnc-Iccc +
<a name="l07559"></a>07559             dz*(Iccc+Icnn-Iccn-Icnc)) +
<a name="l07560"></a>07560         dz*(Iccn-Iccc);
<a name="l07561"></a>07561     }
<a name="l07562"></a>07562 
<a name="l07563"></a>07563     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> ffx,<span class="keyword">const</span> <span class="keywordtype">float</span> ffy=0,<span class="keyword">const</span> <span class="keywordtype">float</span> ffz=0,<span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07564"></a>07564       <span class="keyword">const</span> <span class="keywordtype">float</span> fx = ffx&lt;0?0:(ffx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:ffx), fy = ffy&lt;0?0:(ffy&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:ffy), fz = ffz&lt;0?0:(ffz&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1:ffz);
<a name="l07565"></a>07565       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (<span class="keywordtype">unsigned</span> int)fx, y = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)fy, z = (<span class="keywordtype">unsigned</span> int)fz;
<a name="l07566"></a>07566       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y, dz = fz-z;
<a name="l07567"></a>07567       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx = dx&gt;0?x+1:x, ny = dy&gt;0?y+1:y, nz = dz&gt;0?z+1:z;
<a name="l07568"></a>07568       <span class="keyword">const</span> T
<a name="l07569"></a>07569         &amp;Iccc = (*this)(x,y,z,v),  &amp;Incc = (*<span class="keyword">this</span>)(nx,y,z,v),  &amp;Icnc = (*<span class="keyword">this</span>)(x,ny,z,v),  &amp;Innc = (*<span class="keyword">this</span>)(nx,ny,z,v),
<a name="l07570"></a>07570         &amp;Iccn = (*<span class="keyword">this</span>)(x,y,nz,v), &amp;Incn = (*<span class="keyword">this</span>)(nx,y,nz,v), &amp;Icnn = (*<span class="keyword">this</span>)(x,ny,nz,v), &amp;Innn = (*<span class="keyword">this</span>)(nx,ny,nz,v);
<a name="l07571"></a>07571       <span class="keywordflow">return</span> Iccc +
<a name="l07572"></a>07572         dx*(Incc-Iccc +
<a name="l07573"></a>07573             dy*(Iccc+Innc-Icnc-Incc +
<a name="l07574"></a>07574                 dz*(Iccn+Innn+Icnc+Incc-Icnn-Incn-Iccc-Innc)) +
<a name="l07575"></a>07575             dz*(Iccc+Incn-Iccn-Incc)) +
<a name="l07576"></a>07576         dy*(Icnc-Iccc +
<a name="l07577"></a>07577             dz*(Iccc+Icnn-Iccn-Icnc)) +
<a name="l07578"></a>07578         dz*(Iccn-Iccc);
<a name="l07579"></a>07579     }
<a name="l07580"></a>07580 
<a name="l07582"></a>07582 
<a name="l07587"></a><a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e">07587</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx, <span class="keyword">const</span> <span class="keywordtype">float</span> fy, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v,
<a name="l07588"></a>07588                                                        <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07589"></a>07589       <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)fx-(fx&gt;0?0:1), y = (int)fy-(fy&gt;0?0:1), nx = x+1, ny = y+1;
<a name="l07590"></a>07590       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y;
<a name="l07591"></a>07591       <span class="keyword">const</span> T
<a name="l07592"></a>07592         Icc = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,y,z,v,out_val),  Inc = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,y,z,v,out_val),
<a name="l07593"></a>07593         Icn = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,ny,z,v,out_val), Inn = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,ny,z,v,out_val);
<a name="l07594"></a>07594       <span class="keywordflow">return</span> Icc + dx*(Inc-Icc + dy*(Icc+Inn-Icn-Inc)) + dy*(Icn-Icc);
<a name="l07595"></a>07595     }
<a name="l07596"></a>07596 
<a name="l07597"></a>07597     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> ffx, <span class="keyword">const</span> <span class="keywordtype">float</span> ffy=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07598"></a>07598       <span class="keyword">const</span> <span class="keywordtype">float</span> fx = ffx&lt;0?0:(ffx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:ffx), fy = ffy&lt;0?0:(ffy&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:ffy);
<a name="l07599"></a>07599       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (<span class="keywordtype">unsigned</span> int)fx, y = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)fy;
<a name="l07600"></a>07600       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y;
<a name="l07601"></a>07601       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx = dx&gt;0?x+1:x, ny = dy&gt;0?y+1:y;
<a name="l07602"></a>07602       <span class="keyword">const</span> T &amp;Icc = (*this)(x,y,z,v), &amp;Inc = (*<span class="keyword">this</span>)(nx,y,z,v), &amp;Icn = (*<span class="keyword">this</span>)(x,ny,z,v), &amp;Inn = (*<span class="keyword">this</span>)(nx,ny,z,v);
<a name="l07603"></a>07603       <span class="keywordflow">return</span> Icc + dx*(Inc-Icc + dy*(Icc+Inn-Icn-Inc)) + dy*(Icn-Icc);
<a name="l07604"></a>07604     }
<a name="l07605"></a>07605 
<a name="l07607"></a>07607 
<a name="l07612"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa15ba9c9b711964f50f326991e47040f">07612</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#aa15ba9c9b711964f50f326991e47040f" title="Read a pixel value using linear interpolation for the first coordinate cx.">linear_pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z,<span class="keyword">const</span> <span class="keywordtype">int</span> v,
<a name="l07613"></a>07613                                                        <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07614"></a>07614       <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)fx-(fx&gt;0?0:1), nx = x+1;
<a name="l07615"></a>07615       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x;
<a name="l07616"></a>07616       <span class="keyword">const</span> T Ic = <a class="code" href="structcimg__library_1_1_c_img.html#ab5ef0ea3ac3076504ff33c098abd27ab" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the first coordinate x...">pix1d</a>(x,y,z,v,out_val), In = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,y,z,v,out_val);
<a name="l07617"></a>07617       <span class="keywordflow">return</span> Ic + dx*(In-Ic);
<a name="l07618"></a>07618     }
<a name="l07619"></a>07619 
<a name="l07620"></a>07620     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#aa15ba9c9b711964f50f326991e47040f" title="Read a pixel value using linear interpolation for the first coordinate cx.">linear_pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> ffx,<span class="keyword">const</span> <span class="keywordtype">int</span> y=0,<span class="keyword">const</span> <span class="keywordtype">int</span> z=0,<span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07621"></a>07621       <span class="keyword">const</span> <span class="keywordtype">float</span> fx = ffx&lt;0?0:(ffx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:ffx);
<a name="l07622"></a>07622       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (<span class="keywordtype">unsigned</span> int)fx;
<a name="l07623"></a>07623       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x;
<a name="l07624"></a>07624       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx = dx&gt;0?x+1:x;
<a name="l07625"></a>07625       <span class="keyword">const</span> T &amp;Ic = (*this)(x,y,z,v), &amp;In = (*<span class="keyword">this</span>)(nx,y,z,v);
<a name="l07626"></a>07626       <span class="keywordflow">return</span> Ic + dx*(In-Ic);
<a name="l07627"></a>07627     }
<a name="l07628"></a>07628 
<a name="l07629"></a>07629     <span class="comment">// This function is used as a subroutine for cubic interpolation</span>
<a name="l07630"></a>07630     <span class="keyword">static</span> <span class="keywordtype">float</span> _cubic_R(<span class="keyword">const</span> <span class="keywordtype">float</span> x) {
<a name="l07631"></a>07631       <span class="keyword">const</span> <span class="keywordtype">float</span> xp2 = x+2, xp1 = x+1, xm1 = x-1,
<a name="l07632"></a>07632         nxp2 = xp2&gt;0?xp2:0, nxp1 = xp1&gt;0?xp1:0, nx = x&gt;0?x:0, nxm1 = xm1&gt;0?xm1:0;
<a name="l07633"></a>07633       <span class="keywordflow">return</span> (nxp2*nxp2*nxp2 - 4*nxp1*nxp1*nxp1 + 6*nx*nx*nx - 4*nxm1*nxm1*nxm1)/6.0f;
<a name="l07634"></a>07634     }
<a name="l07635"></a>07635 
<a name="l07637"></a>07637 
<a name="l07642"></a><a class="code" href="structcimg__library_1_1_c_img.html#abd46668b4c8326f5bc0c4b6e73c71dd9">07642</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#abd46668b4c8326f5bc0c4b6e73c71dd9" title="Read a pixel value using cubic interpolation for the first coordinate cx.">cubic_pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v,
<a name="l07643"></a>07643                                                       <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07644"></a>07644       <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)fx-(fx&gt;=0?0:1), px = x-1, nx = x+1, ax = nx+1;
<a name="l07645"></a>07645       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x;
<a name="l07646"></a>07646       <span class="keyword">const</span> T a = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(px,y,z,v,out_val), b = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,y,z,v,out_val), c = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,y,z,v,out_val), d = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(ax,y,z,v,out_val);
<a name="l07647"></a>07647       <span class="keyword">const</span> <span class="keywordtype">float</span> Rxp = _cubic_R(-1-dx), Rxc = _cubic_R(dx), Rxn = _cubic_R(1-dx), Rxa = _cubic_R(2-dx);
<a name="l07648"></a>07648       <span class="keywordflow">return</span> Rxp*a + Rxc*b + Rxn*c + Rxa*d;
<a name="l07649"></a>07649     }
<a name="l07650"></a>07650 
<a name="l07651"></a>07651     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#abd46668b4c8326f5bc0c4b6e73c71dd9" title="Read a pixel value using cubic interpolation for the first coordinate cx.">cubic_pix1d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> pfx, <span class="keyword">const</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07652"></a>07652       <span class="keyword">const</span> <span class="keywordtype">float</span> fx = pfx&lt;0?0:(pfx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:pfx);
<a name="l07653"></a>07653       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (<span class="keywordtype">unsigned</span> int)fx, px = (<span class="keywordtype">int</span>)x-1&gt;=0?x-1:0, nx = x+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>?x+1:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1, ax = nx+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>?nx+1:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1;
<a name="l07654"></a>07654       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x;
<a name="l07655"></a>07655       <span class="keyword">const</span> T&amp; a = (*this)(px,y,z,v), b = (*<span class="keyword">this</span>)(x,y,z,v), c = (*<span class="keyword">this</span>)(nx,y,z,v), d = (*<span class="keyword">this</span>)(ax,y,z,v);
<a name="l07656"></a>07656       <span class="keyword">const</span> <span class="keywordtype">float</span> Rxp = _cubic_R(-1-dx), Rxc = _cubic_R(dx), Rxn = _cubic_R(1-dx), Rxa = _cubic_R(2-dx);
<a name="l07657"></a>07657       <span class="keywordflow">return</span> Rxp*a + Rxc*b + Rxn*c + Rxa*d;
<a name="l07658"></a>07658     }
<a name="l07659"></a>07659 
<a name="l07661"></a>07661 
<a name="l07674"></a><a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce">07674</a>     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> fx, <span class="keyword">const</span> <span class="keywordtype">float</span> fy, <span class="keyword">const</span> <span class="keywordtype">int</span> z, <span class="keyword">const</span> <span class="keywordtype">int</span> v,
<a name="l07675"></a>07675                                                       <span class="keyword">const</span> T&amp; out_val)<span class="keyword"> const </span>{
<a name="l07676"></a>07676       <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l07677"></a>07677         x = (int)fx-(fx&gt;=0?0:1), y = (int)fy-(fy&gt;=0?0:1),
<a name="l07678"></a>07678         px = x-1, nx = x+1, ax = nx+1, py = y-1, ny = y+1, ay = ny+1;
<a name="l07679"></a>07679       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y;
<a name="l07680"></a>07680       <span class="keyword">const</span> T
<a name="l07681"></a>07681         a = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(px,py,z,v,out_val), b = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,py,z,v,out_val), c = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,py,z,v,out_val), d = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(ax,py,z,v,out_val),
<a name="l07682"></a>07682         e = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(px, y,z,v,out_val), f = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x, y,z,v,out_val), g = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx, y,z,v,out_val), h = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(ax, y,z,v,out_val),
<a name="l07683"></a>07683         i = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(px,ny,z,v,out_val), j = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,ny,z,v,out_val), k = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,ny,z,v,out_val), l = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(ax,ny,z,v,out_val),
<a name="l07684"></a>07684         m = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(px,ay,z,v,out_val), n = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(x,ay,z,v,out_val), o = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(nx,ay,z,v,out_val), p = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>(ax,ay,z,v,out_val);
<a name="l07685"></a>07685       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l07686"></a>07686         Rxp = _cubic_R(-1-dx), Rxc = _cubic_R(dx), Rxn = _cubic_R(1-dx), Rxa = _cubic_R(2-dx),
<a name="l07687"></a>07687         Ryp = _cubic_R(dy+1),  Ryc = _cubic_R(dy), Ryn = _cubic_R(dy-1), Rya = _cubic_R(dy-2);
<a name="l07688"></a>07688       <span class="keywordflow">return</span>
<a name="l07689"></a>07689         Rxp*Ryp*a + Rxc*Ryp*b + Rxn*Ryp*c + Rxa*Ryp*d +
<a name="l07690"></a>07690         Rxp*Ryc*e + Rxc*Ryc*f + Rxn*Ryc*g + Rxa*Ryc*h +
<a name="l07691"></a>07691         Rxp*Ryn*i + Rxc*Ryn*j + Rxn*Ryn*k + Rxa*Ryn*l +
<a name="l07692"></a>07692         Rxp*Rya*m + Rxc*Rya*n + Rxn*Rya*o + Rxa*Rya*p;
<a name="l07693"></a>07693     }
<a name="l07694"></a>07694 
<a name="l07695"></a>07695     <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type <a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> pfx, <span class="keyword">const</span> <span class="keywordtype">float</span> pfy=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l07696"></a>07696       <span class="keyword">const</span> <span class="keywordtype">float</span> fx = pfx&lt;0?0:(pfx&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:pfx), fy = pfy&lt;0?0:(pfy&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:pfy);
<a name="l07697"></a>07697       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l07698"></a>07698         x = (<span class="keywordtype">unsigned</span> int)fx,  px = (<span class="keywordtype">int</span>)x-1&gt;=0?x-1:0, nx = x+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>?x+1:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1, ax = nx+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>?nx+1:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,
<a name="l07699"></a>07699         y = (<span class="keywordtype">unsigned</span> int)fy,  py = (<span class="keywordtype">int</span>)y-1&gt;=0?y-1:0, ny = y+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>?y+1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1, ay = ny+1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>?ny+1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1;
<a name="l07700"></a>07700       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = fx-x, dy = fy-y;
<a name="l07701"></a>07701       <span class="keyword">const</span> T&amp;
<a name="l07702"></a>07702         a = (*this)(px,py,z,v), b = (*<span class="keyword">this</span>)(x,py,z,v), c = (*<span class="keyword">this</span>)(nx,py,z,v), d = (*<span class="keyword">this</span>)(ax,py,z,v),
<a name="l07703"></a>07703         e = (*<span class="keyword">this</span>)(px, y,z,v), f = (*<span class="keyword">this</span>)(x, y,z,v), g = (*<span class="keyword">this</span>)(nx, y,z,v), h = (*<span class="keyword">this</span>)(ax, y,z,v),
<a name="l07704"></a>07704         i = (*<span class="keyword">this</span>)(px,ny,z,v), j = (*<span class="keyword">this</span>)(x,ny,z,v), k = (*<span class="keyword">this</span>)(nx,ny,z,v), l = (*<span class="keyword">this</span>)(ax,ny,z,v),
<a name="l07705"></a>07705         m = (*<span class="keyword">this</span>)(px,ay,z,v), n = (*<span class="keyword">this</span>)(x,ay,z,v), o = (*<span class="keyword">this</span>)(nx,ay,z,v), p = (*<span class="keyword">this</span>)(ax,ay,z,v);
<a name="l07706"></a>07706       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l07707"></a>07707         Rxp = _cubic_R(-1-dx), Rxc = _cubic_R(dx), Rxn = _cubic_R(1-dx), Rxa = _cubic_R(2-dx),
<a name="l07708"></a>07708         Ryp = _cubic_R(dy+1),  Ryc = _cubic_R(dy), Ryn = _cubic_R(dy-1), Rya = _cubic_R(dy-2);
<a name="l07709"></a>07709       <span class="keywordflow">return</span>
<a name="l07710"></a>07710         Rxp*Ryp*a + Rxc*Ryp*b + Rxn*Ryp*c + Rxa*Ryp*d +
<a name="l07711"></a>07711         Rxp*Ryc*e + Rxc*Ryc*f + Rxn*Ryc*g + Rxa*Ryc*h +
<a name="l07712"></a>07712         Rxp*Ryn*i + Rxc*Ryn*j + Rxn*Ryn*k + Rxa*Ryn*l +
<a name="l07713"></a>07713         Rxp*Rya*m + Rxc*Rya*n + Rxn*Rya*o + Rxa*Rya*p;
<a name="l07714"></a>07714     }
<a name="l07715"></a>07715 
<a name="l07717"></a>07717 
<a name="l07734"></a><a class="code" href="structcimg__library_1_1_c_img.html#a29c40d60c9eac664831cc2b69839ed6d">07734</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a29c40d60c9eac664831cc2b69839ed6d" title="Display informations about the image on the standard error output.">print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *title=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> print_flag=1)<span class="keyword"> const </span>{
<a name="l07735"></a>07735       std::fprintf(stderr,<span class="stringliteral">&quot;%-8s(this=%p): { size=(%u,%u,%u,%u), data=(%s*)%p (%s)&quot;</span>,
<a name="l07736"></a>07736                    title?title:<span class="stringliteral">&quot;CImg&quot;</span>,(<span class="keywordtype">void</span>*)<span class="keyword">this</span>,
<a name="l07737"></a>07737                    <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),(<span class="keywordtype">void</span>*)<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,
<a name="l07738"></a>07738                    <a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>?<span class="stringliteral">&quot;shared&quot;</span>:<span class="stringliteral">&quot;not shared&quot;</span>);
<a name="l07739"></a>07739       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) { std::fprintf(stderr,<span class="stringliteral">&quot;, [Undefined pixel data] }\n&quot;</span>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l07740"></a>07740       <span class="keywordflow">if</span> (print_flag&gt;=1) {
<a name="l07741"></a>07741         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>);
<a name="l07742"></a>07742         std::fprintf(stderr,<span class="stringliteral">&quot;, min=%g, mean=%g [var=%g], max=%g, pmin=(%d,%d,%d,%d), pmax=(%d,%d,%d,%d)&quot;</span>,
<a name="l07743"></a>07743                      st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#ac61933e9e2c8c03bac2d646677f615d0" title="Mean of the pixel values.">mean</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4ef359f7eddf2f3484ec94ab17e2c58b" title="Variance of the pixel values.">variance</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#acedddd76cb46fd910cc38cde9b964fdd" title="X-coordinate of the pixel with minimum value.">xmin</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#aac1ca515a4699cd326bc25bff0b332ce" title="Y-coordinate of the pixel with minimum value.">ymin</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a7218b7bffd90b87182bd774e6c1b1020" title="Z-coordinate of the pixel with minimum value.">zmin</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a911364d1c5e7112a71e56ba5877ed067" title="V-coordinate of the pixel with minimum value.">vmin</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a4da83f0f56ebb3992c46d49b271b15ce" title="X-coordinate of the pixel with maximum value.">xmax</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a5e6a1e7b39bc13798bb3ef23dd17a5fa" title="Y-coordinate of the pixel with maximum value.">ymax</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#acca3ac56991475445b68d6c6d5f252e6" title="Z-coordinate of the pixel with maximum value.">zmax</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#ae194d7a61fecbb51c5897f9542f988ed" title="V-coordinate of the pixel with maximum value.">vmax</a>);
<a name="l07744"></a>07744       }
<a name="l07745"></a>07745       <span class="keywordflow">if</span> (print_flag&gt;=2 || <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;=16) {
<a name="l07746"></a>07746         std::fprintf(stderr,<span class="stringliteral">&quot; }\n%s = [ &quot;</span>,title?title:<span class="stringliteral">&quot;data&quot;</span>);
<a name="l07747"></a>07747         cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,k)
<a name="l07748"></a>07748           std::fprintf(stderr,<span class="stringliteral">&quot;%g%s&quot;</span>,(<span class="keywordtype">double</span>)(*<span class="keyword">this</span>)(x,y,z,k),
<a name="l07749"></a>07749                        ((x+1)*(y+1)*(z+1)*(k+1)==(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()?<span class="stringliteral">&quot; ]\n&quot;</span>:(((x+1)%<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==0)?<span class="stringliteral">&quot; ; &quot;</span>:<span class="stringliteral">&quot; &quot;</span>)));
<a name="l07750"></a>07750       } <span class="keywordflow">else</span> std::fprintf(stderr,<span class="stringliteral">&quot; }\n&quot;</span>);
<a name="l07751"></a>07751       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07752"></a>07752     }
<a name="l07753"></a>07753 
<a name="l07755"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5ac80140c655fc7da457a2a537fde409">07755</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5ac80140c655fc7da457a2a537fde409" title="Display informations about the image on the standart output.">print</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> print_flag)<span class="keyword"> const </span>{
<a name="l07756"></a>07756       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a29c40d60c9eac664831cc2b69839ed6d" title="Display informations about the image on the standard error output.">print</a>(0,print_flag);
<a name="l07757"></a>07757     }
<a name="l07758"></a>07758 
<a name="l07760"></a>07760     <span class="comment">//------------------------------------------</span>
<a name="l07761"></a>07761     <span class="comment">//</span>
<a name="l07763"></a>07763 <span class="comment"></span>
<a name="l07764"></a>07764     <span class="comment">//------------------------------------------</span>
<a name="l07765"></a>07765 
<a name="l07767"></a>07767 
<a name="l07774"></a><a class="code" href="structcimg__library_1_1_c_img.html#af1cb9c09fa1e6501b8ccb5dbdd32a54f">07774</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af1cb9c09fa1e6501b8ccb5dbdd32a54f" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l07775"></a>07775       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img);
<a name="l07776"></a>07776     }
<a name="l07777"></a>07777 
<a name="l07778"></a>07778     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af1cb9c09fa1e6501b8ccb5dbdd32a54f" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l07779"></a>07779       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img);
<a name="l07780"></a>07780     }
<a name="l07781"></a>07781 
<a name="l07783"></a>07783 
<a name="l07796"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1408f736e379c076759744a159370ff1">07796</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1408f736e379c076759744a159370ff1" title="Assign values of a C-array to the instance image.">operator=</a>(<span class="keyword">const</span> T *buf) {
<a name="l07797"></a>07797       <span class="keywordflow">if</span> (buf) std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,buf,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()*<span class="keyword">sizeof</span>(T));
<a name="l07798"></a>07798       <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l07799"></a>07799       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07800"></a>07800     }
<a name="l07801"></a>07801 
<a name="l07803"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1ef1b67d7211dda9186812e3da772cf0">07803</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1ef1b67d7211dda9186812e3da772cf0" title="Assign a value to each image pixel of the instance image.">operator=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07804"></a>07804       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val);
<a name="l07805"></a>07805     }
<a name="l07806"></a>07806 
<a name="l07808"></a>07808 
<a name="l07812"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa5d24dd9c504c68edc035fded5d0f42d">07812</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa5d24dd9c504c68edc035fded5d0f42d" title="Operator+.">operator+</a>()<span class="keyword"> const </span>{
<a name="l07813"></a>07813       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l07814"></a>07814     }
<a name="l07815"></a>07815 
<a name="l07817"></a>07817 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l07818"></a>07818 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a72daf1aaba633138c391e292de401552" title="Operator+=;.">operator+=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07819"></a>07819 <span class="preprocessor">#else</span>
<a name="l07820"></a><a class="code" href="structcimg__library_1_1_c_img.html#a72daf1aaba633138c391e292de401552">07820</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a72daf1aaba633138c391e292de401552" title="Operator+=;.">operator+=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l07821"></a>07821 <span class="preprocessor">#endif</span>
<a name="l07822"></a>07822 <span class="preprocessor"></span>      cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)((*ptr)+val);
<a name="l07823"></a>07823       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07824"></a>07824     }
<a name="l07825"></a>07825 
<a name="l07827"></a><a class="code" href="structcimg__library_1_1_c_img.html#a80d0cb2baa4011d66092737ff5193805">07827</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a80d0cb2baa4011d66092737ff5193805" title="Operator+=.">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l07828"></a>07828       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07829"></a>07829       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin;
<a name="l07830"></a>07830       <span class="keywordflow">for</span> (T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; --ptrd, (*ptrd)=(T)((*ptrd)+(*(--ptrs))));
<a name="l07831"></a>07831       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07832"></a>07832     }
<a name="l07833"></a>07833 
<a name="l07835"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2f9edea59a865e87f700a1bee8ba0622">07835</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2f9edea59a865e87f700a1bee8ba0622" title="Operator++;.">operator++</a>() {
<a name="l07836"></a>07836       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)++;
<a name="l07837"></a>07837       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07838"></a>07838     }
<a name="l07839"></a>07839 
<a name="l07841"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2ed997930f52f369b422bedc6c56cc9c">07841</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2ed997930f52f369b422bedc6c56cc9c" title="Operator-.">operator-</a>()<span class="keyword"> const </span>{
<a name="l07842"></a>07842       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,0)-=*<span class="keyword">this</span>;
<a name="l07843"></a>07843     }
<a name="l07844"></a>07844 
<a name="l07846"></a>07846 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l07847"></a>07847 <span class="preprocessor"></span>        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af38ca9949458261c2dcfec52cf355b36" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07848"></a>07848 <span class="preprocessor">#else</span>
<a name="l07849"></a><a class="code" href="structcimg__library_1_1_c_img.html#af38ca9949458261c2dcfec52cf355b36">07849</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af38ca9949458261c2dcfec52cf355b36" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l07850"></a>07850 <span class="preprocessor">#endif</span>
<a name="l07851"></a>07851 <span class="preprocessor"></span>                cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)((*ptr)-val);
<a name="l07852"></a>07852       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07853"></a>07853     }
<a name="l07854"></a>07854 
<a name="l07856"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3c221210ff5ba75e6a4f761dfb11db7f">07856</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3c221210ff5ba75e6a4f761dfb11db7f" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l07857"></a>07857       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07858"></a>07858       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin;
<a name="l07859"></a>07859       <span class="keywordflow">for</span> (T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; --ptrd, (*ptrd)=(T)((*ptrd)-(*(--ptrs))));
<a name="l07860"></a>07860       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07861"></a>07861     }
<a name="l07862"></a>07862 
<a name="l07864"></a><a class="code" href="structcimg__library_1_1_c_img.html#a312219826827d9125d3a06a9d78121bc">07864</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a312219826827d9125d3a06a9d78121bc" title="Operator--.">operator--</a>() {
<a name="l07865"></a>07865       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)--;
<a name="l07866"></a>07866       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07867"></a>07867     }
<a name="l07868"></a>07868 
<a name="l07870"></a>07870 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l07871"></a>07871 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac792a92308c97086185e652c5469dcfd" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l07872"></a>07872 <span class="preprocessor">#else</span>
<a name="l07873"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac792a92308c97086185e652c5469dcfd">07873</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac792a92308c97086185e652c5469dcfd" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l07874"></a>07874 <span class="preprocessor">#endif</span>
<a name="l07875"></a>07875 <span class="preprocessor"></span>                cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)((*ptr)*val);
<a name="l07876"></a>07876       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07877"></a>07877     }
<a name="l07878"></a>07878 
<a name="l07880"></a><a class="code" href="structcimg__library_1_1_c_img.html#a62006865196bcde56285a8e5c85d7185">07880</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a62006865196bcde56285a8e5c85d7185" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l07881"></a>07881       <span class="keywordflow">return</span> ((*<span class="keyword">this</span>)*img).swap(*<span class="keyword">this</span>);
<a name="l07882"></a>07882     }
<a name="l07883"></a>07883 
<a name="l07885"></a>07885 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l07886"></a>07886 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a263b5911f1baa72ca1d08cfde5cd8937" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l07887"></a>07887 <span class="preprocessor">#else</span>
<a name="l07888"></a><a class="code" href="structcimg__library_1_1_c_img.html#a263b5911f1baa72ca1d08cfde5cd8937">07888</a> <span class="preprocessor"></span>    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a263b5911f1baa72ca1d08cfde5cd8937" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l07889"></a>07889 <span class="preprocessor">#endif</span>
<a name="l07890"></a>07890 <span class="preprocessor"></span>                cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)((*ptr)/val);
<a name="l07891"></a>07891       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07892"></a>07892     }
<a name="l07893"></a>07893 
<a name="l07895"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa1b9abd715acaf687dcfd95946ba3734">07895</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa1b9abd715acaf687dcfd95946ba3734" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l07896"></a>07896       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(*<span class="keyword">this</span>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a291873d1a51e08889cdc40c933863790" title="Return the inverse of the current matrix.">get_inverse</a>());
<a name="l07897"></a>07897     }
<a name="l07898"></a>07898 
<a name="l07900"></a><a class="code" href="structcimg__library_1_1_c_img.html#a785881da78aec90b6c91e32c472066de">07900</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a785881da78aec90b6c91e32c472066de" title="Modulo.">operator%</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07901"></a>07901       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)%=img;
<a name="l07902"></a>07902     }
<a name="l07903"></a>07903 
<a name="l07905"></a><a class="code" href="structcimg__library_1_1_c_img.html#aafbc4f1ab811546a85364618608eebfc">07905</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aafbc4f1ab811546a85364618608eebfc" title="Modulo.">operator%</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l07906"></a>07906       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)%=val;
<a name="l07907"></a>07907     }
<a name="l07908"></a>07908 
<a name="l07910"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac44cf1f894565de9abc1cc4b9c079d81">07910</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac44cf1f894565de9abc1cc4b9c079d81" title="In-place modulo.">operator%=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07911"></a>07911       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)%=val;
<a name="l07912"></a>07912       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07913"></a>07913     }
<a name="l07914"></a>07914 
<a name="l07916"></a><a class="code" href="structcimg__library_1_1_c_img.html#af1679df622f0e3f10f466f388738115c">07916</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af1679df622f0e3f10f466f388738115c" title="In-place modulo.">operator%=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l07917"></a>07917       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07918"></a>07918       <span class="keywordflow">for</span> (T *ptrs=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin, *ptrd=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; *(--ptrd)%=*(--ptrs));
<a name="l07919"></a>07919       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07920"></a>07920     }
<a name="l07921"></a>07921 
<a name="l07923"></a><a class="code" href="structcimg__library_1_1_c_img.html#afb450ef2f3ba234cec9ae65d84a2566d">07923</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#afb450ef2f3ba234cec9ae65d84a2566d" title="Bitwise AND.">operator&amp;</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07924"></a>07924       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)&amp;=img;
<a name="l07925"></a>07925     }
<a name="l07926"></a>07926 
<a name="l07928"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0b97c5531a68f17780c3bccfa1f1f2dc">07928</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0b97c5531a68f17780c3bccfa1f1f2dc" title="Bitwise AND.">operator&amp;</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l07929"></a>07929       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)&amp;=val;
<a name="l07930"></a>07930     }
<a name="l07931"></a>07931 
<a name="l07933"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac046c33b6c97f1d97c8e2907ce478b76">07933</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac046c33b6c97f1d97c8e2907ce478b76" title="In-place bitwise AND.">operator&amp;=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l07934"></a>07934       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07935"></a>07935       <span class="keywordflow">for</span> (T *ptrs=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin, *ptrd=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; *(--ptrd)&amp;=*(--ptrs));
<a name="l07936"></a>07936       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07937"></a>07937     }
<a name="l07938"></a>07938 
<a name="l07940"></a><a class="code" href="structcimg__library_1_1_c_img.html#afc5a1bb8c474c74acbb1cccb0772b363">07940</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#afc5a1bb8c474c74acbb1cccb0772b363" title="In-place bitwise AND.">operator&amp;=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07941"></a>07941       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)&amp;=val;
<a name="l07942"></a>07942       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07943"></a>07943     }
<a name="l07944"></a>07944 
<a name="l07946"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3de391094871b494caffd40dcedbebb0">07946</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3de391094871b494caffd40dcedbebb0" title="Bitwise OR.">operator|</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07947"></a>07947       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)|=img;
<a name="l07948"></a>07948     }
<a name="l07949"></a>07949 
<a name="l07951"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6c694fe3eaca0e0ebd6ea53525a4b2f1">07951</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a6c694fe3eaca0e0ebd6ea53525a4b2f1" title="Bitwise OR.">operator|</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l07952"></a>07952       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)|=val;
<a name="l07953"></a>07953     }
<a name="l07954"></a>07954 
<a name="l07956"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7bd236972197eab7472b0e3a8bb11b2a">07956</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7bd236972197eab7472b0e3a8bb11b2a" title="In-place bitwise OR.">operator|=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l07957"></a>07957       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07958"></a>07958       <span class="keywordflow">for</span> (T *ptrs=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin, *ptrd=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; *(--ptrd)|=*(--ptrs));
<a name="l07959"></a>07959       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07960"></a>07960     }
<a name="l07961"></a>07961 
<a name="l07963"></a><a class="code" href="structcimg__library_1_1_c_img.html#a882cfef8c5a370648a72037392e79335">07963</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a882cfef8c5a370648a72037392e79335" title="In-place bitwise OR.">operator|=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07964"></a>07964       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)|=val;
<a name="l07965"></a>07965       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07966"></a>07966     }
<a name="l07967"></a>07967 
<a name="l07969"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4ed241bd9ea732604d741ea1659271df">07969</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4ed241bd9ea732604d741ea1659271df" title="Bitwise XOR.">operator^</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l07970"></a>07970       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)^=img;
<a name="l07971"></a>07971     }
<a name="l07972"></a>07972 
<a name="l07974"></a><a class="code" href="structcimg__library_1_1_c_img.html#a454879b224b0eee2e9f1ca2109fa2198">07974</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a454879b224b0eee2e9f1ca2109fa2198" title="Bitwise XOR.">operator^</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l07975"></a>07975       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)^=val;
<a name="l07976"></a>07976     }
<a name="l07977"></a>07977 
<a name="l07979"></a><a class="code" href="structcimg__library_1_1_c_img.html#a50aff90f67a68a122c8ba56895d030d7">07979</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a50aff90f67a68a122c8ba56895d030d7" title="In-place bitwise XOR.">operator^=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l07980"></a>07980       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> smin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l07981"></a>07981       <span class="keywordflow">for</span> (T *ptrs=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin, *ptrd=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+smin; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; *(--ptrd)^=*(--ptrs));
<a name="l07982"></a>07982       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07983"></a>07983     }
<a name="l07984"></a>07984 
<a name="l07986"></a><a class="code" href="structcimg__library_1_1_c_img.html#a76474dd94d34621417cf7fae5acc3d28">07986</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a76474dd94d34621417cf7fae5acc3d28" title="In-place bitwise XOR.">operator^=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l07987"></a>07987       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)^=val;
<a name="l07988"></a>07988       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l07989"></a>07989     }
<a name="l07990"></a>07990 
<a name="l07992"></a><a class="code" href="structcimg__library_1_1_c_img.html#abdbaf66d7a237258a71ea68a5ed5b9f9">07992</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#abdbaf66d7a237258a71ea68a5ed5b9f9" title="Boolean NOT.">operator!</a>()<span class="keyword"> const </span>{
<a name="l07993"></a>07993       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l07994"></a>07994       <span class="keyword">const</span> T *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>();
<a name="l07995"></a>07995       cimg_for(res,ptrd,T) *ptrd=!(*(--ptrs));
<a name="l07996"></a>07996       <span class="keywordflow">return</span> res;
<a name="l07997"></a>07997     }
<a name="l07998"></a>07998 
<a name="l08000"></a><a class="code" href="structcimg__library_1_1_c_img.html#af4801dff82c4ebdb6bed81846f8536c7">08000</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#af4801dff82c4ebdb6bed81846f8536c7" title="Bitwise NOT.">operator~</a>()<span class="keyword"> const </span>{
<a name="l08001"></a>08001       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l08002"></a>08002       <span class="keyword">const</span> T *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>();
<a name="l08003"></a>08003       cimg_for(res,ptrd,T) *ptrd=~(*(--ptrs));
<a name="l08004"></a>08004       <span class="keywordflow">return</span> res;
<a name="l08005"></a>08005     }
<a name="l08006"></a>08006 
<a name="l08008"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad66d92a01ce306cff329b7ed6f7e47ac">08008</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad66d92a01ce306cff329b7ed6f7e47ac" title="Bitwise shift.">operator&lt;&lt;=</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) {
<a name="l08009"></a>08009       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)&lt;&lt;=n;
<a name="l08010"></a>08010       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08011"></a>08011     }
<a name="l08012"></a>08012 
<a name="l08014"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9e8c9b50cae2630eae032a83701d97ee">08014</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9e8c9b50cae2630eae032a83701d97ee" title="Bitwise shift.">operator&lt;&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n)<span class="keyword"> const </span>{
<a name="l08015"></a>08015       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)&lt;&lt;=n;
<a name="l08016"></a>08016     }
<a name="l08017"></a>08017 
<a name="l08019"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad96640cd39cbff8794f1b0428de55221">08019</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad96640cd39cbff8794f1b0428de55221" title="Bitwise shift.">operator&gt;&gt;=</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) {
<a name="l08020"></a>08020       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)&gt;&gt;=n;
<a name="l08021"></a>08021       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08022"></a>08022     }
<a name="l08023"></a>08023 
<a name="l08025"></a><a class="code" href="structcimg__library_1_1_c_img.html#af1e8abcda51fe611c586d556bf639d0f">08025</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#af1e8abcda51fe611c586d556bf639d0f" title="Bitwise shift.">operator&gt;&gt;</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n)<span class="keyword"> const </span>{
<a name="l08026"></a>08026       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>)&gt;&gt;=n;
<a name="l08027"></a>08027     }
<a name="l08028"></a>08028 
<a name="l08030"></a><a class="code" href="structcimg__library_1_1_c_img.html#aea7cfd6473a1ccee5232957deac28ef7">08030</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#aea7cfd6473a1ccee5232957deac28ef7" title="Boolean equality.">operator==</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08031"></a>08031       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l08032"></a>08032       <span class="keywordtype">bool</span> vequal = <span class="keyword">true</span>;
<a name="l08033"></a>08033       <span class="keywordflow">if</span> (siz!=img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l08034"></a>08034       t *ptrs=img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+siz;
<a name="l08035"></a>08035       <span class="keywordflow">for</span> (T *ptrd=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+siz; vequal &amp;&amp; ptrd&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; vequal=vequal&amp;&amp;((*(--ptrd))==(*(--ptrs))));
<a name="l08036"></a>08036       <span class="keywordflow">return</span> vequal;
<a name="l08037"></a>08037     }
<a name="l08038"></a>08038 
<a name="l08040"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1c258cd12c9aa1fd13fa08887fd1d9fc">08040</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1c258cd12c9aa1fd13fa08887fd1d9fc" title="Boolean difference.">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08041"></a>08041       <span class="keywordflow">return</span> !((*this)==img);
<a name="l08042"></a>08042     }
<a name="l08043"></a>08043 
<a name="l08045"></a><a class="code" href="structcimg__library_1_1_c_img.html#a45c6cac66b9acc20ab807868517c5ee8">08045</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; operator&lt;&lt;(const CImg&lt;t&gt;&amp; img) <span class="keyword">const</span> {
<a name="l08046"></a>08046       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l08047"></a>08047       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*<span class="keyword">this</span>,img);
<a name="l08048"></a>08048     }
<a name="l08049"></a>08049 
<a name="l08051"></a>08051     <span class="comment">//---------------------------------------</span>
<a name="l08052"></a>08052     <span class="comment">//</span>
<a name="l08054"></a>08054 <span class="comment"></span>
<a name="l08055"></a>08055     <span class="comment">//---------------------------------------</span>
<a name="l08056"></a>08056 
<a name="l08058"></a><a class="code" href="structcimg__library_1_1_c_img.html#a553c00244788179a44e48609e1d24129">08058</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ts, <span class="keyword">typename</span> td&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a553c00244788179a44e48609e1d24129" title="Apply a R-&amp;gt;R function on all image value.">apply</a>(td (*func)(ts)) {
<a name="l08059"></a>08059       cimg_for(*<span class="keyword">this</span>,ptr,T) *ptr = (T)func(*ptr);
<a name="l08060"></a>08060       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08061"></a>08061     }
<a name="l08062"></a>08062 
<a name="l08064"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9c1eba2852aa02dbd5ab1827722dd16d">08064</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ts, <span class="keyword">typename</span> td&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,td&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a9c1eba2852aa02dbd5ab1827722dd16d" title="Return an image where each pixel value is equal to func(x).">get_apply</a>(td (*func)(ts)) {
<a name="l08065"></a>08065       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,td&gt;::type restype;
<a name="l08066"></a>08066       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a553c00244788179a44e48609e1d24129" title="Apply a R-&amp;gt;R function on all image value.">apply</a>(func);
<a name="l08067"></a>08067     }
<a name="l08068"></a>08068 
<a name="l08070"></a>08070 
<a name="l08074"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab48fffcb6d99d69f36246f87e3f163ea">08074</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ab48fffcb6d99d69f36246f87e3f163ea" title="In-place pointwise multiplication between *this and img.">mul</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l08075"></a>08075       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l08076"></a>08076       T *ptrf = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l08077"></a>08077       <span class="keywordflow">for</span> (T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptrd&lt;ptrf; ptrd++) (*ptrd)=(T)(*ptrd*(*(ptrs++)));
<a name="l08078"></a>08078       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08079"></a>08079     }
<a name="l08080"></a>08080 
<a name="l08082"></a>08082 
<a name="l08087"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7fdedeb6e1f6a0ae86336ac371a09a7c">08087</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a7fdedeb6e1f6a0ae86336ac371a09a7c" title="Pointwise multiplication between *this and img.">get_mul</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08088"></a>08088       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l08089"></a>08089       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ab48fffcb6d99d69f36246f87e3f163ea" title="In-place pointwise multiplication between *this and img.">mul</a>(img);
<a name="l08090"></a>08090     }
<a name="l08091"></a>08091 
<a name="l08093"></a>08093 
<a name="l08097"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1e4805fd1add88e96a5acd42d3fcc2e9">08097</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1e4805fd1add88e96a5acd42d3fcc2e9" title="Replace the image by the pointwise division between *this and img.">div</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l08098"></a>08098       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l08099"></a>08099       T *ptrf = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l08100"></a>08100       <span class="keywordflow">for</span> (T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptrd&lt;ptrf; ptrd++) (*ptrd)=(T)(*ptrd/(*(ptrs++)));
<a name="l08101"></a>08101       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08102"></a>08102     }
<a name="l08103"></a>08103 
<a name="l08105"></a>08105 
<a name="l08111"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1b20ed28e7cbbea39f0048a0960257c1">08111</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a1b20ed28e7cbbea39f0048a0960257c1" title="Return an image from a pointwise division between *this and img.">get_div</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08112"></a>08112       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l08113"></a>08113       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a1e4805fd1add88e96a5acd42d3fcc2e9" title="Replace the image by the pointwise division between *this and img.">div</a>(img);
<a name="l08114"></a>08114     }
<a name="l08115"></a>08115 
<a name="l08117"></a>08117 
<a name="l08121"></a><a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df">08121</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l08122"></a>08122       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l08123"></a>08123       T *ptrf = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l08124"></a>08124       <span class="keywordflow">for</span> (T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptrd&lt;ptrf; ptrd++) (*ptrd)=<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((T)*(ptrs++),*ptrd);
<a name="l08125"></a>08125       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08126"></a>08126     }
<a name="l08127"></a>08127 
<a name="l08129"></a>08129 
<a name="l08133"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab1cdfd82e94aadb1f5181d5c0e035149">08133</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#ab1cdfd82e94aadb1f5181d5c0e035149" title="Return the image corresponding to the max value for each pixel.">get_max</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08134"></a>08134       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l08135"></a>08135       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a>(img);
<a name="l08136"></a>08136     }
<a name="l08137"></a>08137 
<a name="l08139"></a>08139 
<a name="l08143"></a>08143 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l08144"></a>08144 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a>(<span class="keyword">const</span> T val) {
<a name="l08145"></a>08145 <span class="preprocessor">#else</span>
<a name="l08146"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9f9c6b0a3ae1299b44f411aa212adf2a">08146</a> <span class="preprocessor"></span>        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9f9c6b0a3ae1299b44f411aa212adf2a" title="Replace the image by the pointwise max operator between *this and val.">max</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l08147"></a>08147 <span class="preprocessor">#endif</span>
<a name="l08148"></a>08148 <span class="preprocessor"></span>      cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(*ptr,val);
<a name="l08149"></a>08149       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08150"></a>08150     }
<a name="l08151"></a>08151 
<a name="l08153"></a>08153 
<a name="l08157"></a>08157 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l08158"></a>08158 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab1cdfd82e94aadb1f5181d5c0e035149" title="Return the image corresponding to the max value for each pixel.">get_max</a>(<span class="keyword">const</span> T val)<span class="keyword"> const </span>{
<a name="l08159"></a>08159 <span class="preprocessor">#else</span>
<a name="l08160"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1e79da4f5e9530ab639d8991ac264c8e">08160</a> <span class="preprocessor"></span>        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a1e79da4f5e9530ab639d8991ac264c8e" title="Return the image corresponding to the max value for each pixel.">get_max</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l08161"></a>08161 <span class="preprocessor">#endif</span>
<a name="l08162"></a>08162 <span class="preprocessor"></span>      <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a>(val);
<a name="l08163"></a>08163     }
<a name="l08164"></a>08164 
<a name="l08166"></a>08166 
<a name="l08170"></a><a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0">08170</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l08171"></a>08171       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l08172"></a>08172       T *ptrf = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l08173"></a>08173       <span class="keywordflow">for</span> (T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptrd&lt;ptrf; ptrd++) (*ptrd)=<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((T)*(ptrs++),*ptrd);
<a name="l08174"></a>08174       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08175"></a>08175     }
<a name="l08177"></a>08177 
<a name="l08181"></a><a class="code" href="structcimg__library_1_1_c_img.html#a53a47ce31e51e1a0812e5ba25b49c77b">08181</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a53a47ce31e51e1a0812e5ba25b49c77b" title="Return the image corresponding to the min value for each pixel.">get_min</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08182"></a>08182       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l08183"></a>08183       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(img);
<a name="l08184"></a>08184     }
<a name="l08185"></a>08185 
<a name="l08187"></a>08187 
<a name="l08191"></a>08191 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l08192"></a>08192 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(<span class="keyword">const</span> T val) {
<a name="l08193"></a>08193 <span class="preprocessor">#else</span>
<a name="l08194"></a><a class="code" href="structcimg__library_1_1_c_img.html#af0c2954233976adbbf4ff80862d2e455">08194</a> <span class="preprocessor"></span>        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af0c2954233976adbbf4ff80862d2e455" title="Replace the image by the pointwise min operator between *this and val.">min</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l08195"></a>08195 <span class="preprocessor">#endif</span>
<a name="l08196"></a>08196 <span class="preprocessor"></span>      cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(*ptr,val);
<a name="l08197"></a>08197       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08198"></a>08198     }
<a name="l08199"></a>08199 
<a name="l08201"></a>08201 
<a name="l08205"></a>08205 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l08206"></a>08206 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a53a47ce31e51e1a0812e5ba25b49c77b" title="Return the image corresponding to the min value for each pixel.">get_min</a>(<span class="keyword">const</span> T val)<span class="keyword"> const </span>{
<a name="l08207"></a>08207 <span class="preprocessor">#else</span>
<a name="l08208"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7acd104b13e4a30b13aafe1fd01c562c">08208</a> <span class="preprocessor"></span>        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a7acd104b13e4a30b13aafe1fd01c562c" title="Return the image corresponding to the min value for each pixel.">get_min</a>(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l08209"></a>08209 <span class="preprocessor">#endif</span>
<a name="l08210"></a>08210 <span class="preprocessor"></span>      <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(val);
<a name="l08211"></a>08211     }
<a name="l08212"></a>08212 
<a name="l08214"></a>08214 
<a name="l08217"></a><a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37">08217</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">sqrt</a>() {
<a name="l08218"></a>08218       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::sqrt((<span class="keywordtype">double</span>)(*ptr));
<a name="l08219"></a>08219       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08220"></a>08220     }
<a name="l08221"></a>08221 
<a name="l08223"></a>08223 
<a name="l08226"></a><a class="code" href="structcimg__library_1_1_c_img.html#a494d3f79f0d6efb646d28e500745d33c">08226</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a494d3f79f0d6efb646d28e500745d33c" title="Return the image of the square root of the pixel values.">get_sqrt</a>()<span class="keyword"> const </span>{
<a name="l08227"></a>08227       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08228"></a>08228       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">sqrt</a>();
<a name="l08229"></a>08229     }
<a name="l08230"></a>08230 
<a name="l08232"></a><a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3">08232</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">exp</a>() {
<a name="l08233"></a>08233       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::exp((<span class="keywordtype">double</span>)(*ptr));
<a name="l08234"></a>08234       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08235"></a>08235     }
<a name="l08236"></a>08236 
<a name="l08238"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2bccc16ccd3a8c0d36d89bb7d3292c21">08238</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a2bccc16ccd3a8c0d36d89bb7d3292c21" title="Return the image of the exponential of the pixel values.">get_exp</a>()<span class="keyword"> const </span>{
<a name="l08239"></a>08239       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08240"></a>08240       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">exp</a>();
<a name="l08241"></a>08241     }
<a name="l08242"></a>08242 
<a name="l08244"></a>08244 
<a name="l08247"></a><a class="code" href="structcimg__library_1_1_c_img.html#aeddcf36f773b7ec82bd65af9f628184d">08247</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aeddcf36f773b7ec82bd65af9f628184d" title="Replace each image pixel by its log.">log</a>() {
<a name="l08248"></a>08248       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::log((<span class="keywordtype">double</span>)(*ptr));
<a name="l08249"></a>08249       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08250"></a>08250     }
<a name="l08251"></a>08251 
<a name="l08253"></a>08253 
<a name="l08256"></a><a class="code" href="structcimg__library_1_1_c_img.html#a53e730201ad5c9241d9a6773c3e8dba2">08256</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a53e730201ad5c9241d9a6773c3e8dba2" title="Return the image of the log of the pixel values.">get_log</a>()<span class="keyword"> const </span>{
<a name="l08257"></a>08257       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08258"></a>08258       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aeddcf36f773b7ec82bd65af9f628184d" title="Replace each image pixel by its log.">log</a>();
<a name="l08259"></a>08259     }
<a name="l08260"></a>08260 
<a name="l08262"></a>08262 
<a name="l08265"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae3da2a5d00cb920aae818c767989541c">08265</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae3da2a5d00cb920aae818c767989541c" title="Replace each image pixel by its log10.">log10</a>() {
<a name="l08266"></a>08266       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::log10((<span class="keywordtype">double</span>)(*ptr));
<a name="l08267"></a>08267       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08268"></a>08268     }
<a name="l08269"></a>08269 
<a name="l08271"></a>08271 
<a name="l08274"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8821a674a3637957192a39ddfea16439">08274</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a8821a674a3637957192a39ddfea16439" title="Return the image of the log10 of the pixel values.">get_log10</a>()<span class="keyword"> const </span>{
<a name="l08275"></a>08275       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08276"></a>08276       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ae3da2a5d00cb920aae818c767989541c" title="Replace each image pixel by its log10.">log10</a>();
<a name="l08277"></a>08277     }
<a name="l08278"></a>08278 
<a name="l08280"></a>08280 
<a name="l08284"></a><a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340">08284</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">pow</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> p) {
<a name="l08285"></a>08285       <span class="keywordflow">if</span> (p==0) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(1);
<a name="l08286"></a>08286       <span class="keywordflow">if</span> (p==1) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08287"></a>08287       <span class="keywordflow">if</span> (p==2) { cimg_for(*<span class="keyword">this</span>,ptr,T) { <span class="keyword">const</span> T&amp; val = *ptr; *ptr=val*val; } <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l08288"></a>08288       <span class="keywordflow">if</span> (p==3) { cimg_for(*<span class="keyword">this</span>,ptr,T) { <span class="keyword">const</span> T&amp; val = *ptr; *ptr=val*val*val; } <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l08289"></a>08289       <span class="keywordflow">if</span> (p==4) { cimg_for(*<span class="keyword">this</span>,ptr,T) { <span class="keyword">const</span> T&amp; val = *ptr; *ptr=val*val*val*val; } <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l08290"></a>08290       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::pow((<span class="keywordtype">double</span>)(*ptr),p);
<a name="l08291"></a>08291       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08292"></a>08292     }
<a name="l08293"></a>08293 
<a name="l08295"></a>08295 
<a name="l08299"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1d4a1eb3b00043c5bc66705289346426">08299</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a1d4a1eb3b00043c5bc66705289346426" title="Return the image of the square root of the pixel values.">get_pow</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> p)<span class="keyword"> const </span>{
<a name="l08300"></a>08300       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08301"></a>08301       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">pow</a>(p);
<a name="l08302"></a>08302     }
<a name="l08303"></a>08303 
<a name="l08305"></a>08305 
<a name="l08308"></a><a class="code" href="structcimg__library_1_1_c_img.html#adc6088bce27175f0d1ba297a00e73350">08308</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#adc6088bce27175f0d1ba297a00e73350" title="Return each image pixel (*this)(x,y,z,k) by its power by img(x,y,z,k).">pow</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l08309"></a>08309       t *ptrs = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l08310"></a>08310       T *ptrf = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l08311"></a>08311       <span class="keywordflow">for</span> (T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptrd&lt;ptrf; ptrd++) (*ptrd)=(T)std::pow((<span class="keywordtype">double</span>)*ptrd,(double)(*(ptrs++)));
<a name="l08312"></a>08312       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08313"></a>08313     }
<a name="l08314"></a>08314 
<a name="l08316"></a><a class="code" href="structcimg__library_1_1_c_img.html#a705047141ea672c47de36bfe6c767f55">08316</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a705047141ea672c47de36bfe6c767f55" title="Return each image pixel (*this)(x,y,z,k) by its power by img(x,y,z,k).">get_pow</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08317"></a>08317       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08318"></a>08318       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">pow</a>(img);
<a name="l08319"></a>08319     }
<a name="l08320"></a>08320 
<a name="l08322"></a>08322 
<a name="l08325"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0">08325</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">abs</a>() {
<a name="l08326"></a>08326       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(*ptr);
<a name="l08327"></a>08327       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08328"></a>08328     }
<a name="l08329"></a>08329 
<a name="l08331"></a>08331 
<a name="l08334"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac1cbb36d947693c46d4b44d99f354c0d">08334</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#ac1cbb36d947693c46d4b44d99f354c0d" title="Return the image of the absolute value of the pixel values.">get_abs</a>()<span class="keyword"> const </span>{
<a name="l08335"></a>08335       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08336"></a>08336       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">abs</a>();
<a name="l08337"></a>08337     }
<a name="l08338"></a>08338 
<a name="l08340"></a>08340 
<a name="l08343"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8">08343</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">cos</a>() {
<a name="l08344"></a>08344       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::cos((<span class="keywordtype">double</span>)(*ptr));
<a name="l08345"></a>08345       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08346"></a>08346     }
<a name="l08347"></a>08347 
<a name="l08349"></a>08349 
<a name="l08352"></a><a class="code" href="structcimg__library_1_1_c_img.html#a28919568ffb4a97d820bd94ee4f474b0">08352</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a28919568ffb4a97d820bd94ee4f474b0" title="Return the image of the cosinus of the pixel values.">get_cos</a>()<span class="keyword"> const </span>{
<a name="l08353"></a>08353       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08354"></a>08354       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">cos</a>();
<a name="l08355"></a>08355     }
<a name="l08356"></a>08356 
<a name="l08358"></a>08358 
<a name="l08361"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd">08361</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">sin</a>() {
<a name="l08362"></a>08362       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::sin((<span class="keywordtype">double</span>)(*ptr));
<a name="l08363"></a>08363       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08364"></a>08364     }
<a name="l08365"></a>08365 
<a name="l08367"></a>08367 
<a name="l08370"></a><a class="code" href="structcimg__library_1_1_c_img.html#a86e07082afba687d908288b97e8b4c22">08370</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a86e07082afba687d908288b97e8b4c22" title="Return the image of the sinus of the pixel values.">get_sin</a>()<span class="keyword"> const </span>{
<a name="l08371"></a>08371       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08372"></a>08372       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">sin</a>();
<a name="l08373"></a>08373     }
<a name="l08374"></a>08374 
<a name="l08376"></a>08376 
<a name="l08379"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa898115ad56312c0dd33409bf559d69b">08379</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa898115ad56312c0dd33409bf559d69b" title="Replace each image pixel by its tangent.">tan</a>() {
<a name="l08380"></a>08380       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::tan((<span class="keywordtype">double</span>)(*ptr));
<a name="l08381"></a>08381       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08382"></a>08382     }
<a name="l08383"></a>08383 
<a name="l08385"></a>08385 
<a name="l08388"></a><a class="code" href="structcimg__library_1_1_c_img.html#a06cb744b9c5bc08a0a46633856a59933">08388</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a06cb744b9c5bc08a0a46633856a59933" title="Return the image of the tangent of the pixel values.">get_tan</a>()<span class="keyword"> const </span>{
<a name="l08389"></a>08389       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08390"></a>08390       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aa898115ad56312c0dd33409bf559d69b" title="Replace each image pixel by its tangent.">tan</a>();
<a name="l08391"></a>08391     }
<a name="l08392"></a>08392 
<a name="l08394"></a><a class="code" href="structcimg__library_1_1_c_img.html#a97c809dd1e8e6491246f33c033a694d9">08394</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a97c809dd1e8e6491246f33c033a694d9" title="Replace each image pixel by its arc-cosinus.">acos</a>() {
<a name="l08395"></a>08395       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::acos((<span class="keywordtype">double</span>)(*ptr));
<a name="l08396"></a>08396       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08397"></a>08397     }
<a name="l08398"></a>08398 
<a name="l08400"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8c16fb6d49142b2faab18c89da0dd14b">08400</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a8c16fb6d49142b2faab18c89da0dd14b" title="Return the image of the arc-cosinus of the pixel values.">get_acos</a>()<span class="keyword"> const </span>{
<a name="l08401"></a>08401       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08402"></a>08402       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a97c809dd1e8e6491246f33c033a694d9" title="Replace each image pixel by its arc-cosinus.">acos</a>();
<a name="l08403"></a>08403     }
<a name="l08404"></a>08404 
<a name="l08406"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4275abf989c98e113d046b03a55862bb">08406</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a4275abf989c98e113d046b03a55862bb" title="Replace each image pixel by its arc-sinus.">asin</a>() {
<a name="l08407"></a>08407       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::asin((<span class="keywordtype">double</span>)(*ptr));
<a name="l08408"></a>08408       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08409"></a>08409     }
<a name="l08410"></a>08410 
<a name="l08412"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7476e0f8782cb1adefd996a8c17b7625">08412</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a7476e0f8782cb1adefd996a8c17b7625" title="Return the image of the arc-sinus of the pixel values.">get_asin</a>()<span class="keyword"> const </span>{
<a name="l08413"></a>08413       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08414"></a>08414       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a4275abf989c98e113d046b03a55862bb" title="Replace each image pixel by its arc-sinus.">asin</a>();
<a name="l08415"></a>08415     }
<a name="l08416"></a>08416 
<a name="l08418"></a><a class="code" href="structcimg__library_1_1_c_img.html#aeb862973f2dc1409d7f512a6b1451748">08418</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aeb862973f2dc1409d7f512a6b1451748" title="Replace each image pixel by its arc-tangent.">atan</a>() {
<a name="l08419"></a>08419       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)std::atan((<span class="keywordtype">double</span>)(*ptr));
<a name="l08420"></a>08420       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08421"></a>08421     }
<a name="l08422"></a>08422 
<a name="l08424"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab843c3cf46348a9000fda81ce176952a">08424</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#ab843c3cf46348a9000fda81ce176952a" title="Return the image of the arc-tangent of the pixel values.">get_atan</a>()<span class="keyword"> const </span>{
<a name="l08425"></a>08425       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l08426"></a>08426       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aeb862973f2dc1409d7f512a6b1451748" title="Replace each image pixel by its arc-tangent.">atan</a>();
<a name="l08427"></a>08427     }
<a name="l08428"></a>08428 
<a name="l08430"></a>08430 
<a name="l08433"></a><a class="code" href="structcimg__library_1_1_c_img.html#afc1a4ffb591540103f80b06f6a4faf84">08433</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#afc1a4ffb591540103f80b06f6a4faf84" title="Round image values.">round</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> round_type=0) {
<a name="l08434"></a>08434       cimg_for(*<span class="keyword">this</span>,ptr,T) (*ptr)=(T)<a class="code" href="namespacecimg__library_1_1cimg.html#aea674560ff8416d8f1753271865f3d65" title="Return a rounded number.">cimg::round</a>(*ptr,x,round_type);
<a name="l08435"></a>08435       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08436"></a>08436     }
<a name="l08437"></a>08437 
<a name="l08439"></a><a class="code" href="structcimg__library_1_1_c_img.html#a13739baf4ed5d92e03463127a7e14768">08439</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a13739baf4ed5d92e03463127a7e14768" title="Return the image of rounded values.">get_round</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> round_type=0)<span class="keyword"> const </span>{
<a name="l08440"></a>08440       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#afc1a4ffb591540103f80b06f6a4faf84" title="Round image values.">round</a>(x,round_type);
<a name="l08441"></a>08441     }
<a name="l08442"></a>08442 
<a name="l08444"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad13d39c9b399e5dc71435b50ed480402">08444</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad13d39c9b399e5dc71435b50ed480402" title="Return the MSE (Mean-Squared Error) between two images.">MSE</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l08445"></a>08445       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()!=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l08446"></a>08446         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::MSE() : Instance image (%u,%u,%u,%u) and given image (%u,%u,%u,%u) have different dimensions.&quot;</span>,
<a name="l08447"></a>08447                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l08448"></a>08448 
<a name="l08449"></a>08449       <span class="keywordtype">double</span> vMSE = 0;
<a name="l08450"></a>08450       <span class="keyword">const</span> t* ptr2 = img.<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>();
<a name="l08451"></a>08451       cimg_for(*<span class="keyword">this</span>,ptr1,T) {
<a name="l08452"></a>08452         <span class="keyword">const</span> <span class="keywordtype">double</span> diff = (double)*ptr1 - (<span class="keywordtype">double</span>)*(--ptr2);
<a name="l08453"></a>08453         vMSE += diff*diff;
<a name="l08454"></a>08454       }
<a name="l08455"></a>08455       vMSE/=img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l08456"></a>08456       <span class="keywordflow">return</span> vMSE;
<a name="l08457"></a>08457     }
<a name="l08458"></a>08458 
<a name="l08460"></a><a class="code" href="structcimg__library_1_1_c_img.html#a086179764541ce3661720e22ddec26f6">08460</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a086179764541ce3661720e22ddec26f6" title="Return the PSNR between two images.">PSNR</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">double</span> valmax=255.0)<span class="keyword"> const </span>{
<a name="l08461"></a>08461       <span class="keyword">const</span> <span class="keywordtype">double</span> vMSE = <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="structcimg__library_1_1_c_img.html#ad13d39c9b399e5dc71435b50ed480402" title="Return the MSE (Mean-Squared Error) between two images.">MSE</a>(img));
<a name="l08462"></a>08462       <span class="keywordflow">return</span> (vMSE!=0)?(20*<a class="code" href="structcimg__library_1_1_c_img.html#ae3da2a5d00cb920aae818c767989541c" title="Replace each image pixel by its log10.">std::log10</a>(valmax/vMSE)):(<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;double&gt;::max</a>());
<a name="l08463"></a>08463     }
<a name="l08464"></a>08464 
<a name="l08466"></a>08466     <span class="comment">//-----------------------------------</span>
<a name="l08467"></a>08467     <span class="comment">//</span>
<a name="l08469"></a>08469 <span class="comment"></span>
<a name="l08470"></a>08470     <span class="comment">//-----------------------------------</span>
<a name="l08471"></a>08471 
<a name="l08473"></a>08473 
<a name="l08478"></a><a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0">08478</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l08479"></a>08479       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08480"></a>08480         <span class="keywordflow">if</span> (val!=0 &amp;&amp; <span class="keyword">sizeof</span>(T)!=1) cimg_for(*<span class="keyword">this</span>,ptr,T) *ptr=val;
<a name="l08481"></a>08481         <span class="keywordflow">else</span> std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,(<span class="keywordtype">int</span>)val,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()*<span class="keyword">sizeof</span>(T));
<a name="l08482"></a>08482       }
<a name="l08483"></a>08483       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08484"></a>08484     }
<a name="l08485"></a>08485 
<a name="l08486"></a>08486     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val)<span class="keyword"> const </span>{
<a name="l08487"></a>08487       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val);
<a name="l08488"></a>08488     }
<a name="l08489"></a>08489 
<a name="l08491"></a>08491 
<a name="l08495"></a><a class="code" href="structcimg__library_1_1_c_img.html#a37dff69737b46ebe38ef21df83ff283c">08495</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a37dff69737b46ebe38ef21df83ff283c" title="Fill sequentially all pixel values with values val0 and val1 respectively.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1) {
<a name="l08496"></a>08496       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08497"></a>08497         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-1;
<a name="l08498"></a>08498         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) { *(ptr++)=val0; *(ptr++)=val1; }
<a name="l08499"></a>08499         <span class="keywordflow">if</span> (ptr!=ptr_end+1) *(ptr++)=val0;
<a name="l08500"></a>08500       }
<a name="l08501"></a>08501       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08502"></a>08502     }
<a name="l08503"></a>08503 
<a name="l08504"></a>08504     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1)<span class="keyword"> const </span>{
<a name="l08505"></a>08505       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1);
<a name="l08506"></a>08506     }
<a name="l08507"></a>08507 
<a name="l08509"></a>08509 
<a name="l08514"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6fc4d10118a359cd983c75d102b5fea2">08514</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6fc4d10118a359cd983c75d102b5fea2" title="Fill sequentially all pixel values with values val0 and val1 and val2.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2) {
<a name="l08515"></a>08515       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08516"></a>08516         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-2;
<a name="l08517"></a>08517         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) { *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; }
<a name="l08518"></a>08518         ptr_end+=2;
<a name="l08519"></a>08519         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08520"></a>08520         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08521"></a>08521         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08522"></a>08522         }
<a name="l08523"></a>08523       }
<a name="l08524"></a>08524       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08525"></a>08525     }
<a name="l08526"></a>08526 
<a name="l08527"></a>08527     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2)<span class="keyword"> const </span>{
<a name="l08528"></a>08528       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2);
<a name="l08529"></a>08529     }
<a name="l08530"></a>08530 
<a name="l08532"></a>08532 
<a name="l08538"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3806a6320480cd62070062bb1b5dce66">08538</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3806a6320480cd62070062bb1b5dce66" title="Fill sequentially all pixel values with values val0 and val1 and val2 and val3.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3) {
<a name="l08539"></a>08539       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08540"></a>08540         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-3;
<a name="l08541"></a>08541         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) { *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; }
<a name="l08542"></a>08542         ptr_end+=3;
<a name="l08543"></a>08543         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08544"></a>08544         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08545"></a>08545         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08546"></a>08546         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08547"></a>08547         }
<a name="l08548"></a>08548       }
<a name="l08549"></a>08549       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08550"></a>08550     }
<a name="l08551"></a>08551 
<a name="l08552"></a>08552     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3)<span class="keyword"> const </span>{
<a name="l08553"></a>08553       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3);
<a name="l08554"></a>08554     }
<a name="l08555"></a>08555 
<a name="l08557"></a>08557 
<a name="l08564"></a><a class="code" href="structcimg__library_1_1_c_img.html#a293536ba4e18be8a7e6a9e427454b0e5">08564</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a293536ba4e18be8a7e6a9e427454b0e5" title="Fill sequentially all pixel values with values val0 and val1 and val2 and val3 and val4...">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4) {
<a name="l08565"></a>08565       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08566"></a>08566         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-4;
<a name="l08567"></a>08567         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) { *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; }
<a name="l08568"></a>08568         ptr_end+=4;
<a name="l08569"></a>08569         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08570"></a>08570         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08571"></a>08571         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08572"></a>08572         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08573"></a>08573         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08574"></a>08574         }
<a name="l08575"></a>08575       }
<a name="l08576"></a>08576       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08577"></a>08577     }
<a name="l08578"></a>08578 
<a name="l08579"></a>08579     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4)<span class="keyword"> const </span>{
<a name="l08580"></a>08580       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4);
<a name="l08581"></a>08581     }
<a name="l08582"></a>08582 
<a name="l08584"></a>08584 
<a name="l08592"></a><a class="code" href="structcimg__library_1_1_c_img.html#a73ad439463a105fe882d4d226293a215">08592</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a73ad439463a105fe882d4d226293a215" title="Fill sequentially all pixel values with values val0 and val1 and val2 and val3 and val4 and val5...">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5) {
<a name="l08593"></a>08593       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08594"></a>08594         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-5;
<a name="l08595"></a>08595         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08596"></a>08596           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5;
<a name="l08597"></a>08597         }
<a name="l08598"></a>08598         ptr_end+=5;
<a name="l08599"></a>08599         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08600"></a>08600         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08601"></a>08601         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08602"></a>08602         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08603"></a>08603         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08604"></a>08604         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08605"></a>08605         }
<a name="l08606"></a>08606       }
<a name="l08607"></a>08607       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08608"></a>08608     }
<a name="l08609"></a>08609 
<a name="l08610"></a>08610     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5)<span class="keyword"> const </span>{
<a name="l08611"></a>08611       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5);
<a name="l08612"></a>08612     }
<a name="l08613"></a>08613 
<a name="l08615"></a>08615 
<a name="l08624"></a><a class="code" href="structcimg__library_1_1_c_img.html#aae9c53b0947eb5ed2d948d28b2de6a6e">08624</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,
<a name="l08625"></a>08625                <span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6) {
<a name="l08626"></a>08626       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08627"></a>08627         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-6;
<a name="l08628"></a>08628         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08629"></a>08629           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5; *(ptr++)=val6;
<a name="l08630"></a>08630         }
<a name="l08631"></a>08631         ptr_end+=6;
<a name="l08632"></a>08632         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08633"></a>08633         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08634"></a>08634         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08635"></a>08635         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08636"></a>08636         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08637"></a>08637         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08638"></a>08638         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08639"></a>08639         }
<a name="l08640"></a>08640       }
<a name="l08641"></a>08641       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08642"></a>08642     }
<a name="l08643"></a>08643 
<a name="l08644"></a>08644     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08645"></a>08645                   <span class="keyword">const</span> T&amp; val6)<span class="keyword"> const </span>{
<a name="l08646"></a>08646       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6);
<a name="l08647"></a>08647     }
<a name="l08648"></a>08648 
<a name="l08650"></a>08650 
<a name="l08660"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac804653aeaa4de7f445dd0c9454d28c1">08660</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,
<a name="l08661"></a>08661                <span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7) {
<a name="l08662"></a>08662       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08663"></a>08663         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-7;
<a name="l08664"></a>08664         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08665"></a>08665           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3;
<a name="l08666"></a>08666           *(ptr++)=val4; *(ptr++)=val5; *(ptr++)=val6; *(ptr++)=val7;
<a name="l08667"></a>08667         }
<a name="l08668"></a>08668         ptr_end+=7;
<a name="l08669"></a>08669         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08670"></a>08670         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08671"></a>08671         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08672"></a>08672         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08673"></a>08673         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08674"></a>08674         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08675"></a>08675         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08676"></a>08676         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08677"></a>08677         }
<a name="l08678"></a>08678       }
<a name="l08679"></a>08679       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08680"></a>08680     }
<a name="l08681"></a>08681 
<a name="l08682"></a>08682     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08683"></a>08683                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7)<span class="keyword"> const </span>{
<a name="l08684"></a>08684       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7);
<a name="l08685"></a>08685     }
<a name="l08686"></a>08686 
<a name="l08688"></a>08688 
<a name="l08699"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad6e690a3d3ef39d3a87a5832e33cf45f">08699</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,
<a name="l08700"></a>08700                <span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,
<a name="l08701"></a>08701                <span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,<span class="keyword">const</span> T&amp; val8) {
<a name="l08702"></a>08702       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08703"></a>08703         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-8;
<a name="l08704"></a>08704         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08705"></a>08705           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2;
<a name="l08706"></a>08706           *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5;
<a name="l08707"></a>08707           *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8;
<a name="l08708"></a>08708         }
<a name="l08709"></a>08709         ptr_end+=8;
<a name="l08710"></a>08710         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08711"></a>08711         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08712"></a>08712         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08713"></a>08713         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08714"></a>08714         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08715"></a>08715         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08716"></a>08716         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08717"></a>08717         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08718"></a>08718         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08719"></a>08719         }
<a name="l08720"></a>08720       }
<a name="l08721"></a>08721       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08722"></a>08722     }
<a name="l08723"></a>08723 
<a name="l08724"></a>08724     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08725"></a>08725                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7, <span class="keyword">const</span> T&amp; val8)<span class="keyword"> const </span>{
<a name="l08726"></a>08726       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8);
<a name="l08727"></a>08727     }
<a name="l08728"></a>08728 
<a name="l08730"></a>08730 
<a name="l08742"></a><a class="code" href="structcimg__library_1_1_c_img.html#a78959e122bf52f3baa2ac57f7ee6d654">08742</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4,
<a name="l08743"></a>08743                <span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,<span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9) {
<a name="l08744"></a>08744       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08745"></a>08745         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-9;
<a name="l08746"></a>08746         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08747"></a>08747           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4;
<a name="l08748"></a>08748           *(ptr++)=val5; *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8; *(ptr++)=val9;
<a name="l08749"></a>08749         }
<a name="l08750"></a>08750         ptr_end+=9;
<a name="l08751"></a>08751         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08752"></a>08752         <span class="keywordflow">case</span> 9: *(--ptr_end)=val8;
<a name="l08753"></a>08753         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08754"></a>08754         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08755"></a>08755         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08756"></a>08756         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08757"></a>08757         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08758"></a>08758         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08759"></a>08759         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08760"></a>08760         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08761"></a>08761         }
<a name="l08762"></a>08762       }
<a name="l08763"></a>08763       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08764"></a>08764     }
<a name="l08765"></a>08765 
<a name="l08766"></a>08766     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08767"></a>08767                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7, <span class="keyword">const</span> T&amp; val8, <span class="keyword">const</span> T&amp; val9)<span class="keyword"> const </span>{
<a name="l08768"></a>08768       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8,val9);
<a name="l08769"></a>08769     }
<a name="l08770"></a>08770 
<a name="l08772"></a>08772 
<a name="l08786"></a><a class="code" href="structcimg__library_1_1_c_img.html#a25bb9c696dc72ea9fbdbf8c0ea9494b9">08786</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,
<a name="l08787"></a>08787                <span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,
<a name="l08788"></a>08788                <span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9,<span class="keyword">const</span> T&amp; val10,<span class="keyword">const</span> T&amp; val11) {
<a name="l08789"></a>08789       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08790"></a>08790         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-11;
<a name="l08791"></a>08791         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08792"></a>08792           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5;
<a name="l08793"></a>08793           *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8; *(ptr++)=val9; *(ptr++)=val10; *(ptr++)=val11;
<a name="l08794"></a>08794         }
<a name="l08795"></a>08795         ptr_end+=11;
<a name="l08796"></a>08796         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08797"></a>08797         <span class="keywordflow">case</span> 11: *(--ptr_end)=val10;
<a name="l08798"></a>08798         <span class="keywordflow">case</span> 10: *(--ptr_end)=val9;
<a name="l08799"></a>08799         <span class="keywordflow">case</span> 9: *(--ptr_end)=val8;
<a name="l08800"></a>08800         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08801"></a>08801         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08802"></a>08802         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08803"></a>08803         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08804"></a>08804         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08805"></a>08805         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08806"></a>08806         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08807"></a>08807         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08808"></a>08808         }
<a name="l08809"></a>08809       }
<a name="l08810"></a>08810       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08811"></a>08811     }
<a name="l08812"></a>08812 
<a name="l08813"></a>08813     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08814"></a>08814                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7, <span class="keyword">const</span> T&amp; val8, <span class="keyword">const</span> T&amp; val9, <span class="keyword">const</span> T&amp; val10, <span class="keyword">const</span> T&amp; val11)<span class="keyword"> const </span>{
<a name="l08815"></a>08815       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8,val9,val10,val11);
<a name="l08816"></a>08816     }
<a name="l08817"></a>08817 
<a name="l08819"></a>08819 
<a name="l08834"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1ecd792063de38175282ecb791eb3cc9">08834</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,
<a name="l08835"></a>08835                <span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,
<a name="l08836"></a>08836                <span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9,<span class="keyword">const</span> T&amp; val10,<span class="keyword">const</span> T&amp; val11,
<a name="l08837"></a>08837                <span class="keyword">const</span> T&amp; val12) {
<a name="l08838"></a>08838       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08839"></a>08839         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-12;
<a name="l08840"></a>08840         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08841"></a>08841           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5;
<a name="l08842"></a>08842           *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8; *(ptr++)=val9; *(ptr++)=val10; *(ptr++)=val11;
<a name="l08843"></a>08843           *(ptr++)=val12;
<a name="l08844"></a>08844         }
<a name="l08845"></a>08845         ptr_end+=12;
<a name="l08846"></a>08846         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08847"></a>08847         <span class="keywordflow">case</span> 12: *(--ptr_end)=val11;
<a name="l08848"></a>08848         <span class="keywordflow">case</span> 11: *(--ptr_end)=val10;
<a name="l08849"></a>08849         <span class="keywordflow">case</span> 10: *(--ptr_end)=val9;
<a name="l08850"></a>08850         <span class="keywordflow">case</span> 9: *(--ptr_end)=val8;
<a name="l08851"></a>08851         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08852"></a>08852         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08853"></a>08853         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08854"></a>08854         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08855"></a>08855         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08856"></a>08856         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08857"></a>08857         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08858"></a>08858         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08859"></a>08859         }
<a name="l08860"></a>08860       }
<a name="l08861"></a>08861       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08862"></a>08862     }
<a name="l08863"></a>08863 
<a name="l08864"></a>08864     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08865"></a>08865                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7, <span class="keyword">const</span> T&amp; val8, <span class="keyword">const</span> T&amp; val9, <span class="keyword">const</span> T&amp; val10, <span class="keyword">const</span> T&amp; val11,
<a name="l08866"></a>08866                   <span class="keyword">const</span> T&amp; val12, <span class="keyword">const</span> T&amp; val13)<span class="keyword"> const </span>{
<a name="l08867"></a>08867       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8,val9,val10,val11,val12,val13);
<a name="l08868"></a>08868     }
<a name="l08869"></a>08869 
<a name="l08870"></a>08870 
<a name="l08872"></a>08872 
<a name="l08890"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9b0a6c3b5a07ada1d9f278ddf40239ef">08890</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,
<a name="l08891"></a>08891                <span class="keyword">const</span> T&amp; val4,<span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,
<a name="l08892"></a>08892                <span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9,<span class="keyword">const</span> T&amp; val10,<span class="keyword">const</span> T&amp; val11,
<a name="l08893"></a>08893                <span class="keyword">const</span> T&amp; val12,<span class="keyword">const</span> T&amp; val13,<span class="keyword">const</span> T&amp; val14,<span class="keyword">const</span> T&amp; val15) {
<a name="l08894"></a>08894       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08895"></a>08895         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-15;
<a name="l08896"></a>08896         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08897"></a>08897           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4; *(ptr++)=val5;
<a name="l08898"></a>08898           *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8; *(ptr++)=val9; *(ptr++)=val10; *(ptr++)=val11;
<a name="l08899"></a>08899           *(ptr++)=val12; *(ptr++)=val13; *(ptr++)=val14; *(ptr++)=val15;
<a name="l08900"></a>08900         }
<a name="l08901"></a>08901         ptr_end+=15;
<a name="l08902"></a>08902         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08903"></a>08903         <span class="keywordflow">case</span> 15: *(--ptr_end)=val14;
<a name="l08904"></a>08904         <span class="keywordflow">case</span> 14: *(--ptr_end)=val13;
<a name="l08905"></a>08905         <span class="keywordflow">case</span> 13: *(--ptr_end)=val12;
<a name="l08906"></a>08906         <span class="keywordflow">case</span> 12: *(--ptr_end)=val11;
<a name="l08907"></a>08907         <span class="keywordflow">case</span> 11: *(--ptr_end)=val10;
<a name="l08908"></a>08908         <span class="keywordflow">case</span> 10: *(--ptr_end)=val9;
<a name="l08909"></a>08909         <span class="keywordflow">case</span> 9: *(--ptr_end)=val8;
<a name="l08910"></a>08910         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08911"></a>08911         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08912"></a>08912         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08913"></a>08913         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08914"></a>08914         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08915"></a>08915         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08916"></a>08916         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08917"></a>08917         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08918"></a>08918         }
<a name="l08919"></a>08919       }
<a name="l08920"></a>08920       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l08921"></a>08921     }
<a name="l08922"></a>08922 
<a name="l08923"></a>08923     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0, <span class="keyword">const</span> T&amp; val1, <span class="keyword">const</span> T&amp; val2, <span class="keyword">const</span> T&amp; val3, <span class="keyword">const</span> T&amp; val4, <span class="keyword">const</span> T&amp; val5,
<a name="l08924"></a>08924                   <span class="keyword">const</span> T&amp; val6, <span class="keyword">const</span> T&amp; val7, <span class="keyword">const</span> T&amp; val8, <span class="keyword">const</span> T&amp; val9, <span class="keyword">const</span> T&amp; val10, <span class="keyword">const</span> T&amp; val11,
<a name="l08925"></a>08925                   <span class="keyword">const</span> T&amp; val12, <span class="keyword">const</span> T&amp; val13, <span class="keyword">const</span> T&amp; val14, <span class="keyword">const</span> T&amp; val15)<span class="keyword"> const </span>{
<a name="l08926"></a>08926       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8,val9,val10,val11,val12,val13,val14,val15);
<a name="l08927"></a>08927     }
<a name="l08928"></a>08928 
<a name="l08930"></a>08930 
<a name="l08957"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2b82a0ea0a71d2a448f53c76a06932b5">08957</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4,
<a name="l08958"></a>08958                <span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,<span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9,
<a name="l08959"></a>08959                <span class="keyword">const</span> T&amp; val10,<span class="keyword">const</span> T&amp; val11,<span class="keyword">const</span> T&amp; val12,<span class="keyword">const</span> T&amp; val13,<span class="keyword">const</span> T&amp; val14,
<a name="l08960"></a>08960                <span class="keyword">const</span> T&amp; val15,<span class="keyword">const</span> T&amp; val16,<span class="keyword">const</span> T&amp; val17,<span class="keyword">const</span> T&amp; val18,<span class="keyword">const</span> T&amp; val19,
<a name="l08961"></a>08961                <span class="keyword">const</span> T&amp; val20,<span class="keyword">const</span> T&amp; val21,<span class="keyword">const</span> T&amp; val22,<span class="keyword">const</span> T&amp; val23,<span class="keyword">const</span> T&amp; val24) {
<a name="l08962"></a>08962       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l08963"></a>08963         T *ptr, *ptr_end = <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()-24;
<a name="l08964"></a>08964         <span class="keywordflow">for</span> (ptr=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; ptr&lt;ptr_end; ) {
<a name="l08965"></a>08965           *(ptr++)=val0; *(ptr++)=val1; *(ptr++)=val2; *(ptr++)=val3; *(ptr++)=val4;
<a name="l08966"></a>08966           *(ptr++)=val5; *(ptr++)=val6; *(ptr++)=val7; *(ptr++)=val8; *(ptr++)=val9;
<a name="l08967"></a>08967           *(ptr++)=val10; *(ptr++)=val11; *(ptr++)=val12; *(ptr++)=val13; *(ptr++)=val14;
<a name="l08968"></a>08968           *(ptr++)=val15; *(ptr++)=val16; *(ptr++)=val17; *(ptr++)=val18; *(ptr++)=val19;
<a name="l08969"></a>08969           *(ptr++)=val20; *(ptr++)=val21; *(ptr++)=val22; *(ptr++)=val23; *(ptr++)=val24;
<a name="l08970"></a>08970         }
<a name="l08971"></a>08971         ptr_end+=24;
<a name="l08972"></a>08972         <span class="keywordflow">switch</span> (ptr_end-ptr) {
<a name="l08973"></a>08973         <span class="keywordflow">case</span> 24: *(--ptr_end)=val23;
<a name="l08974"></a>08974         <span class="keywordflow">case</span> 23: *(--ptr_end)=val22;
<a name="l08975"></a>08975         <span class="keywordflow">case</span> 22: *(--ptr_end)=val21;
<a name="l08976"></a>08976         <span class="keywordflow">case</span> 21: *(--ptr_end)=val20;
<a name="l08977"></a>08977         <span class="keywordflow">case</span> 20: *(--ptr_end)=val19;
<a name="l08978"></a>08978         <span class="keywordflow">case</span> 19: *(--ptr_end)=val18;
<a name="l08979"></a>08979         <span class="keywordflow">case</span> 18: *(--ptr_end)=val17;
<a name="l08980"></a>08980         <span class="keywordflow">case</span> 17: *(--ptr_end)=val16;
<a name="l08981"></a>08981         <span class="keywordflow">case</span> 16: *(--ptr_end)=val15;
<a name="l08982"></a>08982         <span class="keywordflow">case</span> 15: *(--ptr_end)=val14;
<a name="l08983"></a>08983         <span class="keywordflow">case</span> 14: *(--ptr_end)=val13;
<a name="l08984"></a>08984         <span class="keywordflow">case</span> 13: *(--ptr_end)=val12;
<a name="l08985"></a>08985         <span class="keywordflow">case</span> 12: *(--ptr_end)=val11;
<a name="l08986"></a>08986         <span class="keywordflow">case</span> 11: *(--ptr_end)=val10;
<a name="l08987"></a>08987         <span class="keywordflow">case</span> 10: *(--ptr_end)=val9;
<a name="l08988"></a>08988         <span class="keywordflow">case</span> 9: *(--ptr_end)=val8;
<a name="l08989"></a>08989         <span class="keywordflow">case</span> 8: *(--ptr_end)=val7;
<a name="l08990"></a>08990         <span class="keywordflow">case</span> 7: *(--ptr_end)=val6;
<a name="l08991"></a>08991         <span class="keywordflow">case</span> 6: *(--ptr_end)=val5;
<a name="l08992"></a>08992         <span class="keywordflow">case</span> 5: *(--ptr_end)=val4;
<a name="l08993"></a>08993         <span class="keywordflow">case</span> 4: *(--ptr_end)=val3;
<a name="l08994"></a>08994         <span class="keywordflow">case</span> 3: *(--ptr_end)=val2;
<a name="l08995"></a>08995         <span class="keywordflow">case</span> 2: *(--ptr_end)=val1;
<a name="l08996"></a>08996         <span class="keywordflow">case</span> 1: *(--ptr_end)=val0;
<a name="l08997"></a>08997         }
<a name="l08998"></a>08998       }
<a name="l08999"></a>08999       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09000"></a>09000     }
<a name="l09001"></a>09001 
<a name="l09002"></a>09002     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_fill(<span class="keyword">const</span> T&amp; val0,<span class="keyword">const</span> T&amp; val1,<span class="keyword">const</span> T&amp; val2,<span class="keyword">const</span> T&amp; val3,<span class="keyword">const</span> T&amp; val4,
<a name="l09003"></a>09003                   <span class="keyword">const</span> T&amp; val5,<span class="keyword">const</span> T&amp; val6,<span class="keyword">const</span> T&amp; val7,<span class="keyword">const</span> T&amp; val8,<span class="keyword">const</span> T&amp; val9,
<a name="l09004"></a>09004                   <span class="keyword">const</span> T&amp; val10,<span class="keyword">const</span> T&amp; val11,<span class="keyword">const</span> T&amp; val12,<span class="keyword">const</span> T&amp; val13,<span class="keyword">const</span> T&amp; val14,
<a name="l09005"></a>09005                   <span class="keyword">const</span> T&amp; val15,<span class="keyword">const</span> T&amp; val16,<span class="keyword">const</span> T&amp; val17,<span class="keyword">const</span> T&amp; val18,<span class="keyword">const</span> T&amp; val19,
<a name="l09006"></a>09006                   <span class="keyword">const</span> T&amp; val20,<span class="keyword">const</span> T&amp; val21,<span class="keyword">const</span> T&amp; val22,<span class="keyword">const</span> T&amp; val23,<span class="keyword">const</span> T&amp; val24)<span class="keyword"> const </span>{
<a name="l09007"></a>09007       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(val0,val1,val2,val3,val4,val5,val6,val7,val8,val9,
<a name="l09008"></a>09008                                  val10,val11,val12,val13,val14,val15,val16,val17,val18,val19,
<a name="l09009"></a>09009                                  val20,val21,val22,val23,val24);
<a name="l09010"></a>09010     }
<a name="l09011"></a>09011 
<a name="l09013"></a>09013 
<a name="l09018"></a><a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b">09018</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b" title="Linear normalization of the pixel values between a and b.">normalize</a>(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> T&amp; b) {
<a name="l09019"></a>09019       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l09020"></a>09020         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l09021"></a>09021         <span class="keywordflow">if</span> (st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>==st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l09022"></a>09022         <span class="keywordflow">if</span> (st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>!=a || st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>!=b) cimg_for(*<span class="keyword">this</span>,ptr,T) *ptr=(T)((*ptr-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>)/(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>)*(b-a)+a);
<a name="l09023"></a>09023       }
<a name="l09024"></a>09024       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09025"></a>09025     }
<a name="l09026"></a>09026 
<a name="l09028"></a>09028 
<a name="l09033"></a><a class="code" href="structcimg__library_1_1_c_img.html#aaef1a4b9d0b090abb638f1c5ed128b06">09033</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aaef1a4b9d0b090abb638f1c5ed128b06" title="Return the image of normalized values.">get_normalize</a>(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> T&amp; b)<span class="keyword"> const </span>{
<a name="l09034"></a>09034       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b" title="Linear normalization of the pixel values between a and b.">normalize</a>(a,b);
<a name="l09035"></a>09035     }
<a name="l09036"></a>09036 
<a name="l09038"></a>09038 
<a name="l09043"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad74dbbcaf96762284bbf67e2e2ad1a64">09043</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad74dbbcaf96762284bbf67e2e2ad1a64" title="Cut pixel values between a and b.">cut</a>(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> T&amp; b) {
<a name="l09044"></a>09044       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l09045"></a>09045         cimg_for(*<span class="keyword">this</span>,ptr,T) *ptr = (*ptr&lt;a)?a:((*ptr&gt;b)?b:*ptr);
<a name="l09046"></a>09046       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09047"></a>09047     }
<a name="l09048"></a>09048 
<a name="l09050"></a>09050 
<a name="l09055"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae92404d5e23f0ace476fb541f913dd19">09055</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae92404d5e23f0ace476fb541f913dd19" title="Return the image of cutted values.">get_cut</a>(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> T&amp; b)<span class="keyword"> const </span>{
<a name="l09056"></a>09056       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ad74dbbcaf96762284bbf67e2e2ad1a64" title="Cut pixel values between a and b.">cut</a>(a,b);
<a name="l09057"></a>09057     }
<a name="l09058"></a>09058 
<a name="l09060"></a>09060 
<a name="l09064"></a><a class="code" href="structcimg__library_1_1_c_img.html#a538daee392c78460c44d35919f1b3826">09064</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a538daee392c78460c44d35919f1b3826" title="Quantize pixel values into   levels.">quantize</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=256) {
<a name="l09065"></a>09065       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l09066"></a>09066         <span class="keywordflow">if</span> (!n) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::quantize() : Cannot quantize image to 0 values.&quot;</span>,
<a name="l09067"></a>09067                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l09068"></a>09068         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l09069"></a>09069         <span class="keyword">const</span> <span class="keywordtype">double</span> range = st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>;
<a name="l09070"></a>09070         <span class="keywordflow">if</span> (range&gt;0) cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l09071"></a>09071           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val = (<span class="keywordtype">unsigned</span> int)((*ptr-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>)*n/range);
<a name="l09072"></a>09072           *ptr = (T)(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a> + <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(val,n-1)*range);
<a name="l09073"></a>09073         }
<a name="l09074"></a>09074       }
<a name="l09075"></a>09075       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09076"></a>09076     }
<a name="l09077"></a>09077 
<a name="l09079"></a>09079 
<a name="l09083"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6d9a0168621176f034f0a52e731b3de2">09083</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a6d9a0168621176f034f0a52e731b3de2" title="Return a quantified image, with   levels.">get_quantize</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=256)<span class="keyword"> const </span>{
<a name="l09084"></a>09084       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a538daee392c78460c44d35919f1b3826" title="Quantize pixel values into   levels.">quantize</a>(n);
<a name="l09085"></a>09085     }
<a name="l09086"></a>09086 
<a name="l09088"></a>09088 
<a name="l09092"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae98d5f595dd43b98a38fda8ee279d469">09092</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae98d5f595dd43b98a38fda8ee279d469" title="Threshold the image.">threshold</a>(<span class="keyword">const</span> T&amp; thres) {
<a name="l09093"></a>09093       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) cimg_for(*<span class="keyword">this</span>,ptr,T) *ptr = *ptr&lt;=thres?(T)0:(T)1;
<a name="l09094"></a>09094       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09095"></a>09095     }
<a name="l09096"></a>09096 
<a name="l09098"></a>09098 
<a name="l09102"></a><a class="code" href="structcimg__library_1_1_c_img.html#a80cd02a15494653e88c9c91e02dfebca">09102</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a80cd02a15494653e88c9c91e02dfebca" title="Return a thresholded image.">get_threshold</a>(<span class="keyword">const</span> T&amp; thres)<span class="keyword"> const </span>{
<a name="l09103"></a>09103       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ae98d5f595dd43b98a38fda8ee279d469" title="Threshold the image.">threshold</a>(thres);
<a name="l09104"></a>09104     }
<a name="l09105"></a>09105 
<a name="l09107"></a>09107 
<a name="l09116"></a><a class="code" href="structcimg__library_1_1_c_img.html#aaa91237f26c67cf66f6eda7c415f78ae">09116</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aaa91237f26c67cf66f6eda7c415f78ae" title="Return a rotated image.">get_rotate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> angle, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=3)<span class="keyword"> const </span>{
<a name="l09117"></a>09117       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l09118"></a>09118       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest;
<a name="l09119"></a>09119       <span class="keyword">const</span> <span class="keywordtype">float</span> nangle = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(angle,360.0f), rad = (float)((nangle*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>)/180.0),
<a name="l09120"></a>09120         ca=(float)std::cos(rad), sa=(float)std::sin(rad);
<a name="l09121"></a>09121       <span class="keywordflow">if</span> (cond!=1 &amp;&amp; <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(nangle,90.0f)==0) { <span class="comment">// optimized version for orthogonal angles</span>
<a name="l09122"></a>09122         <span class="keyword">const</span> <span class="keywordtype">int</span> wm1 = <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1, hm1 = <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1;
<a name="l09123"></a>09123         <span class="keyword">const</span> <span class="keywordtype">int</span> iangle = (int)nangle/90;
<a name="l09124"></a>09124         <span class="keywordflow">switch</span> (iangle) {
<a name="l09125"></a>09125         <span class="keywordflow">case</span> 1: {
<a name="l09126"></a>09126           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09127"></a>09127           cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = (*this)(y,hm1-x,z,v);
<a name="l09128"></a>09128         } <span class="keywordflow">break</span>;
<a name="l09129"></a>09129         <span class="keywordflow">case</span> 2: {
<a name="l09130"></a>09130           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09131"></a>09131           cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = (*this)(wm1-x,hm1-y,z,v);
<a name="l09132"></a>09132         } <span class="keywordflow">break</span>;
<a name="l09133"></a>09133         <span class="keywordflow">case</span> 3: {
<a name="l09134"></a>09134           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09135"></a>09135           cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = (*this)(wm1-y,x,z,v);
<a name="l09136"></a>09136         } <span class="keywordflow">break</span>;
<a name="l09137"></a>09137         <span class="keywordflow">default</span>:
<a name="l09138"></a>09138           <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09139"></a>09139         }
<a name="l09140"></a>09140       } <span class="keywordflow">else</span> { <span class="comment">// generic version</span>
<a name="l09141"></a>09141         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l09142"></a>09142           ux  = (float)(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*ca)),  uy  = (<span class="keywordtype">float</span>)(<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*sa)),
<a name="l09143"></a>09143           vx  = (<span class="keywordtype">float</span>)(<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*sa)), vy  = (<span class="keywordtype">float</span>)(<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*ca)),
<a name="l09144"></a>09144           w2  = 0.5f*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,           h2  = 0.5f*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,
<a name="l09145"></a>09145           dw2 = 0.5f*(ux+vx),         dh2 = 0.5f*(uy+vy);
<a name="l09146"></a>09146         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>((<span class="keywordtype">int</span>)(ux+vx), (<span class="keywordtype">int</span>)(uy+vy),<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09147"></a>09147         <span class="keywordflow">switch</span> (cond) {
<a name="l09148"></a>09148         <span class="keywordflow">case</span> 0: {
<a name="l09149"></a>09149           cimg_forXY(dest,x,y)
<a name="l09150"></a>09150             cimg_forZV(*<span class="keyword">this</span>,z,v)
<a name="l09151"></a>09151             dest(x,y,z,v) = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>((<span class="keywordtype">int</span>)(w2 + (x-dw2)*ca + (y-dh2)*sa),(<span class="keywordtype">int</span>)(h2 - (x-dw2)*sa + (y-dh2)*ca),z,v,0);
<a name="l09152"></a>09152         } <span class="keywordflow">break</span>;
<a name="l09153"></a>09153         <span class="keywordflow">case</span> 1: {
<a name="l09154"></a>09154           cimg_forXY(dest,x,y)
<a name="l09155"></a>09155             cimg_forZV(*<span class="keyword">this</span>,z,v)
<a name="l09156"></a>09156             dest(x,y,z,v) = (*this)(<a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>((<span class="keywordtype">int</span>)(w2 + (x-dw2)*ca + (y-dh2)*sa),width),
<a name="l09157"></a>09157                                     <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>((<span class="keywordtype">int</span>)(h2 - (x-dw2)*sa + (y-dh2)*ca),height),z,v);
<a name="l09158"></a>09158         } <span class="keywordflow">break</span>;
<a name="l09159"></a>09159         <span class="keywordflow">case</span> 2: {
<a name="l09160"></a>09160           cimg_forXY(dest,x,y) {
<a name="l09161"></a>09161             <span class="keyword">const</span> <span class="keywordtype">float</span> X = w2 + (x-dw2)*ca + (y-dh2)*sa, Y = h2 - (x-dw2)*sa + (y-dh2)*ca;
<a name="l09162"></a>09162             cimg_forZV(*<span class="keyword">this</span>,z,v) dest(x,y,z,v) = (T)<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,z,v,0);
<a name="l09163"></a>09163           }
<a name="l09164"></a>09164         } <span class="keywordflow">break</span>;
<a name="l09165"></a>09165         <span class="keywordflow">default</span>: {
<a name="l09166"></a>09166           cimg_forXY(dest,x,y) {
<a name="l09167"></a>09167             <span class="keyword">const</span> <span class="keywordtype">float</span> X = w2 + (x-dw2)*ca + (y-dh2)*sa, Y = h2 - (x-dw2)*sa + (y-dh2)*ca;
<a name="l09168"></a>09168             cimg_forZV(*<span class="keyword">this</span>,z,v) dest(x,y,z,v) = (T)<a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(X,Y,z,v,0);
<a name="l09169"></a>09169           }
<a name="l09170"></a>09170         } <span class="keywordflow">break</span>;
<a name="l09171"></a>09171         }
<a name="l09172"></a>09172       }
<a name="l09173"></a>09173       <span class="keywordflow">return</span> dest;
<a name="l09174"></a>09174     }
<a name="l09175"></a>09175 
<a name="l09177"></a>09177 
<a name="l09185"></a><a class="code" href="structcimg__library_1_1_c_img.html#a49cf43e728c25716e3882fc6968552c1">09185</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a49cf43e728c25716e3882fc6968552c1" title="Rotate the image.">rotate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> angle,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=3) { <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aaa91237f26c67cf66f6eda7c415f78ae" title="Return a rotated image.">get_rotate</a>(angle,cond).swap(*<span class="keyword">this</span>); }
<a name="l09186"></a>09186 
<a name="l09188"></a>09188 
<a name="l09199"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9f0fe40ff2240e2ef3805e3884c790a2">09199</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9f0fe40ff2240e2ef3805e3884c790a2" title="Return a rotated image around the point (cx,cy).">get_rotate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> angle,<span class="keyword">const</span> <span class="keywordtype">float</span> cx,<span class="keyword">const</span> <span class="keywordtype">float</span> cy,<span class="keyword">const</span> <span class="keywordtype">float</span> zoom=1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=3)<span class="keyword"> const </span>{
<a name="l09200"></a>09200       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l09201"></a>09201       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09202"></a>09202       <span class="keyword">const</span> <span class="keywordtype">float</span> nangle = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(angle,360.0f), rad = (float)((nangle*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>)/180.0),
<a name="l09203"></a>09203         ca=(float)std::cos(rad)/zoom, sa=(float)std::sin(rad)/zoom;
<a name="l09204"></a>09204       <span class="keywordflow">if</span> (cond!=1 &amp;&amp; zoom==1 &amp;&amp; <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(nangle,90.0f)==0) { <span class="comment">// optimized version for orthogonal angles</span>
<a name="l09205"></a>09205         <span class="keyword">const</span> <span class="keywordtype">int</span> iangle = (int)nangle/90;
<a name="l09206"></a>09206         <span class="keywordflow">switch</span> (iangle) {
<a name="l09207"></a>09207         <span class="keywordflow">case</span> 1: {
<a name="l09208"></a>09208           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l09209"></a>09209           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l09210"></a>09210             xmin = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2), xmax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,xmin+<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>),
<a name="l09211"></a>09211             ymin = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2), ymax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,ymin+<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>),
<a name="l09212"></a>09212             xoff = xmin + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2),
<a name="l09213"></a>09213             yoff = ymin + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2);
<a name="l09214"></a>09214           cimg_forZV(dest,z,v) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=ymin; y&lt;ymax; y++) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=xmin; x&lt;xmax; x++)
<a name="l09215"></a>09215             dest(x,y,z,v) = (*this)(y-yoff,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1-x+xoff,z,v);
<a name="l09216"></a>09216         } <span class="keywordflow">break</span>;
<a name="l09217"></a>09217         <span class="keywordflow">case</span> 2: {
<a name="l09218"></a>09218           cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = (*this)(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1-x,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1-y,z,v);
<a name="l09219"></a>09219         } <span class="keywordflow">break</span>;
<a name="l09220"></a>09220         <span class="keywordflow">case</span> 3: {
<a name="l09221"></a>09221           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l09222"></a>09222           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l09223"></a>09223             xmin = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2), xmax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,xmin+<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>),
<a name="l09224"></a>09224             ymin = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2), ymax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,ymin+<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>),
<a name="l09225"></a>09225             xoff = xmin + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2),
<a name="l09226"></a>09226             yoff = ymin + <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(0,(<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2);
<a name="l09227"></a>09227           cimg_forZV(dest,z,v) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=ymin; y&lt;ymax; y++) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=xmin; x&lt;xmax; x++)
<a name="l09228"></a>09228             dest(x,y,z,v) = (*this)(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1-y+yoff,x-xoff,z,v);
<a name="l09229"></a>09229         } <span class="keywordflow">break</span>;
<a name="l09230"></a>09230         <span class="keywordflow">default</span>:
<a name="l09231"></a>09231           <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09232"></a>09232         }
<a name="l09233"></a>09233       } <span class="keywordflow">else</span>
<a name="l09234"></a>09234         <span class="keywordflow">switch</span> (cond) { <span class="comment">// generic version</span>
<a name="l09235"></a>09235         <span class="keywordflow">case</span> 0: {
<a name="l09236"></a>09236           cimg_forXY(dest,x,y)
<a name="l09237"></a>09237             cimg_forZV(*<span class="keyword">this</span>,z,v)
<a name="l09238"></a>09238             dest(x,y,z,v) = <a class="code" href="structcimg__library_1_1_c_img.html#a04fbd850fa0db4802ee50c2129d2b4bd" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the two first coordinates (x...">pix2d</a>((<span class="keywordtype">int</span>)(cx + (x-cx)*ca + (y-cy)*sa),(<span class="keywordtype">int</span>)(cy - (x-cx)*sa + (y-cy)*ca),z,v,0);
<a name="l09239"></a>09239         } <span class="keywordflow">break</span>;
<a name="l09240"></a>09240         <span class="keywordflow">case</span> 1: {
<a name="l09241"></a>09241           cimg_forXY(dest,x,y)
<a name="l09242"></a>09242             cimg_forZV(*<span class="keyword">this</span>,z,v)
<a name="l09243"></a>09243             dest(x,y,z,v) = (*this)(<a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>((<span class="keywordtype">int</span>)(cx + (x-cx)*ca + (y-cy)*sa),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>),
<a name="l09244"></a>09244                                     <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>((<span class="keywordtype">int</span>)(cy - (x-cx)*sa + (y-cy)*ca),<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>),z,v);
<a name="l09245"></a>09245         } <span class="keywordflow">break</span>;
<a name="l09246"></a>09246         <span class="keywordflow">case</span> 2: {
<a name="l09247"></a>09247           cimg_forXY(dest,x,y) {
<a name="l09248"></a>09248             <span class="keyword">const</span> <span class="keywordtype">float</span> X = cx + (x-cx)*ca + (y-cy)*sa, Y = cy - (x-cx)*sa + (y-cy)*ca;
<a name="l09249"></a>09249             cimg_forZV(*<span class="keyword">this</span>,z,v) dest(x,y,z,v) = (T)<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,z,v,0);
<a name="l09250"></a>09250           }
<a name="l09251"></a>09251         } <span class="keywordflow">break</span>;
<a name="l09252"></a>09252         <span class="keywordflow">default</span>: {
<a name="l09253"></a>09253           cimg_forXY(dest,x,y) {
<a name="l09254"></a>09254             <span class="keyword">const</span> <span class="keywordtype">float</span> X = cx + (x-cx)*ca + (y-cy)*sa, Y = cy - (x-cx)*sa + (y-cy)*ca;
<a name="l09255"></a>09255             cimg_forZV(*<span class="keyword">this</span>,z,v) dest(x,y,z,v) = (T)<a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(X,Y,z,v,0);
<a name="l09256"></a>09256           }
<a name="l09257"></a>09257         } <span class="keywordflow">break</span>;
<a name="l09258"></a>09258         }
<a name="l09259"></a>09259       <span class="keywordflow">return</span> dest;
<a name="l09260"></a>09260     }
<a name="l09261"></a>09261 
<a name="l09263"></a>09263 
<a name="l09275"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3ceb47fd1c1eec978ee782f653130533">09275</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3ceb47fd1c1eec978ee782f653130533" title="Rotate the image around the point (cx,cy).">rotate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> angle,<span class="keyword">const</span> <span class="keywordtype">float</span> cx,<span class="keyword">const</span> <span class="keywordtype">float</span> cy,<span class="keyword">const</span> <span class="keywordtype">float</span> zoom=1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=3) {
<a name="l09276"></a>09276       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aaa91237f26c67cf66f6eda7c415f78ae" title="Return a rotated image.">get_rotate</a>(angle,cx,cy,zoom,cond).swap(*<span class="keyword">this</span>);
<a name="l09277"></a>09277     }
<a name="l09278"></a>09278 
<a name="l09280"></a>09280 
<a name="l09295"></a><a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48">09295</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> pdx=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdy=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdz=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdv=-100,
<a name="l09296"></a>09296                     <span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1)<span class="keyword"> const </span>{
<a name="l09297"></a>09297       <span class="keywordflow">if</span> (!pdx || !pdy || !pdz || !pdv) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l09298"></a>09298       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l09299"></a>09299         tdx = pdx&lt;0?-pdx*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/100:pdx,
<a name="l09300"></a>09300         tdy = pdy&lt;0?-pdy*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/100:pdy,
<a name="l09301"></a>09301         tdz = pdz&lt;0?-pdz*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/100:pdz,
<a name="l09302"></a>09302         tdv = pdv&lt;0?-pdv*dim/100:pdv,
<a name="l09303"></a>09303         dx = tdx?tdx:1,
<a name="l09304"></a>09304         dy = tdy?tdy:1,
<a name="l09305"></a>09305         dz = tdz?tdz:1,
<a name="l09306"></a>09306         dv = tdv?tdv:1;
<a name="l09307"></a>09307       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(dx,dy,dz,dv,0);
<a name="l09308"></a>09308       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==dx &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==dy &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==dz &amp;&amp; dim==dv) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09309"></a>09309       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res;
<a name="l09310"></a>09310 
<a name="l09311"></a>09311       <span class="keywordflow">switch</span> (interp) {
<a name="l09312"></a>09312       <span class="keywordflow">case</span> -1: <span class="comment">// Raw resizing</span>
<a name="l09313"></a>09313         std::memcpy(res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0).<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(T)*<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),(<span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> int)dx*dy*dz*dv));
<a name="l09314"></a>09314         <span class="keywordflow">break</span>;
<a name="l09315"></a>09315 
<a name="l09316"></a>09316       <span class="keywordflow">case</span> 0:  <span class="comment">// Zero filling</span>
<a name="l09317"></a>09317         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(*<span class="keyword">this</span>,0,0,0,0);
<a name="l09318"></a>09318         <span class="keywordflow">break</span>;
<a name="l09319"></a>09319 
<a name="l09320"></a>09320       <span class="keywordflow">case</span> 1: { <span class="comment">// Nearest-neighbor interpolation</span>
<a name="l09321"></a>09321         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l09322"></a>09322         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l09323"></a>09323           *<span class="keyword">const</span> offx = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dx],
<a name="l09324"></a>09324           *<span class="keyword">const</span> offy = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dy+1],
<a name="l09325"></a>09325           *<span class="keyword">const</span> offz = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dz+1],
<a name="l09326"></a>09326           *<span class="keyword">const</span> offv = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dv+1],
<a name="l09327"></a>09327           *poffx, *poffy, *poffz, *poffv,
<a name="l09328"></a>09328           curr, old;
<a name="l09329"></a>09329         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wh = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>, whd = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*height*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, rwh = dx*dy, rwhd = dx*dy*dz;
<a name="l09330"></a>09330         poffx = offx; curr=0; { cimg_forX(res,x) { old=curr; curr=(x+1)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/dx;  *(poffx++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old; }}
<a name="l09331"></a>09331         poffy = offy; curr=0; { cimg_forY(res,y) { old=curr; curr=(y+1)*height/dy; *(poffy++) = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }} *poffy=0;
<a name="l09332"></a>09332         poffz = offz; curr=0; { cimg_forZ(res,z) { old=curr; curr=(z+1)*depth/dz;  *(poffz++) = wh*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }} *poffz=0;
<a name="l09333"></a>09333         poffv = offv; curr=0; { cimg_forV(res,k) { old=curr; curr=(k+1)*dim/dv;    *(poffv++) = whd*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }} *poffv=0;
<a name="l09334"></a>09334         T *ptrd = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l09335"></a>09335         <span class="keyword">const</span> T* ptrv = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l09336"></a>09336         poffv = offv;
<a name="l09337"></a>09337         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dv; ) {
<a name="l09338"></a>09338           <span class="keyword">const</span> T *ptrz = ptrv;
<a name="l09339"></a>09339           poffz = offz;
<a name="l09340"></a>09340           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0; z&lt;dz; ) {
<a name="l09341"></a>09341             <span class="keyword">const</span> T *ptry = ptrz;
<a name="l09342"></a>09342             poffy = offy;
<a name="l09343"></a>09343             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;dy; ) {
<a name="l09344"></a>09344               <span class="keyword">const</span> T *ptrx = ptry;
<a name="l09345"></a>09345               poffx = offx;
<a name="l09346"></a>09346               cimg_forX(res,x) { *(ptrd++)=*ptrx; ptrx+=*(poffx++); }
<a name="l09347"></a>09347               y++;
<a name="l09348"></a>09348               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dy=*(poffy++);
<a name="l09349"></a>09349               <span class="keywordflow">for</span> (;!dy &amp;&amp; y&lt;dy; std::memcpy(ptrd, ptrd-dx, <span class="keyword">sizeof</span>(T)*dx), y++, ptrd+=dx, dy=*(poffy++));
<a name="l09350"></a>09350               ptry+=dy;
<a name="l09351"></a>09351             }
<a name="l09352"></a>09352             z++;
<a name="l09353"></a>09353             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dz=*(poffz++);
<a name="l09354"></a>09354             <span class="keywordflow">for</span> (;!dz &amp;&amp; z&lt;dz; std::memcpy(ptrd, ptrd-rwh, <span class="keyword">sizeof</span>(T)*rwh), z++, ptrd+=rwh, dz=*(poffz++));
<a name="l09355"></a>09355             ptrz+=dz;
<a name="l09356"></a>09356           }
<a name="l09357"></a>09357           k++;
<a name="l09358"></a>09358           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dv=*(poffv++);
<a name="l09359"></a>09359           <span class="keywordflow">for</span> (;!dv &amp;&amp; k&lt;dv; std::memcpy(ptrd, ptrd-rwhd, <span class="keyword">sizeof</span>(T)*rwhd), k++, ptrd+=rwhd, dv=*(poffv++));
<a name="l09360"></a>09360           ptrv+=dv;
<a name="l09361"></a>09361         }
<a name="l09362"></a>09362         <span class="keyword">delete</span>[] offx; <span class="keyword">delete</span>[] offy; <span class="keyword">delete</span>[] offz; <span class="keyword">delete</span>[] offv;
<a name="l09363"></a>09363       } <span class="keywordflow">break</span>;
<a name="l09364"></a>09364 
<a name="l09365"></a>09365       <span class="keywordflow">case</span> 2: { <span class="comment">// Mosaic filling</span>
<a name="l09366"></a>09366         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l09367"></a>09367         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dv; k+=dim)
<a name="l09368"></a>09368           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0; z&lt;dz; z+=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)
<a name="l09369"></a>09369             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;dy; y+=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)
<a name="l09370"></a>09370               <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0; x&lt;dx; x+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(*<span class="keyword">this</span>,x,y,z,k);
<a name="l09371"></a>09371       } <span class="keywordflow">break</span>;
<a name="l09372"></a>09372 
<a name="l09373"></a>09373       <span class="keywordflow">case</span> 3: { <span class="comment">// Linear interpolation</span>
<a name="l09374"></a>09374         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dx,dy,dz,dv);
<a name="l09375"></a>09375         <span class="keyword">const</span> <span class="keywordtype">bool</span> bborder = (interp&gt;1 &amp;&amp; border_condition&lt;0);
<a name="l09376"></a>09376         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l09377"></a>09377           sx = bborder?(dx&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1.0f)/(dx-1) :0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/dx,
<a name="l09378"></a>09378           sy = bborder?(dy&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1.0f)/(dy-1):0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/dy,
<a name="l09379"></a>09379           sz = bborder?(dz&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1.0f)/(dz-1) :0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/dz,
<a name="l09380"></a>09380           sv = bborder?(dv&gt;0?(dim-1.0f)/(dv-1)   :0):(<span class="keywordtype">float</span>)dim/dv;
<a name="l09381"></a>09381         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> off = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dimmax], *poff;
<a name="l09382"></a>09382         <span class="keywordtype">float</span> *<span class="keyword">const</span> foff = <span class="keyword">new</span> <span class="keywordtype">float</span>[dimmax], *pfoff, old, curr;
<a name="l09383"></a>09383         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> resx, resy, resz, resv;
<a name="l09384"></a>09384         T *ptrd;
<a name="l09385"></a>09385 
<a name="l09386"></a>09386         <span class="keywordflow">if</span> (dx!=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) {
<a name="l09387"></a>09387           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==1) resx = <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(dx,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,1,0);
<a name="l09388"></a>09388           <span class="keywordflow">else</span> {
<a name="l09389"></a>09389             resx.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09390"></a>09390             curr = old = 0; poff = off; pfoff = foff;
<a name="l09391"></a>09391             cimg_forX(resx,x) { *(pfoff++) = curr-(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr; old = curr; curr+=sx; *(poff++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old; }
<a name="l09392"></a>09392             ptrd = resx.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l09393"></a>09393             <span class="keyword">const</span> T *ptrs0 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l09394"></a>09394             cimg_forYZV(resx,y,z,k) {
<a name="l09395"></a>09395               poff = off; pfoff = foff;
<a name="l09396"></a>09396               <span class="keyword">const</span> T *ptrs = ptrs0, *<span class="keyword">const</span> ptrsmax = ptrs0 + (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l09397"></a>09397               cimg_forX(resx,x) {
<a name="l09398"></a>09398                 <span class="keyword">const</span> <span class="keywordtype">float</span> alpha = *(pfoff++);
<a name="l09399"></a>09399                 <span class="keyword">const</span> T val1 = *ptrs, val2 = ptrs&lt;ptrsmax?*(ptrs+1):(border_condition?val1:0);
<a name="l09400"></a>09400                 *(ptrd++) = (T)((1-alpha)*val1 + alpha*val2);
<a name="l09401"></a>09401                 ptrs+=*(poff++);
<a name="l09402"></a>09402               }
<a name="l09403"></a>09403               ptrs0+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l09404"></a>09404             }
<a name="l09405"></a>09405           }
<a name="l09406"></a>09406         } <span class="keywordflow">else</span> resx.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(*<span class="keyword">this</span>,<span class="keyword">true</span>);
<a name="l09407"></a>09407 
<a name="l09408"></a>09408         <span class="keywordflow">if</span> (dy!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l09409"></a>09409           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==1) resy = resx.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(dx,dy,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,1,0);
<a name="l09410"></a>09410           <span class="keywordflow">else</span> {
<a name="l09411"></a>09411             resy.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09412"></a>09412             curr = old = 0; poff = off; pfoff = foff;
<a name="l09413"></a>09413             cimg_forY(resy,y) { *(pfoff++) = curr-(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr; old = curr; curr+=sy; *(poff++) = dx*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }
<a name="l09414"></a>09414             cimg_forXZV(resy,x,z,k) {
<a name="l09415"></a>09415               ptrd = resy.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,0,z,k);
<a name="l09416"></a>09416               <span class="keyword">const</span> T *ptrs = resx.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,0,z,k), *<span class="keyword">const</span> ptrsmax = ptrs + (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1)*dx;
<a name="l09417"></a>09417               poff = off; pfoff = foff;
<a name="l09418"></a>09418               cimg_forY(resy,y) {
<a name="l09419"></a>09419                 <span class="keyword">const</span> <span class="keywordtype">float</span> alpha = *(pfoff++);
<a name="l09420"></a>09420                 <span class="keyword">const</span> T val1 = *ptrs, val2 = ptrs&lt;ptrsmax?*(ptrs+dx):(border_condition?val1:0);
<a name="l09421"></a>09421                 *ptrd = (T)((1-alpha)*val1 + alpha*val2);
<a name="l09422"></a>09422                 ptrd+=dx;
<a name="l09423"></a>09423                 ptrs+=*(poff++);
<a name="l09424"></a>09424               }
<a name="l09425"></a>09425             }
<a name="l09426"></a>09426           }
<a name="l09427"></a>09427           resx.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l09428"></a>09428         } <span class="keywordflow">else</span> resy.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(resx,<span class="keyword">true</span>);
<a name="l09429"></a>09429 
<a name="l09430"></a>09430         <span class="keywordflow">if</span> (dz!=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) {
<a name="l09431"></a>09431           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==1) resz = resy.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(dx,dy,dz,dim,1,0);
<a name="l09432"></a>09432           <span class="keywordflow">else</span> {
<a name="l09433"></a>09433             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wh = dx*dy;
<a name="l09434"></a>09434             resz.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dim);
<a name="l09435"></a>09435             curr = old = 0; poff = off; pfoff = foff;
<a name="l09436"></a>09436             cimg_forZ(resz,z) { *(pfoff++) = curr-(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr; old = curr; curr+=sz; *(poff++) = wh*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }
<a name="l09437"></a>09437             cimg_forXYV(resz,x,y,k) {
<a name="l09438"></a>09438               ptrd = resz.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,0,k);
<a name="l09439"></a>09439               <span class="keyword">const</span> T *ptrs = resy.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,0,k), *<span class="keyword">const</span> ptrsmax = ptrs + (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1)*wh;
<a name="l09440"></a>09440               poff = off; pfoff = foff;
<a name="l09441"></a>09441               cimg_forZ(resz,z) {
<a name="l09442"></a>09442                 <span class="keyword">const</span> <span class="keywordtype">float</span> alpha = *(pfoff++);
<a name="l09443"></a>09443                 <span class="keyword">const</span> T val1 = *ptrs, val2 = ptrs&lt;ptrsmax?*(ptrs+wh):(border_condition?val1:0);
<a name="l09444"></a>09444                 *ptrd = (T)((1-alpha)*val1 + alpha*val2);
<a name="l09445"></a>09445                 ptrd+=wh;
<a name="l09446"></a>09446                 ptrs+=*(poff++);
<a name="l09447"></a>09447               }
<a name="l09448"></a>09448             }
<a name="l09449"></a>09449           }
<a name="l09450"></a>09450           resy.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l09451"></a>09451         } <span class="keywordflow">else</span> resz.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(resy,<span class="keyword">true</span>);
<a name="l09452"></a>09452 
<a name="l09453"></a>09453         <span class="keywordflow">if</span> (dv!=dim) {
<a name="l09454"></a>09454           <span class="keywordflow">if</span> (dim==1) resv = resz.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(dx,dy,dz,dv,1,0);
<a name="l09455"></a>09455           <span class="keywordflow">else</span> {
<a name="l09456"></a>09456             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whd = dx*dy*dz;
<a name="l09457"></a>09457             resv.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l09458"></a>09458             curr = old = 0; poff = off; pfoff = foff;
<a name="l09459"></a>09459             cimg_forV(resv,k) { *(pfoff++) = curr-(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr; old = curr; curr+=sv; *(poff++) = whd*((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)curr-(<span class="keywordtype">unsigned</span> int)old); }
<a name="l09460"></a>09460             cimg_forXYZ(resv,x,y,z) {
<a name="l09461"></a>09461               ptrd = resv.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,z,0);
<a name="l09462"></a>09462               <span class="keyword">const</span> T *ptrs = resz.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,z,0), *<span class="keyword">const</span> ptrsmax = ptrs + (dim-1)*whd;
<a name="l09463"></a>09463               poff = off; pfoff = foff;
<a name="l09464"></a>09464               cimg_forV(resv,k) {
<a name="l09465"></a>09465                 <span class="keyword">const</span> <span class="keywordtype">float</span> alpha = *(pfoff++);
<a name="l09466"></a>09466                 <span class="keyword">const</span> T val1 = *ptrs, val2 = ptrs&lt;ptrsmax?*(ptrs+whd):(border_condition?val1:0);
<a name="l09467"></a>09467                 *ptrd = (T)((1-alpha)*val1 + alpha*val2);
<a name="l09468"></a>09468                 ptrd+=whd;
<a name="l09469"></a>09469                 ptrs+=*(poff++);
<a name="l09470"></a>09470               }
<a name="l09471"></a>09471             }
<a name="l09472"></a>09472           }
<a name="l09473"></a>09473           resz.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l09474"></a>09474         } <span class="keywordflow">else</span> resv.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(resz,<span class="keyword">true</span>);
<a name="l09475"></a>09475 
<a name="l09476"></a>09476         <span class="keyword">delete</span>[] off; <span class="keyword">delete</span>[] foff;
<a name="l09477"></a>09477         <span class="keywordflow">return</span> resv.<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>?(resz.<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>?(resy.<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>?(resx.<a class="code" href="structcimg__library_1_1_c_img.html#a324b08e7f83d22a0166f2e4571d61543" title="Variable telling if pixel buffer of the instance image is shared with another one.">is_shared</a>?(+(*this)):resx):resy):resz):resv;
<a name="l09478"></a>09478       } <span class="keywordflow">break</span>;
<a name="l09479"></a>09479 
<a name="l09480"></a>09480       <span class="keywordflow">case</span> 4: { <span class="comment">// Grid filling</span>
<a name="l09481"></a>09481         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0);
<a name="l09482"></a>09482         cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,k) res(x*dx/<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,y*dy/<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,z*dz/<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,k*dv/dim) = (*this)(x,y,z,k);
<a name="l09483"></a>09483       } <span class="keywordflow">break</span>;
<a name="l09484"></a>09484 
<a name="l09485"></a>09485       <span class="keywordflow">case</span> 5: { <span class="comment">// Cubic interpolation</span>
<a name="l09486"></a>09486         <span class="keyword">const</span> <span class="keywordtype">bool</span> bborder = (interp&gt;1 &amp;&amp; border_condition&lt;0);
<a name="l09487"></a>09487         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l09488"></a>09488           sx = bborder?(dx&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1.0f)/(dx-1) :0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/dx,
<a name="l09489"></a>09489           sy = bborder?(dy&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1.0f)/(dy-1):0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/dy,
<a name="l09490"></a>09490           sz = bborder?(dz&gt;0?(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1.0f)/(dz-1) :0):(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/dz,
<a name="l09491"></a>09491           sv = bborder?(dv&gt;0?(dim-1.0f)/(dv-1)   :0):(<span class="keywordtype">float</span>)dim/dv;
<a name="l09492"></a>09492         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv);
<a name="l09493"></a>09493         <span class="keywordtype">float</span> cx, cy, cz, ck = 0;
<a name="l09494"></a>09494         cimg_forV(res,k) { cz = 0;
<a name="l09495"></a>09495         cimg_forZ(res,z) { cy = 0;
<a name="l09496"></a>09496         cimg_forY(res,y) { cx = 0;
<a name="l09497"></a>09497         cimg_forX(res,x) { res(x,y,z,k) = (T)(border_condition?<a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(cx,cy,(<span class="keywordtype">int</span>)cz,(<span class="keywordtype">int</span>)ck):<a class="code" href="structcimg__library_1_1_c_img.html#af919e664ee4773be9964003cbf4c38ce" title="Read a pixel value using bicubic interpolation.">cubic_pix2d</a>(cx,cy,(<span class="keywordtype">int</span>)cz,(<span class="keywordtype">int</span>)ck,0));
<a name="l09498"></a>09498         cx+=sx;
<a name="l09499"></a>09499         } cy+=sy;
<a name="l09500"></a>09500         } cz+=sz;
<a name="l09501"></a>09501         } ck+=sv;
<a name="l09502"></a>09502         }
<a name="l09503"></a>09503       } <span class="keywordflow">break</span>;
<a name="l09504"></a>09504 
<a name="l09505"></a>09505       }
<a name="l09506"></a>09506 
<a name="l09507"></a>09507       <span class="keywordflow">return</span> res;
<a name="l09508"></a>09508     }
<a name="l09509"></a>09509 
<a name="l09511"></a>09511 
<a name="l09523"></a><a class="code" href="structcimg__library_1_1_c_img.html#aea04c9d6f49e9afafb781c2022e3c6b5">09523</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aea04c9d6f49e9afafb781c2022e3c6b5" title="Return a resized image.">get_resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; src, <span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1)<span class="keyword"> const </span>{
<a name="l09524"></a>09524       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(src.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,interp,border_condition);
<a name="l09525"></a>09525     }
<a name="l09526"></a>09526 
<a name="l09528"></a>09528 
<a name="l09539"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab86100a5d3d4d50d1dcc2b9ef7ecfa1b">09539</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab86100a5d3d4d50d1dcc2b9ef7ecfa1b" title="Return a resized image.">get_resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp,<span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1)<span class="keyword"> const </span>{
<a name="l09540"></a>09540       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,interp,border_condition);
<a name="l09541"></a>09541     }
<a name="l09542"></a>09542 
<a name="l09544"></a>09544 
<a name="l09558"></a><a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903">09558</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> pdx=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdy=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdz=-100, <span class="keyword">const</span> <span class="keywordtype">int</span> pdv=-100,
<a name="l09559"></a>09559                  <span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1) {
<a name="l09560"></a>09560       <span class="keywordflow">if</span> (!pdx || !pdy || !pdz || !pdv) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l09561"></a>09561       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l09562"></a>09562         dx = pdx&lt;0?-pdx*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/100:pdx,
<a name="l09563"></a>09563         dy = pdy&lt;0?-pdy*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/100:pdy,
<a name="l09564"></a>09564         dz = pdz&lt;0?-pdz*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/100:pdz,
<a name="l09565"></a>09565         dv = pdv&lt;0?-pdv*dim/100:pdv;
<a name="l09566"></a>09566       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==dx &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==dy &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==dz &amp;&amp; dim==dv) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l09567"></a>09567       <span class="keywordflow">if</span> (interp==-1 &amp;&amp; dx*dy*dz*dv==<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=dx; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=dy; <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=dz; dim=dv; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l09568"></a>09568       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(dx,dy,dz,dv,interp,border_condition).swap(*<span class="keyword">this</span>);
<a name="l09569"></a>09569     }
<a name="l09570"></a>09570 
<a name="l09572"></a>09572 
<a name="l09583"></a><a class="code" href="structcimg__library_1_1_c_img.html#a45512054602bebcef182e80ebc2db810">09583</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a45512054602bebcef182e80ebc2db810" title="Resize the image.">resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; src, <span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1) {
<a name="l09584"></a>09584       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(src.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,src.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,interp,border_condition);
<a name="l09585"></a>09585     }
<a name="l09586"></a>09586 
<a name="l09588"></a>09588 
<a name="l09599"></a><a class="code" href="structcimg__library_1_1_c_img.html#a97fc47cd0f75974d283a1440992cee1d">09599</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a97fc47cd0f75974d283a1440992cee1d" title="Resize the image.">resize</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp, <span class="keyword">const</span> <span class="keywordtype">int</span> interp=1, <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=-1) {
<a name="l09600"></a>09600       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,interp,border_condition);
<a name="l09601"></a>09601     }
<a name="l09602"></a>09602 
<a name="l09604"></a>09604 
<a name="l09609"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3fe495de66327a6c9ae822dc0fb05508">09609</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3fe495de66327a6c9ae822dc0fb05508" title="Permute axes order.">get_permute_axes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *permut=<span class="stringliteral">&quot;vxyz&quot;</span>)<span class="keyword"> const </span>{
<a name="l09610"></a>09610       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || !permut) <span class="keywordflow">return</span> (+*<span class="keyword">this</span>);
<a name="l09611"></a>09611       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res;
<a name="l09612"></a>09612       <span class="keyword">const</span> T* ptr = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l09613"></a>09613       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xyzv&quot;</span>,4)) <span class="keywordflow">return</span> (+*<span class="keyword">this</span>);
<a name="l09614"></a>09614       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xyvz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(x,y,v,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09615"></a>09615       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xzyv&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(x,z,y,v) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09616"></a>09616       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xzvy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(x,z,v,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09617"></a>09617       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xvyz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(x,v,y,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09618"></a>09618       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;xvzy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(x,v,z,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09619"></a>09619       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yxzv&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,x,z,v) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09620"></a>09620       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yxvz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,x,v,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09621"></a>09621       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yzxv&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,z,x,v) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09622"></a>09622       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yzvx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,z,v,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09623"></a>09623       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yvxz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,v,x,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09624"></a>09624       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;yvzx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(y,v,z,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09625"></a>09625       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zxyv&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,x,y,v) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09626"></a>09626       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zxvy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,x,v,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09627"></a>09627       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zyxv&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dim); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,y,x,v) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09628"></a>09628       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zyvx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,y,v,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09629"></a>09629       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zvxy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,v,x,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09630"></a>09630       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;zvyx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(z,v,y,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09631"></a>09631       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vxyz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,x,y,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09632"></a>09632       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vxzy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,x,z,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09633"></a>09633       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vyxz&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,y,x,z) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09634"></a>09634       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vyzx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,y,z,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09635"></a>09635       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vzxy&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,z,x,y) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09636"></a>09636       <span class="keywordflow">if</span> (!cimg::strncasecmp(permut,<span class="stringliteral">&quot;vzyx&quot;</span>,4)) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dim,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>); cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,v) res(v,z,y,x) = *(ptr++); <span class="keywordflow">return</span> res; }
<a name="l09637"></a>09637       <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::permute_axes() : Invalid input permutation &#39;%s&#39;.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>,permut);
<a name="l09638"></a>09638       <span class="keywordflow">return</span> res;
<a name="l09639"></a>09639     }
<a name="l09640"></a>09640 
<a name="l09642"></a><a class="code" href="structcimg__library_1_1_c_img.html#aec4879624da69845ca1907fc4464e006">09642</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aec4879624da69845ca1907fc4464e006" title="Permute axes order (in-place version).">permute_axes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *order=<span class="stringliteral">&quot;vxyz&quot;</span>) {
<a name="l09643"></a>09643       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3fe495de66327a6c9ae822dc0fb05508" title="Permute axes order.">get_permute_axes</a>(order).swap(*<span class="keyword">this</span>);
<a name="l09644"></a>09644     }
<a name="l09645"></a>09645 
<a name="l09647"></a>09647 
<a name="l09650"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad8a8546f8ec3a38d580e212797841c49">09650</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ad8a8546f8ec3a38d580e212797841c49" title="Return an half-resized image, using a special filter.">get_resize_halfXY</a>()<span class="keyword"> const </span>{
<a name="l09651"></a>09651       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l09652"></a>09652       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l09653"></a>09653       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> mask = <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">CImg&lt;ftype&gt;::matrix</a>(0.07842776544f, 0.1231940459f, 0.07842776544f,
<a name="l09654"></a>09654                                              0.1231940459f,  0.1935127547f, 0.1231940459f,
<a name="l09655"></a>09655                                              0.07842776544f, 0.1231940459f, 0.07842776544f);
<a name="l09656"></a>09656       CImg_3x3(I,ftype);
<a name="l09657"></a>09657       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09658"></a>09658       cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,k,I)
<a name="l09659"></a>09659         <span class="keywordflow">if</span> (x%2 &amp;&amp; y%2) dest(x/2,y/2,z,k) = (T)cimg_conv3x3(I,mask);
<a name="l09660"></a>09660       <span class="keywordflow">return</span> dest;
<a name="l09661"></a>09661     }
<a name="l09662"></a>09662 
<a name="l09664"></a>09664 
<a name="l09667"></a><a class="code" href="structcimg__library_1_1_c_img.html#a593ac7955800c9964972eac146835227">09667</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a593ac7955800c9964972eac146835227" title="Half-resize the image, using a special filter.">resize_halfXY</a>() {
<a name="l09668"></a>09668       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad8a8546f8ec3a38d580e212797841c49" title="Return an half-resized image, using a special filter.">get_resize_halfXY</a>().swap(*<span class="keyword">this</span>);
<a name="l09669"></a>09669     }
<a name="l09670"></a>09670 
<a name="l09672"></a>09672 
<a name="l09684"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236">09684</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0,
<a name="l09685"></a>09685                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1,
<a name="l09686"></a>09686                   <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition = <span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l09687"></a>09687       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l09688"></a>09688         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::crop() : Instance image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l09689"></a>09689                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l09690"></a>09690       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx=x1-x0+1, dy=y1-y0+1, dz=z1-z0+1, dv=v1-v0+1;
<a name="l09691"></a>09691       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(dx,dy,dz,dv);
<a name="l09692"></a>09692       <span class="keywordflow">if</span> (x0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || x1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || y0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || y1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || z0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> || z1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> ||
<a name="l09693"></a>09693           v0&gt;=dim || v1&gt;=dim || x1&lt;x0 || y1&lt;y0 || z1&lt;z0 || v1&lt;v0)
<a name="l09694"></a>09694         <span class="keywordflow">switch</span> (border_condition) {
<a name="l09695"></a>09695         <span class="keywordflow">case</span> <span class="keyword">false</span>: { cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x0+x,y0+y,z0+z,v0+v,0); } <span class="keywordflow">break</span>;
<a name="l09696"></a>09696         <span class="keywordflow">default</span>: { cimg_forXYZV(dest,x,y,z,v) dest(x,y,z,v) = <a class="code" href="structcimg__library_1_1_c_img.html#af366238596df572d60f361a49cbfa22c" title="Read a pixel value with Dirichlet or Neumann boundary conditions.">pix4d</a>(x0+x,y0+y,z0+z,v0+v); } <span class="keywordflow">break</span>;
<a name="l09697"></a>09697         } <span class="keywordflow">else</span> {
<a name="l09698"></a>09698           <span class="keyword">const</span> T *psrc = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x0,y0,z0,v0);
<a name="l09699"></a>09699           T *pdest = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0);
<a name="l09700"></a>09700           <span class="keywordflow">if</span> (dx!=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)
<a name="l09701"></a>09701             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dv; k++) {
<a name="l09702"></a>09702               <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0; z&lt;dz; z++) {
<a name="l09703"></a>09703                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;dy; y++) {
<a name="l09704"></a>09704                   std::memcpy(pdest,psrc,dx*<span class="keyword">sizeof</span>(T));
<a name="l09705"></a>09705                   pdest+=dx;
<a name="l09706"></a>09706                   psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l09707"></a>09707                 }
<a name="l09708"></a>09708                 psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-dy);
<a name="l09709"></a>09709               }
<a name="l09710"></a>09710               psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-dz);
<a name="l09711"></a>09711             }
<a name="l09712"></a>09712           <span class="keywordflow">else</span> {
<a name="l09713"></a>09713             <span class="keywordflow">if</span> (dy!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)
<a name="l09714"></a>09714               <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dv; k++) {
<a name="l09715"></a>09715                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0; z&lt;dz; z++) {
<a name="l09716"></a>09716                   std::memcpy(pdest,psrc,dx*dy*<span class="keyword">sizeof</span>(T));
<a name="l09717"></a>09717                   pdest+=dx*dy;
<a name="l09718"></a>09718                   psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l09719"></a>09719                 }
<a name="l09720"></a>09720                 psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-dz);
<a name="l09721"></a>09721               }
<a name="l09722"></a>09722             <span class="keywordflow">else</span> {
<a name="l09723"></a>09723               <span class="keywordflow">if</span> (dz!=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)
<a name="l09724"></a>09724                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dv; k++) {
<a name="l09725"></a>09725                   std::memcpy(pdest,psrc,dx*dy*dz*<span class="keyword">sizeof</span>(T));
<a name="l09726"></a>09726                   pdest+=dx*dy*dz;
<a name="l09727"></a>09727                   psrc+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l09728"></a>09728                 }
<a name="l09729"></a>09729               <span class="keywordflow">else</span> std::memcpy(pdest,psrc,dx*dy*dz*dv*<span class="keyword">sizeof</span>(T));
<a name="l09730"></a>09730             }
<a name="l09731"></a>09731           }
<a name="l09732"></a>09732         }
<a name="l09733"></a>09733       <span class="keywordflow">return</span> dest;
<a name="l09734"></a>09734     }
<a name="l09735"></a>09735 
<a name="l09737"></a>09737 
<a name="l09748"></a><a class="code" href="structcimg__library_1_1_c_img.html#a21d83462899c158d09206c8d89554386">09748</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0,
<a name="l09749"></a>09749                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1,
<a name="l09750"></a>09750                   <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l09751"></a>09751       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x0,y0,z0,0,x1,y1,z1,dim-1,border_condition);
<a name="l09752"></a>09752     }
<a name="l09753"></a>09753 
<a name="l09755"></a>09755 
<a name="l09764"></a><a class="code" href="structcimg__library_1_1_c_img.html#af83cbce007c7cc4588bfdd8f4bdb8667">09764</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,
<a name="l09765"></a>09765                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,
<a name="l09766"></a>09766                   <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l09767"></a>09767       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x0,y0,0,0,x1,y1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1,border_condition);
<a name="l09768"></a>09768     }
<a name="l09769"></a>09769 
<a name="l09771"></a>09771 
<a name="l09778"></a><a class="code" href="structcimg__library_1_1_c_img.html#a35b3c1445d027e842ade7de3cf874556">09778</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a35b3c1445d027e842ade7de3cf874556" title="Return a square region of the image, as a new image.">get_crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l09779"></a>09779       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x0,0,0,0,x1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1,border_condition);
<a name="l09780"></a>09780     }
<a name="l09781"></a>09781 
<a name="l09783"></a>09783 
<a name="l09796"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e">09796</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0,
<a name="l09797"></a>09797                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1,
<a name="l09798"></a>09798                <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>) {
<a name="l09799"></a>09799       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x0,y0,z0,v0,x1,y1,z1,v1,border_condition).swap(*<span class="keyword">this</span>);
<a name="l09800"></a>09800     }
<a name="l09801"></a>09801 
<a name="l09803"></a>09803 
<a name="l09814"></a><a class="code" href="structcimg__library_1_1_c_img.html#a12a8b838b51df9cd53b4bf99fbd09fd2">09814</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0,
<a name="l09815"></a>09815                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1,
<a name="l09816"></a>09816                <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>) {
<a name="l09817"></a>09817       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(x0,y0,z0,0,x1,y1,z1,dim-1,border_condition);
<a name="l09818"></a>09818     }
<a name="l09819"></a>09819 
<a name="l09821"></a>09821 
<a name="l09830"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4fdfbde0b73a099246ce989dc36035d6">09830</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,
<a name="l09831"></a>09831                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,
<a name="l09832"></a>09832                <span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>) {
<a name="l09833"></a>09833       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(x0,y0,0,0,x1,y1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1,border_condition);
<a name="l09834"></a>09834     }
<a name="l09835"></a>09835 
<a name="l09837"></a>09837 
<a name="l09844"></a><a class="code" href="structcimg__library_1_1_c_img.html#abd2a8955ef0e22628759ce9c55469a93">09844</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#abd2a8955ef0e22628759ce9c55469a93" title="Replace the image by a square region of the image.">crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">bool</span> border_condition=<span class="keyword">false</span>) {
<a name="l09845"></a>09845       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8a3fca195875af38971e6f9e1536e87e" title="Replace the image by a square region of the image.">crop</a>(x0,0,0,0,x1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1,border_condition);
<a name="l09846"></a>09846     }
<a name="l09847"></a>09847 
<a name="l09849"></a><a class="code" href="structcimg__library_1_1_c_img.html#a630db2b45e12cecc5074abcd5af08a6a">09849</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a630db2b45e12cecc5074abcd5af08a6a" title="Return a set of columns.">get_columns</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1)<span class="keyword"> const </span>{
<a name="l09850"></a>09850       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x0,0,0,0,x1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l09851"></a>09851     }
<a name="l09852"></a>09852 
<a name="l09854"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8eccc5addf3a52ead3d21dfa44193e06">09854</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8eccc5addf3a52ead3d21dfa44193e06" title="Replace the instance image by a set of its columns.">columns</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1) {
<a name="l09855"></a>09855       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a630db2b45e12cecc5074abcd5af08a6a" title="Return a set of columns.">get_columns</a>(x0,x1).swap(*<span class="keyword">this</span>);
<a name="l09856"></a>09856     }
<a name="l09857"></a>09857 
<a name="l09859"></a><a class="code" href="structcimg__library_1_1_c_img.html#a935b82fb5ca9df5f120954480c83d75f">09859</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a935b82fb5ca9df5f120954480c83d75f" title="Return one column.">get_column</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0)<span class="keyword"> const </span>{
<a name="l09860"></a>09860       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a630db2b45e12cecc5074abcd5af08a6a" title="Return a set of columns.">get_columns</a>(x0,x0);
<a name="l09861"></a>09861     }
<a name="l09862"></a>09862 
<a name="l09864"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1fdbb6196417dc8083941372356c1617">09864</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1fdbb6196417dc8083941372356c1617" title="Replace the instance image by one of its column.">column</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0) {
<a name="l09865"></a>09865       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8eccc5addf3a52ead3d21dfa44193e06" title="Replace the instance image by a set of its columns.">columns</a>(x0,x0);
<a name="l09866"></a>09866     }
<a name="l09867"></a>09867 
<a name="l09869"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0d393319ea3287de4296a0fcb00d7ad6">09869</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0d393319ea3287de4296a0fcb00d7ad6" title="Get a copy of a set of lines of the instance image.">get_lines</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1)<span class="keyword"> const </span>{
<a name="l09870"></a>09870       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,y0,0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l09871"></a>09871     }
<a name="l09872"></a>09872 
<a name="l09874"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2eccc05034e6f91bcb82aa0b1b580a25">09874</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2eccc05034e6f91bcb82aa0b1b580a25" title="Replace the instance image by a set of lines of the instance image.">lines</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1) {
<a name="l09875"></a>09875       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0d393319ea3287de4296a0fcb00d7ad6" title="Get a copy of a set of lines of the instance image.">get_lines</a>(y0,y1).swap(*<span class="keyword">this</span>);
<a name="l09876"></a>09876     }
<a name="l09877"></a>09877 
<a name="l09879"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa26c97d13f11c389f4822795e83d5ba5">09879</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa26c97d13f11c389f4822795e83d5ba5" title="Get a copy of a line of the instance image.">get_line</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0)<span class="keyword"> const </span>{
<a name="l09880"></a>09880       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0d393319ea3287de4296a0fcb00d7ad6" title="Get a copy of a set of lines of the instance image.">get_lines</a>(y0,y0);
<a name="l09881"></a>09881     }
<a name="l09882"></a>09882 
<a name="l09884"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7f3b504730dd9cfcdf1c7b136e97b231">09884</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7f3b504730dd9cfcdf1c7b136e97b231" title="Replace the instance image by one of its line.">line</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0) {
<a name="l09885"></a>09885       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2eccc05034e6f91bcb82aa0b1b580a25" title="Replace the instance image by a set of lines of the instance image.">lines</a>(y0,y0);
<a name="l09886"></a>09886     }
<a name="l09887"></a>09887 
<a name="l09889"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9843f41876a24140412075a8c711bfd3">09889</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9843f41876a24140412075a8c711bfd3" title="Get a set of slices.">get_slices</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1)<span class="keyword"> const </span>{
<a name="l09890"></a>09890       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,z0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,z1,dim-1);
<a name="l09891"></a>09891     }
<a name="l09892"></a>09892 
<a name="l09893"></a>09893     <span class="comment">// Replace the image by a set of its z-slices</span>
<a name="l09894"></a>09894     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; slices(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1) {
<a name="l09895"></a>09895       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9843f41876a24140412075a8c711bfd3" title="Get a set of slices.">get_slices</a>(z0,z1).swap(*<span class="keyword">this</span>);
<a name="l09896"></a>09896     }
<a name="l09897"></a>09897 
<a name="l09899"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3c47502661949007400a22e30f471cf6">09899</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3c47502661949007400a22e30f471cf6" title="Get the z-slice z of *this, as a new image.">get_slice</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0)<span class="keyword"> const </span>{
<a name="l09900"></a>09900       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9843f41876a24140412075a8c711bfd3" title="Get a set of slices.">get_slices</a>(z0,z0);
<a name="l09901"></a>09901     }
<a name="l09902"></a>09902 
<a name="l09904"></a><a class="code" href="structcimg__library_1_1_c_img.html#a312cc5fa661410c0fc1b398a7ad26d91">09904</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a312cc5fa661410c0fc1b398a7ad26d91" title="Replace the image by one of its slice.">slice</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0) {
<a name="l09905"></a>09905       <span class="keywordflow">return</span> slices(z0,z0);
<a name="l09906"></a>09906     }
<a name="l09907"></a>09907 
<a name="l09909"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9a5652257b71feb82108388cee00813b">09909</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9a5652257b71feb82108388cee00813b" title="Return a copy of a set of channels of the instance image.">get_channels</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1)<span class="keyword"> const </span>{
<a name="l09910"></a>09910       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,0,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,v1);
<a name="l09911"></a>09911     }
<a name="l09912"></a>09912 
<a name="l09914"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4697340cb41537695c29037889042413">09914</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a4697340cb41537695c29037889042413" title="Replace the instance image by a set of channels of the instance image.">channels</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1) {
<a name="l09915"></a>09915       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9a5652257b71feb82108388cee00813b" title="Return a copy of a set of channels of the instance image.">get_channels</a>(v0,v1).swap(*<span class="keyword">this</span>);
<a name="l09916"></a>09916     }
<a name="l09917"></a>09917 
<a name="l09919"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9a96c001ff0f5ecd35ac1d1a3230c03b">09919</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9a96c001ff0f5ecd35ac1d1a3230c03b" title="Return a copy of a channel of the instance image.">get_channel</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0)<span class="keyword"> const </span>{
<a name="l09920"></a>09920       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9a5652257b71feb82108388cee00813b" title="Return a copy of a set of channels of the instance image.">get_channels</a>(v0,v0);
<a name="l09921"></a>09921     }
<a name="l09922"></a>09922 
<a name="l09924"></a><a class="code" href="structcimg__library_1_1_c_img.html#a06ad2e9421683d330c2e94de93a27ea8">09924</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a06ad2e9421683d330c2e94de93a27ea8" title="Replace the instance image by one of its channel.">channel</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0) {
<a name="l09925"></a>09925       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4697340cb41537695c29037889042413" title="Replace the instance image by a set of channels of the instance image.">channels</a>(v0,v0);
<a name="l09926"></a>09926     }
<a name="l09927"></a>09927 
<a name="l09929"></a><a class="code" href="structcimg__library_1_1_c_img.html#a740f8962ff1960b9072a0210d743139c">09929</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a740f8962ff1960b9072a0210d743139c" title="Get a shared-memory image referencing a set of points of the instance image.">get_shared_points</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,
<a name="l09930"></a>09930                            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0) {
<a name="l09931"></a>09931       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x0,y0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x1,y0,z0,v0);
<a name="l09932"></a>09932       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09933"></a>09933         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_points() : Cannot return a shared-memory subset (%u-&gt;%u,%u,%u,%u) from &quot;</span>
<a name="l09934"></a>09934                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x0,x1,y0,z0,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09935"></a>09935       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,x1-x0+1,1,1,1,<span class="keyword">true</span>);
<a name="l09936"></a>09936     }
<a name="l09937"></a>09937 
<a name="l09939"></a><a class="code" href="structcimg__library_1_1_c_img.html#af07ddce901a21e91238f084e7aaa0ee6">09939</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a740f8962ff1960b9072a0210d743139c" title="Get a shared-memory image referencing a set of points of the instance image.">get_shared_points</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x1,
<a name="l09940"></a>09940                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0)<span class="keyword"> const </span>{
<a name="l09941"></a>09941       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x0,y0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(x1,y0,z0,v0);
<a name="l09942"></a>09942       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09943"></a>09943         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_points() : Cannot return a shared-memory subset (%u-&gt;%u,%u,%u,%u) from &quot;</span>
<a name="l09944"></a>09944                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),x0,x1,y0,z0,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09945"></a>09945       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,x1-x0+1,1,1,1,<span class="keyword">true</span>);
<a name="l09946"></a>09946     }
<a name="l09947"></a>09947 
<a name="l09949"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa1738c002377f0ada89048aae19388d5">09949</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa1738c002377f0ada89048aae19388d5" title="Return a shared-memory image referencing a set of lines of the instance image.">get_shared_lines</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,
<a name="l09950"></a>09950                           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0) {
<a name="l09951"></a>09951       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,y0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,y1,z0,v0);
<a name="l09952"></a>09952       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09953"></a>09953         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_lines() : Cannot return a shared-memory subset (0-&gt;%u,%u-&gt;%u,%u,%u) from &quot;</span>
<a name="l09954"></a>09954                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y0,y1,z0,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09955"></a>09955       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,y1-y0+1,1,1,<span class="keyword">true</span>);
<a name="l09956"></a>09956     }
<a name="l09957"></a>09957 
<a name="l09959"></a><a class="code" href="structcimg__library_1_1_c_img.html#a012e5781b88a060e5565098898f0358a">09959</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa1738c002377f0ada89048aae19388d5" title="Return a shared-memory image referencing a set of lines of the instance image.">get_shared_lines</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y1,
<a name="l09960"></a>09960                                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0)<span class="keyword"> const </span>{
<a name="l09961"></a>09961       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,y0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,y1,z0,v0);
<a name="l09962"></a>09962       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09963"></a>09963         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_lines() : Cannot return a shared-memory subset (0-&gt;%u,%u-&gt;%u,%u,%u) from &quot;</span>
<a name="l09964"></a>09964                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y0,y1,z0,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09965"></a>09965       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,y1-y0+1,1,1,<span class="keyword">true</span>);
<a name="l09966"></a>09966     }
<a name="l09967"></a>09967 
<a name="l09969"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6190f2f8a7f0c1f493dc70fcbab755d9">09969</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a6190f2f8a7f0c1f493dc70fcbab755d9" title="Return a shared-memory image referencing one particular line (y0,z0,v0) of the instance image...">get_shared_line</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0) {
<a name="l09970"></a>09970       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa1738c002377f0ada89048aae19388d5" title="Return a shared-memory image referencing a set of lines of the instance image.">get_shared_lines</a>(y0,y0,z0,v0);
<a name="l09971"></a>09971     }
<a name="l09972"></a>09972 
<a name="l09974"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4e94690fd24c71e827a8e51d0a6b7ec1">09974</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4e94690fd24c71e827a8e51d0a6b7ec1" title="Return a shared-memory image referencing one particular line (y0,z0,v0) of the instance image (const ...">get_shared_line</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0)<span class="keyword"> const </span>{
<a name="l09975"></a>09975       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa1738c002377f0ada89048aae19388d5" title="Return a shared-memory image referencing a set of lines of the instance image.">get_shared_lines</a>(y0,y0,z0,v0);
<a name="l09976"></a>09976     }
<a name="l09977"></a>09977 
<a name="l09979"></a><a class="code" href="structcimg__library_1_1_c_img.html#a669a67979724edfc2d8c74b3e7134e75">09979</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a669a67979724edfc2d8c74b3e7134e75" title="Return a shared memory image referencing a set of planes (z0-&amp;gt;z1,v0) of the instance image...">get_shared_planes</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0) {
<a name="l09980"></a>09980       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,z1,v0);
<a name="l09981"></a>09981       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09982"></a>09982         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_planes() : Cannot return a shared-memory subset (0-&gt;%u,0-&gt;%u,%u-&gt;%u,%u) from &quot;</span>
<a name="l09983"></a>09983                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,z0,z1,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09984"></a>09984       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,z1-z0+1,1,<span class="keyword">true</span>);
<a name="l09985"></a>09985     }
<a name="l09986"></a>09986 
<a name="l09988"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3c3911fd31bc2b2b77085fae5a55cd4c">09988</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3c3911fd31bc2b2b77085fae5a55cd4c" title="Return a shared-memory image referencing a set of planes (z0-&amp;gt;z1,v0) of the instance image (const ...">get_shared_planes</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0)<span class="keyword"> const </span>{
<a name="l09989"></a>09989       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,z0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,z1,v0);
<a name="l09990"></a>09990       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l09991"></a>09991         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_planes() : Cannot return a shared-memory subset (0-&gt;%u,0-&gt;%u,%u-&gt;%u,%u) from &quot;</span>
<a name="l09992"></a>09992                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,z0,z1,v0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l09993"></a>09993       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,z1-z0+1,1,<span class="keyword">true</span>);
<a name="l09994"></a>09994     }
<a name="l09995"></a>09995 
<a name="l09997"></a><a class="code" href="structcimg__library_1_1_c_img.html#afca9bb286cfa7964bf5ae3b48791e86f">09997</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#afca9bb286cfa7964bf5ae3b48791e86f" title="Return a shared-memory image referencing one plane (z0,v0) of the instance image.">get_shared_plane</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0) {
<a name="l09998"></a>09998       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a669a67979724edfc2d8c74b3e7134e75" title="Return a shared memory image referencing a set of planes (z0-&amp;gt;z1,v0) of the instance image...">get_shared_planes</a>(z0,z0,v0);
<a name="l09999"></a>09999     }
<a name="l10000"></a>10000 
<a name="l10002"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8f379d2747764150b87f1542ee1fdbaf">10002</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a8f379d2747764150b87f1542ee1fdbaf" title="Return a shared-memory image referencing one plane (z0,v0) of the instance image (const version)...">get_shared_plane</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0=0)<span class="keyword"> const </span>{
<a name="l10003"></a>10003       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a669a67979724edfc2d8c74b3e7134e75" title="Return a shared memory image referencing a set of planes (z0-&amp;gt;z1,v0) of the instance image...">get_shared_planes</a>(z0,z0,v0);
<a name="l10004"></a>10004     }
<a name="l10005"></a>10005 
<a name="l10007"></a><a class="code" href="structcimg__library_1_1_c_img.html#a910439b3bf66d2f01a6c7516d504faa6">10007</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a910439b3bf66d2f01a6c7516d504faa6" title="Return a shared-memory image referencing a set of channels (v0-&amp;gt;v1) of the instance image...">get_shared_channels</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1) {
<a name="l10008"></a>10008       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,0,v1);
<a name="l10009"></a>10009       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l10010"></a>10010         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_channels() : Cannot return a shared-memory subset (0-&gt;%u,0-&gt;%u,0-&gt;%u,%u-&gt;%u) from &quot;</span>
<a name="l10011"></a>10011                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,v0,v1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l10012"></a>10012       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,v1-v0+1,<span class="keyword">true</span>);
<a name="l10013"></a>10013     }
<a name="l10014"></a>10014 
<a name="l10016"></a><a class="code" href="structcimg__library_1_1_c_img.html#a736815226ced7ea3cbf721dcc3c55e2d">10016</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a736815226ced7ea3cbf721dcc3c55e2d" title="Return a shared-memory image referencing a set of channels (v0-&amp;gt;v1) of the instance image (const v...">get_shared_channels</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v1)<span class="keyword"> const </span>{
<a name="l10017"></a>10017       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> beg = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,0,v0), <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>(0,0,0,v1);
<a name="l10018"></a>10018       <span class="keywordflow">if</span> (beg&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a> || beg&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l10019"></a>10019         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_shared_channels() : Cannot return a shared-memory subset (0-&gt;%u,0-&gt;%u,0-&gt;%u,%u-&gt;%u) from &quot;</span>
<a name="l10020"></a>10020                                     <span class="stringliteral">&quot;a (%u,%u,%u,%u) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,v0,v1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l10021"></a>10021       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+beg,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,v1-v0+1,<span class="keyword">true</span>);
<a name="l10022"></a>10022     }
<a name="l10023"></a>10023 
<a name="l10025"></a><a class="code" href="structcimg__library_1_1_c_img.html#a46c5055f274da78be826242e8f704628">10025</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a46c5055f274da78be826242e8f704628" title="Return a shared-memory image referencing one channel v0 of the instance image.">get_shared_channel</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0) {
<a name="l10026"></a>10026       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a910439b3bf66d2f01a6c7516d504faa6" title="Return a shared-memory image referencing a set of channels (v0-&amp;gt;v1) of the instance image...">get_shared_channels</a>(v0,v0);
<a name="l10027"></a>10027     }
<a name="l10028"></a>10028 
<a name="l10030"></a><a class="code" href="structcimg__library_1_1_c_img.html#a805e0c08d300c92cbe4dbc4b90259de7">10030</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a805e0c08d300c92cbe4dbc4b90259de7" title="Return a shared-memory image referencing one channel v0 of the instance image (const version)...">get_shared_channel</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v0)<span class="keyword"> const </span>{
<a name="l10031"></a>10031       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a910439b3bf66d2f01a6c7516d504faa6" title="Return a shared-memory image referencing a set of channels (v0-&amp;gt;v1) of the instance image...">get_shared_channels</a>(v0,v0);
<a name="l10032"></a>10032     }
<a name="l10033"></a>10033 
<a name="l10035"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9263118438e14cd176f1ac2c75fd4964">10035</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9263118438e14cd176f1ac2c75fd4964" title="Return a shared version of the instance image.">get_shared</a>() {
<a name="l10036"></a>10036       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<span class="keyword">true</span>);
<a name="l10037"></a>10037     }
<a name="l10038"></a>10038 
<a name="l10040"></a><a class="code" href="structcimg__library_1_1_c_img.html#a804619d396b0673efdfe73e89b8fedc5">10040</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a804619d396b0673efdfe73e89b8fedc5" title="Return a shared version of the instance image (const version).">get_shared</a>()<span class="keyword"> const </span>{
<a name="l10041"></a>10041       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<span class="keyword">true</span>);
<a name="l10042"></a>10042     }
<a name="l10043"></a>10043 
<a name="l10045"></a>10045 
<a name="l10049"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0dddf2bd640a2b4c8a1218bf73f116bb">10049</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0dddf2bd640a2b4c8a1218bf73f116bb" title="Mirror an image along the specified axis.">mirror</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>) {
<a name="l10050"></a>10050       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l10051"></a>10051         T *pf,*pb,*buf=0;
<a name="l10052"></a>10052         <span class="keywordflow">switch</span> (cimg::uncase(axe)) {
<a name="l10053"></a>10053         <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: {
<a name="l10054"></a>10054           pf = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(); pb = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l10055"></a>10055           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> yzv=0; yzv&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*dim; yzv++) {
<a name="l10056"></a>10056             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2; x++) { <span class="keyword">const</span> T val = *pf; *(pf++)=*pb; *(pb--)=val; }
<a name="l10057"></a>10057             pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2;
<a name="l10058"></a>10058             pb+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2;
<a name="l10059"></a>10059           }
<a name="l10060"></a>10060         } <span class="keywordflow">break</span>;
<a name="l10061"></a>10061         <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: {
<a name="l10062"></a>10062           buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>];
<a name="l10063"></a>10063           pf = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(); pb = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1);
<a name="l10064"></a>10064           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zv=0; zv&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*dim; zv++) {
<a name="l10065"></a>10065             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2; y++) {
<a name="l10066"></a>10066               std::memcpy(buf,pf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10067"></a>10067               std::memcpy(pf,pb,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10068"></a>10068               std::memcpy(pb,buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10069"></a>10069               pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l10070"></a>10070               pb-=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l10071"></a>10071             }
<a name="l10072"></a>10072             pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2);
<a name="l10073"></a>10073             pb+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2);
<a name="l10074"></a>10074           }
<a name="l10075"></a>10075         } <span class="keywordflow">break</span>;
<a name="l10076"></a>10076         <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: {
<a name="l10077"></a>10077           buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>];
<a name="l10078"></a>10078           pf = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(); pb = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1);
<a name="l10079"></a>10079           cimg_forV(*<span class="keyword">this</span>,v) {
<a name="l10080"></a>10080             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2; z++) {
<a name="l10081"></a>10081               std::memcpy(buf,pf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10082"></a>10082               std::memcpy(pf,pb,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10083"></a>10083               std::memcpy(pb,buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10084"></a>10084               pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l10085"></a>10085               pb-=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*height;
<a name="l10086"></a>10086             }
<a name="l10087"></a>10087             pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2);
<a name="l10088"></a>10088             pb+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>+<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2);
<a name="l10089"></a>10089           }
<a name="l10090"></a>10090         } <span class="keywordflow">break</span>;
<a name="l10091"></a>10091         <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {
<a name="l10092"></a>10092           buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>];
<a name="l10093"></a>10093           pf = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(); pb = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim-1);
<a name="l10094"></a>10094           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0; v&lt;dim/2; v++) {
<a name="l10095"></a>10095             std::memcpy(buf,pf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10096"></a>10096             std::memcpy(pf,pb,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10097"></a>10097             std::memcpy(pb,buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10098"></a>10098             pf+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l10099"></a>10099             pb-=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*depth;
<a name="l10100"></a>10100           }
<a name="l10101"></a>10101         } <span class="keywordflow">break</span>;
<a name="l10102"></a>10102         <span class="keywordflow">default</span>:
<a name="l10103"></a>10103           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::mirror() : unknow axe &#39;%c&#39;, must be &#39;x&#39;,&#39;y&#39;,&#39;z&#39; or &#39;v&#39;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),axe);
<a name="l10104"></a>10104         }
<a name="l10105"></a>10105         <span class="keywordflow">if</span> (buf) <span class="keyword">delete</span>[] buf;
<a name="l10106"></a>10106       }
<a name="l10107"></a>10107       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10108"></a>10108     }
<a name="l10109"></a>10109 
<a name="l10111"></a>10111 
<a name="l10115"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa30247a4338d50b394c47b3a7eeeab48">10115</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa30247a4338d50b394c47b3a7eeeab48" title="Get a mirrored version of the image, along the specified axis.">get_mirror</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>)<span class="keyword"> const </span>{
<a name="l10116"></a>10116       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a0dddf2bd640a2b4c8a1218bf73f116bb" title="Mirror an image along the specified axis.">mirror</a>(axe);
<a name="l10117"></a>10117     }
<a name="l10118"></a>10118 
<a name="l10120"></a>10120 
<a name="l10124"></a><a class="code" href="structcimg__library_1_1_c_img.html#acc1fc108afa5fcd0f334ba0c854a5481">10124</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acc1fc108afa5fcd0f334ba0c854a5481" title="Translate the image.">translate</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> deltax,<span class="keyword">const</span> <span class="keywordtype">int</span> deltay=0,<span class="keyword">const</span> <span class="keywordtype">int</span> deltaz=0,<span class="keyword">const</span> <span class="keywordtype">int</span> deltav=0,<span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=0) {
<a name="l10125"></a>10125       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l10126"></a>10126 
<a name="l10127"></a>10127         <span class="keywordflow">if</span> (deltax) <span class="comment">// Translate along X-axis</span>
<a name="l10128"></a>10128           <span class="keywordflow">switch</span> (border_condition) {
<a name="l10129"></a>10129           <span class="keywordflow">case</span> 0:
<a name="l10130"></a>10130             <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(deltax)&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l10131"></a>10131             <span class="keywordflow">if</span> (deltax&gt;0) cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10132"></a>10132               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(deltax,y,z,k),(width-deltax)*<span class="keyword">sizeof</span>(T));
<a name="l10133"></a>10133               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(width-deltax,y,z,k),0,deltax*<span class="keyword">sizeof</span>(T));
<a name="l10134"></a>10134             } <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10135"></a>10135               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(-deltax,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),(width+deltax)*<span class="keyword">sizeof</span>(T));
<a name="l10136"></a>10136               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),0,-deltax*<span class="keyword">sizeof</span>(T));
<a name="l10137"></a>10137             }
<a name="l10138"></a>10138             <span class="keywordflow">break</span>;
<a name="l10139"></a>10139           <span class="keywordflow">case</span> 1:
<a name="l10140"></a>10140             <span class="keywordflow">if</span> (deltax&gt;0) {
<a name="l10141"></a>10141               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltax = (deltax&gt;=(int)width)?width-1:deltax;
<a name="l10142"></a>10142               <span class="keywordflow">if</span> (!ndeltax) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10143"></a>10143               cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10144"></a>10144                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(ndeltax,y,z,k),(width-ndeltax)*<span class="keyword">sizeof</span>(T));
<a name="l10145"></a>10145                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(width-1,y,z,k);
<a name="l10146"></a>10146                 <span class="keyword">const</span> T &amp;val = *ptrd;
<a name="l10147"></a>10147                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltax-1; l++) *(--ptrd) = val;
<a name="l10148"></a>10148               }
<a name="l10149"></a>10149             } <span class="keywordflow">else</span> {
<a name="l10150"></a>10150               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltax = (-deltax&gt;=(int)width)?width-1:-deltax;
<a name="l10151"></a>10151               <span class="keywordflow">if</span> (!ndeltax) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10152"></a>10152               cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10153"></a>10153                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(ndeltax,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),(width-ndeltax)*<span class="keyword">sizeof</span>(T));
<a name="l10154"></a>10154                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k);
<a name="l10155"></a>10155                 <span class="keyword">const</span> T &amp;val = *ptrd;
<a name="l10156"></a>10156                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltax-1; l++) *(++ptrd) = val;
<a name="l10157"></a>10157               }
<a name="l10158"></a>10158             }
<a name="l10159"></a>10159             <span class="keywordflow">break</span>;
<a name="l10160"></a>10160           <span class="keywordflow">case</span> 2: {
<a name="l10161"></a>10161             <span class="keyword">const</span> <span class="keywordtype">int</span> ml = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(deltax,width), ndeltax = (ml&lt;=(int)width/2)?ml:(ml-(int)width);
<a name="l10162"></a>10162             <span class="keywordflow">if</span> (!ndeltax) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10163"></a>10163             T* buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(ndeltax)];
<a name="l10164"></a>10164             <span class="keywordflow">if</span> (ndeltax&gt;0) cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10165"></a>10165               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),ndeltax*<span class="keyword">sizeof</span>(T));
<a name="l10166"></a>10166               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(ndeltax,y,z,k),(width-ndeltax)*<span class="keyword">sizeof</span>(T));
<a name="l10167"></a>10167               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(width-ndeltax,y,z,k),buf,ndeltax*<span class="keyword">sizeof</span>(T));
<a name="l10168"></a>10168             } <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,k) {
<a name="l10169"></a>10169               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(width+ndeltax,y,z,k),-ndeltax*<span class="keyword">sizeof</span>(T));
<a name="l10170"></a>10170               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(-ndeltax,y,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),(width+ndeltax)*<span class="keyword">sizeof</span>(T));
<a name="l10171"></a>10171               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k),buf,-ndeltax*<span class="keyword">sizeof</span>(T));
<a name="l10172"></a>10172             }
<a name="l10173"></a>10173             <span class="keyword">delete</span>[] buf;
<a name="l10174"></a>10174           } <span class="keywordflow">break</span>;
<a name="l10175"></a>10175           }
<a name="l10176"></a>10176 
<a name="l10177"></a>10177         <span class="keywordflow">if</span> (deltay) <span class="comment">// Translate along Y-axis</span>
<a name="l10178"></a>10178           <span class="keywordflow">switch</span> (border_condition) {
<a name="l10179"></a>10179           <span class="keywordflow">case</span> 0:
<a name="l10180"></a>10180             <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(deltay)&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l10181"></a>10181             <span class="keywordflow">if</span> (deltay&gt;0) cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10182"></a>10182               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,deltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height-deltay)*<span class="keyword">sizeof</span>(T));
<a name="l10183"></a>10183               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,height-deltay,z,k),0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*deltay*<span class="keyword">sizeof</span>(T));
<a name="l10184"></a>10184             } <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10185"></a>10185               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,-deltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height+deltay)*<span class="keyword">sizeof</span>(T));
<a name="l10186"></a>10186               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),0,-deltay*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10187"></a>10187             }
<a name="l10188"></a>10188             <span class="keywordflow">break</span>;
<a name="l10189"></a>10189           <span class="keywordflow">case</span> 1:
<a name="l10190"></a>10190             <span class="keywordflow">if</span> (deltay&gt;0) {
<a name="l10191"></a>10191               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltay = (deltay&gt;=(int)height)?height-1:deltay;
<a name="l10192"></a>10192               <span class="keywordflow">if</span> (!ndeltay) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10193"></a>10193               cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10194"></a>10194                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,ndeltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height-ndeltay)*<span class="keyword">sizeof</span>(T));
<a name="l10195"></a>10195                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,height-ndeltay,z,k), *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,height-1,z,k);
<a name="l10196"></a>10196                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltay-1; l++) { std::memcpy(ptrd,ptrs,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; }
<a name="l10197"></a>10197               }
<a name="l10198"></a>10198             } <span class="keywordflow">else</span> {
<a name="l10199"></a>10199               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltay = (-deltay&gt;=(int)height)?height-1:-deltay;
<a name="l10200"></a>10200               <span class="keywordflow">if</span> (!ndeltay) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10201"></a>10201               cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10202"></a>10202                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,ndeltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height-ndeltay)*<span class="keyword">sizeof</span>(T));
<a name="l10203"></a>10203                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1,z,k), *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k);
<a name="l10204"></a>10204                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltay-1; l++) { std::memcpy(ptrd,ptrs,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; }
<a name="l10205"></a>10205               }
<a name="l10206"></a>10206             }
<a name="l10207"></a>10207             <span class="keywordflow">break</span>;
<a name="l10208"></a>10208           <span class="keywordflow">case</span> 2: {
<a name="l10209"></a>10209             <span class="keyword">const</span> <span class="keywordtype">int</span> ml = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(deltay,height), ndeltay = (ml&lt;=(int)height/2)?ml:(ml-(int)height);
<a name="l10210"></a>10210             <span class="keywordflow">if</span> (!ndeltay) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10211"></a>10211             T* buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(ndeltay)];
<a name="l10212"></a>10212             <span class="keywordflow">if</span> (ndeltay&gt;0) cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10213"></a>10213               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*ndeltay*<span class="keyword">sizeof</span>(T));
<a name="l10214"></a>10214               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,ndeltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height-ndeltay)*<span class="keyword">sizeof</span>(T));
<a name="l10215"></a>10215               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,height-ndeltay,z,k),buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*ndeltay*<span class="keyword">sizeof</span>(T));
<a name="l10216"></a>10216             } <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,k) {
<a name="l10217"></a>10217               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,height+ndeltay,z,k),-ndeltay*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10218"></a>10218               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,-ndeltay,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(height+ndeltay)*<span class="keyword">sizeof</span>(T));
<a name="l10219"></a>10219               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,z,k),buf,-ndeltay*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<span class="keyword">sizeof</span>(T));
<a name="l10220"></a>10220             }
<a name="l10221"></a>10221             <span class="keyword">delete</span>[] buf;
<a name="l10222"></a>10222           } <span class="keywordflow">break</span>;
<a name="l10223"></a>10223           }
<a name="l10224"></a>10224 
<a name="l10225"></a>10225         <span class="keywordflow">if</span> (deltaz) <span class="comment">// Translate along Z-axis</span>
<a name="l10226"></a>10226           <span class="keywordflow">switch</span> (border_condition) {
<a name="l10227"></a>10227           <span class="keywordflow">case</span> 0:
<a name="l10228"></a>10228             <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(deltaz)&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l10229"></a>10229             <span class="keywordflow">if</span> (deltaz&gt;0) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10230"></a>10230               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,deltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth-deltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10231"></a>10231               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,depth-deltaz,k),0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*deltaz*<span class="keyword">sizeof</span>(T));
<a name="l10232"></a>10232             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10233"></a>10233               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,-deltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth+deltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10234"></a>10234               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),0,-deltaz*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10235"></a>10235             }
<a name="l10236"></a>10236             <span class="keywordflow">break</span>;
<a name="l10237"></a>10237           <span class="keywordflow">case</span> 1:
<a name="l10238"></a>10238             <span class="keywordflow">if</span> (deltaz&gt;0) {
<a name="l10239"></a>10239               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltaz = (deltaz&gt;=(int)depth)?depth-1:deltaz;
<a name="l10240"></a>10240               <span class="keywordflow">if</span> (!ndeltaz) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10241"></a>10241               cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10242"></a>10242                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,ndeltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth-ndeltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10243"></a>10243                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,depth-ndeltaz,k), *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,depth-1,k);
<a name="l10244"></a>10244                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltaz-1; l++) { std::memcpy(ptrd,ptrs,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; }
<a name="l10245"></a>10245               }
<a name="l10246"></a>10246             } <span class="keywordflow">else</span> {
<a name="l10247"></a>10247               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltaz = (-deltaz&gt;=(int)depth)?depth-1:-deltaz;
<a name="l10248"></a>10248               <span class="keywordflow">if</span> (!ndeltaz) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10249"></a>10249               cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10250"></a>10250                 std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,ndeltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth-ndeltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10251"></a>10251                 T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,1,k), *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k);
<a name="l10252"></a>10252                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltaz-1; l++) { std::memcpy(ptrd,ptrs,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; }
<a name="l10253"></a>10253               }
<a name="l10254"></a>10254             }
<a name="l10255"></a>10255             <span class="keywordflow">break</span>;
<a name="l10256"></a>10256           <span class="keywordflow">case</span> 2: {
<a name="l10257"></a>10257             <span class="keyword">const</span> <span class="keywordtype">int</span> ml = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(deltaz,depth), ndeltaz = (ml&lt;=(int)depth/2)?ml:(ml-(int)depth);
<a name="l10258"></a>10258             <span class="keywordflow">if</span> (!ndeltaz) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10259"></a>10259             T* buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(ndeltaz)];
<a name="l10260"></a>10260             <span class="keywordflow">if</span> (ndeltaz&gt;0) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10261"></a>10261               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*ndeltaz*<span class="keyword">sizeof</span>(T));
<a name="l10262"></a>10262               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,ndeltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth-ndeltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10263"></a>10263               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,depth-ndeltaz,k),buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*ndeltaz*<span class="keyword">sizeof</span>(T));
<a name="l10264"></a>10264             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10265"></a>10265               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,depth+ndeltaz,k),-ndeltaz*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10266"></a>10266               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,-ndeltaz,k),<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(depth+ndeltaz)*<span class="keyword">sizeof</span>(T));
<a name="l10267"></a>10267               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k),buf,-ndeltaz*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<span class="keyword">sizeof</span>(T));
<a name="l10268"></a>10268             }
<a name="l10269"></a>10269             <span class="keyword">delete</span>[] buf;
<a name="l10270"></a>10270           } <span class="keywordflow">break</span>;
<a name="l10271"></a>10271           }
<a name="l10272"></a>10272 
<a name="l10273"></a>10273         <span class="keywordflow">if</span> (deltav) <span class="comment">// Translate along V-axis</span>
<a name="l10274"></a>10274           <span class="keywordflow">switch</span> (border_condition) {
<a name="l10275"></a>10275           <span class="keywordflow">case</span> 0:
<a name="l10276"></a>10276             <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(deltav)&gt;=(<span class="keywordtype">int</span>)dim) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l10277"></a>10277             <span class="keywordflow">if</span> (deltav&gt;0) {
<a name="l10278"></a>10278               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,deltav),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim-deltav)*<span class="keyword">sizeof</span>(T));
<a name="l10279"></a>10279               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim-deltav),0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*deltav*<span class="keyword">sizeof</span>(T));
<a name="l10280"></a>10280             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l10281"></a>10281               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,-deltav),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim+deltav)*<span class="keyword">sizeof</span>(T));
<a name="l10282"></a>10282               std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,0,-deltav*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10283"></a>10283             }
<a name="l10284"></a>10284             <span class="keywordflow">break</span>;
<a name="l10285"></a>10285           <span class="keywordflow">case</span> 1:
<a name="l10286"></a>10286             <span class="keywordflow">if</span> (deltav&gt;0) {
<a name="l10287"></a>10287               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltav = (deltav&gt;=(int)dim)?dim-1:deltav;
<a name="l10288"></a>10288               <span class="keywordflow">if</span> (!ndeltav) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10289"></a>10289               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,ndeltav),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim-ndeltav)*<span class="keyword">sizeof</span>(T));
<a name="l10290"></a>10290               T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim-ndeltav), *ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim-1);
<a name="l10291"></a>10291               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltav-1; l++) { std::memcpy(ptrd,ptrs,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; }
<a name="l10292"></a>10292             } <span class="keywordflow">else</span> {
<a name="l10293"></a>10293               <span class="keyword">const</span> <span class="keywordtype">int</span> ndeltav = (-deltav&gt;=(int)dim)?dim-1:-deltav;
<a name="l10294"></a>10294               <span class="keywordflow">if</span> (!ndeltav) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10295"></a>10295               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,ndeltav),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim-ndeltav)*<span class="keyword">sizeof</span>(T));
<a name="l10296"></a>10296               T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l10297"></a>10297               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;ndeltav-1; l++) { std::memcpy(ptrd,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T)); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; }
<a name="l10298"></a>10298             }
<a name="l10299"></a>10299             <span class="keywordflow">break</span>;
<a name="l10300"></a>10300           <span class="keywordflow">case</span> 2: {
<a name="l10301"></a>10301             <span class="keyword">const</span> <span class="keywordtype">int</span> ml = <a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(deltav,dim), ndeltav = (ml&lt;=(int)dim/2)?ml:(ml-(int)dim);
<a name="l10302"></a>10302             <span class="keywordflow">if</span> (!ndeltav) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10303"></a>10303             T* buf = <span class="keyword">new</span> T[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(ndeltav)];
<a name="l10304"></a>10304             <span class="keywordflow">if</span> (ndeltav&gt;0) {
<a name="l10305"></a>10305               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*ndeltav*<span class="keyword">sizeof</span>(T));
<a name="l10306"></a>10306               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,ndeltav),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim-ndeltav)*<span class="keyword">sizeof</span>(T));
<a name="l10307"></a>10307               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim-ndeltav),buf,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*ndeltav*<span class="keyword">sizeof</span>(T));
<a name="l10308"></a>10308             } <span class="keywordflow">else</span> {
<a name="l10309"></a>10309               std::memcpy(buf,<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim+ndeltav),-ndeltav*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10310"></a>10310               std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,-ndeltav),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*(dim+ndeltav)*<span class="keyword">sizeof</span>(T));
<a name="l10311"></a>10311               std::memcpy(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,buf,-ndeltav*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*<span class="keyword">sizeof</span>(T));
<a name="l10312"></a>10312             }
<a name="l10313"></a>10313             <span class="keyword">delete</span>[] buf;
<a name="l10314"></a>10314           } <span class="keywordflow">break</span>;
<a name="l10315"></a>10315           }
<a name="l10316"></a>10316       }
<a name="l10317"></a>10317       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10318"></a>10318     }
<a name="l10319"></a>10319 
<a name="l10321"></a>10321 
<a name="l10333"></a><a class="code" href="structcimg__library_1_1_c_img.html#af8c9f6ca06e378ada0bfd7516ae4b69d">10333</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#af8c9f6ca06e378ada0bfd7516ae4b69d" title="Return a translated image.">get_translate</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> deltax,<span class="keyword">const</span> <span class="keywordtype">int</span> deltay=0,<span class="keyword">const</span> <span class="keywordtype">int</span> deltaz=0,<span class="keyword">const</span> <span class="keywordtype">int</span> deltav=0,
<a name="l10334"></a>10334                     <span class="keyword">const</span> <span class="keywordtype">int</span> border_condition=0)<span class="keyword"> const </span>{
<a name="l10335"></a>10335       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#acc1fc108afa5fcd0f334ba0c854a5481" title="Translate the image.">translate</a>(deltax,deltay,deltaz,deltav,border_condition);
<a name="l10336"></a>10336     }
<a name="l10337"></a>10337 
<a name="l10339"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae8369d9edb2ba3f79a64a8e940b921ed">10339</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae8369d9edb2ba3f79a64a8e940b921ed" title="Return a 2D representation of a 3D image, with three slices.">get_projections2d</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> px0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> py0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pz0)<span class="keyword"> const </span>{
<a name="l10340"></a>10340       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l10341"></a>10341       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l10342"></a>10342         x0=(px0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1:px0,
<a name="l10343"></a>10343         y0=(py0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:py0,
<a name="l10344"></a>10344         z0=(pz0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1:pz0;
<a name="l10345"></a>10345       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,1,dim);
<a name="l10346"></a>10346       res.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>((*<span class="keyword">this</span>)[0]);
<a name="l10347"></a>10347       { cimg_forXYV(*<span class="keyword">this</span>,x,y,k) res(x,y,0,k)        = (*this)(x,y,z0,k); }
<a name="l10348"></a>10348       { cimg_forYZV(*<span class="keyword">this</span>,y,z,k) res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+z,y,0,k)  = (*this)(x0,y,z,k); }
<a name="l10349"></a>10349       { cimg_forXZV(*<span class="keyword">this</span>,x,z,k) res(x,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+z,0,k) = (*this)(x,y0,z,k); }
<a name="l10350"></a>10350       <span class="keywordflow">return</span> res;
<a name="l10351"></a>10351     }
<a name="l10352"></a>10352 
<a name="l10354"></a>10354 
<a name="l10372"></a><a class="code" href="structcimg__library_1_1_c_img.html#a388cdc9ea14c5979ca244087647e344d">10372</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a388cdc9ea14c5979ca244087647e344d" title="Return the image histogram.">get_histogram</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nblevels=256,<span class="keyword">const</span> T val_min=(T)0,<span class="keyword">const</span> T val_max=(T)0)<span class="keyword"> const </span>{
<a name="l10373"></a>10373       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>();
<a name="l10374"></a>10374       <span class="keywordflow">if</span> (nblevels&lt;1)
<a name="l10375"></a>10375         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_histogram() : Can&#39;t compute an histogram with %u levels&quot;</span>,
<a name="l10376"></a>10376                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),nblevels);
<a name="l10377"></a>10377       T vmin=val_min, vmax=val_max;
<a name="l10378"></a>10378       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> res(nblevels,1,1,1,0);
<a name="l10379"></a>10379       <span class="keywordflow">if</span> (vmin==vmax &amp;&amp; vmin==0) { <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>,<span class="keyword">false</span>); vmin = (T)st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>; vmax = (T)st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>; }
<a name="l10380"></a>10380       cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l10381"></a>10381         <span class="keyword">const</span> <span class="keywordtype">int</span> pos = (int)((*ptr-vmin)*(nblevels-1)/(vmax-vmin));
<a name="l10382"></a>10382         <span class="keywordflow">if</span> (pos&gt;=0 &amp;&amp; pos&lt;(<span class="keywordtype">int</span>)nblevels) res[pos]++;
<a name="l10383"></a>10383       }
<a name="l10384"></a>10384       <span class="keywordflow">return</span> res;
<a name="l10385"></a>10385     }
<a name="l10386"></a>10386 
<a name="l10388"></a>10388 
<a name="l10389"></a><a class="code" href="structcimg__library_1_1_c_img.html#a386c5bfabae28bf303b5aba88e73b974">10389</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a386c5bfabae28bf303b5aba88e73b974" title="Equalize the image histogram.">equalize_histogram</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nblevels=256,<span class="keyword">const</span> T val_min=(T)0,<span class="keyword">const</span> T val_max=(T)0) {
<a name="l10390"></a>10390       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l10391"></a>10391         T vmin=val_min, vmax=val_max;
<a name="l10392"></a>10392         <span class="keywordflow">if</span> (vmin==vmax &amp;&amp; vmin==0) { <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>,<span class="keyword">false</span>); vmin = (T)st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>; vmax = (T)st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>; }
<a name="l10393"></a>10393         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> hist = <a class="code" href="structcimg__library_1_1_c_img.html#a388cdc9ea14c5979ca244087647e344d" title="Return the image histogram.">get_histogram</a>(nblevels,vmin,vmax);
<a name="l10394"></a>10394         <span class="keywordtype">float</span> cumul=0;
<a name="l10395"></a>10395         cimg_forX(hist,pos) { cumul+=hist[pos]; hist[pos]=cumul; }
<a name="l10396"></a>10396         cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l10397"></a>10397           <span class="keyword">const</span> <span class="keywordtype">int</span> pos = (<span class="keywordtype">unsigned</span> int)((*ptr-vmin)*(nblevels-1)/(vmax-vmin));
<a name="l10398"></a>10398           <span class="keywordflow">if</span> (pos&gt;=0 &amp;&amp; pos&lt;(<span class="keywordtype">int</span>)nblevels) *ptr = (T)(vmin + (vmax-vmin)*hist[pos]/<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l10399"></a>10399         }
<a name="l10400"></a>10400       }
<a name="l10401"></a>10401       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10402"></a>10402     }
<a name="l10403"></a>10403 
<a name="l10405"></a>10405 
<a name="l10419"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad51813f525845badc730fafa4282f94a">10419</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ad51813f525845badc730fafa4282f94a" title="Return the histogram-equalized version of the current image.">get_equalize_histogram</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nblevels=256,<span class="keyword">const</span> T val_min=(T)0,<span class="keyword">const</span> T val_max=(T)0)<span class="keyword"> const </span>{
<a name="l10420"></a>10420       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a386c5bfabae28bf303b5aba88e73b974" title="Equalize the image histogram.">equalize_histogram</a>(nblevels,val_min,val_max);
<a name="l10421"></a>10421     }
<a name="l10422"></a>10422 
<a name="l10424"></a>10424 
<a name="l10432"></a><a class="code" href="structcimg__library_1_1_c_img.html#a68578c8d130fa1c00dee778855faa12d">10432</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a68578c8d130fa1c00dee778855faa12d" title="Return the scalar image of vector norms.">get_norm_pointwise</a>(<span class="keywordtype">int</span> norm_type=2)<span class="keyword"> const </span>{
<a name="l10433"></a>10433       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10434"></a>10434       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l10435"></a>10435       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l10436"></a>10436       <span class="keywordflow">switch</span>(norm_type) {
<a name="l10437"></a>10437       <span class="keywordflow">case</span> -1: {             <span class="comment">// Linf norm</span>
<a name="l10438"></a>10438         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10439"></a>10439           restype n=0; cimg_forV(*<span class="keyword">this</span>,v) {
<a name="l10440"></a>10440             <span class="keyword">const</span> restype tmp = (restype)<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>((*<span class="keyword">this</span>)(x,y,z,v));
<a name="l10441"></a>10441             <span class="keywordflow">if</span> (tmp&gt;n) n=tmp; res(x,y,z) = n;
<a name="l10442"></a>10442           }
<a name="l10443"></a>10443         }
<a name="l10444"></a>10444       } <span class="keywordflow">break</span>;
<a name="l10445"></a>10445       <span class="keywordflow">case</span> 1: {              <span class="comment">// L1 norm</span>
<a name="l10446"></a>10446         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10447"></a>10447           restype n=0; cimg_forV(*<span class="keyword">this</span>,v) n+=<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>((*<span class="keyword">this</span>)(x,y,z,v)); res(x,y,z) = n;
<a name="l10448"></a>10448         }
<a name="l10449"></a>10449       } <span class="keywordflow">break</span>;
<a name="l10450"></a>10450       <span class="keywordflow">default</span>: {             <span class="comment">// L2 norm</span>
<a name="l10451"></a>10451         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10452"></a>10452           restype n=0; cimg_forV(*<span class="keyword">this</span>,v) n+=(*this)(x,y,z,v)*(*<span class="keyword">this</span>)(x,y,z,v); res(x,y,z) = (restype)std::sqrt((<span class="keywordtype">double</span>)n);
<a name="l10453"></a>10453         }
<a name="l10454"></a>10454       } <span class="keywordflow">break</span>;
<a name="l10455"></a>10455       }
<a name="l10456"></a>10456       <span class="keywordflow">return</span> res;
<a name="l10457"></a>10457     }
<a name="l10458"></a>10458 
<a name="l10460"></a>10460 
<a name="l10465"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2c7af7a94c6ada6645257c8cd0ffa791">10465</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2c7af7a94c6ada6645257c8cd0ffa791" title="Replace each pixel value with its vector norm.">norm_pointwise</a>(<span class="keywordtype">int</span> norm_type=2) {
<a name="l10466"></a>10466       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a68578c8d130fa1c00dee778855faa12d" title="Return the scalar image of vector norms.">get_norm_pointwise</a>(norm_type)).swap(*<span class="keyword">this</span>);
<a name="l10467"></a>10467     }
<a name="l10468"></a>10468 
<a name="l10470"></a>10470 
<a name="l10476"></a><a class="code" href="structcimg__library_1_1_c_img.html#aaa04a8797ca311168ad2b516db361b15">10476</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#aaa04a8797ca311168ad2b516db361b15" title="Return the image of normalized vectors.">get_orientation_pointwise</a>()<span class="keyword"> const </span>{
<a name="l10477"></a>10477       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10478"></a>10478       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l10479"></a>10479       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a361a2f26fd4692a9f429982d2a071985" title="Replace each pixel value by its normalized vector.">orientation_pointwise</a>();
<a name="l10480"></a>10480     }
<a name="l10481"></a>10481 
<a name="l10483"></a>10483 
<a name="l10484"></a><a class="code" href="structcimg__library_1_1_c_img.html#a361a2f26fd4692a9f429982d2a071985">10484</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a361a2f26fd4692a9f429982d2a071985" title="Replace each pixel value by its normalized vector.">orientation_pointwise</a>() {
<a name="l10485"></a>10485       cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10486"></a>10486         <span class="keywordtype">float</span> n = 0.0f;
<a name="l10487"></a>10487         cimg_forV(*<span class="keyword">this</span>,v) n+=(float)((*<span class="keyword">this</span>)(x,y,z,v)*(*<span class="keyword">this</span>)(x,y,z,v));
<a name="l10488"></a>10488         n = (float)std::sqrt(n);
<a name="l10489"></a>10489         <span class="keywordflow">if</span> (n&gt;0) cimg_forV(*<span class="keyword">this</span>,v) (*this)(x,y,z,v)=(T)((*this)(x,y,z,v)/n);
<a name="l10490"></a>10490         <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,v) (*this)(x,y,z,v)=0;
<a name="l10491"></a>10491       }
<a name="l10492"></a>10492       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10493"></a>10493     }
<a name="l10494"></a>10494 
<a name="l10496"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4c5863135f8535b0603cd5e5f9eb48df">10496</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4c5863135f8535b0603cd5e5f9eb48df" title="Split image into a list CImgList&amp;lt;&amp;gt;.">get_split</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb=0)<span class="keyword"> const </span>{
<a name="l10497"></a>10497       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>();
<a name="l10498"></a>10498       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res;
<a name="l10499"></a>10499       <span class="keywordflow">switch</span> (cimg::uncase(axe)) {
<a name="l10500"></a>10500       <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: {
<a name="l10501"></a>10501         <span class="keywordflow">if</span> (nb&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)
<a name="l10502"></a>10502           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_split() : Cannot split instance image (%u,%u,%u,%u,%p) along &#39;x&#39; into %u images.&quot;</span>,
<a name="l10503"></a>10503                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,nb);
<a name="l10504"></a>10504         res.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(nb?nb:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l10505"></a>10505         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta = width/res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> + ((width%res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)?1:0);
<a name="l10506"></a>10506         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l,x;
<a name="l10507"></a>10507         <span class="keywordflow">for</span> (l=0, x=0; l&lt;res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1; l++, x+=delta) res[l] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x,0,0,0,x+delta-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l10508"></a>10508         res[res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x,0,0,0,width-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l10509"></a>10509       } <span class="keywordflow">break</span>;
<a name="l10510"></a>10510       <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: {
<a name="l10511"></a>10511         <span class="keywordflow">if</span> (nb&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)
<a name="l10512"></a>10512           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_split() : Cannot split instance image (%u,%u,%u,%u,%p) along &#39;y&#39; into %u images.&quot;</span>,
<a name="l10513"></a>10513                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,nb);
<a name="l10514"></a>10514         res.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(nb?nb:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l10515"></a>10515         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta = height/res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> + ((height%res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)?1:0);
<a name="l10516"></a>10516         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l,x;
<a name="l10517"></a>10517         <span class="keywordflow">for</span> (l=0, x=0; l&lt;res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1; l++, x+=delta) res[l] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,x,0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,x+delta-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l10518"></a>10518         res[res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,x,0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,height-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l10519"></a>10519       } <span class="keywordflow">break</span>;
<a name="l10520"></a>10520       <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: {
<a name="l10521"></a>10521         <span class="keywordflow">if</span> (nb&gt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)
<a name="l10522"></a>10522           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_split() : Cannot split instance image (%u,%u,%u,%u,%p) along &#39;z&#39; into %u images.&quot;</span>,
<a name="l10523"></a>10523                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,nb);
<a name="l10524"></a>10524         res.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(nb?nb:<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l10525"></a>10525         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta = depth/res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> + ((depth%res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)?1:0);
<a name="l10526"></a>10526         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l,x;
<a name="l10527"></a>10527         <span class="keywordflow">for</span> (l=0, x=0; l&lt;res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1; l++, x+=delta) res[l] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,x,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,x+delta-1,dim-1);
<a name="l10528"></a>10528         res[res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,x,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,depth-1,dim-1);
<a name="l10529"></a>10529       } <span class="keywordflow">break</span>;
<a name="l10530"></a>10530       <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {
<a name="l10531"></a>10531         <span class="keywordflow">if</span> (nb&gt;dim)
<a name="l10532"></a>10532           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_split() : Cannot split instance image (%u,%u,%u,%u,%p) along &#39;v&#39; into %u images.&quot;</span>,
<a name="l10533"></a>10533                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,nb);
<a name="l10534"></a>10534         res.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(nb?nb:dim);
<a name="l10535"></a>10535         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta = dim/res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> + ((dim%res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)?1:0);
<a name="l10536"></a>10536         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l,x;
<a name="l10537"></a>10537         <span class="keywordflow">for</span> (l=0, x=0; l&lt;res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1; l++, x+=delta) res[l] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,0,x,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,x+delta-1);
<a name="l10538"></a>10538         res[res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1] = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(0,0,0,x,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,dim-1);
<a name="l10539"></a>10539       } <span class="keywordflow">break</span>;
<a name="l10540"></a>10540       <span class="keywordflow">default</span>:
<a name="l10541"></a>10541         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_split() : Unknow axe &#39;%c&#39;, must be &#39;x&#39;,&#39;y&#39;,&#39;z&#39; or &#39;v&#39;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),axe);
<a name="l10542"></a>10542         <span class="keywordflow">break</span>;
<a name="l10543"></a>10543       }
<a name="l10544"></a>10544       <span class="keywordflow">return</span> res;
<a name="l10545"></a>10545     }
<a name="l10546"></a>10546 
<a name="l10548"></a><a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692">10548</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;x&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>)<span class="keyword"> const </span>{
<a name="l10549"></a>10549       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10550"></a>10550       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> img;
<a name="l10551"></a>10551       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> temp(2);
<a name="l10552"></a>10552       temp[0].width = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; temp[0].height = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; temp[0].depth = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l10553"></a>10553       temp[0].dim = dim; temp[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l10554"></a>10554       temp[1].width = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; temp[1].height = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; temp[1].depth = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l10555"></a>10555       temp[1].dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; temp[1].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l10556"></a>10556       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res = temp.<a class="code" href="structcimg__library_1_1_c_img_list.html#a2e328f768b98559b1d2b9706b1839b31" title="Return a single image which is the concatenation of all images of the current CImgList instance...">get_append</a>(axis,align);
<a name="l10557"></a>10557       temp[0].width = temp[0].height = temp[0].depth = temp[0].dim = 0; temp[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = 0;
<a name="l10558"></a>10558       temp[1].width = temp[1].height = temp[1].depth = temp[1].dim = 0; temp[1].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = 0;
<a name="l10559"></a>10559       <span class="keywordflow">return</span> res;
<a name="l10560"></a>10560     }
<a name="l10561"></a>10561 
<a name="l10563"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8442c06fc68070a08e4a83c55813dc57">10563</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8442c06fc68070a08e4a83c55813dc57" title="Append an image to another one (in-place version).">append</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;x&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>) {
<a name="l10564"></a>10564       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10565"></a>10565       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> (*<span class="keyword">this</span>=img);
<a name="l10566"></a>10566       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(img,axis,align).swap(*<span class="keyword">this</span>);
<a name="l10567"></a>10567     }
<a name="l10568"></a>10568 
<a name="l10570"></a>10570 
<a name="l10579"></a><a class="code" href="structcimg__library_1_1_c_img.html#a83b4b5cfe51e492bf94a8c559c7da304">10579</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a83b4b5cfe51e492bf94a8c559c7da304" title="Return a list of images, corresponding to the XY-gradients of an image.">get_gradientXY</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=0)<span class="keyword"> const </span>{
<a name="l10580"></a>10580       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10581"></a>10581       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(2);
<a name="l10582"></a>10582       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a> res(2,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l10583"></a>10583       <span class="keywordflow">switch</span>(scheme) {
<a name="l10584"></a>10584       <span class="keywordflow">case</span> -1: { <span class="comment">// backward finite differences</span>
<a name="l10585"></a>10585         CImg_3x3(I,restype);
<a name="l10586"></a>10586         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,k,I) { res[0](x,y,z,k) = Icc-Ipc; res[1](x,y,z,k) = Icc-Icp; }
<a name="l10587"></a>10587       } <span class="keywordflow">break</span>;
<a name="l10588"></a>10588       <span class="keywordflow">case</span> 1: { <span class="comment">// forward finite differences</span>
<a name="l10589"></a>10589         CImg_2x2(I,restype);
<a name="l10590"></a>10590         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for2x2(*<span class="keyword">this</span>,x,y,z,k,I) { res[0](x,y,0,k) = Inc-Icc; res[1](x,y,z,k) = Icn-Icc; }
<a name="l10591"></a>10591       } <span class="keywordflow">break</span>;
<a name="l10592"></a>10592       <span class="keywordflow">case</span> 2: { <span class="comment">// using Sobel mask</span>
<a name="l10593"></a>10593         CImg_3x3(I,restype);
<a name="l10594"></a>10594         <span class="keyword">const</span> <span class="keywordtype">float</span> a = 1, b = 2;
<a name="l10595"></a>10595         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10596"></a>10596           res[0](x,y,z,k) = -a*Ipp-b*Ipc-a*Ipn+a*Inp+b*Inc+a*Inn;
<a name="l10597"></a>10597           res[1](x,y,z,k) = -a*Ipp-b*Icp-a*Inp+a*Ipn+b*Icn+a*Inn;
<a name="l10598"></a>10598         }
<a name="l10599"></a>10599       } <span class="keywordflow">break</span>;
<a name="l10600"></a>10600       <span class="keywordflow">case</span> 3: { <span class="comment">// using rotation invariant mask</span>
<a name="l10601"></a>10601         CImg_3x3(I,restype);
<a name="l10602"></a>10602         <span class="keyword">const</span> <span class="keywordtype">float</span> a = (float)(0.25*(2-std::sqrt(2.0))), b = (<span class="keywordtype">float</span>)(0.5f*(<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(2.0)-1));
<a name="l10603"></a>10603         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10604"></a>10604           res[0](x,y,z,k) = -a*Ipp-b*Ipc-a*Ipn+a*Inp+b*Inc+a*Inn;
<a name="l10605"></a>10605           res[1](x,y,z,k) = -a*Ipp-b*Icp-a*Inp+a*Ipn+b*Icn+a*Inn;
<a name="l10606"></a>10606         }
<a name="l10607"></a>10607       } <span class="keywordflow">break</span>;
<a name="l10608"></a>10608       <span class="keywordflow">case</span> 4: { <span class="comment">// using Deriche filter with low standard variation</span>
<a name="l10609"></a>10609         res[0] = <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(0,1,<span class="charliteral">&#39;x&#39;</span>);
<a name="l10610"></a>10610         res[1] = <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(0,1,<span class="charliteral">&#39;y&#39;</span>);
<a name="l10611"></a>10611       } <span class="keywordflow">break</span>;
<a name="l10612"></a>10612       <span class="keywordflow">default</span>: { <span class="comment">// central finite differences</span>
<a name="l10613"></a>10613         CImg_3x3(I,restype);
<a name="l10614"></a>10614         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10615"></a>10615           res[0](x,y,z,k) = 0.5f*(Inc-Ipc);
<a name="l10616"></a>10616           res[1](x,y,z,k) = 0.5f*(Icn-Icp);
<a name="l10617"></a>10617         }
<a name="l10618"></a>10618       } <span class="keywordflow">break</span>;
<a name="l10619"></a>10619       }
<a name="l10620"></a>10620       <span class="keywordflow">return</span> res;
<a name="l10621"></a>10621     }
<a name="l10622"></a>10622 
<a name="l10624"></a>10624 
<a name="l10627"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1e6795a49e69fcae84efce88eea99090">10627</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a1e6795a49e69fcae84efce88eea99090" title="Return a list of images, corresponding to the XYZ-gradients of an image.">get_gradientXYZ</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=0)<span class="keyword"> const </span>{
<a name="l10628"></a>10628       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10629"></a>10629       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(3);
<a name="l10630"></a>10630       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a> res(3,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l10631"></a>10631       CImg_3x3x3(I,restype);
<a name="l10632"></a>10632       <span class="keywordflow">switch</span>(scheme) {
<a name="l10633"></a>10633       <span class="keywordflow">case</span> -1: { <span class="comment">// backward finite differences</span>
<a name="l10634"></a>10634         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10635"></a>10635           res[0](x,y,z,k) = Iccc-Ipcc;
<a name="l10636"></a>10636           res[1](x,y,z,k) = Iccc-Icpc;
<a name="l10637"></a>10637           res[2](x,y,z,k) = Iccc-Iccp;
<a name="l10638"></a>10638         }
<a name="l10639"></a>10639       } <span class="keywordflow">break</span>;
<a name="l10640"></a>10640       <span class="keywordflow">case</span> 1: { <span class="comment">// forward finite differences</span>
<a name="l10641"></a>10641         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10642"></a>10642           res[0](x,y,z,k) = Incc-Iccc;
<a name="l10643"></a>10643           res[1](x,y,z,k) = Icnc-Iccc;
<a name="l10644"></a>10644           res[2](x,y,z,k) = Iccn-Iccc;
<a name="l10645"></a>10645         }
<a name="l10646"></a>10646       } <span class="keywordflow">break</span>;
<a name="l10647"></a>10647       <span class="keywordflow">case</span> 4: { <span class="comment">// using Deriche filter with low standard variation</span>
<a name="l10648"></a>10648         res[0] = <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(0,1,<span class="charliteral">&#39;x&#39;</span>);
<a name="l10649"></a>10649         res[1] = <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(0,1,<span class="charliteral">&#39;y&#39;</span>);
<a name="l10650"></a>10650         res[2] = <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(0,1,<span class="charliteral">&#39;z&#39;</span>);
<a name="l10651"></a>10651       } <span class="keywordflow">break</span>;
<a name="l10652"></a>10652       <span class="keywordflow">default</span>: { <span class="comment">// central finite differences</span>
<a name="l10653"></a>10653         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10654"></a>10654           res[0](x,y,z,k) = 0.5f*(Incc-Ipcc);
<a name="l10655"></a>10655           res[1](x,y,z,k) = 0.5f*(Icnc-Icpc);
<a name="l10656"></a>10656           res[2](x,y,z,k) = 0.5f*(Iccn-Iccp);
<a name="l10657"></a>10657         }
<a name="l10658"></a>10658       } <span class="keywordflow">break</span>;
<a name="l10659"></a>10659       }
<a name="l10660"></a>10660       <span class="keywordflow">return</span> res;
<a name="l10661"></a>10661     }
<a name="l10662"></a>10662 
<a name="l10664"></a><a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98">10664</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98" title="Return the 2D structure tensor field of an image.">get_structure_tensorXY</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=1)<span class="keyword"> const </span>{
<a name="l10665"></a>10665       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10666"></a>10666       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l10667"></a>10667       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,3,0);
<a name="l10668"></a>10668       CImg_3x3(I,restype);
<a name="l10669"></a>10669       <span class="keywordflow">switch</span> (scheme) {
<a name="l10670"></a>10670       <span class="keywordflow">case</span> 0: { <span class="comment">// classical central finite differences</span>
<a name="l10671"></a>10671         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,0,k,I) {
<a name="l10672"></a>10672           <span class="keyword">const</span> restype
<a name="l10673"></a>10673             ix = 0.5f*(Inc-Ipc),
<a name="l10674"></a>10674             iy = 0.5f*(Icn-Icp);
<a name="l10675"></a>10675           res(x,y,z,0)+=ix*ix;
<a name="l10676"></a>10676           res(x,y,z,1)+=ix*iy;
<a name="l10677"></a>10677           res(x,y,z,2)+=iy*iy;
<a name="l10678"></a>10678         }
<a name="l10679"></a>10679       } <span class="keywordflow">break</span>;
<a name="l10680"></a>10680       <span class="keywordflow">default</span>: { <span class="comment">// Precise forward/backward finite differences</span>
<a name="l10681"></a>10681         cimg_forZV(*<span class="keyword">this</span>,z,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,0,k,I) {
<a name="l10682"></a>10682           <span class="keyword">const</span> restype
<a name="l10683"></a>10683             ixf = Inc-Icc, ixb = Icc-Ipc,
<a name="l10684"></a>10684             iyf = Icn-Icc, iyb = Icc-Icp;
<a name="l10685"></a>10685           res(x,y,z,0) += 0.5f*(ixf*ixf+ixb*ixb);
<a name="l10686"></a>10686           res(x,y,z,1) += 0.25f*(ixf*iyf+ixf*iyb+ixb*iyf+ixb*iyb);
<a name="l10687"></a>10687           res(x,y,z,2) += 0.5f*(iyf*iyf+iyb*iyb);
<a name="l10688"></a>10688         }
<a name="l10689"></a>10689       } <span class="keywordflow">break</span>;
<a name="l10690"></a>10690       }
<a name="l10691"></a>10691       <span class="keywordflow">return</span> res;
<a name="l10692"></a>10692     }
<a name="l10693"></a>10693 
<a name="l10695"></a><a class="code" href="structcimg__library_1_1_c_img.html#a95bf97089ffefc83f1d36c2279fd0ff8">10695</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a95bf97089ffefc83f1d36c2279fd0ff8" title="In-place version of the previous function.">structure_tensorXY</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=1) {
<a name="l10696"></a>10696       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98" title="Return the 2D structure tensor field of an image.">get_structure_tensorXY</a>(scheme).swap(*<span class="keyword">this</span>);
<a name="l10697"></a>10697     }
<a name="l10698"></a>10698 
<a name="l10700"></a><a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102">10700</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102" title="Return the 3D structure tensor field of an image.">get_structure_tensorXYZ</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=1)<span class="keyword"> const </span>{
<a name="l10701"></a>10701       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l10702"></a>10702       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l10703"></a>10703       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,6,0);
<a name="l10704"></a>10704       CImg_3x3x3(I,restype);
<a name="l10705"></a>10705       <span class="keywordflow">switch</span> (scheme) {
<a name="l10706"></a>10706       <span class="keywordflow">case</span> 0: { <span class="comment">// classical central finite differences</span>
<a name="l10707"></a>10707         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10708"></a>10708           <span class="keyword">const</span> restype
<a name="l10709"></a>10709             ix = 0.5f*(Incc-Ipcc),
<a name="l10710"></a>10710             iy = 0.5f*(Icnc-Icpc),
<a name="l10711"></a>10711             iz = 0.5f*(Iccn-Iccp);
<a name="l10712"></a>10712           res(x,y,z,0)+=ix*ix;
<a name="l10713"></a>10713           res(x,y,z,1)+=ix*iy;
<a name="l10714"></a>10714           res(x,y,z,2)+=ix*iz;
<a name="l10715"></a>10715           res(x,y,z,3)+=iy*iy;
<a name="l10716"></a>10716           res(x,y,z,4)+=iy*iz;
<a name="l10717"></a>10717           res(x,y,z,5)+=iz*iz;
<a name="l10718"></a>10718         }
<a name="l10719"></a>10719       } <span class="keywordflow">break</span>;
<a name="l10720"></a>10720       <span class="keywordflow">default</span>: { <span class="comment">// Precise forward/backward finite differences</span>
<a name="l10721"></a>10721         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l10722"></a>10722           <span class="keyword">const</span> restype
<a name="l10723"></a>10723             ixf = Incc-Iccc, ixb = Iccc-Ipcc,
<a name="l10724"></a>10724             iyf = Icnc-Iccc, iyb = Iccc-Icpc,
<a name="l10725"></a>10725             izf = Iccn-Iccc, izb = Iccc-Iccp;
<a name="l10726"></a>10726           res(x,y,z,0) += 0.5f*(ixf*ixf + ixb*ixb);
<a name="l10727"></a>10727           res(x,y,z,1) += 0.25f*(ixf*iyf + ixf*iyb + ixb*iyf + ixb*iyb);
<a name="l10728"></a>10728           res(x,y,z,2) += 0.25f*(ixf*izf + ixf*izb + ixb*izf + ixb*izb);
<a name="l10729"></a>10729           res(x,y,z,3) += 0.5f*(iyf*iyf + iyb*iyb);
<a name="l10730"></a>10730           res(x,y,z,4) += 0.25f*(iyf*izf + iyf*izb + iyb*izf + iyb*izb);
<a name="l10731"></a>10731           res(x,y,z,5) += 0.5f*(izf*izf + izb*izb);
<a name="l10732"></a>10732         }
<a name="l10733"></a>10733       } <span class="keywordflow">break</span>;
<a name="l10734"></a>10734       }
<a name="l10735"></a>10735       <span class="keywordflow">return</span> res;
<a name="l10736"></a>10736     }
<a name="l10737"></a>10737 
<a name="l10739"></a><a class="code" href="structcimg__library_1_1_c_img.html#adb7eeb782112814c00bf84b7fa396a42">10739</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#adb7eeb782112814c00bf84b7fa396a42" title="In-place version of the previous function.">structure_tensorXYZ</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> scheme=1) {
<a name="l10740"></a>10740       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102" title="Return the 3D structure tensor field of an image.">get_structure_tensorXYZ</a>(scheme).swap(*<span class="keyword">this</span>);
<a name="l10741"></a>10741     }
<a name="l10742"></a>10742 
<a name="l10744"></a>10744     <span class="comment">//-------------------------------------</span>
<a name="l10745"></a>10745     <span class="comment">//</span>
<a name="l10747"></a>10747 <span class="comment"></span>
<a name="l10748"></a>10748     <span class="comment">//-------------------------------------</span>
<a name="l10749"></a>10749 
<a name="l10750"></a><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func.html">10750</a>     <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func.html">_marching_squares_func</a> {
<a name="l10751"></a>10751       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; ref;
<a name="l10752"></a>10752       <a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func.html">_marching_squares_func</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; pref):ref(pref) {}
<a name="l10753"></a>10753       <span class="keywordtype">float</span> operator()(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y)<span class="keyword"> const </span>{
<a name="l10754"></a>10754         <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)ref((<span class="keywordtype">int</span>)x,(<span class="keywordtype">int</span>)y);
<a name="l10755"></a>10755       }
<a name="l10756"></a>10756     };
<a name="l10757"></a>10757 
<a name="l10758"></a><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func.html">10758</a>     <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func.html">_marching_cubes_func</a> {
<a name="l10759"></a>10759       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; ref;
<a name="l10760"></a>10760       <a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func.html">_marching_cubes_func</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; pref):ref(pref) {}
<a name="l10761"></a>10761       <span class="keywordtype">float</span> operator()(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y, <span class="keyword">const</span> <span class="keywordtype">float</span> z)<span class="keyword"> const </span>{
<a name="l10762"></a>10762         <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)ref((<span class="keywordtype">int</span>)x,(<span class="keywordtype">int</span>)y,(<span class="keywordtype">int</span>)z);
<a name="l10763"></a>10763       }
<a name="l10764"></a>10764     };
<a name="l10765"></a>10765 
<a name="l10766"></a><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func__float.html">10766</a>     <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func__float.html">_marching_squares_func_float</a> {
<a name="l10767"></a>10767       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; ref;
<a name="l10768"></a>10768       <a class="code" href="structcimg__library_1_1_c_img_1_1__marching__squares__func__float.html">_marching_squares_func_float</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; pref):ref(pref) {}
<a name="l10769"></a>10769       <span class="keywordtype">float</span> operator()(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y)<span class="keyword"> const </span>{
<a name="l10770"></a>10770         <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)ref.linear_pix2d(x,y);
<a name="l10771"></a>10771       }
<a name="l10772"></a>10772     };
<a name="l10773"></a>10773 
<a name="l10774"></a><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func__float.html">10774</a>     <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func__float.html">_marching_cubes_func_float</a> {
<a name="l10775"></a>10775       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; ref;
<a name="l10776"></a>10776       <a class="code" href="structcimg__library_1_1_c_img_1_1__marching__cubes__func__float.html">_marching_cubes_func_float</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; pref):ref(pref) {}
<a name="l10777"></a>10777       <span class="keywordtype">float</span> operator()(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y, <span class="keyword">const</span> <span class="keywordtype">float</span> z)<span class="keyword"> const </span>{
<a name="l10778"></a>10778         <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)ref.linear_pix3d(x,y,z);
<a name="l10779"></a>10779       }
<a name="l10780"></a>10780     };
<a name="l10781"></a>10781 
<a name="l10783"></a>10783     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l10784"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f">10784</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f" title="Get a vectorization of an implicit function defined by the instance image.">marching_squares</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives)<span class="keyword"> const </span>{
<a name="l10785"></a>10785       <span class="keywordflow">if</span> (height&lt;=1 || depth&gt;1 || dim&gt;1)
<a name="l10786"></a>10786         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::marching_squares() : Instance image (%u,%u,%u,%u,%p) is not a 2D scalar image.&quot;</span>,
<a name="l10787"></a>10787                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l10788"></a>10788       <span class="keyword">const</span> _marching_squares_func func(*<span class="keyword">this</span>);
<a name="l10789"></a>10789       <a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f" title="Get a vectorization of an implicit function defined by the instance image.">cimg::marching_squares</a>(func,isovalue,0.0f,0.0f,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1.0f,1.0f,1.0f,points,primitives);
<a name="l10790"></a>10790       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10791"></a>10791     }
<a name="l10792"></a>10792 
<a name="l10794"></a>10794 
<a name="l10797"></a>10797     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l10798"></a><a class="code" href="structcimg__library_1_1_c_img.html#a83741abce6ab182d7bdeb39213e13a7c">10798</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f" title="Get a vectorization of an implicit function defined by the instance image.">marching_squares</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l10799"></a>10799                                  <span class="keyword">const</span> <span class="keywordtype">float</span> resx, <span class="keyword">const</span> <span class="keywordtype">float</span> resy,
<a name="l10800"></a>10800                                  <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives)<span class="keyword"> const </span>{
<a name="l10801"></a>10801       <span class="keywordflow">if</span> (height&lt;=1 || depth&gt;1 || dim&gt;1)
<a name="l10802"></a>10802         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::marching_squares() : Instance image (%u,%u,%u,%u,%p) is not a 2D scalar image.&quot;</span>,
<a name="l10803"></a>10803                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l10804"></a>10804       <span class="keyword">const</span> _marching_squares_func_float func(*<span class="keyword">this</span>);
<a name="l10805"></a>10805       <a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f" title="Get a vectorization of an implicit function defined by the instance image.">cimg::marching_squares</a>(func,isovalue,0.0f,0.0f,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1.0f,resx,resy,points,primitives);
<a name="l10806"></a>10806       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10807"></a>10807     }
<a name="l10808"></a>10808 
<a name="l10810"></a>10810     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l10811"></a><a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602">10811</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602" title="Get a triangulation of an implicit function defined by the instance image.">marching_cubes</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l10812"></a>10812                                <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces = <span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l10813"></a>10813       <span class="keywordflow">if</span> (depth&lt;=1 || dim&gt;1)
<a name="l10814"></a>10814         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::marching_cubes() : Instance image (%u,%u,%u,%u,%p) is not a 3D scalar image.&quot;</span>,
<a name="l10815"></a>10815                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l10816"></a>10816       <span class="keyword">const</span> _marching_cubes_func func(*<span class="keyword">this</span>);
<a name="l10817"></a>10817       <a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602" title="Get a triangulation of an implicit function defined by the instance image.">cimg::marching_cubes</a>(func,isovalue,0.0f,0.0f,0.0f,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1.0f,
<a name="l10818"></a>10818                            1.0f,1.0f,1.0f,points,primitives,invert_faces);
<a name="l10819"></a>10819       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10820"></a>10820     }
<a name="l10821"></a>10821 
<a name="l10823"></a>10823 
<a name="l10826"></a>10826     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l10827"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4cd7c02509da1cca924a94a9164010ec">10827</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602" title="Get a triangulation of an implicit function defined by the instance image.">marching_cubes</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l10828"></a>10828                                <span class="keyword">const</span> <span class="keywordtype">float</span> resx, <span class="keyword">const</span> <span class="keywordtype">float</span> resy, <span class="keyword">const</span> <span class="keywordtype">float</span> resz,
<a name="l10829"></a>10829                                <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l10830"></a>10830                                <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces = <span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l10831"></a>10831       <span class="keywordflow">if</span> (depth&lt;=1 || dim&gt;1)
<a name="l10832"></a>10832         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::marching_cubes() : Instance image (%u,%u,%u,%u,%p) is not a 3D scalar image.&quot;</span>,
<a name="l10833"></a>10833                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l10834"></a>10834       <span class="keyword">const</span> _marching_cubes_func_float func(*<span class="keyword">this</span>);
<a name="l10835"></a>10835       <a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602" title="Get a triangulation of an implicit function defined by the instance image.">cimg::marching_cubes</a>(func,isovalue,0.0f,0.0f,0.0f,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1.0f,<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1.0f,
<a name="l10836"></a>10836                            resx,resy,resz,points,primitives,invert_faces);
<a name="l10837"></a>10837       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l10838"></a>10838     }
<a name="l10839"></a>10839 
<a name="l10841"></a>10841     <span class="comment">//----------------------------</span>
<a name="l10842"></a>10842     <span class="comment">//</span>
<a name="l10844"></a>10844 <span class="comment"></span>
<a name="l10845"></a>10845     <span class="comment">//----------------------------</span>
<a name="l10846"></a>10846 
<a name="l10848"></a>10848 
<a name="l10854"></a><a class="code" href="structcimg__library_1_1_c_img.html#a34d519a14c0aed27660fb42d25bf5f74">10854</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a34d519a14c0aed27660fb42d25bf5f74" title="Return the default 256 colors palette.">get_default_LUT8</a>() {
<a name="l10855"></a>10855       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> palette;
<a name="l10856"></a>10856       <span class="keywordflow">if</span> (!palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) {
<a name="l10857"></a>10857         palette.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(256,1,1,3);
<a name="l10858"></a>10858         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index=0, r=16; r&lt;256; r+=32)
<a name="l10859"></a>10859           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> g=16; g&lt;256; g+=32)
<a name="l10860"></a>10860             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b=32; b&lt;256; b+=64) {
<a name="l10861"></a>10861               palette(index,0) = r;
<a name="l10862"></a>10862               palette(index,1) = g;
<a name="l10863"></a>10863               palette(index++,2) = b;
<a name="l10864"></a>10864             }
<a name="l10865"></a>10865       }
<a name="l10866"></a>10866       <span class="keywordflow">return</span> palette;
<a name="l10867"></a>10867     }
<a name="l10868"></a>10868 
<a name="l10870"></a>10870 
<a name="l10878"></a><a class="code" href="structcimg__library_1_1_c_img.html#a42074afcc6368e1bcaf0532f61123492">10878</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a42074afcc6368e1bcaf0532f61123492" title="Convert color pixels from (R,G,B) to match a specified palette.">get_RGBtoLUT</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; palette, <span class="keyword">const</span> <span class="keywordtype">bool</span> dithering=<span class="keyword">true</span>,<span class="keyword">const</span> <span class="keywordtype">bool</span> indexing=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l10879"></a>10879       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>();
<a name="l10880"></a>10880       <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoLUT() : Input image dimension is dim=%u, &quot;</span>
<a name="l10881"></a>10881                                               <span class="stringliteral">&quot;should be a (R,G,B) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l10882"></a>10882       <span class="keywordflow">if</span> (palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; palette.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=3)
<a name="l10883"></a>10883         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoLUT() : Given palette dimension is dim=%u, &quot;</span>
<a name="l10884"></a>10884                                     <span class="stringliteral">&quot;should be a (R,G,B) palette&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),palette.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l10885"></a>10885       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,indexing?1:3), pal = palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>?palette:<a class="code" href="structcimg__library_1_1_c_img.html#a34d519a14c0aed27660fb42d25bf5f74" title="Return the default 256 colors palette.">CImg&lt;t&gt;::get_default_LUT8</a>();
<a name="l10886"></a>10886       <span class="keywordtype">float</span> *line1 = <span class="keyword">new</span> <span class="keywordtype">float</span>[3*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>], *line2 = <span class="keyword">new</span> <span class="keywordtype">float</span>[3*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>], *pline1 = line1, *pline2 = line2;
<a name="l10887"></a>10887       cimg_forZ(*<span class="keyword">this</span>,z) {
<a name="l10888"></a>10888         <span class="keywordtype">float</span> *ptr=pline2; cimg_forX(*<span class="keyword">this</span>,x) { *(ptr++)=(*<span class="keyword">this</span>)(x,0,z,0); *(ptr++)=(*<span class="keyword">this</span>)(x,0,z,1); *(ptr++)=(*<span class="keyword">this</span>)(x,0,z,2); }
<a name="l10889"></a>10889         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l10890"></a>10890           cimg::swap(pline1,pline2);
<a name="l10891"></a>10891           <span class="keywordflow">if</span> (y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1) {
<a name="l10892"></a>10892             <span class="keyword">const</span> <span class="keywordtype">int</span> ny = y+1;
<a name="l10893"></a>10893             <span class="keywordtype">float</span> *ptr=pline2; cimg_forX(*<span class="keyword">this</span>,x) { *(ptr++)=(*<span class="keyword">this</span>)(x,ny,z,0); *(ptr++)=(*<span class="keyword">this</span>)(x,ny,z,1); *(ptr++)=(*<span class="keyword">this</span>)(x,ny,z,2); }
<a name="l10894"></a>10894           }
<a name="l10895"></a>10895           <span class="keywordtype">float</span> *ptr1=pline1, *ptr2=pline2;
<a name="l10896"></a>10896           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l10897"></a>10897             <span class="keywordtype">float</span> R = *(ptr1++), G = *(ptr1++), B = *(ptr1++);
<a name="l10898"></a>10898             R = R&lt;0?0:(R&gt;255?255:R); G = G&lt;0?0:(G&gt;255?255:G); B = B&lt;0?0:(B&gt;255?255:B);
<a name="l10899"></a>10899             <span class="keywordtype">int</span> best_index = 0;
<a name="l10900"></a>10900             t Rbest=0,Gbest=0,Bbest=0;
<a name="l10901"></a>10901             <span class="keywordflow">if</span> (palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) { <span class="comment">// find best match in given color palette</span>
<a name="l10902"></a>10902               <span class="keywordtype">float</span> min = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;float&gt;::max</a>();
<a name="l10903"></a>10903               cimg_forX(palette,off) {
<a name="l10904"></a>10904                 <span class="keyword">const</span> t Rp = palette(off,0), Gp = palette(off,1), Bp = palette(off,2);
<a name="l10905"></a>10905                 <span class="keyword">const</span> <span class="keywordtype">float</span> error = (float)((Rp-R)*(Rp-R) + (Gp-G)*(Gp-G) + (Bp-B)*(Bp-B));
<a name="l10906"></a>10906                 <span class="keywordflow">if</span> (error&lt;min) { min=error; best_index=off; Rbest=Rp; Gbest=Gp; Bbest=Bp; }
<a name="l10907"></a>10907               }
<a name="l10908"></a>10908             } <span class="keywordflow">else</span> {
<a name="l10909"></a>10909               Rbest = (t)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)R&amp;0xe0); Gbest = (t)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)G&amp;0xe0); Bbest = (t)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)B&amp;0xc0);
<a name="l10910"></a>10910               best_index = (<span class="keywordtype">unsigned</span> char)Rbest | ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)Gbest&gt;&gt;3) | ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)Bbest&gt;&gt;6);
<a name="l10911"></a>10911             }
<a name="l10912"></a>10912             <span class="keywordflow">if</span> (indexing) res(x,y,z) = best_index;
<a name="l10913"></a>10913             <span class="keywordflow">else</span> { res(x,y,z,0) = Rbest; res(x,y,z,1) = Gbest; res(x,y,z,2) = Bbest; }
<a name="l10914"></a>10914             <span class="keywordflow">if</span> (dithering) { <span class="comment">// apply dithering to neighborhood pixels if needed</span>
<a name="l10915"></a>10915               <span class="keyword">const</span> <span class="keywordtype">float</span> dR = (float)(R-Rbest), dG = (float)(G-Gbest), dB = (float)(B-Bbest);
<a name="l10916"></a>10916               <span class="keywordflow">if</span> (x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1) { *(ptr1++)+= dR*7/16; *(ptr1++)+= dG*7/16; *(ptr1++)+= dB*7/16; ptr1-=3; }
<a name="l10917"></a>10917               <span class="keywordflow">if</span> (y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1) {
<a name="l10918"></a>10918                 *(ptr2++)+= dR*5/16; *(ptr2++)+= dG*5/16; *ptr2+= dB*5/16; ptr2-=2;
<a name="l10919"></a>10919                 <span class="keywordflow">if</span> (x&gt;0) { *(--ptr2)+= dB*3/16; *(--ptr2)+= dG*3/16; *(--ptr2)+= dR*3/16; ptr2+=3; }
<a name="l10920"></a>10920                 <span class="keywordflow">if</span> (x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1) { ptr2+=3; *(ptr2++)+= dR/16; *(ptr2++)+= dG/16; *ptr2+= dB/16; ptr2-=5; }
<a name="l10921"></a>10921               }
<a name="l10922"></a>10922             }
<a name="l10923"></a>10923             ptr2+=3;
<a name="l10924"></a>10924           }
<a name="l10925"></a>10925         }
<a name="l10926"></a>10926       }
<a name="l10927"></a>10927       <span class="keyword">delete</span>[] line1; <span class="keyword">delete</span>[] line2;
<a name="l10928"></a>10928       <span class="keywordflow">return</span> res;
<a name="l10929"></a>10929     }
<a name="l10930"></a>10930 
<a name="l10932"></a>10932 
<a name="l10935"></a><a class="code" href="structcimg__library_1_1_c_img.html#a21e9195be99dcd4db84faf8e7b8f52f4">10935</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a21e9195be99dcd4db84faf8e7b8f52f4" title="Convert color pixels from (R,G,B) to match the default 256 colors palette.">get_RGBtoLUT</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> dithering=<span class="keyword">true</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> indexing=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l10936"></a>10936       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> foo;
<a name="l10937"></a>10937       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a42074afcc6368e1bcaf0532f61123492" title="Convert color pixels from (R,G,B) to match a specified palette.">get_RGBtoLUT</a>(foo,dithering,indexing);
<a name="l10938"></a>10938     }
<a name="l10939"></a>10939 
<a name="l10941"></a>10941 
<a name="l10942"></a><a class="code" href="structcimg__library_1_1_c_img.html#abcf750a4bb72227df700b69ca7272c1e">10942</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#abcf750a4bb72227df700b69ca7272c1e" title="Convert color pixels from (R,G,B) to match the specified color palette.">RGBtoLUT</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; palette,<span class="keyword">const</span> <span class="keywordtype">bool</span> dithering=<span class="keyword">true</span>,<span class="keyword">const</span> <span class="keywordtype">bool</span> indexing=<span class="keyword">false</span>) {
<a name="l10943"></a>10943       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a42074afcc6368e1bcaf0532f61123492" title="Convert color pixels from (R,G,B) to match a specified palette.">get_RGBtoLUT</a>(palette,dithering,indexing).swap(*<span class="keyword">this</span>);
<a name="l10944"></a>10944     }
<a name="l10945"></a>10945 
<a name="l10947"></a>10947 
<a name="l10948"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad63792a32667c1588c6e74dd85c698cf">10948</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad63792a32667c1588c6e74dd85c698cf" title="Convert color pixels from (R,G,B) to match the specified color palette.">RGBtoLUT</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> dithering=<span class="keyword">true</span>,<span class="keyword">const</span> <span class="keywordtype">bool</span> indexing=<span class="keyword">false</span>) {
<a name="l10949"></a>10949       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> foo;
<a name="l10950"></a>10950       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a42074afcc6368e1bcaf0532f61123492" title="Convert color pixels from (R,G,B) to match a specified palette.">get_RGBtoLUT</a>(foo,dithering,indexing).swap(*<span class="keyword">this</span>);
<a name="l10951"></a>10951     }
<a name="l10952"></a>10952 
<a name="l10954"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1dd7d85de2946959eb7d05b521703e1d">10954</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a1dd7d85de2946959eb7d05b521703e1d" title="Convert an indexed image to a (R,G,B) image using the specified color palette.">get_LUTtoRGB</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; palette)<span class="keyword"> const </span>{
<a name="l10955"></a>10955       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>();
<a name="l10956"></a>10956       <span class="keywordflow">if</span> (dim!=1) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::LUTtoRGB() : Input image dimension is dim=%u, &quot;</span>
<a name="l10957"></a>10957                                               <span class="stringliteral">&quot;should be a LUT image&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l10958"></a>10958       <span class="keywordflow">if</span> (palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; palette.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=3)
<a name="l10959"></a>10959         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::LUTtoRGB() : Given palette dimension is dim=%u, &quot;</span>
<a name="l10960"></a>10960                                     <span class="stringliteral">&quot;should be a (R,G,B) palette&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),palette.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l10961"></a>10961       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,3);
<a name="l10962"></a>10962       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> pal = palette.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>?palette:<a class="code" href="structcimg__library_1_1_c_img.html#a34d519a14c0aed27660fb42d25bf5f74" title="Return the default 256 colors palette.">get_default_LUT8</a>();
<a name="l10963"></a>10963       cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10964"></a>10964         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = (<span class="keywordtype">unsigned</span> int)(*<span class="keyword">this</span>)(x,y,z);
<a name="l10965"></a>10965         res(x,y,z,0) = pal(index,0);
<a name="l10966"></a>10966         res(x,y,z,1) = pal(index,1);
<a name="l10967"></a>10967         res(x,y,z,2) = pal(index,2);
<a name="l10968"></a>10968       }
<a name="l10969"></a>10969       <span class="keywordflow">return</span> res;
<a name="l10970"></a>10970     }
<a name="l10971"></a>10971 
<a name="l10973"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8269a939d41fce5fcd1b775c409faa3d">10973</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#a8269a939d41fce5fcd1b775c409faa3d" title="Convert an indexed image (with the default palette) to a (R,G,B) image.">get_LUTtoRGB</a>()<span class="keyword"> const </span>{
<a name="l10974"></a>10974       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> foo;
<a name="l10975"></a>10975       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8269a939d41fce5fcd1b775c409faa3d" title="Convert an indexed image (with the default palette) to a (R,G,B) image.">get_LUTtoRGB</a>(foo);
<a name="l10976"></a>10976     }
<a name="l10977"></a>10977 
<a name="l10979"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6440d33314f665c5fc5f63fba3a55998">10979</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6440d33314f665c5fc5f63fba3a55998" title="In-place version of get_LUTtoRGB().">LUTtoRGB</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; palette) {
<a name="l10980"></a>10980       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8269a939d41fce5fcd1b775c409faa3d" title="Convert an indexed image (with the default palette) to a (R,G,B) image.">get_LUTtoRGB</a>(palette).swap(*<span class="keyword">this</span>);
<a name="l10981"></a>10981     }
<a name="l10982"></a>10982 
<a name="l10984"></a><a class="code" href="structcimg__library_1_1_c_img.html#a459316c96d223fa6c12578bd1ca63da4">10984</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a459316c96d223fa6c12578bd1ca63da4" title="In-place version of get_LUTroRGB().">LUTtoRGB</a>() {
<a name="l10985"></a>10985       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> foo;
<a name="l10986"></a>10986       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8269a939d41fce5fcd1b775c409faa3d" title="Convert an indexed image (with the default palette) to a (R,G,B) image.">get_LUTtoRGB</a>(foo).swap(*<span class="keyword">this</span>);
<a name="l10987"></a>10987     }
<a name="l10988"></a>10988 
<a name="l10990"></a><a class="code" href="structcimg__library_1_1_c_img.html#a461f298887519c01842d1285d35a13c7">10990</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a461f298887519c01842d1285d35a13c7" title="Convert color pixels from (R,G,B) to (H,S,V).">RGBtoHSV</a>() {
<a name="l10991"></a>10991       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l10992"></a>10992         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoHSV() : Input image dimension is dim=%u, &quot;</span>
<a name="l10993"></a>10993                                                 <span class="stringliteral">&quot;should be a (R,G,B) image.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l10994"></a>10994         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l10995"></a>10995           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l10996"></a>10996             R = (float)((*<span class="keyword">this</span>)(x,y,z,0)/255.0f),
<a name="l10997"></a>10997             G = (float)((*<span class="keyword">this</span>)(x,y,z,1)/255.0f),
<a name="l10998"></a>10998             B = (float)((*<span class="keyword">this</span>)(x,y,z,2)/255.0f);
<a name="l10999"></a>10999           <span class="keyword">const</span> <span class="keywordtype">float</span> m = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(R,G,B), v = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(R,G,B);
<a name="l11000"></a>11000           <span class="keywordtype">float</span> h,s;
<a name="l11001"></a>11001           <span class="keywordflow">if</span> (v==m) { h=-1; s=0; } <span class="keywordflow">else</span> {
<a name="l11002"></a>11002             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11003"></a>11003               f = (R==m)?(G-B):((G==m)?(B-R):(R-G)),
<a name="l11004"></a>11004               i = (R==m)?3.0f:((G==m)?5.0f:1.0f);
<a name="l11005"></a>11005             h = (i-f/(v-m));
<a name="l11006"></a>11006             s = (v-m)/v;
<a name="l11007"></a>11007             <span class="keywordflow">if</span> (h&gt;=6.0f) h-=6.0f;
<a name="l11008"></a>11008             h*=(float)<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/3.0f;
<a name="l11009"></a>11009           }
<a name="l11010"></a>11010           (*this)(x,y,z,0) = (T)h;
<a name="l11011"></a>11011           (*this)(x,y,z,1) = (T)s;
<a name="l11012"></a>11012           (*this)(x,y,z,2) = (T)v;
<a name="l11013"></a>11013         }
<a name="l11014"></a>11014       }
<a name="l11015"></a>11015       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11016"></a>11016     }
<a name="l11017"></a>11017 
<a name="l11019"></a><a class="code" href="structcimg__library_1_1_c_img.html#a76049902fc796e72e197519fc5c58b8b">11019</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a76049902fc796e72e197519fc5c58b8b" title="Convert color pixels from (H,S,V) to (R,G,B).">HSVtoRGB</a>() {
<a name="l11020"></a>11020       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11021"></a>11021         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::HSVtoRGB() : Input image dimension is dim=%u, &quot;</span>
<a name="l11022"></a>11022                                                 <span class="stringliteral">&quot;should be a (H,S,V) image&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11023"></a>11023         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11024"></a>11024           <span class="keywordtype">float</span>
<a name="l11025"></a>11025             H = (float)((*<span class="keyword">this</span>)(x,y,z,0)),
<a name="l11026"></a>11026             S = (float)((*<span class="keyword">this</span>)(x,y,z,1)),
<a name="l11027"></a>11027             V = (float)((*<span class="keyword">this</span>)(x,y,z,2));
<a name="l11028"></a>11028           <span class="keywordtype">float</span> R=0,G=0,B=0;
<a name="l11029"></a>11029           <span class="keywordflow">if</span> (H&lt;0) R=G=B=V;
<a name="l11030"></a>11030           <span class="keywordflow">else</span> {
<a name="l11031"></a>11031             H/=(float)<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/3.0f;
<a name="l11032"></a>11032             <span class="keyword">const</span> <span class="keywordtype">int</span> i = (int)std::floor(H);
<a name="l11033"></a>11033             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11034"></a>11034               f = (i&amp;1)?(H-i):(1.0f-H+i),
<a name="l11035"></a>11035               m = V*(1.0f-S),
<a name="l11036"></a>11036               n = V*(1.0f-S*f);
<a name="l11037"></a>11037             <span class="keywordflow">switch</span>(i) {
<a name="l11038"></a>11038             <span class="keywordflow">case</span> 6:
<a name="l11039"></a>11039             <span class="keywordflow">case</span> 0: R=V; G=n; B=m; <span class="keywordflow">break</span>;
<a name="l11040"></a>11040             <span class="keywordflow">case</span> 1: R=n; G=V; B=m; <span class="keywordflow">break</span>;
<a name="l11041"></a>11041             <span class="keywordflow">case</span> 2: R=m; G=V; B=n; <span class="keywordflow">break</span>;
<a name="l11042"></a>11042             <span class="keywordflow">case</span> 3: R=m; G=n; B=V; <span class="keywordflow">break</span>;
<a name="l11043"></a>11043             <span class="keywordflow">case</span> 4: R=n; G=m; B=V; <span class="keywordflow">break</span>;
<a name="l11044"></a>11044             <span class="keywordflow">case</span> 5: R=V; G=m; B=n; <span class="keywordflow">break</span>;
<a name="l11045"></a>11045             }
<a name="l11046"></a>11046           }
<a name="l11047"></a>11047           (*this)(x,y,z,0) = (T)(R*255.0f);
<a name="l11048"></a>11048           (*this)(x,y,z,1) = (T)(G*255.0f);
<a name="l11049"></a>11049           (*this)(x,y,z,2) = (T)(B*255.0f);
<a name="l11050"></a>11050         }
<a name="l11051"></a>11051       }
<a name="l11052"></a>11052       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11053"></a>11053     }
<a name="l11054"></a>11054 
<a name="l11056"></a><a class="code" href="structcimg__library_1_1_c_img.html#a40bf7f55f1a92f74d51db3b6c8b53e51">11056</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a40bf7f55f1a92f74d51db3b6c8b53e51" title="Convert color pixels from (R,G,B) to (Y,Cb,Cr)_8 (Thanks to Chen Wang).">RGBtoYCbCr</a>() {
<a name="l11057"></a>11057       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11058"></a>11058         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoYCbCr() : Input image dimension is dim=%u, &quot;</span>
<a name="l11059"></a>11059                                                 <span class="stringliteral">&quot;should be a (R,G,B) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11060"></a>11060         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11061"></a>11061           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11062"></a>11062             R = (int)((*<span class="keyword">this</span>)(x,y,z,0)),
<a name="l11063"></a>11063             G = (int)((*<span class="keyword">this</span>)(x,y,z,1)),
<a name="l11064"></a>11064             B = (int)((*<span class="keyword">this</span>)(x,y,z,2));
<a name="l11065"></a>11065           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11066"></a>11066             Y  = ((66*R+129*G+25*B+128)&gt;&gt;8) + 16,
<a name="l11067"></a>11067             Cb = ((-38*R-74*G+112*B+128)&gt;&gt;8) + 128,
<a name="l11068"></a>11068             Cr = ((112*R-94*G-18*B+128)&gt;&gt;8) + 128;
<a name="l11069"></a>11069           (*this)(x,y,z,0) = (T)(Y&lt;0?0:(Y&gt;255?255:Y));
<a name="l11070"></a>11070           (*this)(x,y,z,1) = (T)(Cb&lt;0?0:(Cb&gt;255?255:Cb));
<a name="l11071"></a>11071           (*this)(x,y,z,2) = (T)(Cr&lt;0?0:(Cr&gt;255?255:Cr));
<a name="l11072"></a>11072         }
<a name="l11073"></a>11073       }
<a name="l11074"></a>11074       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11075"></a>11075     }
<a name="l11076"></a>11076 
<a name="l11078"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac17669d7f5b1cafff5fdf342632d08d3">11078</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac17669d7f5b1cafff5fdf342632d08d3" title="Convert color pixels from (Y,Cb,Cr)_8 to (R,G,B).">YCbCrtoRGB</a>() {
<a name="l11079"></a>11079       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11080"></a>11080         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::YCbCrtoRGB() : Input image dimension is dim=%u, &quot;</span>
<a name="l11081"></a>11081                                                 <span class="stringliteral">&quot;should be a (Y,Cb,Cr)_8 image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11082"></a>11082         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11083"></a>11083           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11084"></a>11084             Y  = (int)((*<span class="keyword">this</span>)(x, y, z, 0)-16),
<a name="l11085"></a>11085             Cb = (int)((*<span class="keyword">this</span>)(x, y, z, 1)-128),
<a name="l11086"></a>11086             Cr = (int)((*<span class="keyword">this</span>)(x, y, z, 2)-128);
<a name="l11087"></a>11087           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11088"></a>11088             R = ((298*Y + 409*Cr + 128) &gt;&gt; 8 ),
<a name="l11089"></a>11089             G = ((298*Y - 100*Cb - 208*Cr + 128) &gt;&gt; 8 ),
<a name="l11090"></a>11090             B = ((298*Y + 516*Cb + 128) &gt;&gt; 8 );
<a name="l11091"></a>11091           (*this)(x,y,z,0) = (T)(R&lt;0?0:(R&gt;255?255:R));
<a name="l11092"></a>11092           (*this)(x,y,z,1) = (T)(G&lt;0?0:(G&gt;255?255:G));
<a name="l11093"></a>11093           (*this)(x,y,z,2) = (T)(B&lt;0?0:(B&gt;255?255:B));
<a name="l11094"></a>11094         }
<a name="l11095"></a>11095       }
<a name="l11096"></a>11096       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11097"></a>11097     }
<a name="l11098"></a>11098 
<a name="l11100"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab45036f39a42c34a49618877abb4c9e7">11100</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ab45036f39a42c34a49618877abb4c9e7" title="Convert color pixels from (R,G,B) to (Y,U,V).">RGBtoYUV</a>() {
<a name="l11101"></a>11101       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11102"></a>11102         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoYUV() : Input image dimension is dim=%u, &quot;</span>
<a name="l11103"></a>11103                                                 <span class="stringliteral">&quot;should be a (R,G,B) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11104"></a>11104         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11105"></a>11105           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11106"></a>11106             R = (*this)(x,y,z,0)/255.0f,
<a name="l11107"></a>11107             G = (*<span class="keyword">this</span>)(x,y,z,1)/255.0f,
<a name="l11108"></a>11108             B = (*<span class="keyword">this</span>)(x,y,z,2)/255.0f,
<a name="l11109"></a>11109             Y = (T)(0.299*R + 0.587*G + 0.114*B);
<a name="l11110"></a>11110           (*this)(x,y,z,0) = Y;
<a name="l11111"></a>11111           (*this)(x,y,z,1) = (T)(0.492*(B-Y));
<a name="l11112"></a>11112           (*this)(x,y,z,2) = (T)(0.877*(R-Y));
<a name="l11113"></a>11113         }
<a name="l11114"></a>11114       }
<a name="l11115"></a>11115       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11116"></a>11116     }
<a name="l11117"></a>11117 
<a name="l11119"></a><a class="code" href="structcimg__library_1_1_c_img.html#a98cd009f19e7d2afc9f8ae44a3fff079">11119</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a98cd009f19e7d2afc9f8ae44a3fff079" title="Convert color pixels from (Y,U,V) to (R,G,B).">YUVtoRGB</a>() {
<a name="l11120"></a>11120       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11121"></a>11121         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::YUVtoRGB() : Input image dimension is dim=%u, &quot;</span>
<a name="l11122"></a>11122                                                 <span class="stringliteral">&quot;should be a (Y,U,V) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11123"></a>11123         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11124"></a>11124           <span class="keyword">const</span> T Y = (*this)(x,y,z,0), U = (*<span class="keyword">this</span>)(x,y,z,1), V = (*<span class="keyword">this</span>)(x,y,z,2);
<a name="l11125"></a>11125           (*this)(x,y,z,0) = (T)((Y + 1.140*V)*255.0f);
<a name="l11126"></a>11126           (*this)(x,y,z,1) = (T)((Y - 0.395*U - 0.581*V)*255.0f);
<a name="l11127"></a>11127           (*this)(x,y,z,2) = (T)((Y + 2.032*U)*255.0f);
<a name="l11128"></a>11128         }
<a name="l11129"></a>11129       }
<a name="l11130"></a>11130       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11131"></a>11131     }
<a name="l11132"></a>11132 
<a name="l11134"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1abc595ceffae87a27935a3132aa3162">11134</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1abc595ceffae87a27935a3132aa3162" title="Convert color pixels from (R,G,B) to (X,Y,Z)_709.">RGBtoXYZ</a>() {
<a name="l11135"></a>11135       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11136"></a>11136         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::RGBtoXYZ() : Input image dimension is dim=%u, &quot;</span>
<a name="l11137"></a>11137                                                 <span class="stringliteral">&quot;should be a (R,G,B) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11138"></a>11138         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11139"></a>11139           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11140"></a>11140             R = (float)((*<span class="keyword">this</span>)(x,y,z,0)/255.0f),
<a name="l11141"></a>11141             G = (float)((*<span class="keyword">this</span>)(x,y,z,1)/255.0f),
<a name="l11142"></a>11142             B = (float)((*<span class="keyword">this</span>)(x,y,z,2)/255.0f);
<a name="l11143"></a>11143           (*this)(x,y,z,0) = (T)(0.412453*R + 0.357580*G + 0.180423*B);
<a name="l11144"></a>11144           (*this)(x,y,z,1) = (T)(0.212671*R + 0.715160*G + 0.072169*B);
<a name="l11145"></a>11145           (*this)(x,y,z,2) = (T)(0.019334*R + 0.119193*G + 0.950227*B);
<a name="l11146"></a>11146         }
<a name="l11147"></a>11147       }
<a name="l11148"></a>11148       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11149"></a>11149     }
<a name="l11150"></a>11150 
<a name="l11152"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2dab17374e2b1930b74852a58ec124e1">11152</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2dab17374e2b1930b74852a58ec124e1" title="Convert (X,Y,Z)_709 pixels of a color image into the (R,G,B) color space.">XYZtoRGB</a>() {
<a name="l11153"></a>11153       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11154"></a>11154         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::XYZtoRGB() : Input image dimension is dim=%u, &quot;</span>
<a name="l11155"></a>11155                                                 <span class="stringliteral">&quot;should be a (X,Y,Z) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11156"></a>11156         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11157"></a>11157           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11158"></a>11158             X = (float)(255.0f*(*<span class="keyword">this</span>)(x,y,z,0)),
<a name="l11159"></a>11159             Y = (float)(255.0f*(*<span class="keyword">this</span>)(x,y,z,1)),
<a name="l11160"></a>11160             Z = (float)(255.0f*(*<span class="keyword">this</span>)(x,y,z,2));
<a name="l11161"></a>11161           (*this)(x,y,z,0) = (T)(3.240479*X  - 1.537150*Y - 0.498535*Z);
<a name="l11162"></a>11162           (*this)(x,y,z,1) = (T)(-0.969256*X + 1.875992*Y + 0.041556*Z);
<a name="l11163"></a>11163           (*this)(x,y,z,2) = (T)(0.055648*X  - 0.204043*Y + 1.057311*Z);
<a name="l11164"></a>11164         }
<a name="l11165"></a>11165       }
<a name="l11166"></a>11166       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11167"></a>11167     }
<a name="l11168"></a>11168 
<a name="l11170"></a>11170 <span class="preprocessor">#define cimg_Labf(x)  ((x)&gt;=0.008856?(std::pow(x,1/3.0)):(7.787*(x)+16.0/116.0))</span>
<a name="l11171"></a>11171 <span class="preprocessor"></span><span class="preprocessor">#define cimg_Labfi(x) ((x)&gt;=0.206893?((x)*(x)*(x)):(((x)-16.0/116.0)/7.787))</span>
<a name="l11172"></a>11172 <span class="preprocessor"></span>
<a name="l11173"></a>11173     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; XYZtoLab() {
<a name="l11174"></a>11174       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11175"></a>11175         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::XYZtoLab() : Input image dimension is dim=%u, &quot;</span>
<a name="l11176"></a>11176                                                 <span class="stringliteral">&quot;should be a (X,Y,Z) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11177"></a>11177         <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l11178"></a>11178           Xn = 0.412453 + 0.357580 + 0.180423,
<a name="l11179"></a>11179           Yn = 0.212671 + 0.715160 + 0.072169,
<a name="l11180"></a>11180           Zn = 0.019334 + 0.119193 + 0.950227;
<a name="l11181"></a>11181         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11182"></a>11182           <span class="keyword">const</span> T X = (*this)(x,y,z,0), Y = (*<span class="keyword">this</span>)(x,y,z,1), Z = (*<span class="keyword">this</span>)(x,y,z,2);
<a name="l11183"></a>11183           <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l11184"></a>11184             XXn = X/Xn, YYn = Y/Yn, ZZn = Z/Zn,
<a name="l11185"></a>11185             fX = cimg_Labf(XXn), fY = cimg_Labf(YYn), fZ = cimg_Labf(ZZn);
<a name="l11186"></a>11186           (*this)(x,y,z,0) = (T)(116*fY-16);
<a name="l11187"></a>11187           (*this)(x,y,z,1) = (T)(500*(fX-fY));
<a name="l11188"></a>11188           (*this)(x,y,z,2) = (T)(200*(fY-fZ));
<a name="l11189"></a>11189         }
<a name="l11190"></a>11190       }
<a name="l11191"></a>11191       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11192"></a>11192     }
<a name="l11193"></a>11193 
<a name="l11195"></a><a class="code" href="structcimg__library_1_1_c_img.html#a95c5de084219d3c76ef0e311b2ce75c3">11195</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a95c5de084219d3c76ef0e311b2ce75c3" title="Convert (L,a,b) pixels of a color image into the (X,Y,Z) color space.">LabtoXYZ</a>() {
<a name="l11196"></a>11196       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11197"></a>11197         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::LabtoXYZ() : Input image dimension is dim=%u, &quot;</span>
<a name="l11198"></a>11198                                                 <span class="stringliteral">&quot;should be a (X,Y,Z) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11199"></a>11199         <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l11200"></a>11200           Xn = 0.412453 + 0.357580 + 0.180423,
<a name="l11201"></a>11201           Yn = 0.212671 + 0.715160 + 0.072169,
<a name="l11202"></a>11202           Zn = 0.019334 + 0.119193 + 0.950227;
<a name="l11203"></a>11203         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11204"></a>11204           <span class="keyword">const</span> T L = (*this)(x,y,z,0), a = (*<span class="keyword">this</span>)(x,y,z,1), b = (*<span class="keyword">this</span>)(x,y,z,2);
<a name="l11205"></a>11205           <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l11206"></a>11206             cY = (L+16)/116.0,
<a name="l11207"></a>11207             Y = Yn*cimg_Labfi(cY),
<a name="l11208"></a>11208             pY = <a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">std::pow</a>(Y/Yn,1.0/3),
<a name="l11209"></a>11209             cX = a/500+pY,
<a name="l11210"></a>11210             X = Xn*cX*cX*cX,
<a name="l11211"></a>11211             cZ = pY-b/200,
<a name="l11212"></a>11212             Z = Zn*cZ*cZ*cZ;
<a name="l11213"></a>11213           (*this)(x,y,z,0) = (T)(X);
<a name="l11214"></a>11214           (*this)(x,y,z,1) = (T)(Y);
<a name="l11215"></a>11215           (*this)(x,y,z,2) = (T)(Z);
<a name="l11216"></a>11216         }
<a name="l11217"></a>11217       }
<a name="l11218"></a>11218       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11219"></a>11219     }
<a name="l11220"></a>11220 
<a name="l11222"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3dbc3a0638243338884cb8e6d860f1c8">11222</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3dbc3a0638243338884cb8e6d860f1c8" title="Convert (X,Y,Z)_709 pixels of a color image into the (x,y,Y) color space.">XYZtoxyY</a>() {
<a name="l11223"></a>11223       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11224"></a>11224         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::XYZtoxyY() : Input image dimension is dim=%u, &quot;</span>
<a name="l11225"></a>11225                                                 <span class="stringliteral">&quot;should be a (X,Y,Z) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11226"></a>11226         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11227"></a>11227           <span class="keyword">const</span> T X = (*this)(x,y,z,0), Y = (*<span class="keyword">this</span>)(x,y,z,1), Z = (*<span class="keyword">this</span>)(x,y,z,2), <a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d" title="Return the sum of all the pixel values in an image.">sum</a> = (X+Y+Z), nsum = <a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d" title="Return the sum of all the pixel values in an image.">sum</a>&gt;0?<a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d" title="Return the sum of all the pixel values in an image.">sum</a>:1;
<a name="l11228"></a>11228           (*this)(x,y,z,0) = X/nsum;
<a name="l11229"></a>11229           (*this)(x,y,z,1) = Y/nsum;
<a name="l11230"></a>11230           (*this)(x,y,z,2) = Y;
<a name="l11231"></a>11231         }
<a name="l11232"></a>11232       }
<a name="l11233"></a>11233       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11234"></a>11234     }
<a name="l11235"></a>11235 
<a name="l11237"></a><a class="code" href="structcimg__library_1_1_c_img.html#aeaa1683d6d9c57dd74791c0bd8fac746">11237</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aeaa1683d6d9c57dd74791c0bd8fac746" title="Convert (x,y,Y) pixels of a color image into the (X,Y,Z)_709 color space.">xyYtoXYZ</a>() {
<a name="l11238"></a>11238       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11239"></a>11239         <span class="keywordflow">if</span> (dim!=3) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::xyYtoXYZ() : Input image dimension is dim=%u, &quot;</span>
<a name="l11240"></a>11240                                                 <span class="stringliteral">&quot;should be a (x,y,Y) image (dim=3)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim);
<a name="l11241"></a>11241         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l11242"></a>11242           <span class="keyword">const</span> T px = (*this)(x,y,z,0), py = (*<span class="keyword">this</span>)(x,y,z,1), Y = (*<span class="keyword">this</span>)(x,y,z,2), ny = py&gt;0?py:1;
<a name="l11243"></a>11243           (*this)(x,y,z,0) = (T)(px*Y/ny);
<a name="l11244"></a>11244           (*this)(x,y,z,1) = Y;
<a name="l11245"></a>11245           (*this)(x,y,z,2) = (T)((1-px-py)*Y/ny);
<a name="l11246"></a>11246         }
<a name="l11247"></a>11247       }
<a name="l11248"></a>11248       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11249"></a>11249     }
<a name="l11250"></a>11250 
<a name="l11252"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad1b6f0b5c01709684a83d949a3fb9167">11252</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad1b6f0b5c01709684a83d949a3fb9167" title="In-place version of get_RGBtoLab().">RGBtoLab</a>() {
<a name="l11253"></a>11253       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1abc595ceffae87a27935a3132aa3162" title="Convert color pixels from (R,G,B) to (X,Y,Z)_709.">RGBtoXYZ</a>().XYZtoLab();
<a name="l11254"></a>11254     }
<a name="l11255"></a>11255 
<a name="l11257"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6e43f6bf99de6917ec2b913fb56d9ce9">11257</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6e43f6bf99de6917ec2b913fb56d9ce9" title="In-place version of get_LabtoRGb().">LabtoRGB</a>() {
<a name="l11258"></a>11258       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a95c5de084219d3c76ef0e311b2ce75c3" title="Convert (L,a,b) pixels of a color image into the (X,Y,Z) color space.">LabtoXYZ</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a2dab17374e2b1930b74852a58ec124e1" title="Convert (X,Y,Z)_709 pixels of a color image into the (R,G,B) color space.">XYZtoRGB</a>();
<a name="l11259"></a>11259     }
<a name="l11260"></a>11260 
<a name="l11262"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7d7b0cca8ec1e075fa5f1ef4c63ad938">11262</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7d7b0cca8ec1e075fa5f1ef4c63ad938" title="In-place version of get_RGBtoxyY().">RGBtoxyY</a>() {
<a name="l11263"></a>11263       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1abc595ceffae87a27935a3132aa3162" title="Convert color pixels from (R,G,B) to (X,Y,Z)_709.">RGBtoXYZ</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a3dbc3a0638243338884cb8e6d860f1c8" title="Convert (X,Y,Z)_709 pixels of a color image into the (x,y,Y) color space.">XYZtoxyY</a>();
<a name="l11264"></a>11264     }
<a name="l11265"></a>11265 
<a name="l11267"></a><a class="code" href="structcimg__library_1_1_c_img.html#a036e30fe130f8df62ea560d3a0ccd1fa">11267</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a036e30fe130f8df62ea560d3a0ccd1fa" title="In-place version of get_xyYtoRGB().">xyYtoRGB</a>() {
<a name="l11268"></a>11268       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aeaa1683d6d9c57dd74791c0bd8fac746" title="Convert (x,y,Y) pixels of a color image into the (X,Y,Z)_709 color space.">xyYtoXYZ</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a2dab17374e2b1930b74852a58ec124e1" title="Convert (X,Y,Z)_709 pixels of a color image into the (R,G,B) color space.">XYZtoRGB</a>();
<a name="l11269"></a>11269     }
<a name="l11270"></a>11270 
<a name="l11272"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7a84a60de808439efc59e726e64ec883">11272</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a7a84a60de808439efc59e726e64ec883" title="Convert a (R,G,B) image to a (H,S,V) one.">get_RGBtoHSV</a>()<span class="keyword"> const </span>{
<a name="l11273"></a>11273       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a461f298887519c01842d1285d35a13c7" title="Convert color pixels from (R,G,B) to (H,S,V).">RGBtoHSV</a>();
<a name="l11274"></a>11274     }
<a name="l11275"></a>11275 
<a name="l11277"></a><a class="code" href="structcimg__library_1_1_c_img.html#a262941bc2ee334163e5e7ada7b5eabf7">11277</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a262941bc2ee334163e5e7ada7b5eabf7" title="Convert a (H,S,V) image to a (R,G,B) one.">get_HSVtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11278"></a>11278       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a76049902fc796e72e197519fc5c58b8b" title="Convert color pixels from (H,S,V) to (R,G,B).">HSVtoRGB</a>();
<a name="l11279"></a>11279     }
<a name="l11280"></a>11280 
<a name="l11282"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0e8c064bbeadbd25d9924a8e594b890f">11282</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0e8c064bbeadbd25d9924a8e594b890f" title="Convert a (R,G,B) image to a (Y,Cb,Cr) one.">get_RGBtoYCbCr</a>()<span class="keyword"> const </span>{
<a name="l11283"></a>11283       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a40bf7f55f1a92f74d51db3b6c8b53e51" title="Convert color pixels from (R,G,B) to (Y,Cb,Cr)_8 (Thanks to Chen Wang).">RGBtoYCbCr</a>();
<a name="l11284"></a>11284     }
<a name="l11285"></a>11285 
<a name="l11287"></a><a class="code" href="structcimg__library_1_1_c_img.html#a22f571efbd6926153c907f46e156a87e">11287</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a22f571efbd6926153c907f46e156a87e" title="Convert a (Y,Cb,Cr) image to a (R,G,B) one.">get_YCbCrtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11288"></a>11288       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ac17669d7f5b1cafff5fdf342632d08d3" title="Convert color pixels from (Y,Cb,Cr)_8 to (R,G,B).">YCbCrtoRGB</a>();
<a name="l11289"></a>11289     }
<a name="l11290"></a>11290 
<a name="l11292"></a><a class="code" href="structcimg__library_1_1_c_img.html#adda4f0765c0c24bb2fa086b2c5e09a8f">11292</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#adda4f0765c0c24bb2fa086b2c5e09a8f" title="Convert a (R,G,B) image into a (Y,U,V) one.">get_RGBtoYUV</a>()<span class="keyword"> const </span>{
<a name="l11293"></a>11293       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l11294"></a>11294       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ab45036f39a42c34a49618877abb4c9e7" title="Convert color pixels from (R,G,B) to (Y,U,V).">RGBtoYUV</a>();
<a name="l11295"></a>11295     }
<a name="l11296"></a>11296 
<a name="l11298"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6d1ddd191b37dd3c3f08f39b28df98e9">11298</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a6d1ddd191b37dd3c3f08f39b28df98e9" title="Convert a (Y,U,V) image into a (R,G,B) one.">get_YUVtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11299"></a>11299       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a98cd009f19e7d2afc9f8ae44a3fff079" title="Convert color pixels from (Y,U,V) to (R,G,B).">YUVtoRGB</a>();
<a name="l11300"></a>11300     }
<a name="l11301"></a>11301 
<a name="l11303"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9ddeade34f355b48cd563fd3afe5f8bf">11303</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a9ddeade34f355b48cd563fd3afe5f8bf" title="Convert a (R,G,B) image to a (X,Y,Z) one.">get_RGBtoXYZ</a>()<span class="keyword"> const </span>{
<a name="l11304"></a>11304       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l11305"></a>11305       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a1abc595ceffae87a27935a3132aa3162" title="Convert color pixels from (R,G,B) to (X,Y,Z)_709.">RGBtoXYZ</a>();
<a name="l11306"></a>11306     }
<a name="l11307"></a>11307 
<a name="l11309"></a><a class="code" href="structcimg__library_1_1_c_img.html#a370c0942882e30cc1ab4078503cabc02">11309</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a370c0942882e30cc1ab4078503cabc02" title="Convert a (X,Y,Z) image to a (R,G,B) one.">get_XYZtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11310"></a>11310       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a2dab17374e2b1930b74852a58ec124e1" title="Convert (X,Y,Z)_709 pixels of a color image into the (R,G,B) color space.">XYZtoRGB</a>();
<a name="l11311"></a>11311     }
<a name="l11312"></a>11312 
<a name="l11314"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab6bf2a2a5e40c457a22b946a95522dd6">11314</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab6bf2a2a5e40c457a22b946a95522dd6" title="Convert a (X,Y,Z) image to a (L,a,b) one.">get_XYZtoLab</a>()<span class="keyword"> const </span>{
<a name="l11315"></a>11315       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).XYZtoLab();
<a name="l11316"></a>11316     }
<a name="l11317"></a>11317 
<a name="l11319"></a><a class="code" href="structcimg__library_1_1_c_img.html#a30914eaf157ea70a4dbc56916c1d0886">11319</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a30914eaf157ea70a4dbc56916c1d0886" title="Convert a (L,a,b) image to a (X,Y,Z) one.">get_LabtoXYZ</a>()<span class="keyword"> const </span>{
<a name="l11320"></a>11320       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a95c5de084219d3c76ef0e311b2ce75c3" title="Convert (L,a,b) pixels of a color image into the (X,Y,Z) color space.">LabtoXYZ</a>();
<a name="l11321"></a>11321     }
<a name="l11322"></a>11322 
<a name="l11324"></a><a class="code" href="structcimg__library_1_1_c_img.html#a276e01d3ca5089793b270aafd4352303">11324</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a276e01d3ca5089793b270aafd4352303" title="Convert a (X,Y,Z) image to a (x,y,Y) one.">get_XYZtoxyY</a>()<span class="keyword"> const </span>{
<a name="l11325"></a>11325       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a3dbc3a0638243338884cb8e6d860f1c8" title="Convert (X,Y,Z)_709 pixels of a color image into the (x,y,Y) color space.">XYZtoxyY</a>();
<a name="l11326"></a>11326     }
<a name="l11327"></a>11327 
<a name="l11329"></a><a class="code" href="structcimg__library_1_1_c_img.html#aae4127c79997d02c06cb144e429c583b">11329</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aae4127c79997d02c06cb144e429c583b" title="Convert a (x,y,Y) image to a (X,Y,Z) one.">get_xyYtoXYZ</a>()<span class="keyword"> const </span>{
<a name="l11330"></a>11330       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#aeaa1683d6d9c57dd74791c0bd8fac746" title="Convert (x,y,Y) pixels of a color image into the (X,Y,Z)_709 color space.">xyYtoXYZ</a>();
<a name="l11331"></a>11331     }
<a name="l11332"></a>11332 
<a name="l11334"></a><a class="code" href="structcimg__library_1_1_c_img.html#ade3fedd1d3e1b3bd5a31bdd99bc3c797">11334</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ade3fedd1d3e1b3bd5a31bdd99bc3c797" title="Convert a (R,G,B) image to a (L,a,b) one.">get_RGBtoLab</a>()<span class="keyword"> const </span>{
<a name="l11335"></a>11335       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ad1b6f0b5c01709684a83d949a3fb9167" title="In-place version of get_RGBtoLab().">RGBtoLab</a>();
<a name="l11336"></a>11336     }
<a name="l11337"></a>11337 
<a name="l11339"></a><a class="code" href="structcimg__library_1_1_c_img.html#a80e0595f37df0bd7c609bc95f899b15c">11339</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a80e0595f37df0bd7c609bc95f899b15c" title="Convert a (L,a,b) image to a (R,G,B) one.">get_LabtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11340"></a>11340       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a6e43f6bf99de6917ec2b913fb56d9ce9" title="In-place version of get_LabtoRGb().">LabtoRGB</a>();
<a name="l11341"></a>11341     }
<a name="l11342"></a>11342 
<a name="l11344"></a><a class="code" href="structcimg__library_1_1_c_img.html#a060c6b724b48ae7de997786a95d4d60d">11344</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a060c6b724b48ae7de997786a95d4d60d" title="Convert a (R,G,B) image to a (x,y,Y) one.">get_RGBtoxyY</a>()<span class="keyword"> const </span>{
<a name="l11345"></a>11345       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a7d7b0cca8ec1e075fa5f1ef4c63ad938" title="In-place version of get_RGBtoxyY().">RGBtoxyY</a>();
<a name="l11346"></a>11346     }
<a name="l11347"></a>11347 
<a name="l11349"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3f3c8eb02552cb04611f8b583dd25608">11349</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3f3c8eb02552cb04611f8b583dd25608" title="Convert a (x,y,Y) image to a (R,G,B) one.">get_xyYtoRGB</a>()<span class="keyword"> const </span>{
<a name="l11350"></a>11350       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a036e30fe130f8df62ea560d3a0ccd1fa" title="In-place version of get_xyYtoRGB().">xyYtoRGB</a>();
<a name="l11351"></a>11351     }
<a name="l11352"></a>11352 
<a name="l11354"></a>11354     <span class="comment">//-------------------</span>
<a name="l11355"></a>11355     <span class="comment">//</span>
<a name="l11357"></a>11357 <span class="comment"></span>
<a name="l11358"></a>11358     <span class="comment">//-------------------</span>
<a name="l11359"></a>11359 
<a name="l11360"></a>11360     <span class="comment">// Should be used only by member functions. Not an user-friendly function.</span>
<a name="l11361"></a>11361     <span class="comment">// Pre-requisites : x0&lt;x1, y-coordinate is valid, col is valid.</span>
<a name="l11362"></a>11362     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; draw_scanline(<span class="keyword">const</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">int</span> x1, <span class="keyword">const</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l11363"></a>11363                         <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1, <span class="keyword">const</span> <span class="keywordtype">float</span> brightness=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> init=<span class="keyword">false</span>) {
<a name="l11364"></a>11364       <span class="keyword">static</span> <span class="keywordtype">float</span> nopacity=0, copacity=0;
<a name="l11365"></a>11365       <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whz=0;
<a name="l11366"></a>11366       <span class="keyword">static</span> <span class="keyword">const</span> T* col = 0;
<a name="l11367"></a>11367       <span class="keywordflow">if</span> (init) {
<a name="l11368"></a>11368         nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity);
<a name="l11369"></a>11369         copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11370"></a>11370         whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l11371"></a>11371         col = color;
<a name="l11372"></a>11372       } <span class="keywordflow">else</span> {
<a name="l11373"></a>11373         <span class="keyword">const</span> <span class="keywordtype">int</span> nx0 = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(x0,0), nx1 = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(x1,(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1), dx = nx1-nx0;
<a name="l11374"></a>11374         T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y) + nx0;
<a name="l11375"></a>11375         <span class="keywordflow">if</span> (dx&gt;=0) {
<a name="l11376"></a>11376           <span class="keywordflow">if</span> (opacity&gt;=1) {
<a name="l11377"></a>11377             <span class="keywordtype">int</span> off = whz-dx-1;
<a name="l11378"></a>11378             <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(T)!=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l11379"></a>11379               <span class="keyword">const</span> T val = (T)(*(col++)*brightness);
<a name="l11380"></a>11380               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=dx; x&gt;=0; x--) *(ptrd++)=val;
<a name="l11381"></a>11381               ptrd+=off;
<a name="l11382"></a>11382             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) { std::memset(ptrd,(<span class="keywordtype">int</span>)(*(col++)*brightness),dx+1); ptrd+=whz; }
<a name="l11383"></a>11383             col-=dim;
<a name="l11384"></a>11384           } <span class="keywordflow">else</span> {
<a name="l11385"></a>11385             <span class="keywordtype">int</span> off = whz-dx-1;
<a name="l11386"></a>11386             cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l11387"></a>11387               <span class="keyword">const</span> T val = (T)(*(col++)*brightness);
<a name="l11388"></a>11388               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=dx; x&gt;=0; x--) { *ptrd = (T)(val*nopacity + *ptrd*copacity); ptrd++; }
<a name="l11389"></a>11389               ptrd+=off;
<a name="l11390"></a>11390             }
<a name="l11391"></a>11391             col-=dim;
<a name="l11392"></a>11392           }
<a name="l11393"></a>11393         }
<a name="l11394"></a>11394       }
<a name="l11395"></a>11395       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11396"></a>11396     }
<a name="l11397"></a>11397 
<a name="l11398"></a>11398     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; draw_scanline(<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) { <span class="keywordflow">return</span> draw_scanline(0,0,0,color,opacity,1.0f,<span class="keyword">true</span>); }
<a name="l11399"></a>11399 
<a name="l11401"></a>11401 
<a name="l11409"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d">11409</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> z0,
<a name="l11410"></a>11410                      <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11411"></a>11411       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11412"></a>11412         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_point() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l11413"></a>11413         <span class="keywordflow">if</span> (x0&gt;=0 &amp;&amp; y0&gt;=0 &amp;&amp; z0&gt;=0 &amp;&amp; x0&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() &amp;&amp; y0&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() &amp;&amp; z0&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()) {
<a name="l11414"></a>11414           <span class="keyword">const</span> T *col=color;
<a name="l11415"></a>11415           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l11416"></a>11416           <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11417"></a>11417           T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x0,y0,z0,0);
<a name="l11418"></a>11418           <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = *(col++); ptrd+=whz; }
<a name="l11419"></a>11419           <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) { *ptrd=(T)(*(col++)*nopacity + *ptrd*copacity); ptrd+=whz; }
<a name="l11420"></a>11420         }
<a name="l11421"></a>11421       }
<a name="l11422"></a>11422       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11423"></a>11423     }
<a name="l11424"></a>11424 
<a name="l11426"></a>11426 
<a name="l11433"></a><a class="code" href="structcimg__library_1_1_c_img.html#a005b5dc96368f5dac4f0bf32619937f1">11433</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a005b5dc96368f5dac4f0bf32619937f1" title="Draw a colored point in the instance image, at coordinates (x0,y0).">draw_point</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11434"></a>11434       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,0,color,opacity);
<a name="l11435"></a>11435     }
<a name="l11436"></a>11436 
<a name="l11438"></a>11438 
<a name="l11448"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1">11448</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11449"></a>11449                     <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=~0L,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11450"></a>11450       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11451"></a>11451         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_line() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l11452"></a>11452         <span class="keyword">const</span> T* col=color;
<a name="l11453"></a>11453         <span class="keywordtype">int</span> nx0 = x0, nx1 = x1, ny0 = y0, ny1 = y1;
<a name="l11454"></a>11454 
<a name="l11455"></a>11455         <span class="keywordflow">if</span> (nx0&gt;nx1) cimg::swap(nx0,nx1,ny0,ny1);
<a name="l11456"></a>11456         <span class="keywordflow">if</span> (nx1&lt;0 || nx0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11457"></a>11457         <span class="keywordflow">if</span> (nx0&lt;0) { ny0-=nx0*(ny1-ny0)/(nx1-nx0); nx0=0; }
<a name="l11458"></a>11458         <span class="keywordflow">if</span> (nx1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) { ny1+=(nx1-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())*(ny0-ny1)/(nx1-nx0); nx1=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1;}
<a name="l11459"></a>11459         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1);
<a name="l11460"></a>11460         <span class="keywordflow">if</span> (ny1&lt;0 || ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11461"></a>11461         <span class="keywordflow">if</span> (ny0&lt;0) { nx0-=ny0*(nx1-nx0)/(ny1-ny0); ny0=0; }
<a name="l11462"></a>11462         <span class="keywordflow">if</span> (ny1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) { nx1+=(ny1-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())*(nx0-nx1)/(ny1-ny0); ny1=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1;}
<a name="l11463"></a>11463 
<a name="l11464"></a>11464         <span class="keyword">const</span> <span class="keywordtype">bool</span> steep = (ny1-ny0)&gt;<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(nx1-nx0);
<a name="l11465"></a>11465         <span class="keywordflow">if</span> (steep)   cimg::swap(nx0,ny0,nx1,ny1);
<a name="l11466"></a>11466         <span class="keywordflow">if</span> (nx0&gt;nx1) cimg::swap(nx0,nx1,ny0,ny1);
<a name="l11467"></a>11467         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11468"></a>11468           dx = nx1-nx0, dy = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(ny1-ny0),
<a name="l11469"></a>11469           offx = steep?<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>:1,
<a name="l11470"></a>11470           offy = (ny0&lt;ny1?1:-1)*(steep?1:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l11471"></a>11471 
<a name="l11472"></a>11472         <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l11473"></a>11473           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hatch=1;
<a name="l11474"></a>11474           T *ptrd = steep?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(ny0,nx0,0,k):<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(nx0,ny0,0,k);
<a name="l11475"></a>11475           <span class="keyword">const</span> T c = *(col++);
<a name="l11476"></a>11476           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> error=0, x=nx0; x&lt;=nx1; x++) {
<a name="l11477"></a>11477             <span class="keywordflow">if</span> (!(~pattern) || (~pattern &amp;&amp; pattern&amp;hatch)) *ptrd=c;
<a name="l11478"></a>11478             ptrd+=offx;
<a name="l11479"></a>11479             <span class="keywordflow">if</span> (((error+=dy)&lt;&lt;1)&gt;=dx) { ptrd+=offy; error-=dx; }
<a name="l11480"></a>11480             <span class="keywordflow">if</span> (pattern) hatch=(hatch&lt;&lt;1)+(hatch&gt;&gt;(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int)*8-1));
<a name="l11481"></a>11481           }
<a name="l11482"></a>11482         } <span class="keywordflow">else</span> {
<a name="l11483"></a>11483           <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity=1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11484"></a>11484           cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l11485"></a>11485             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hatch=1;
<a name="l11486"></a>11486             T *ptrd = steep?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(ny0,nx0,0,k):<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(nx0,ny0,0,k);
<a name="l11487"></a>11487             <span class="keyword">const</span> T c = *(col++);
<a name="l11488"></a>11488             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> error=0, x=nx0; x&lt;=nx1; x++) {
<a name="l11489"></a>11489               <span class="keywordflow">if</span> (!(~pattern) || (~pattern &amp;&amp; pattern&amp;hatch)) *ptrd = (T)(c*nopacity + copacity*(*ptrd));
<a name="l11490"></a>11490               ptrd+=offx;
<a name="l11491"></a>11491               <span class="keywordflow">if</span> (((error+=dy)&lt;&lt;1)&gt;=dx) { ptrd+=offy; error-=dx; }
<a name="l11492"></a>11492               <span class="keywordflow">if</span> (pattern) hatch=(hatch&lt;&lt;1)+(hatch&gt;&gt;(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int)*8-1));
<a name="l11493"></a>11493             }
<a name="l11494"></a>11494           }
<a name="l11495"></a>11495         }
<a name="l11496"></a>11496       }
<a name="l11497"></a>11497       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11498"></a>11498     }
<a name="l11499"></a>11499 
<a name="l11500"></a>11500 
<a name="l11502"></a>11502 
<a name="l11512"></a><a class="code" href="structcimg__library_1_1_c_img.html#a451c210d64a154b041632038addf061f">11512</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; coords,
<a name="l11513"></a>11513                                          <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=~0L, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11514"></a>11514 
<a name="l11515"></a>11515       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() &amp;&amp; !coords.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11516"></a>11516         <span class="keywordflow">if</span> (coords.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==1)
<a name="l11517"></a>11517           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_line() : Incorrect coordinates (%u,%u,%u,%u,%p).&quot;</span>,
<a name="l11518"></a>11518                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),coords.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,coords.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,coords.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,coords.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,coords.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11519"></a>11519         <span class="keywordtype">int</span> ox = (int)coords(0,0), oy = (int)coords(0,1);
<a name="l11520"></a>11520         <span class="keywordflow">if</span> (coords.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==2) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;coords.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; i++) {
<a name="l11521"></a>11521           <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)coords(i,0), y = (int)coords(i,1);
<a name="l11522"></a>11522           <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(ox,oy,x,y,color,pattern,opacity);
<a name="l11523"></a>11523           ox = x; oy = y;
<a name="l11524"></a>11524         } <span class="keywordflow">else</span> {
<a name="l11525"></a>11525           <span class="keywordtype">int</span> oz = (int)coords(0,2);
<a name="l11526"></a>11526           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;coords.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; i++) {
<a name="l11527"></a>11527             <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)coords(i,0), y = (int)coords(i,1), z = (int)coords(i,2);
<a name="l11528"></a>11528             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(ox,oy,oz,x,y,z,color,pattern,opacity);
<a name="l11529"></a>11529             ox = x; oy = y; oz = z;
<a name="l11530"></a>11530           }
<a name="l11531"></a>11531         }
<a name="l11532"></a>11532       }
<a name="l11533"></a>11533       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11534"></a>11534     }
<a name="l11535"></a>11535 
<a name="l11537"></a>11537 
<a name="l11549"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3e9c48f8d818db301a35a81cc81daa0c">11549</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">int</span> z0, <span class="keyword">const</span> <span class="keywordtype">int</span> x1, <span class="keyword">const</span> <span class="keywordtype">int</span> y1, <span class="keyword">const</span> <span class="keywordtype">int</span> z1,
<a name="l11550"></a>11550                     <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=~0L, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11551"></a>11551       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11552"></a>11552         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_line() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l11553"></a>11553         <span class="keyword">const</span> T* col=color;
<a name="l11554"></a>11554         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hatch=1;
<a name="l11555"></a>11555         <span class="keywordtype">int</span> nx0 = x0, ny0 = y0, nz0 = z0, nx1 = x1, ny1 = y1, nz1 = z1;
<a name="l11556"></a>11556         <span class="keywordflow">if</span> (nx0&gt;nx1) cimg::swap(nx0,nx1,ny0,ny1,nz0,nz1);
<a name="l11557"></a>11557         <span class="keywordflow">if</span> (nx1&lt;0 || nx0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11558"></a>11558         <span class="keywordflow">if</span> (nx0&lt;0) { <span class="keyword">const</span> <span class="keywordtype">int</span> D=1+nx1-nx0; ny0-=nx0*(1+ny1-ny0)/D; nz0-=nx0*(1+nz1-nz0)/D; nx0=0; }
<a name="l11559"></a>11559         <span class="keywordflow">if</span> (nx1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) { <span class="keyword">const</span> <span class="keywordtype">int</span> d=nx1-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(), D=1+nx1-nx0; ny1+=d*(1+ny0-ny1)/D; nz1+=d*(1+nz0-nz1)/D; nx1=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1;}
<a name="l11560"></a>11560         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,nz0,nz1);
<a name="l11561"></a>11561         <span class="keywordflow">if</span> (ny1&lt;0 || ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11562"></a>11562         <span class="keywordflow">if</span> (ny0&lt;0) { <span class="keyword">const</span> <span class="keywordtype">int</span> D=1+ny1-ny0; nx0-=ny0*(1+nx1-nx0)/D; nz0-=ny0*(1+nz1-nz0)/D; ny0=0; }
<a name="l11563"></a>11563         <span class="keywordflow">if</span> (ny1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) { <span class="keyword">const</span> <span class="keywordtype">int</span> d=ny1-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(), D=1+ny1-ny0; nx1+=d*(1+nx0-nx1)/D; nz1+=d*(1+nz0-nz1)/D; ny1=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1;}
<a name="l11564"></a>11564         <span class="keywordflow">if</span> (nz0&gt;nz1) cimg::swap(nx0,nx1,ny0,ny1,nz0,nz1);
<a name="l11565"></a>11565         <span class="keywordflow">if</span> (nz1&lt;0 || nz0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11566"></a>11566         <span class="keywordflow">if</span> (nz0&lt;0) { <span class="keyword">const</span> <span class="keywordtype">int</span> D=1+nz1-nz0; nx0-=nz0*(1+nx1-nx0)/D; ny0-=nz0*(1+ny1-ny0)/D; nz0=0; }
<a name="l11567"></a>11567         <span class="keywordflow">if</span> (nz1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()) { <span class="keyword">const</span> <span class="keywordtype">int</span> d=nz1-<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>(), D=1+nz1-nz0; nx1+=d*(1+nx0-nx1)/D; ny1+=d*(1+ny0-ny1)/D; nz1=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1;}
<a name="l11568"></a>11568         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(nx1-nx0),<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(ny1-ny0),nz1-nz0), whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l11569"></a>11569         <span class="keyword">const</span> <span class="keywordtype">float</span> px = (nx1-nx0)/(<span class="keywordtype">float</span>)dmax, py = (ny1-ny0)/(<span class="keywordtype">float</span>)dmax, pz = (nz1-nz0)/(<span class="keywordtype">float</span>)dmax;
<a name="l11570"></a>11570         <span class="keywordtype">float</span> x = (float)nx0, y = (<span class="keywordtype">float</span>)ny0, z = (float)nz0;
<a name="l11571"></a>11571         <span class="keywordflow">if</span> (opacity&gt;=1) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t=0; t&lt;=dmax; t++) {
<a name="l11572"></a>11572           <span class="keywordflow">if</span> (!(~pattern) || (~pattern &amp;&amp; pattern&amp;hatch)) {
<a name="l11573"></a>11573             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)x,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)y,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)z,0);
<a name="l11574"></a>11574             cimg_forV(*<span class="keyword">this</span>,k) { *ptrd=*(col++); ptrd+=whz; }
<a name="l11575"></a>11575             col-=dim;
<a name="l11576"></a>11576           }
<a name="l11577"></a>11577           x+=px; y+=py; z+=pz; <span class="keywordflow">if</span> (pattern) hatch=(hatch&lt;&lt;1)+(hatch&gt;&gt;(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int)*8-1));
<a name="l11578"></a>11578         } <span class="keywordflow">else</span> {
<a name="l11579"></a>11579           <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11580"></a>11580           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t=0; t&lt;=dmax; t++) {
<a name="l11581"></a>11581             <span class="keywordflow">if</span> (!(~pattern) || (~pattern &amp;&amp; pattern&amp;hatch)) {
<a name="l11582"></a>11582               T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)x,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)y,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)z,0);
<a name="l11583"></a>11583               cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(*(col++)*nopacity + copacity*(*ptrd)); ptrd+=whz; }
<a name="l11584"></a>11584               col-=dim;
<a name="l11585"></a>11585             }
<a name="l11586"></a>11586             x+=px; y+=py; z+=pz; <span class="keywordflow">if</span> (pattern) hatch=(hatch&lt;&lt;1)+(hatch&gt;&gt;(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int)*8-1));
<a name="l11587"></a>11587           }
<a name="l11588"></a>11588         }
<a name="l11589"></a>11589       }
<a name="l11590"></a>11590       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11591"></a>11591     }
<a name="l11592"></a>11592 
<a name="l11594"></a>11594 
<a name="l11607"></a><a class="code" href="structcimg__library_1_1_c_img.html#a032a349d5428b756d3151b33dbbaf31a">11607</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11608"></a>11608                                          <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; texture,
<a name="l11609"></a>11609                                          <span class="keyword">const</span> <span class="keywordtype">int</span> tx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ty0,<span class="keyword">const</span> <span class="keywordtype">int</span> tx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ty1,
<a name="l11610"></a>11610                                          <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11611"></a>11611       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11612"></a>11612         <span class="keywordflow">if</span> (texture.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || texture.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>&lt;dim)
<a name="l11613"></a>11613           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_line() : specified texture (%u,%u,%u,%u,%p) has wrong dimensions.&quot;</span>,
<a name="l11614"></a>11614                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11615"></a>11615         <span class="keywordtype">int</span> nx0=x0, ny0=y0, nx1=x1, ny1=y1, ntx0=tx0, nty0=ty0, ntx1=tx1, nty1=ty1;
<a name="l11616"></a>11616         <span class="keywordflow">if</span> (nx0&gt;nx1) cimg::swap(nx0,nx1,ny0,ny1,ntx0,ntx1,nty0,nty1);
<a name="l11617"></a>11617         <span class="keywordflow">if</span> (nx1&lt;0 || nx0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11618"></a>11618         <span class="keywordflow">if</span> (nx0&lt;0) { <span class="keyword">const</span> <span class="keywordtype">int</span> D=nx1-nx0; ny0-=nx0*(ny1-ny0)/D; ntx0-=nx0*(ntx1-ntx0)/D; nty0-=nx0*(nty1-nty0)/D; nx0=0; }
<a name="l11619"></a>11619         <span class="keywordflow">if</span> (nx1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) { <span class="keyword">const</span> <span class="keywordtype">int</span> d=nx1-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(),D=nx1-nx0; ny1+=d*(ny0-ny1)/D; ntx1+=d*(ntx0-ntx1)/D; nty1+=d*(nty0-nty1)/D; nx1=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1; }
<a name="l11620"></a>11620         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,ntx0,ntx1,nty0,nty1);
<a name="l11621"></a>11621         <span class="keywordflow">if</span> (ny1&lt;0 || ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11622"></a>11622         <span class="keywordflow">if</span> (ny0&lt;0) { <span class="keyword">const</span> <span class="keywordtype">int</span> D=ny1-ny0; nx0-=ny0*(nx1-nx0)/D; ntx0-=ny0*(ntx1-ntx0)/D; nty0-=ny0*(nty1-nty0)/D; ny0=0; }
<a name="l11623"></a>11623         <span class="keywordflow">if</span> (ny1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) { <span class="keyword">const</span> <span class="keywordtype">int</span> d=ny1-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(),D=ny1-ny0; nx1+=d*(nx0-nx1)/D; ntx1+=d*(ntx0-ntx1)/D; nty1+=d*(nty0-nty1)/D; ny1=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1; }
<a name="l11624"></a>11624         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmax = (<span class="keywordtype">unsigned</span> int)<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(nx1-nx0),ny1-ny0),
<a name="l11625"></a>11625           whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, twhz = texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*texture.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l11626"></a>11626         <span class="keyword">const</span> <span class="keywordtype">float</span> px = dmax?(nx1-nx0)/(float)dmax:0, py = dmax?(ny1-ny0)/(float)dmax:0,
<a name="l11627"></a>11627           tpx = dmax?(ntx1-ntx0)/(float)dmax:0, tpy = dmax?(nty1-nty0)/(float)dmax:0;
<a name="l11628"></a>11628         <span class="keywordtype">float</span> x = (float)nx0, y = (<span class="keywordtype">float</span>)ny0, tx = (float)ntx0, ty = (<span class="keywordtype">float</span>)nty0;
<a name="l11629"></a>11629         <span class="keywordflow">if</span> (opacity&gt;=1) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tt=0; tt&lt;=dmax; tt++) {
<a name="l11630"></a>11630           T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)x,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)y,0,0);
<a name="l11631"></a>11631           <span class="keyword">const</span> t *ptrs = texture.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,0);
<a name="l11632"></a>11632           cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)*ptrs; ptrd+=whz; ptrs+=twhz; }
<a name="l11633"></a>11633           x+=px; y+=py; tx+=tpx; ty+=tpy;
<a name="l11634"></a>11634         } <span class="keywordflow">else</span> {
<a name="l11635"></a>11635           <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11636"></a>11636           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tt=0; tt&lt;=dmax; tt++) {
<a name="l11637"></a>11637             T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)x,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)y,0,0);
<a name="l11638"></a>11638             <span class="keyword">const</span> t *ptrs = texture.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,0);
<a name="l11639"></a>11639             cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(nopacity*(*ptrs) + copacity*(*ptrd)); ptrd+=whz; ptrs+=twhz; }
<a name="l11640"></a>11640             x+=px; y+=py; tx+=tpx; ty+=tpy;
<a name="l11641"></a>11641           }
<a name="l11642"></a>11642         }
<a name="l11643"></a>11643       }
<a name="l11644"></a>11644       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11645"></a>11645     }
<a name="l11646"></a>11646 
<a name="l11648"></a>11648 
<a name="l11660"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75">11660</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11661"></a>11661                      <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l11662"></a>11662                      <span class="keyword">const</span> <span class="keywordtype">float</span> angle=30,<span class="keyword">const</span> <span class="keywordtype">float</span> length=-10,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=~0L,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11663"></a>11663       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11664"></a>11664         <span class="keyword">const</span> <span class="keywordtype">float</span> u = (float)(x0-x1), v = (float)(y0-y1), sq = u*u+v*v,
<a name="l11665"></a>11665           deg = (float)(angle*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/180), ang = (sq&gt;0)?(<span class="keywordtype">float</span>)std::atan2(v,u):0.0f,
<a name="l11666"></a>11666           l = (length&gt;=0)?length:-length*(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(sq)/100;
<a name="l11667"></a>11667         <span class="keywordflow">if</span> (sq&gt;0) {
<a name="l11668"></a>11668           <span class="keyword">const</span> <span class="keywordtype">double</span> cl = <a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(ang-deg), sl = <a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">std::sin</a>(ang-deg), cr = <a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(ang+deg), sr = <a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">std::sin</a>(ang+deg);
<a name="l11669"></a>11669           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11670"></a>11670             xl = x1+(int)(l*cl), yl = y1+(int)(l*sl),
<a name="l11671"></a>11671             xr = x1+(int)(l*cr), yr = y1+(int)(l*sr),
<a name="l11672"></a>11672             xc = x1+(int)((l+1)*(cl+cr))/2, yc = y1+(int)((l+1)*(sl+sr))/2;
<a name="l11673"></a>11673           <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,xc,yc,color,pattern,opacity).<a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x1,y1,xl,yl,xr,yr,color,opacity);
<a name="l11674"></a>11674         } <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color,opacity);
<a name="l11675"></a>11675       }
<a name="l11676"></a>11676       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11677"></a>11677     }
<a name="l11678"></a>11678 
<a name="l11680"></a>11680 
<a name="l11689"></a><a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1">11689</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; sprite,
<a name="l11690"></a>11690                                           <span class="keyword">const</span> <span class="keywordtype">int</span> x0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> z0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> v0=0,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11691"></a>11691       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11692"></a>11692         <span class="keywordflow">if</span> (sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l11693"></a>11693           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_image() : Specified sprite image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l11694"></a>11694                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11695"></a>11695         <span class="keyword">const</span> <span class="keywordtype">bool</span> bx=(x0&lt;0), by=(y0&lt;0), bz=(z0&lt;0), bv=(v0&lt;0);
<a name="l11696"></a>11696         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11697"></a>11697           lX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() - (x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0) + (bx?x0:0),
<a name="l11698"></a>11698           lY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() - (y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0) + (by?y0:0),
<a name="l11699"></a>11699           lZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>() - (z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0) + (bz?z0:0),
<a name="l11700"></a>11700           lV = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>() - (v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()?v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>():0) + (bv?v0:0);
<a name="l11701"></a>11701         <span class="keyword">const</span> t *ptrs = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>()-(bx?x0:0)-(by?y0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0)+(bz?z0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0)+
<a name="l11702"></a>11702           (bv?v0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0);
<a name="l11703"></a>11703         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l11704"></a>11704           offX = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX, soffX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX,
<a name="l11705"></a>11705           offY = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY), soffY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY),
<a name="l11706"></a>11706           offZ = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ), soffZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ);
<a name="l11707"></a>11707         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11708"></a>11708         T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x0&lt;0?0:x0,y0&lt;0?0:y0,z0&lt;0?0:z0,v0&lt;0?0:v0);
<a name="l11709"></a>11709         <span class="keywordflow">if</span> (lX&gt;0 &amp;&amp; lY&gt;0 &amp;&amp; lZ&gt;0 &amp;&amp; lV&gt;0)
<a name="l11710"></a>11710           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v=0; v&lt;lV; v++) {
<a name="l11711"></a>11711             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=0; z&lt;lZ; z++) {
<a name="l11712"></a>11712               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;lY; y++) {
<a name="l11713"></a>11713                 <span class="keywordflow">if</span> (opacity&gt;=1) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) *(ptrd++) = (T)*(ptrs++);
<a name="l11714"></a>11714                 <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) { *ptrd = (T)(nopacity*(*(ptrs++)) + copacity*(*ptrd)); ptrd++; }
<a name="l11715"></a>11715                 ptrd+=offX; ptrs+=soffX;
<a name="l11716"></a>11716               }
<a name="l11717"></a>11717               ptrd+=offY; ptrs+=soffY;
<a name="l11718"></a>11718             }
<a name="l11719"></a>11719             ptrd+=offZ; ptrs+=soffZ;
<a name="l11720"></a>11720           }
<a name="l11721"></a>11721       }
<a name="l11722"></a>11722       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11723"></a>11723     }
<a name="l11724"></a>11724 
<a name="l11725"></a>11725 <span class="preprocessor">#ifndef cimg_use_visualcpp6</span>
<a name="l11726"></a>11726 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; sprite,<span class="keyword">const</span> <span class="keywordtype">int</span> x0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> z0=0,<span class="keyword">const</span> <span class="keywordtype">int</span> v0=0,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11727"></a>11727       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11728"></a>11728         <span class="keywordflow">if</span> (sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l11729"></a>11729           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_image() : Specified sprite image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l11730"></a>11730                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11731"></a>11731         <span class="keywordflow">if</span> (<span class="keyword">this</span>==&amp;sprite) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(sprite),x0,y0,z0,v0,opacity);
<a name="l11732"></a>11732         <span class="keyword">const</span> <span class="keywordtype">bool</span> bx=(x0&lt;0), by=(y0&lt;0), bz=(z0&lt;0), bv=(v0&lt;0);
<a name="l11733"></a>11733         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11734"></a>11734           lX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() - (x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0) + (bx?x0:0),
<a name="l11735"></a>11735           lY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() - (y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0) + (by?y0:0),
<a name="l11736"></a>11736           lZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>() - (z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0) + (bz?z0:0),
<a name="l11737"></a>11737           lV = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>() - (v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()?v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>():0) + (bv?v0:0);
<a name="l11738"></a>11738         <span class="keyword">const</span> T *ptrs = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>()-(bx?x0:0)-(by?y0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0)+(bz?z0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0)+
<a name="l11739"></a>11739           (bv?v0*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0);
<a name="l11740"></a>11740         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l11741"></a>11741           offX = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX, soffX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX,
<a name="l11742"></a>11742           offY = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY), soffY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY),
<a name="l11743"></a>11743           offZ = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ), soffZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ),
<a name="l11744"></a>11744           slX = lX*<span class="keyword">sizeof</span>(T);
<a name="l11745"></a>11745         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11746"></a>11746         T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x0&lt;0?0:x0,y0&lt;0?0:y0,z0&lt;0?0:z0,v0&lt;0?0:v0);
<a name="l11747"></a>11747         <span class="keywordflow">if</span> (lX&gt;0 &amp;&amp; lY&gt;0 &amp;&amp; lZ&gt;0 &amp;&amp; lV&gt;0)
<a name="l11748"></a>11748           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v=0; v&lt;lV; v++) {
<a name="l11749"></a>11749             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=0; z&lt;lZ; z++) {
<a name="l11750"></a>11750               <span class="keywordflow">if</span> (opacity&gt;=1) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;lY; y++) { std::memcpy(ptrd,ptrs,slX); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; ptrs+=sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; }
<a name="l11751"></a>11751               <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;lY; y++) {
<a name="l11752"></a>11752                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) { *ptrd = (T)(nopacity*(*(ptrs++)) + copacity*(*ptrd)); ptrd++; }
<a name="l11753"></a>11753                 ptrd+=offX; ptrs+=soffX;
<a name="l11754"></a>11754               }
<a name="l11755"></a>11755               ptrd+=offY; ptrs+=soffY;
<a name="l11756"></a>11756             }
<a name="l11757"></a>11757             ptrd+=offZ; ptrs+=soffZ;
<a name="l11758"></a>11758           }
<a name="l11759"></a>11759       }
<a name="l11760"></a>11760       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11761"></a>11761     }
<a name="l11762"></a>11762 <span class="preprocessor">#endif</span>
<a name="l11763"></a>11763 <span class="preprocessor"></span>
<a name="l11765"></a>11765 
<a name="l11778"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3cd6c29636f0d08ceaff2a2a5ea0b88b">11778</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ti,<span class="keyword">typename</span> tm&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ti&gt;</a>&amp; sprite, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tm&gt;</a>&amp; mask,
<a name="l11779"></a>11779                                                        <span class="keyword">const</span> <span class="keywordtype">int</span> x0=0, <span class="keyword">const</span> <span class="keywordtype">int</span> y0=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z0=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v0=0,
<a name="l11780"></a>11780                                                        <span class="keyword">const</span> tm mask_valmax=<span class="charliteral">&#39;\1&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11781"></a>11781       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11782"></a>11782         <span class="keywordflow">if</span> (sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l11783"></a>11783           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_image() : Specified sprite image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l11784"></a>11784                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11785"></a>11785         <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l11786"></a>11786           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_image() : Specified mask image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l11787"></a>11787                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l11788"></a>11788         <span class="keywordflow">if</span> ((<span class="keywordtype">void</span>*)<span class="keyword">this</span>==(<span class="keywordtype">void</span>*)&amp;sprite) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(sprite),mask,x0,y0,z0,v0);
<a name="l11789"></a>11789         <span class="keywordflow">if</span>(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)
<a name="l11790"></a>11790           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_image() : Mask dimension is (%u,%u,%u,%u), while sprite is (%u,%u,%u,%u)&quot;</span>,
<a name="l11791"></a>11791                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l11792"></a>11792         <span class="keyword">const</span> <span class="keywordtype">bool</span> bx=(x0&lt;0), by=(y0&lt;0), bz=(z0&lt;0), bv=(v0&lt;0);
<a name="l11793"></a>11793         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11794"></a>11794           lX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() - (x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?x0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0) + (bx?x0:0),
<a name="l11795"></a>11795           lY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() - (y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?y0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0) + (by?y0:0),
<a name="l11796"></a>11796           lZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>() - (z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?z0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0) + (bz?z0:0),
<a name="l11797"></a>11797           lV = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>() - (v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()&gt;<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()?v0+sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()-<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>():0) + (bv?v0:0);
<a name="l11798"></a>11798         <span class="keyword">const</span> <span class="keywordtype">int</span> coff = -(bx?x0:0)-(by?y0*mask.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>():0)-(bz?z0*mask.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*mask.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>():0)-
<a name="l11799"></a>11799           (bv?v0*mask.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*mask.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()*mask.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>():0),
<a name="l11800"></a>11800           ssize = mask.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()*mask.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()*mask.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>();
<a name="l11801"></a>11801         <span class="keyword">const</span> ti *ptrs = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>() + coff;
<a name="l11802"></a>11802         <span class="keyword">const</span> tm *ptrm = mask.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>() + coff;
<a name="l11803"></a>11803         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l11804"></a>11804           offX = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX, soffX = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX,
<a name="l11805"></a>11805           offY = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY), soffY = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY),
<a name="l11806"></a>11806           offZ = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ), soffZ = sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ);
<a name="l11807"></a>11807         T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x0&lt;0?0:x0,y0&lt;0?0:y0,z0&lt;0?0:z0,v0&lt;0?0:v0);
<a name="l11808"></a>11808         <span class="keywordflow">if</span> (lX&gt;0 &amp;&amp; lY&gt;0 &amp;&amp; lZ&gt;0 &amp;&amp; lV&gt;0)
<a name="l11809"></a>11809           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v=0; v&lt;lV; v++) {
<a name="l11810"></a>11810             ptrm = mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + (ptrm - mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>)%ssize;
<a name="l11811"></a>11811             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=0; z&lt;lZ; z++) {
<a name="l11812"></a>11812               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;lY; y++) {
<a name="l11813"></a>11813                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) {
<a name="l11814"></a>11814                   <span class="keyword">const</span> <span class="keywordtype">float</span> mopacity = *(ptrm++)*opacity,
<a name="l11815"></a>11815                     nopacity = <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(mopacity), copacity = mask_valmax-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(mopacity,0.0f);
<a name="l11816"></a>11816                   *ptrd = (T)((nopacity*(*(ptrs++))+copacity*(*ptrd))/mask_valmax);
<a name="l11817"></a>11817                   ptrd++;
<a name="l11818"></a>11818                 }
<a name="l11819"></a>11819                 ptrd+=offX; ptrs+=soffX; ptrm+=soffX;
<a name="l11820"></a>11820               }
<a name="l11821"></a>11821               ptrd+=offY; ptrs+=soffY; ptrm+=soffY;
<a name="l11822"></a>11822             }
<a name="l11823"></a>11823             ptrd+=offZ; ptrs+=soffZ; ptrm+=soffZ;
<a name="l11824"></a>11824           }
<a name="l11825"></a>11825       }
<a name="l11826"></a>11826       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11827"></a>11827     }
<a name="l11828"></a>11828 
<a name="l11830"></a>11830 
<a name="l11843"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739">11843</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> z0,<span class="keyword">const</span> <span class="keywordtype">int</span> v0,
<a name="l11844"></a>11844                          <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">int</span> z1,<span class="keyword">const</span> <span class="keywordtype">int</span> v1,
<a name="l11845"></a>11845                          <span class="keyword">const</span> T&amp; val,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l11846"></a>11846       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11847"></a>11847         <span class="keyword">const</span> <span class="keywordtype">bool</span> bx=(x0&lt;x1), by=(y0&lt;y1), bz=(z0&lt;z1), bv=(v0&lt;v1);
<a name="l11848"></a>11848         <span class="keyword">const</span> <span class="keywordtype">int</span> nx0=bx?x0:x1, nx1=bx?x1:x0, ny0=by?y0:y1, ny1=by?y1:y0, nz0=bz?z0:z1, nz1=bz?z1:z0, nv0=bv?v0:v1, nv1=bv?v1:v0;
<a name="l11849"></a>11849         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l11850"></a>11850           lX = (1+nx1-nx0) + (nx1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1-nx1:0) + (nx0&lt;0?nx0:0),
<a name="l11851"></a>11851           lY = (1+ny1-ny0) + (ny1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1-ny1:0) + (ny0&lt;0?ny0:0),
<a name="l11852"></a>11852           lZ = (1+nz1-nz0) + (nz1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1-nz1:0) + (nz0&lt;0?nz0:0),
<a name="l11853"></a>11853           lV = (1+nv1-nv0) + (nv1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()-1-nv1:0) + (nv0&lt;0?nv0:0);
<a name="l11854"></a>11854         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offX = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-lX, offY = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-lY), offZ = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-lZ);
<a name="l11855"></a>11855         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11856"></a>11856         T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(nx0&lt;0?0:nx0,ny0&lt;0?0:ny0,nz0&lt;0?0:nz0,nv0&lt;0?0:nv0);
<a name="l11857"></a>11857         <span class="keywordflow">if</span> (lX&gt;0 &amp;&amp; lY&gt;0 &amp;&amp; lZ&gt;0 &amp;&amp; lV&gt;0)
<a name="l11858"></a>11858           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v=0; v&lt;lV; v++) {
<a name="l11859"></a>11859             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=0; z&lt;lZ; z++) {
<a name="l11860"></a>11860               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;lY; y++) {
<a name="l11861"></a>11861                 <span class="keywordflow">if</span> (opacity&gt;=1) {
<a name="l11862"></a>11862                   <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(T)!=1) { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) *(ptrd++) = val; ptrd+=offX; }
<a name="l11863"></a>11863                   <span class="keywordflow">else</span> { std::memset(ptrd,(<span class="keywordtype">int</span>)val,lX); ptrd+=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; }
<a name="l11864"></a>11864                 } <span class="keywordflow">else</span> { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;lX; x++) { *ptrd = (T)(nopacity*val+copacity*(*ptrd)); ptrd++; } ptrd+=offX; }
<a name="l11865"></a>11865               }
<a name="l11866"></a>11866               ptrd+=offY;
<a name="l11867"></a>11867             }
<a name="l11868"></a>11868             ptrd+=offZ;
<a name="l11869"></a>11869           }
<a name="l11870"></a>11870       }
<a name="l11871"></a>11871       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11872"></a>11872     }
<a name="l11873"></a>11873 
<a name="l11875"></a>11875 
<a name="l11886"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac9bbf8259f593b243fb6db2aa7fdbd26">11886</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> z0,
<a name="l11887"></a>11887                          <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,<span class="keyword">const</span> <span class="keywordtype">int</span> z1,
<a name="l11888"></a>11888                          <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11889"></a>11889       <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_rectangle : specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l11890"></a>11890       cimg_forV(*<span class="keyword">this</span>,k) <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(x0,y0,z0,k,x1,y1,z1,k,color[k],opacity);
<a name="l11891"></a>11891       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11892"></a>11892     }
<a name="l11893"></a>11893 
<a name="l11895"></a>11895 
<a name="l11904"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7e381d5eeece65295abefcef20b44028">11904</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11905"></a>11905                          <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11906"></a>11906       <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(x0,y0,0,x1,y1,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1,color,opacity);
<a name="l11907"></a>11907       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11908"></a>11908     }
<a name="l11909"></a>11909 
<a name="l11911"></a>11911 
<a name="l11923"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0">11923</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l11924"></a>11924                         <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11925"></a>11925                         <span class="keyword">const</span> <span class="keywordtype">int</span> x2,<span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l11926"></a>11926                         <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l11927"></a>11927                         <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1,
<a name="l11928"></a>11928                         <span class="keyword">const</span> <span class="keywordtype">float</span> brightness=1) {
<a name="l11929"></a>11929       draw_scanline(color,opacity);
<a name="l11930"></a>11930       <span class="keywordtype">int</span> nx0 = x0, ny0 = y0, nx1 = x1, ny1 = y1, nx2 = x2, ny2 = y2;
<a name="l11931"></a>11931       <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1);
<a name="l11932"></a>11932       <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2);
<a name="l11933"></a>11933       <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2);
<a name="l11934"></a>11934       <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11935"></a>11935       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11936"></a>11936         p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l11937"></a>11937         p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l11938"></a>11938         p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1);
<a name="l11939"></a>11939       <span class="keywordtype">float</span> xleft = (float)nx0, xright = xleft, pleft = (p1&lt;p2)?p1:p2, pright = (p1&lt;p2)?p2:p1;
<a name="l11940"></a>11940       <span class="keywordflow">if</span> (ny0&lt;0) { xleft-=ny0*pleft; xright-=ny0*pright; }
<a name="l11941"></a>11941       <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&gt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>:ny1;
<a name="l11942"></a>11942       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=ny0&lt;0?0:ny0; y&lt;ya; y++) {
<a name="l11943"></a>11943         draw_scanline((<span class="keywordtype">int</span>)xleft,(<span class="keywordtype">int</span>)xright,y,color,opacity,brightness);
<a name="l11944"></a>11944         xleft+=pleft; xright+=pright;
<a name="l11945"></a>11945       }
<a name="l11946"></a>11946       <span class="keywordflow">if</span> (p1&lt;p2) { xleft=(float)nx1;  pleft=p3;  <span class="keywordflow">if</span> (ny1&lt;0) xleft-=ny1*pleft; }
<a name="l11947"></a>11947       <span class="keywordflow">else</span>       { xright=(float)nx1; pright=p3; <span class="keywordflow">if</span> (ny1&lt;0) xright-=ny1*pright; }
<a name="l11948"></a>11948       <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:ny2;
<a name="l11949"></a>11949       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=ny1&lt;0?0:ny1; yy&lt;=yb; yy++) {
<a name="l11950"></a>11950         draw_scanline((<span class="keywordtype">int</span>)xleft,(<span class="keywordtype">int</span>)xright,yy,color,opacity,brightness);
<a name="l11951"></a>11951         xleft+=pleft; xright+=pright;
<a name="l11952"></a>11952       }
<a name="l11953"></a>11953       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11954"></a>11954     }
<a name="l11955"></a>11955 
<a name="l11957"></a>11957 
<a name="l11971"></a><a class="code" href="structcimg__library_1_1_c_img.html#adc0bb0f859b36d38e305f10ca6bf004a">11971</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l11972"></a>11972                         <span class="keyword">const</span> <span class="keywordtype">int</span> x1, <span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l11973"></a>11973                         <span class="keyword">const</span> <span class="keywordtype">int</span> x2, <span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l11974"></a>11974                         <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l11975"></a>11975                         <span class="keyword">const</span> <span class="keywordtype">float</span> c0, <span class="keyword">const</span> <span class="keywordtype">float</span> c1, <span class="keyword">const</span> <span class="keywordtype">float</span> c2,
<a name="l11976"></a>11976                         <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l11977"></a>11977       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l11978"></a>11978         <span class="keywordtype">int</span> nx0=x0,ny0=y0,nx1=x1,ny1=y1,nx2=x2,ny2=y2,whz=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l11979"></a>11979         <span class="keywordtype">float</span> nc0=c0,nc1=c1,nc2=c2;
<a name="l11980"></a>11980         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,nc0,nc1);
<a name="l11981"></a>11981         <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2,nc0,nc2);
<a name="l11982"></a>11982         <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2,nc1,nc2);
<a name="l11983"></a>11983         <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l11984"></a>11984         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l11985"></a>11985           p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l11986"></a>11986           p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l11987"></a>11987           p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1),
<a name="l11988"></a>11988           cp1 = (ny1-ny0)?(nc1-nc0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l11989"></a>11989           cp2 = (ny2-ny0)?(nc2-nc0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l11990"></a>11990           cp3 = (ny2-ny1)?(nc2-nc1)/(<span class="keywordtype">float</span>)(ny2-ny1):0;
<a name="l11991"></a>11991         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l11992"></a>11992         <span class="keywordtype">float</span> pleft,pright,cpleft,cpright,xleft=(float)nx0,xright=xleft,cleft=nc0,cright=cleft;
<a name="l11993"></a>11993         <span class="keywordflow">if</span> (p1&lt;p2) { pleft=p1; pright=p2; cpleft=cp1; cpright=cp2; }
<a name="l11994"></a>11994         <span class="keywordflow">else</span>       { pleft=p2; pright=p1; cpleft=cp2; cpright=cp1; }
<a name="l11995"></a>11995         <span class="keywordflow">if</span> (ny0&lt;0) { xleft-=ny0*pleft; xright-=ny0*pright; cleft-=ny0*cpleft; cright-=ny0*cpright; }
<a name="l11996"></a>11996         <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?ny1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l11997"></a>11997         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=(ny0&lt;0?0:ny0); y&lt;ya; y++) {
<a name="l11998"></a>11998           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l11999"></a>11999           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12000"></a>12000             cp = dx?(cright-cleft)/dx:0,
<a name="l12001"></a>12001             ci = (xleft&gt;=0)?cleft:(cleft-xleft*cp);
<a name="l12002"></a>12002           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12003"></a>12003           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12004"></a>12004             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12005"></a>12005             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,y,0,0);
<a name="l12006"></a>12006             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12007"></a>12007               <span class="keyword">const</span> T col = color[k];
<a name="l12008"></a>12008               <span class="keywordtype">float</span> c=ci;
<a name="l12009"></a>12009               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(c*col); c+=cp; }
<a name="l12010"></a>12010               ptrd+=offx;
<a name="l12011"></a>12011             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12012"></a>12012               <span class="keyword">const</span> T col = color[k];
<a name="l12013"></a>12013               <span class="keywordtype">float</span> c=ci;
<a name="l12014"></a>12014               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*c*col+copacity*(*ptrd)); ptrd++; c+=cp; }
<a name="l12015"></a>12015               ptrd+=offx;
<a name="l12016"></a>12016             }
<a name="l12017"></a>12017           }
<a name="l12018"></a>12018           xleft+=pleft; xright+=pright; cleft+=cpleft; cright+=cpright;
<a name="l12019"></a>12019         }
<a name="l12020"></a>12020 
<a name="l12021"></a>12021         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12022"></a>12022           xleft=(float)nx1; pleft=p3; cleft=nc1; cpleft=cp3;
<a name="l12023"></a>12023           <span class="keywordflow">if</span> (ny1&lt;0) { xleft-=ny1*pleft; cleft-=ny1*cpleft; }
<a name="l12024"></a>12024         } <span class="keywordflow">else</span> {
<a name="l12025"></a>12025           xright=(float)nx1; pright=p3; cright=nc1; cpright=cp3;
<a name="l12026"></a>12026           <span class="keywordflow">if</span> (ny1&lt;0) { xright-=ny1*pright; cright-=ny1*cpright; }
<a name="l12027"></a>12027         }
<a name="l12028"></a>12028         <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):ny2;
<a name="l12029"></a>12029         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=(ny1&lt;0?0:ny1); yy&lt;=yb; yy++) {
<a name="l12030"></a>12030           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12031"></a>12031           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12032"></a>12032             cp = dx?(cright-cleft)/dx:0,
<a name="l12033"></a>12033             ci = (xleft&gt;=0)?cleft:(cleft-xleft*cp);
<a name="l12034"></a>12034           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12035"></a>12035           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12036"></a>12036             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12037"></a>12037             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,yy,0,0);
<a name="l12038"></a>12038             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12039"></a>12039               <span class="keyword">const</span> T col = color[k];
<a name="l12040"></a>12040               <span class="keywordtype">float</span> c=ci;
<a name="l12041"></a>12041               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(c*col); c+=cp; }
<a name="l12042"></a>12042               ptrd+=offx;
<a name="l12043"></a>12043             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12044"></a>12044               <span class="keyword">const</span> T col = color[k];
<a name="l12045"></a>12045               <span class="keywordtype">float</span> c=ci;
<a name="l12046"></a>12046               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*c*col+copacity*(*ptrd)); ptrd++; c+=cp; }
<a name="l12047"></a>12047               ptrd+=offx;
<a name="l12048"></a>12048             }
<a name="l12049"></a>12049           }
<a name="l12050"></a>12050           xleft+=pleft; xright+=pright; cleft+=cpleft; cright+=cpright;
<a name="l12051"></a>12051         }
<a name="l12052"></a>12052       }
<a name="l12053"></a>12053       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12054"></a>12054     }
<a name="l12055"></a>12055 
<a name="l12057"></a>12057 
<a name="l12075"></a><a class="code" href="structcimg__library_1_1_c_img.html#af86fd54d8026484890548a67e4874962">12075</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12076"></a>12076                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l12077"></a>12077                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x2,<span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l12078"></a>12078                                              <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l12079"></a>12079                                              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; light,
<a name="l12080"></a>12080                                              <span class="keyword">const</span> <span class="keywordtype">int</span> lx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ly0,
<a name="l12081"></a>12081                                              <span class="keyword">const</span> <span class="keywordtype">int</span> lx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ly1,
<a name="l12082"></a>12082                                              <span class="keyword">const</span> <span class="keywordtype">int</span> lx2,<span class="keyword">const</span> <span class="keywordtype">int</span> ly2,
<a name="l12083"></a>12083                                              <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l12084"></a>12084       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12085"></a>12085         <span class="keywordflow">if</span> (light.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l12086"></a>12086           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_triangle() : Specified light texture (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l12087"></a>12087                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),light.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12088"></a>12088         <span class="keywordtype">int</span> nx0=x0,ny0=y0,nx1=x1,ny1=y1,nx2=x2,ny2=y2,nlx0=lx0,nly0=ly0,nlx1=lx1,nly1=ly1,nlx2=lx2,nly2=ly2,whz=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l12089"></a>12089         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,nlx0,nlx1,nly0,nly1);
<a name="l12090"></a>12090         <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2,nlx0,nlx2,nly0,nly2);
<a name="l12091"></a>12091         <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2,nlx1,nlx2,nly1,nly2);
<a name="l12092"></a>12092         <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12093"></a>12093         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12094"></a>12094           p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l12095"></a>12095           p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l12096"></a>12096           p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1),
<a name="l12097"></a>12097           lpx1 = (ny1-ny0)?(nlx1-nlx0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12098"></a>12098           lpy1 = (ny1-ny0)?(nly1-nly0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12099"></a>12099           lpx2 = (ny2-ny0)?(nlx2-nlx0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12100"></a>12100           lpy2 = (ny2-ny0)?(nly2-nly0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12101"></a>12101           lpx3 = (ny2-ny1)?(nlx2-nlx1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12102"></a>12102           lpy3 = (ny2-ny1)?(nly2-nly1)/(<span class="keywordtype">float</span>)(ny2-ny1):0;
<a name="l12103"></a>12103         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l12104"></a>12104         <span class="keywordtype">float</span> pleft,pright,lpxleft,lpyleft,lpxright,lpyright,
<a name="l12105"></a>12105           xleft=(float)nx0,xright=xleft,lxleft=(<span class="keywordtype">float</span>)nlx0,lyleft=(float)nly0,lxright=lxleft,lyright=lyleft;
<a name="l12106"></a>12106         <span class="keywordflow">if</span> (p1&lt;p2) { pleft=p1; pright=p2; lpxleft=lpx1; lpyleft=lpy1; lpxright=lpx2; lpyright=lpy2; }
<a name="l12107"></a>12107         <span class="keywordflow">else</span>       { pleft=p2; pright=p1; lpxleft=lpx2; lpyleft=lpy2; lpxright=lpx1; lpyright=lpy1; }
<a name="l12108"></a>12108         <span class="keywordflow">if</span> (ny0&lt;0) { xleft-=ny0*pleft; xright-=ny0*pright; lxleft-=ny0*lpxleft; lyleft-=ny0*lpyleft;
<a name="l12109"></a>12109         lxright-=ny0*lpxright; lyright-=ny0*lpyright; }
<a name="l12110"></a>12110         <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?ny1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l12111"></a>12111         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=(ny0&lt;0?0:ny0); y&lt;ya; y++) {
<a name="l12112"></a>12112           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12113"></a>12113           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12114"></a>12114             lpx = dx?((int)lxright-(<span class="keywordtype">int</span>)lxleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12115"></a>12115             lpy = dx?((int)lyright-(<span class="keywordtype">int</span>)lyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12116"></a>12116             lxi = (float)((xleft&gt;=0)?(int)lxleft:(<span class="keywordtype">int</span>)(lxleft-(int)xleft*lpx)),
<a name="l12117"></a>12117             lyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)lyleft:(int)(lyleft-(<span class="keywordtype">int</span>)xleft*lpy));
<a name="l12118"></a>12118           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12119"></a>12119           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12120"></a>12120             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12121"></a>12121             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,y,0,0);
<a name="l12122"></a>12122             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12123"></a>12123               <span class="keywordtype">float</span> lx=lxi, ly=lyi;
<a name="l12124"></a>12124               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*color[k]); lx+=lpx; ly+=lpy; }
<a name="l12125"></a>12125               ptrd+=offx;
<a name="l12126"></a>12126             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12127"></a>12127               <span class="keywordtype">float</span> lx=lxi, ly=lyi;
<a name="l12128"></a>12128               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*color[k]+copacity*(*ptrd)); ptrd++; lx+=lpx; ly+=lpy; }
<a name="l12129"></a>12129               ptrd+=offx;
<a name="l12130"></a>12130             }
<a name="l12131"></a>12131           }
<a name="l12132"></a>12132           xleft+=pleft; xright+=pright; lxleft+=lpxleft; lyleft+=lpyleft; lxright+=lpxright; lyright+=lpyright;
<a name="l12133"></a>12133         }
<a name="l12134"></a>12134 
<a name="l12135"></a>12135         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12136"></a>12136           xleft=(float)nx1; pleft=p3; lxleft=(float)nlx1; lyleft=(float)nly1; lpxleft=lpx3; lpyleft=lpy3;
<a name="l12137"></a>12137           <span class="keywordflow">if</span> (ny1&lt;0) { xleft-=ny1*pleft; lxleft-=ny1*lpxleft; lyleft-=ny1*lpyleft; }
<a name="l12138"></a>12138         } <span class="keywordflow">else</span> {
<a name="l12139"></a>12139           xright=(float)nx1; pright=p3; lxright=(float)nlx1; lyright=(float)nly1; lpxright=lpx3; lpyright=lpy3;
<a name="l12140"></a>12140           <span class="keywordflow">if</span> (ny1&lt;0) { xright-=ny1*pright; lxright-=ny1*lpxright; lyright-=ny1*lpyright; }
<a name="l12141"></a>12141         }
<a name="l12142"></a>12142         <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):ny2;
<a name="l12143"></a>12143         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=(ny1&lt;0?0:ny1); yy&lt;=yb; yy++) {
<a name="l12144"></a>12144           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12145"></a>12145           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12146"></a>12146             lpx = dx?((int)lxright-(<span class="keywordtype">int</span>)lxleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12147"></a>12147             lpy = dx?((int)lyright-(<span class="keywordtype">int</span>)lyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12148"></a>12148             lxi = (float)((xleft&gt;=0)?(int)lxleft:(<span class="keywordtype">int</span>)(lxleft-(int)xleft*lpx)),
<a name="l12149"></a>12149             lyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)lyleft:(int)(lyleft-(<span class="keywordtype">int</span>)xleft*lpy));
<a name="l12150"></a>12150           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12151"></a>12151           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12152"></a>12152             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12153"></a>12153             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,yy,0,0);
<a name="l12154"></a>12154             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12155"></a>12155               <span class="keywordtype">float</span> lx=lxi, ly=lyi;
<a name="l12156"></a>12156               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*color[k]); lx+=lpx; ly+=lpy; }
<a name="l12157"></a>12157               ptrd+=offx;
<a name="l12158"></a>12158             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12159"></a>12159               <span class="keywordtype">float</span> lx=lxi, ly=lyi;
<a name="l12160"></a>12160               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*color[k]+copacity*(*ptrd)); ptrd++; lx+=lpx; ly+=lpy; }
<a name="l12161"></a>12161               ptrd+=offx;
<a name="l12162"></a>12162             }
<a name="l12163"></a>12163           }
<a name="l12164"></a>12164           xleft+=pleft; xright+=pright; lxleft+=lpxleft; lyleft+=lpyleft; lxright+=lpxright; lyright+=lpyright;
<a name="l12165"></a>12165         }
<a name="l12166"></a>12166       }
<a name="l12167"></a>12167       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12168"></a>12168     }
<a name="l12169"></a>12169 
<a name="l12171"></a>12171 
<a name="l12189"></a><a class="code" href="structcimg__library_1_1_c_img.html#a88b0fa9ad8ff309f6a207acefcd37daa">12189</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12190"></a>12190                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l12191"></a>12191                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x2,<span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l12192"></a>12192                                              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; texture,
<a name="l12193"></a>12193                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ty0,
<a name="l12194"></a>12194                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ty1,
<a name="l12195"></a>12195                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx2,<span class="keyword">const</span> <span class="keywordtype">int</span> ty2,
<a name="l12196"></a>12196                                              <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> brightness=1.0f) {
<a name="l12197"></a>12197       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12198"></a>12198         <span class="keywordflow">if</span> (texture.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l12199"></a>12199           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_triangle() : Specified texture (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l12200"></a>12200                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12201"></a>12201         <span class="keywordtype">int</span> nx0=x0,ny0=y0,nx1=x1,ny1=y1,nx2=x2,ny2=y2,ntx0=tx0,nty0=ty0,ntx1=tx1,nty1=ty1,ntx2=tx2,nty2=ty2,whz=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l12202"></a>12202         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,ntx0,ntx1,nty0,nty1);
<a name="l12203"></a>12203         <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2,ntx0,ntx2,nty0,nty2);
<a name="l12204"></a>12204         <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2,ntx1,ntx2,nty1,nty2);
<a name="l12205"></a>12205         <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12206"></a>12206         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12207"></a>12207           p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l12208"></a>12208           p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l12209"></a>12209           p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1),
<a name="l12210"></a>12210           tpx1 = (ny1-ny0)?(ntx1-ntx0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12211"></a>12211           tpy1 = (ny1-ny0)?(nty1-nty0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12212"></a>12212           tpx2 = (ny2-ny0)?(ntx2-ntx0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12213"></a>12213           tpy2 = (ny2-ny0)?(nty2-nty0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12214"></a>12214           tpx3 = (ny2-ny1)?(ntx2-ntx1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12215"></a>12215           tpy3 = (ny2-ny1)?(nty2-nty1)/(<span class="keywordtype">float</span>)(ny2-ny1):0;
<a name="l12216"></a>12216         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l12217"></a>12217         <span class="keywordtype">float</span> pleft,pright,tpxleft,tpyleft,tpxright,tpyright,
<a name="l12218"></a>12218           xleft=(float)nx0,xright=xleft,txleft=(<span class="keywordtype">float</span>)ntx0,tyleft=(float)nty0,txright=txleft,tyright=tyleft;
<a name="l12219"></a>12219         <span class="keywordflow">if</span> (p1&lt;p2) { pleft=p1; pright=p2; tpxleft=tpx1; tpyleft=tpy1; tpxright=tpx2; tpyright=tpy2; }
<a name="l12220"></a>12220         <span class="keywordflow">else</span>       { pleft=p2; pright=p1; tpxleft=tpx2; tpyleft=tpy2; tpxright=tpx1; tpyright=tpy1; }
<a name="l12221"></a>12221         <span class="keywordflow">if</span> (ny0&lt;0) { xleft-=ny0*pleft; xright-=ny0*pright; txleft-=ny0*tpxleft; tyleft-=ny0*tpyleft;
<a name="l12222"></a>12222         txright-=ny0*tpxright; tyright-=ny0*tpyright; }
<a name="l12223"></a>12223         <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?ny1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l12224"></a>12224         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=(ny0&lt;0?0:ny0); y&lt;ya; y++) {
<a name="l12225"></a>12225           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12226"></a>12226           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12227"></a>12227             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12228"></a>12228             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12229"></a>12229             txi = (float)((xleft&gt;=0)?(int)txleft:(<span class="keywordtype">int</span>)(txleft-(int)xleft*tpx)),
<a name="l12230"></a>12230             tyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)tyleft:(int)(tyleft-(<span class="keywordtype">int</span>)xleft*tpy));
<a name="l12231"></a>12231           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12232"></a>12232           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12233"></a>12233             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12234"></a>12234             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,y,0,0);
<a name="l12235"></a>12235             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12236"></a>12236               <span class="keywordtype">float</span> tx=txi, ty=tyi;
<a name="l12237"></a>12237               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(brightness*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)); tx+=tpx; ty+=tpy; }
<a name="l12238"></a>12238               ptrd+=offx;
<a name="l12239"></a>12239             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12240"></a>12240               <span class="keywordtype">float</span> tx=txi, ty=tyi;
<a name="l12241"></a>12241               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*brightness*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++; tx+=tpx; ty+=tpy; }
<a name="l12242"></a>12242               ptrd+=offx;
<a name="l12243"></a>12243             }
<a name="l12244"></a>12244           }
<a name="l12245"></a>12245           xleft+=pleft; xright+=pright; txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright;
<a name="l12246"></a>12246         }
<a name="l12247"></a>12247 
<a name="l12248"></a>12248         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12249"></a>12249           xleft=(float)nx1; pleft=p3; txleft=(float)ntx1; tyleft=(float)nty1; tpxleft=tpx3; tpyleft=tpy3;
<a name="l12250"></a>12250           <span class="keywordflow">if</span> (ny1&lt;0) { xleft-=ny1*pleft; txleft-=ny1*tpxleft; tyleft-=ny1*tpyleft; }
<a name="l12251"></a>12251         } <span class="keywordflow">else</span> {
<a name="l12252"></a>12252           xright=(float)nx1; pright=p3; txright=(float)ntx1; tyright=(float)nty1; tpxright=tpx3; tpyright=tpy3;
<a name="l12253"></a>12253           <span class="keywordflow">if</span> (ny1&lt;0) { xright-=ny1*pright; txright-=ny1*tpxright; tyright-=ny1*tpyright; }
<a name="l12254"></a>12254         }
<a name="l12255"></a>12255         <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):ny2;
<a name="l12256"></a>12256         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=(ny1&lt;0?0:ny1); yy&lt;=yb; yy++) {
<a name="l12257"></a>12257           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12258"></a>12258           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12259"></a>12259             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12260"></a>12260             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12261"></a>12261             txi = (float)((xleft&gt;=0)?(int)txleft:(<span class="keywordtype">int</span>)(txleft-(int)xleft*tpx)),
<a name="l12262"></a>12262             tyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)tyleft:(int)(tyleft-(<span class="keywordtype">int</span>)xleft*tpy));
<a name="l12263"></a>12263           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12264"></a>12264           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12265"></a>12265             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12266"></a>12266             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,yy,0,0);
<a name="l12267"></a>12267             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12268"></a>12268               <span class="keywordtype">float</span> tx=txi, ty=tyi;
<a name="l12269"></a>12269               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(brightness*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)); tx+=tpx; ty+=tpy; }
<a name="l12270"></a>12270               ptrd+=offx;
<a name="l12271"></a>12271             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12272"></a>12272               <span class="keywordtype">float</span> tx=txi, ty=tyi;
<a name="l12273"></a>12273               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*brightness*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++; tx+=tpx; ty+=tpy; }
<a name="l12274"></a>12274               ptrd+=offx;
<a name="l12275"></a>12275             }
<a name="l12276"></a>12276           }
<a name="l12277"></a>12277           xleft+=pleft; xright+=pright; txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright;
<a name="l12278"></a>12278         }
<a name="l12279"></a>12279       }
<a name="l12280"></a>12280       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12281"></a>12281     }
<a name="l12282"></a>12282 
<a name="l12284"></a>12284 
<a name="l12304"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac4ae8bf1d739c660374e3aa53215eed8">12304</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12305"></a>12305                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l12306"></a>12306                                              <span class="keyword">const</span> <span class="keywordtype">int</span> x2,<span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l12307"></a>12307                                              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; texture,
<a name="l12308"></a>12308                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ty0,
<a name="l12309"></a>12309                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ty1,
<a name="l12310"></a>12310                                              <span class="keyword">const</span> <span class="keywordtype">int</span> tx2,<span class="keyword">const</span> <span class="keywordtype">int</span> ty2,
<a name="l12311"></a>12311                                              <span class="keyword">const</span> <span class="keywordtype">float</span> c0,<span class="keyword">const</span> <span class="keywordtype">float</span> c1,<span class="keyword">const</span> <span class="keywordtype">float</span> c2,
<a name="l12312"></a>12312                                              <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12313"></a>12313       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12314"></a>12314         <span class="keywordflow">if</span> (texture.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l12315"></a>12315           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_triangle() : Specified texture (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l12316"></a>12316                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12317"></a>12317         <span class="keywordtype">int</span> nx0=x0,ny0=y0,nx1=x1,ny1=y1,nx2=x2,ny2=y2,ntx0=tx0,nty0=ty0,ntx1=tx1,nty1=ty1,ntx2=tx2,nty2=ty2,whz=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l12318"></a>12318         <span class="keywordtype">float</span> nc0=c0,nc1=c1,nc2=c2;
<a name="l12319"></a>12319         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,ntx0,ntx1,nty0,nty1,nc0,nc1);
<a name="l12320"></a>12320         <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2,ntx0,ntx2,nty0,nty2,nc0,nc2);
<a name="l12321"></a>12321         <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2,ntx1,ntx2,nty1,nty2,nc1,nc2);
<a name="l12322"></a>12322         <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12323"></a>12323         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12324"></a>12324           p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l12325"></a>12325           p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l12326"></a>12326           p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1),
<a name="l12327"></a>12327           tpx1 = (ny1-ny0)?(ntx1-ntx0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12328"></a>12328           tpy1 = (ny1-ny0)?(nty1-nty0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12329"></a>12329           tpx2 = (ny2-ny0)?(ntx2-ntx0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12330"></a>12330           tpy2 = (ny2-ny0)?(nty2-nty0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12331"></a>12331           tpx3 = (ny2-ny1)?(ntx2-ntx1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12332"></a>12332           tpy3 = (ny2-ny1)?(nty2-nty1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12333"></a>12333           cp1 = (ny1-ny0)?(nc1-nc0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12334"></a>12334           cp2 = (ny2-ny0)?(nc2-nc0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12335"></a>12335           cp3 = (ny2-ny1)?(nc2-nc1)/(<span class="keywordtype">float</span>)(ny2-ny1):0;
<a name="l12336"></a>12336         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l12337"></a>12337         <span class="keywordtype">float</span> pleft,pright,tpxleft,tpyleft,tpxright,tpyright,cpleft,cpright,
<a name="l12338"></a>12338           xleft=(float)nx0,xright=xleft,txleft=(<span class="keywordtype">float</span>)ntx0,tyleft=(float)nty0,txright=txleft,tyright=tyleft,cleft=nc0,cright=cleft;
<a name="l12339"></a>12339         <span class="keywordflow">if</span> (p1&lt;p2) { pleft=p1; pright=p2; tpxleft=tpx1; tpyleft=tpy1; tpxright=tpx2; tpyright=tpy2; cpleft=cp1; cpright=cp2; }
<a name="l12340"></a>12340         <span class="keywordflow">else</span>       { pleft=p2; pright=p1; tpxleft=tpx2; tpyleft=tpy2; tpxright=tpx1; tpyright=tpy1; cpleft=cp2, cpright=cp1; }
<a name="l12341"></a>12341         <span class="keywordflow">if</span> (ny0&lt;0) {
<a name="l12342"></a>12342           xleft-=ny0*pleft; xright-=ny0*pright; txleft-=ny0*tpxleft; tyleft-=ny0*tpyleft; cleft-=ny0*cpleft;
<a name="l12343"></a>12343           txright-=ny0*tpxright; tyright-=ny0*tpyright; cright-=ny0*cpright;
<a name="l12344"></a>12344         }
<a name="l12345"></a>12345         <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?ny1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l12346"></a>12346         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=(ny0&lt;0?0:ny0); y&lt;ya; y++) {
<a name="l12347"></a>12347           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12348"></a>12348           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12349"></a>12349             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12350"></a>12350             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12351"></a>12351             cp = dx?(cright-cleft)/dx:0,
<a name="l12352"></a>12352             txi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)txleft:(int)(txleft-(<span class="keywordtype">int</span>)xleft*tpx)),
<a name="l12353"></a>12353             tyi = (float)((xleft&gt;=0)?(int)tyleft:(<span class="keywordtype">int</span>)(tyleft-(int)xleft*tpy)),
<a name="l12354"></a>12354             ci = (xleft&gt;=0)?cleft:(cleft-xleft*cp);
<a name="l12355"></a>12355           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12356"></a>12356           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12357"></a>12357             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12358"></a>12358             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,y,0,0);
<a name="l12359"></a>12359             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12360"></a>12360               <span class="keywordtype">float</span> tx=txi, ty=tyi, c=ci;
<a name="l12361"></a>12361               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(c*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)); tx+=tpx; ty+=tpy; c+=cp; }
<a name="l12362"></a>12362               ptrd+=offx;
<a name="l12363"></a>12363             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12364"></a>12364               <span class="keywordtype">float</span> tx=txi, ty=tyi, c=ci;
<a name="l12365"></a>12365               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*c*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++; tx+=tpx; ty+=tpy; c+=cp; }
<a name="l12366"></a>12366               ptrd+=offx;
<a name="l12367"></a>12367             }
<a name="l12368"></a>12368           }
<a name="l12369"></a>12369           xleft+=pleft; xright+=pright; txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright; cleft+=cpleft; cright+=cpright;
<a name="l12370"></a>12370         }
<a name="l12371"></a>12371 
<a name="l12372"></a>12372         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12373"></a>12373           xleft=(float)nx1; pleft=p3; txleft=(float)ntx1; tyleft=(float)nty1; tpxleft=tpx3; tpyleft=tpy3; cleft=nc1; cpleft=cp3;
<a name="l12374"></a>12374           <span class="keywordflow">if</span> (ny1&lt;0) { xleft-=ny1*pleft; txleft-=ny1*tpxleft; tyleft-=ny1*tpyleft; cleft-=ny1*cpleft; }
<a name="l12375"></a>12375         } <span class="keywordflow">else</span> {
<a name="l12376"></a>12376           xright=(float)nx1; pright=p3; txright=(float)ntx1; tyright=(float)nty1; tpxright=tpx3; tpyright=tpy3; cright=nc1; cpright=cp3;
<a name="l12377"></a>12377           <span class="keywordflow">if</span> (ny1&lt;0) { xright-=ny1*pright; txright-=ny1*tpxright; tyright-=ny1*tpyright; cright-=ny1*cpright; }
<a name="l12378"></a>12378         }
<a name="l12379"></a>12379         <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):ny2;
<a name="l12380"></a>12380         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=(ny1&lt;0?0:ny1); yy&lt;=yb; yy++) {
<a name="l12381"></a>12381           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12382"></a>12382           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12383"></a>12383             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12384"></a>12384             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12385"></a>12385             cp = dx?(cright-cleft)/dx:0,
<a name="l12386"></a>12386             txi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)txleft:(int)(txleft-(<span class="keywordtype">int</span>)xleft*tpx)),
<a name="l12387"></a>12387             tyi = (float)((xleft&gt;=0)?(int)tyleft:(<span class="keywordtype">int</span>)(tyleft-(int)xleft*tpy)),
<a name="l12388"></a>12388             ci = (xleft&gt;=0)?cleft:(cleft-xleft*cp);
<a name="l12389"></a>12389           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12390"></a>12390           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12391"></a>12391             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12392"></a>12392             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,yy,0,0);
<a name="l12393"></a>12393             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12394"></a>12394               <span class="keywordtype">float</span> tx=txi, ty=tyi, c=ci;
<a name="l12395"></a>12395               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *(ptrd++)=(T)(c*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)); tx+=tpx; ty+=tpy; c+=cp; }
<a name="l12396"></a>12396               ptrd+=offx;
<a name="l12397"></a>12397             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12398"></a>12398               <span class="keywordtype">float</span> tx=txi, ty=tyi, c=ci;
<a name="l12399"></a>12399               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) { *ptrd=(T)(nopacity*c*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++; tx+=tpx; ty+=tpy; c+=ci; }
<a name="l12400"></a>12400               ptrd+=offx;
<a name="l12401"></a>12401             }
<a name="l12402"></a>12402           }
<a name="l12403"></a>12403           xleft+=pleft; xright+=pright; txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright; cleft+=cpleft; cright+=cpright;
<a name="l12404"></a>12404         }
<a name="l12405"></a>12405       }
<a name="l12406"></a>12406       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12407"></a>12407     }
<a name="l12408"></a>12408 
<a name="l12410"></a>12410 
<a name="l12434"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae6ead0c887f410aca40d8654507ff94c">12434</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t, <span class="keyword">typename</span> tl&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12435"></a>12435                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> x1,<span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l12436"></a>12436                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> x2,<span class="keyword">const</span> <span class="keywordtype">int</span> y2,
<a name="l12437"></a>12437                                                           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; texture,
<a name="l12438"></a>12438                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> tx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ty0,
<a name="l12439"></a>12439                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> tx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ty1,
<a name="l12440"></a>12440                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> tx2,<span class="keyword">const</span> <span class="keywordtype">int</span> ty2,
<a name="l12441"></a>12441                                                           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tl&gt;</a>&amp; light,
<a name="l12442"></a>12442                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> lx0,<span class="keyword">const</span> <span class="keywordtype">int</span> ly0,
<a name="l12443"></a>12443                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> lx1,<span class="keyword">const</span> <span class="keywordtype">int</span> ly1,
<a name="l12444"></a>12444                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> lx2,<span class="keyword">const</span> <span class="keywordtype">int</span> ly2,
<a name="l12445"></a>12445                                                           <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l12446"></a>12446       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12447"></a>12447         <span class="keywordflow">if</span> (texture.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l12448"></a>12448           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_triangle() : Specified texture (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l12449"></a>12449                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,texture.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12450"></a>12450         <span class="keywordflow">if</span> (light.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l12451"></a>12451           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_triangle() : Specified light (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l12452"></a>12452                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),light.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,light.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12453"></a>12453         <span class="keywordtype">int</span>
<a name="l12454"></a>12454           nx0=x0,ny0=y0,nx1=x1,ny1=y1,nx2=x2,ny2=y2,
<a name="l12455"></a>12455           ntx0=tx0,nty0=ty0,ntx1=tx1,nty1=ty1,ntx2=tx2,nty2=ty2,
<a name="l12456"></a>12456           nlx0=lx0,nly0=ly0,nlx1=lx1,nly1=ly1,nlx2=lx2,nly2=ly2,
<a name="l12457"></a>12457           whz=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l12458"></a>12458         <span class="keywordflow">if</span> (ny0&gt;ny1) cimg::swap(nx0,nx1,ny0,ny1,ntx0,ntx1,nty0,nty1,nlx0,nlx1,nly0,nly1);
<a name="l12459"></a>12459         <span class="keywordflow">if</span> (ny0&gt;ny2) cimg::swap(nx0,nx2,ny0,ny2,ntx0,ntx2,nty0,nty2,nlx0,nlx2,nly0,nly2);
<a name="l12460"></a>12460         <span class="keywordflow">if</span> (ny1&gt;ny2) cimg::swap(nx1,nx2,ny1,ny2,ntx1,ntx2,nty1,nty2,nlx1,nlx2,nly1,nly2);
<a name="l12461"></a>12461         <span class="keywordflow">if</span> (ny0&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || ny2&lt;0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12462"></a>12462         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12463"></a>12463           p1 = (ny1-ny0)?(nx1-nx0)/(float)(ny1-ny0):(nx1-nx0),
<a name="l12464"></a>12464           p2 = (ny2-ny0)?(nx2-nx0)/(<span class="keywordtype">float</span>)(ny2-ny0):(nx2-nx0),
<a name="l12465"></a>12465           p3 = (ny2-ny1)?(nx2-nx1)/(float)(ny2-ny1):(nx2-nx1),
<a name="l12466"></a>12466           tpx1 = (ny1-ny0)?(ntx1-ntx0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12467"></a>12467           tpy1 = (ny1-ny0)?(nty1-nty0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12468"></a>12468           tpx2 = (ny2-ny0)?(ntx2-ntx0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12469"></a>12469           tpy2 = (ny2-ny0)?(nty2-nty0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12470"></a>12470           tpx3 = (ny2-ny1)?(ntx2-ntx1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12471"></a>12471           tpy3 = (ny2-ny1)?(nty2-nty1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12472"></a>12472           lpx1 = (ny1-ny0)?(nlx1-nlx0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12473"></a>12473           lpy1 = (ny1-ny0)?(nly1-nly0)/(<span class="keywordtype">float</span>)(ny1-ny0):0,
<a name="l12474"></a>12474           lpx2 = (ny2-ny0)?(nlx2-nlx0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12475"></a>12475           lpy2 = (ny2-ny0)?(nly2-nly0)/(<span class="keywordtype">float</span>)(ny2-ny0):0,
<a name="l12476"></a>12476           lpx3 = (ny2-ny1)?(nlx2-nlx1)/(<span class="keywordtype">float</span>)(ny2-ny1):0,
<a name="l12477"></a>12477           lpy3 = (ny2-ny1)?(nly2-nly1)/(<span class="keywordtype">float</span>)(ny2-ny1):0;
<a name="l12478"></a>12478         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l12479"></a>12479         <span class="keywordtype">float</span> pleft,pright,tpxleft,tpyleft,tpxright,tpyright,lpxleft,lpyleft,lpxright,lpyright,
<a name="l12480"></a>12480           xleft=(float)nx0,xright=xleft,
<a name="l12481"></a>12481           txleft=(<span class="keywordtype">float</span>)ntx0,tyleft=(float)nty0,txright=txleft,tyright=tyleft,
<a name="l12482"></a>12482           lxleft=(<span class="keywordtype">float</span>)nlx0,lyleft=(float)nly0,lxright=lxleft,lyright=lyleft;
<a name="l12483"></a>12483         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12484"></a>12484           pleft=p1; pright=p2;
<a name="l12485"></a>12485           tpxleft=tpx1; tpyleft=tpy1; tpxright=tpx2; tpyright=tpy2;
<a name="l12486"></a>12486           lpxleft=lpx1; lpyleft=lpy1; lpxright=lpx2; lpyright=lpy2;
<a name="l12487"></a>12487         } <span class="keywordflow">else</span> {
<a name="l12488"></a>12488           pleft=p2; pright=p1;
<a name="l12489"></a>12489           tpxleft=tpx2; tpyleft=tpy2; tpxright=tpx1; tpyright=tpy1;
<a name="l12490"></a>12490           lpxleft=tpx2; lpyleft=tpy2; lpxright=tpx1; lpyright=tpy1;
<a name="l12491"></a>12491         }
<a name="l12492"></a>12492         <span class="keywordflow">if</span> (ny0&lt;0) {
<a name="l12493"></a>12493           xleft-=ny0*pleft; xright-=ny0*pright;
<a name="l12494"></a>12494           txleft-=ny0*tpxleft; tyleft-=ny0*tpyleft; txright-=ny0*tpxright; tyright-=ny0*tpyright;
<a name="l12495"></a>12495           lxleft-=ny0*lpxleft; lyleft-=ny0*lpyleft; lxright-=ny0*lpxright; lyright-=ny0*lpyright;
<a name="l12496"></a>12496         }
<a name="l12497"></a>12497         <span class="keyword">const</span> <span class="keywordtype">int</span> ya = ny1&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?ny1:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l12498"></a>12498         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=(ny0&lt;0?0:ny0); y&lt;ya; y++) {
<a name="l12499"></a>12499           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12500"></a>12500           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12501"></a>12501             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12502"></a>12502             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12503"></a>12503             txi = (float)((xleft&gt;=0)?(int)txleft:(<span class="keywordtype">int</span>)(txleft-(int)xleft*tpx)),
<a name="l12504"></a>12504             tyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)tyleft:(int)(tyleft-(<span class="keywordtype">int</span>)xleft*tpy)),
<a name="l12505"></a>12505             lpx = dx?((int)lxright-(<span class="keywordtype">int</span>)lxleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12506"></a>12506             lpy = dx?((int)lyright-(<span class="keywordtype">int</span>)lyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12507"></a>12507             lxi = (float)((xleft&gt;=0)?(int)lxleft:(<span class="keywordtype">int</span>)(lxleft-(int)xleft*lpx)),
<a name="l12508"></a>12508             lyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)lyleft:(int)(lyleft-(<span class="keywordtype">int</span>)xleft*lpy));
<a name="l12509"></a>12509           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12510"></a>12510           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12511"></a>12511             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12512"></a>12512             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,y,0,0);
<a name="l12513"></a>12513             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12514"></a>12514               <span class="keywordtype">float</span> tx=txi, ty=tyi, lx=lxi, ly=lyi;
<a name="l12515"></a>12515               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) {
<a name="l12516"></a>12516                 *(ptrd++)=(T)(light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k));
<a name="l12517"></a>12517                 tx+=tpx; ty+=tpy; lx+=lpx; ly+=lpy;
<a name="l12518"></a>12518               }
<a name="l12519"></a>12519               ptrd+=offx;
<a name="l12520"></a>12520             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12521"></a>12521               <span class="keywordtype">float</span> tx=txi, ty=tyi, lx=lxi, ly=lyi;
<a name="l12522"></a>12522               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) {
<a name="l12523"></a>12523                 *ptrd=(T)(nopacity*light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++;
<a name="l12524"></a>12524                 tx+=tpx; ty+=tpy; lx+=lpx; ly+=lpy;
<a name="l12525"></a>12525               }
<a name="l12526"></a>12526               ptrd+=offx;
<a name="l12527"></a>12527             }
<a name="l12528"></a>12528           }
<a name="l12529"></a>12529           xleft+=pleft; xright+=pright;
<a name="l12530"></a>12530           txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright;
<a name="l12531"></a>12531           lxleft+=lpxleft; lyleft+=lpyleft; lxright+=lpxright; lyright+=lpyright;
<a name="l12532"></a>12532         }
<a name="l12533"></a>12533 
<a name="l12534"></a>12534         <span class="keywordflow">if</span> (p1&lt;p2) {
<a name="l12535"></a>12535           xleft=(float)nx1; pleft=p3;
<a name="l12536"></a>12536           txleft=(float)ntx1; tyleft=(float)nty1; tpxleft=tpx3; tpyleft=tpy3;
<a name="l12537"></a>12537           lxleft=(float)nlx1; lyleft=(float)nly1; lpxleft=lpx3; lpyleft=lpy3;
<a name="l12538"></a>12538           <span class="keywordflow">if</span> (ny1&lt;0) { xleft-=ny1*pleft; txleft-=ny1*tpxleft; tyleft-=ny1*tpyleft; lxleft-=ny1*lpxleft; lyleft-=ny1*lpyleft; }
<a name="l12539"></a>12539         } <span class="keywordflow">else</span> {
<a name="l12540"></a>12540           xright=(float)nx1; pright=p3;
<a name="l12541"></a>12541           txright=(float)ntx1; tyright=(float)nty1; tpxright=tpx3; tpyright=tpy3;
<a name="l12542"></a>12542           lxright=(float)nlx1; lyright=(float)nly1; lpxright=lpx3; lpyright=lpy3;
<a name="l12543"></a>12543           <span class="keywordflow">if</span> (ny1&lt;0) { xright-=ny1*pright; txright-=ny1*tpxright; tyright-=ny1*tpyright; lxright-=ny1*lpxright; lyright-=ny1*lpyright; }
<a name="l12544"></a>12544         }
<a name="l12545"></a>12545         <span class="keyword">const</span> <span class="keywordtype">int</span> yb = ny2&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):ny2;
<a name="l12546"></a>12546         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=(ny1&lt;0?0:ny1); yy&lt;=yb; yy++) {
<a name="l12547"></a>12547           <span class="keyword">const</span> <span class="keywordtype">int</span> dx = (int)xright-(<span class="keywordtype">int</span>)xleft;
<a name="l12548"></a>12548           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12549"></a>12549             tpx = dx?((int)txright-(<span class="keywordtype">int</span>)txleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12550"></a>12550             tpy = dx?((int)tyright-(<span class="keywordtype">int</span>)tyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12551"></a>12551             txi = (float)((xleft&gt;=0)?(int)txleft:(<span class="keywordtype">int</span>)(txleft-(int)xleft*tpx)),
<a name="l12552"></a>12552             tyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)tyleft:(int)(tyleft-(<span class="keywordtype">int</span>)xleft*tpy)),
<a name="l12553"></a>12553             lpx = dx?((int)lxright-(<span class="keywordtype">int</span>)lxleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12554"></a>12554             lpy = dx?((int)lyright-(<span class="keywordtype">int</span>)lyleft)/(<span class="keywordtype">float</span>)dx:0,
<a name="l12555"></a>12555             lxi = (float)((xleft&gt;=0)?(int)lxleft:(<span class="keywordtype">int</span>)(lxleft-(int)xleft*lpx)),
<a name="l12556"></a>12556             lyi = (<span class="keywordtype">float</span>)((xleft&gt;=0)?(<span class="keywordtype">int</span>)lyleft:(int)(lyleft-(<span class="keywordtype">int</span>)xleft*lpy));
<a name="l12557"></a>12557           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin=(xleft&gt;=0)?(<span class="keywordtype">int</span>)xleft:0, xmax=(xright&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())?(<span class="keywordtype">int</span>)xright:(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1);
<a name="l12558"></a>12558           <span class="keywordflow">if</span> (xmin&lt;=xmax) {
<a name="l12559"></a>12559             <span class="keyword">const</span> <span class="keywordtype">int</span> offx=whz-xmax+xmin-1;
<a name="l12560"></a>12560             T* ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(xmin,yy,0,0);
<a name="l12561"></a>12561             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12562"></a>12562               <span class="keywordtype">float</span> tx=txi, ty=tyi, lx=lxi, ly=lyi;
<a name="l12563"></a>12563               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) {
<a name="l12564"></a>12564                 *(ptrd++)=(T)(light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k));
<a name="l12565"></a>12565                 tx+=tpx; ty+=tpy; lx+=lpx; ly+=lpy;
<a name="l12566"></a>12566               }
<a name="l12567"></a>12567               ptrd+=offx;
<a name="l12568"></a>12568             } <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l12569"></a>12569               <span class="keywordtype">float</span> tx=txi, ty=tyi, lx=lxi, ly=lyi;
<a name="l12570"></a>12570               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=xmin; x&lt;=xmax; x++) {
<a name="l12571"></a>12571                 *ptrd=(T)(nopacity*light((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ly)*texture((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)tx,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ty,0,k)+copacity*(*ptrd)); ptrd++;
<a name="l12572"></a>12572                 tx+=tpx; ty+=tpy; lx+=lpx; ly+=lpy;
<a name="l12573"></a>12573               }
<a name="l12574"></a>12574               ptrd+=offx;
<a name="l12575"></a>12575             }
<a name="l12576"></a>12576           }
<a name="l12577"></a>12577           xleft+=pleft; xright+=pright;
<a name="l12578"></a>12578           txleft+=tpxleft; tyleft+=tpyleft; txright+=tpxright; tyright+=tpyright;
<a name="l12579"></a>12579           lxleft+=lpxleft; lyleft+=lpyleft; lxright+=lpxright; lyright+=lpyright;
<a name="l12580"></a>12580         }
<a name="l12581"></a>12581       }
<a name="l12582"></a>12582       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12583"></a>12583     }
<a name="l12584"></a>12584 
<a name="l12585"></a>12585 
<a name="l12587"></a>12587 
<a name="l12598"></a><a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235">12598</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <span class="keywordtype">float</span> r1,<span class="keyword">const</span> <span class="keywordtype">float</span> r2,<span class="keyword">const</span> <span class="keywordtype">float</span> ru,<span class="keyword">const</span> <span class="keywordtype">float</span> rv,
<a name="l12599"></a>12599                        <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=0L, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12600"></a>12600       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12601"></a>12601         draw_scanline(color,opacity);
<a name="l12602"></a>12602         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_ellipse : Specified color is (null).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l12603"></a>12603         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hatch=1;
<a name="l12604"></a>12604         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12605"></a>12605           nr1 = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(r1), nr2 = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(r2),
<a name="l12606"></a>12606           <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(ru*ru+rv*rv),
<a name="l12607"></a>12607           u = <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>&gt;0?ru/<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>:1,
<a name="l12608"></a>12608           v = <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>&gt;0?rv/<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>:0,
<a name="l12609"></a>12609           rmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(nr1,nr2),
<a name="l12610"></a>12610           l1 = (float)std::pow(rmax/(nr1&gt;0?nr1:1e-6),2),
<a name="l12611"></a>12611           l2 = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">std::pow</a>(rmax/(nr2&gt;0?nr2:1e-6),2),
<a name="l12612"></a>12612           a = l1*u*u + l2*v*v,
<a name="l12613"></a>12613           b = u*v*(l1-l2),
<a name="l12614"></a>12614           c = l1*v*v + l2*u*u;
<a name="l12615"></a>12615         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l12616"></a>12616           yb = (int)std::sqrt(a*rmax*rmax/(a*c-b*b)),
<a name="l12617"></a>12617           ymin = (y0-yb&lt;0)?0:(y0-yb),
<a name="l12618"></a>12618           ymax = (1+y0+yb&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())?<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1:(1+y0+yb);
<a name="l12619"></a>12619         <span class="keywordtype">int</span> oxmin=0, oxmax=0;
<a name="l12620"></a>12620         <span class="keywordtype">bool</span> first_line = <span class="keyword">true</span>;
<a name="l12621"></a>12621         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=ymin; y&lt;ymax; y++) {
<a name="l12622"></a>12622           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l12623"></a>12623             Y = (float)(y-y0)+0.25f,
<a name="l12624"></a>12624             delta = b*b*Y*Y-a*(c*Y*Y-rmax*rmax),
<a name="l12625"></a>12625             sdelta = (<span class="keywordtype">float</span>)((delta&gt;0?<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(delta):0)),
<a name="l12626"></a>12626             fxmin = x0-(b*Y+sdelta)/a,
<a name="l12627"></a>12627             fxmax = x0-(b*Y-sdelta)/a;
<a name="l12628"></a>12628           <span class="keyword">const</span> <span class="keywordtype">int</span> xmin = (int)fxmin, xmax = (<span class="keywordtype">int</span>)fxmax;
<a name="l12629"></a>12629           <span class="keywordflow">if</span> (!pattern) draw_scanline(xmin,xmax,y,color,opacity);
<a name="l12630"></a>12630           <span class="keywordflow">else</span> {
<a name="l12631"></a>12631             <span class="keywordflow">if</span> (!(~pattern) || (~pattern &amp;&amp; pattern&amp;hatch)) {
<a name="l12632"></a>12632               <span class="keywordflow">if</span> (first_line) { draw_scanline(xmin,xmax,y,color,opacity); first_line = <span class="keyword">false</span>; }
<a name="l12633"></a>12633               <span class="keywordflow">else</span> {
<a name="l12634"></a>12634                 <span class="keywordflow">if</span> (xmin&lt;oxmin) draw_scanline(xmin,oxmin-1,y,color,opacity);
<a name="l12635"></a>12635                 <span class="keywordflow">else</span> draw_scanline(oxmin+(oxmin==xmin?0:1),xmin,y,color,opacity);
<a name="l12636"></a>12636                 <span class="keywordflow">if</span> (xmax&lt;oxmax) draw_scanline(xmax,oxmax-1,y,color,opacity);
<a name="l12637"></a>12637                 <span class="keywordflow">else</span> draw_scanline(oxmax+(oxmax==xmax?0:1),xmax,y,color,opacity);
<a name="l12638"></a>12638               }
<a name="l12639"></a>12639             }
<a name="l12640"></a>12640           }
<a name="l12641"></a>12641           oxmin = xmin; oxmax = xmax;
<a name="l12642"></a>12642           <span class="keywordflow">if</span> (pattern) hatch=(hatch&lt;&lt;1)+(hatch&gt;&gt;(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int)*8-1));
<a name="l12643"></a>12643         }
<a name="l12644"></a>12644       }
<a name="l12645"></a>12645       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12646"></a>12646     }
<a name="l12647"></a>12647 
<a name="l12649"></a>12649 
<a name="l12657"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9bdadaec2151f63786c2dd43236a86d3">12657</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> &amp;<a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>,
<a name="l12658"></a>12658                                             <span class="keyword">const</span> T *color,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=0L,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12659"></a>12659       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a> eig = tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a1b0a43884307e3ee41abc3e116d3221c" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">get_symmetric_eigen</a>();
<a name="l12660"></a>12660       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> &amp;val = eig[0], &amp;vec = eig[1];
<a name="l12661"></a>12661       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,y0,val(0),val(1),vec(0,0),vec(0,1),color,pattern,opacity);
<a name="l12662"></a>12662     }
<a name="l12663"></a>12663 
<a name="l12665"></a>12665 
<a name="l12673"></a><a class="code" href="structcimg__library_1_1_c_img.html#a64f2654380af28cac421ec5c7b9b2605">12673</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a64f2654380af28cac421ec5c7b9b2605" title="Draw a circle on the instance image.">draw_circle</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,<span class="keywordtype">float</span> r,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pattern=0L,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12674"></a>12674       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,y0,r,r,1,0,color,pattern,opacity);
<a name="l12675"></a>12675     }
<a name="l12676"></a>12676 
<a name="l12678"></a>12678 
<a name="l12689"></a><a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1">12689</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> text,
<a name="l12690"></a>12690                                          <span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12691"></a>12691                                          <span class="keyword">const</span> T *<span class="keyword">const</span> fgcolor,<span class="keyword">const</span> T *<span class="keyword">const</span> bgcolor,
<a name="l12692"></a>12692                                          <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; font,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12693"></a>12693       <span class="keywordflow">if</span> (!text)
<a name="l12694"></a>12694         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_text() : Specified input string is (null).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l12695"></a>12695       <span class="keywordflow">if</span> (font.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>())
<a name="l12696"></a>12696         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_text() : Specified font (%u,%p) is empty.&quot;</span>,
<a name="l12697"></a>12697                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),font.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,font.<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a>);
<a name="l12698"></a>12698 
<a name="l12699"></a>12699       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12700"></a>12700         <span class="comment">// If needed, pre-compute needed size of the image</span>
<a name="l12701"></a>12701         <span class="keywordtype">int</span> x=0, y=0, w=0;
<a name="l12702"></a>12702         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;cimg::strlen(text); i++) {
<a name="l12703"></a>12703           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c = text[i];
<a name="l12704"></a>12704           <span class="keywordflow">switch</span> (c) {
<a name="l12705"></a>12705           <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: y+=font[<span class="charliteral">&#39; &#39;</span>].height; <span class="keywordflow">if</span> (x&gt;w) w=x; x=0; <span class="keywordflow">break</span>;
<a name="l12706"></a>12706           <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: x+=4*font[<span class="charliteral">&#39; &#39;</span>].width; <span class="keywordflow">break</span>;
<a name="l12707"></a>12707           <span class="keywordflow">default</span>: <span class="keywordflow">if</span> (c&lt;font.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>) x+=font[c].width;
<a name="l12708"></a>12708           }
<a name="l12709"></a>12709         }
<a name="l12710"></a>12710         <span class="keywordflow">if</span> (x!=0) {
<a name="l12711"></a>12711           <span class="keywordflow">if</span> (x&gt;w) w=x;
<a name="l12712"></a>12712           y+=font[<span class="charliteral">&#39; &#39;</span>].height;
<a name="l12713"></a>12713         }
<a name="l12714"></a>12714         <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(x0+w,y0+y,1,font[<span class="charliteral">&#39; &#39;</span>].dim,0);
<a name="l12715"></a>12715         <span class="keywordflow">if</span> (bgcolor) cimg_forV(*<span class="keyword">this</span>,k) <a class="code" href="structcimg__library_1_1_c_img.html#a46c5055f274da78be826242e8f704628" title="Return a shared-memory image referencing one channel v0 of the instance image.">get_shared_channel</a>(k).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(bgcolor[k]);
<a name="l12716"></a>12716       }
<a name="l12717"></a>12717 
<a name="l12718"></a>12718       <span class="keywordtype">int</span> x = x0, y = y0;
<a name="l12719"></a>12719       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> letter;
<a name="l12720"></a>12720       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;cimg::strlen(text); i++) {
<a name="l12721"></a>12721         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c = text[i];
<a name="l12722"></a>12722         <span class="keywordflow">switch</span> (c) {
<a name="l12723"></a>12723         <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: y+=font[<span class="charliteral">&#39; &#39;</span>].height; x=x0; <span class="keywordflow">break</span>;
<a name="l12724"></a>12724         <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: x+=4*font[<span class="charliteral">&#39; &#39;</span>].width; <span class="keywordflow">break</span>;
<a name="l12725"></a>12725         <span class="keywordflow">default</span>: <span class="keywordflow">if</span> (c&lt;font.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>) {
<a name="l12726"></a>12726           letter = font[c];
<a name="l12727"></a>12727           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; mask = (c+256)&lt;(<span class="keywordtype">int</span>)font.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>?font[c+256]:font[c];
<a name="l12728"></a>12728           <span class="keywordflow">if</span> (fgcolor) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=0; p&lt;letter.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*letter.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; p++)
<a name="l12729"></a>12729             <span class="keywordflow">if</span> (mask(p)) cimg_forV(*<span class="keyword">this</span>,k) letter(p,0,0,k) = (T)(letter(p,0,0,k)*fgcolor[k]);
<a name="l12730"></a>12730           <span class="keywordflow">if</span> (bgcolor) <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=0; p&lt;letter.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*letter.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; p++)
<a name="l12731"></a>12731             <span class="keywordflow">if</span> (!mask(p)) cimg_forV(*<span class="keyword">this</span>,k) letter(p,0,0,k) = bgcolor[k];
<a name="l12732"></a>12732           <span class="keywordflow">if</span> (!bgcolor &amp;&amp; font.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>&gt;=512) <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(letter,mask,x,y,0,0,(T)1,opacity);
<a name="l12733"></a>12733           <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(letter,x,y,0,0,opacity);
<a name="l12734"></a>12734           x+=letter.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l12735"></a>12735         }
<a name="l12736"></a>12736           <span class="keywordflow">break</span>;
<a name="l12737"></a>12737         }
<a name="l12738"></a>12738       }
<a name="l12739"></a>12739       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12740"></a>12740     }
<a name="l12741"></a>12741 
<a name="l12743"></a>12743 
<a name="l12754"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac12c8f45e022ad0fa3bed46aee54ee48">12754</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> text,
<a name="l12755"></a>12755                     <span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12756"></a>12756                     <span class="keyword">const</span> T *<span class="keyword">const</span> fgcolor,<span class="keyword">const</span> T *<span class="keyword">const</span> bgcolor=0,
<a name="l12757"></a>12757                     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font_size=11,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l12758"></a>12758       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(text,x0,y0,fgcolor,bgcolor,<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;::get_font</a>(font_size),opacity);
<a name="l12759"></a>12759     }
<a name="l12760"></a>12760 
<a name="l12761"></a>12761 
<a name="l12763"></a>12763 
<a name="l12772"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad5c3a182af6af463efe7769cbcb7b726">12772</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12773"></a>12773                     <span class="keyword">const</span> T *<span class="keyword">const</span> fgcolor,<span class="keyword">const</span> T *<span class="keyword">const</span> bgcolor, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font_size,
<a name="l12774"></a>12774                     <span class="keyword">const</span> <span class="keywordtype">float</span> opacity,<span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l12775"></a>12775       <span class="keywordtype">char</span> tmp[2048]={0};
<a name="l12776"></a>12776       std::va_list ap;
<a name="l12777"></a>12777       va_start(ap,format);
<a name="l12778"></a>12778       std::vsprintf(tmp,format,ap);
<a name="l12779"></a>12779       va_end(ap);
<a name="l12780"></a>12780       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(tmp,x0,y0,fgcolor,bgcolor,font_size,opacity);
<a name="l12781"></a>12781     }
<a name="l12782"></a>12782 
<a name="l12783"></a>12783     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0,<span class="keyword">const</span> <span class="keywordtype">int</span> y0,
<a name="l12784"></a>12784                                          <span class="keyword">const</span> T *<span class="keyword">const</span> fgcolor,<span class="keyword">const</span> T *<span class="keyword">const</span> bgcolor,
<a name="l12785"></a>12785                                          <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; font, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity, <span class="keyword">const</span> <span class="keywordtype">char</span> *format,...) {
<a name="l12786"></a>12786       <span class="keywordtype">char</span> tmp[2048]={0};
<a name="l12787"></a>12787       std::va_list ap;
<a name="l12788"></a>12788       va_start(ap,format);
<a name="l12789"></a>12789       std::vsprintf(tmp,format,ap);
<a name="l12790"></a>12790       va_end(ap);
<a name="l12791"></a>12791       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(tmp,x0,y0,fgcolor,bgcolor,font,opacity);
<a name="l12792"></a>12792     }
<a name="l12793"></a>12793 
<a name="l12794"></a>12794 
<a name="l12796"></a>12796 
<a name="l12805"></a>12805     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l12806"></a><a class="code" href="structcimg__library_1_1_c_img.html#a079ce9d49f9e495bd847288994c17df4">12806</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a079ce9d49f9e495bd847288994c17df4" title="Draw a vector field in the instance image.">draw_quiver</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; flow, <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l12807"></a>12807                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sampling=25, <span class="keyword">const</span> <span class="keywordtype">float</span> factor=-20,
<a name="l12808"></a>12808                       <span class="keyword">const</span> <span class="keywordtype">int</span> quiver_type=0, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12809"></a>12809       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12810"></a>12810         <span class="keywordflow">if</span> (flow.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || flow.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=2)
<a name="l12811"></a>12811           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Specified flow (%u,%u,%u,%u,%p) has wrong dimensions.&quot;</span>,
<a name="l12812"></a>12812                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),flow.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12813"></a>12813         <span class="keywordflow">if</span> (!color)
<a name="l12814"></a>12814           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Specified color is (null)&quot;</span>,
<a name="l12815"></a>12815                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l12816"></a>12816         <span class="keywordflow">if</span> (sampling&lt;=0)
<a name="l12817"></a>12817           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Incorrect sampling value = %g&quot;</span>,
<a name="l12818"></a>12818                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sampling);
<a name="l12819"></a>12819 
<a name="l12820"></a>12820         <span class="keywordtype">float</span> vmax,fact;
<a name="l12821"></a>12821         <span class="keywordflow">if</span> (factor&lt;=0) {
<a name="l12822"></a>12822           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(flow.<a class="code" href="structcimg__library_1_1_c_img.html#a68578c8d130fa1c00dee778855faa12d" title="Return the scalar image of vector norms.">get_norm_pointwise</a>(2),<span class="keyword">false</span>);
<a name="l12823"></a>12823           vmax = (float)<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st.min),<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(st.max));
<a name="l12824"></a>12824           fact = -factor;
<a name="l12825"></a>12825         } <span class="keywordflow">else</span> { fact = factor; vmax = 1; }
<a name="l12826"></a>12826 
<a name="l12827"></a>12827         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=sampling/2; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; y+=sampling)
<a name="l12828"></a>12828           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=sampling/2; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; x+=sampling) {
<a name="l12829"></a>12829             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> X = x*flow.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/width, Y = y*flow.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/height;
<a name="l12830"></a>12830             <span class="keywordtype">float</span> u = (float)flow(X,Y,0,0)*fact/vmax, v = (float)flow(X,Y,0,1)*fact/vmax;
<a name="l12831"></a>12831             <span class="keywordflow">if</span> (!quiver_type) {
<a name="l12832"></a>12832               <span class="keyword">const</span> <span class="keywordtype">int</span> xx = x+(int)u, yy = y+(<span class="keywordtype">int</span>)v;
<a name="l12833"></a>12833               <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x,y,xx,yy,color,45.0f,sampling/5.0f,~0L,opacity);
<a name="l12834"></a>12834             } <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>((<span class="keywordtype">int</span>)(x-0.5*u),(<span class="keywordtype">int</span>)(y-0.5*v),(<span class="keywordtype">int</span>)(x+0.5*u),(<span class="keywordtype">int</span>)(y+0.5*v),color,~0L,opacity);
<a name="l12835"></a>12835           }
<a name="l12836"></a>12836       }
<a name="l12837"></a>12837       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12838"></a>12838     }
<a name="l12839"></a>12839 
<a name="l12841"></a>12841 
<a name="l12850"></a>12850     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1,<span class="keyword">typename</span> t2&gt;
<a name="l12851"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4fe37c20a48b9bed4491f9e2e79a328e">12851</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a079ce9d49f9e495bd847288994c17df4" title="Draw a vector field in the instance image.">draw_quiver</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; flow, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; color,
<a name="l12852"></a>12852                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sampling=25, <span class="keyword">const</span> <span class="keywordtype">float</span> factor=-20,
<a name="l12853"></a>12853                         <span class="keyword">const</span> <span class="keywordtype">int</span> quiver_type=0, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12854"></a>12854       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12855"></a>12855         <span class="keywordflow">if</span> (flow.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || flow.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=2)
<a name="l12856"></a>12856           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Specified flow (%u,%u,%u,%u,%p) has wrong dimensions.&quot;</span>,
<a name="l12857"></a>12857                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),flow.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,flow.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12858"></a>12858         <span class="keywordflow">if</span> (color.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || color.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=flow.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || color.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=flow.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)
<a name="l12859"></a>12859           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Specified color (%u,%u,%u,%u,%p) has wrong dimensions.&quot;</span>,
<a name="l12860"></a>12860                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),color.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,color.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,color.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,color.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,color.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l12861"></a>12861         <span class="keywordflow">if</span> (sampling&lt;=0)
<a name="l12862"></a>12862           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_quiver() : Incorrect sampling value = %g&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sampling);
<a name="l12863"></a>12863 
<a name="l12864"></a>12864         <span class="keywordtype">float</span> vmax,fact;
<a name="l12865"></a>12865         <span class="keywordflow">if</span> (factor&lt;=0) {
<a name="l12866"></a>12866           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(flow.<a class="code" href="structcimg__library_1_1_c_img.html#a68578c8d130fa1c00dee778855faa12d" title="Return the scalar image of vector norms.">get_norm_pointwise</a>(2),<span class="keyword">false</span>);
<a name="l12867"></a>12867           vmax = (float)<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st.min),<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(st.max));
<a name="l12868"></a>12868           fact = -factor;
<a name="l12869"></a>12869         } <span class="keywordflow">else</span> { fact = factor; vmax = 1; }
<a name="l12870"></a>12870 
<a name="l12871"></a>12871         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=sampling/2; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; y+=sampling)
<a name="l12872"></a>12872           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=sampling/2; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; x+=sampling) {
<a name="l12873"></a>12873             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> X = x*flow.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/width, Y = y*flow.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/height;
<a name="l12874"></a>12874             <span class="keywordtype">float</span> u = (float)flow(X,Y,0,0)*fact/vmax, v = (float)flow(X,Y,0,1)*fact/vmax;
<a name="l12875"></a>12875             <span class="keywordflow">if</span> (!quiver_type) {
<a name="l12876"></a>12876               <span class="keyword">const</span> <span class="keywordtype">int</span> xx = x+(int)u, yy = y+(<span class="keywordtype">int</span>)v;
<a name="l12877"></a>12877               <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x,y,xx,yy,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(X,Y).<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,45.0f,sampling/5.0f,~0L,opacity);
<a name="l12878"></a>12878             } <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>((<span class="keywordtype">int</span>)(x-0.5*u),(<span class="keywordtype">int</span>)(y-0.5*v),(<span class="keywordtype">int</span>)(x+0.5*u),(<span class="keywordtype">int</span>)(y+0.5*v),color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(X,Y).<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,~0L,opacity);
<a name="l12879"></a>12879           }
<a name="l12880"></a>12880       }
<a name="l12881"></a>12881       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12882"></a>12882     }
<a name="l12883"></a>12883 
<a name="l12885"></a>12885 
<a name="l12899"></a>12899     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l12900"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8552386b1ccaeb71bc5dd56f8327d89b">12900</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8552386b1ccaeb71bc5dd56f8327d89b" title="Draw a 1D graph on the instance image.">draw_graph</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>, <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> gtype=0,
<a name="l12901"></a>12901                      <span class="keyword">const</span> <span class="keywordtype">double</span> ymin=0, <span class="keyword">const</span> <span class="keywordtype">double</span> ymax=0, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l12902"></a>12902       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12903"></a>12903         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_graph() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l12904"></a>12904         T *color1 = <span class="keyword">new</span> T[dim], *color2 = <span class="keyword">new</span> T[dim];
<a name="l12905"></a>12905         cimg_forV(*<span class="keyword">this</span>,k) { color1[k]=(T)(color[k]*0.6f); color2[k]=(T)(color[k]*0.3f); }
<a name="l12906"></a>12906         <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st;
<a name="l12907"></a>12907         <span class="keywordflow">if</span> (ymin==ymax) { st = <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>(data,<span class="keyword">false</span>); cimg::swap(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>,st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>); } <span class="keywordflow">else</span> { st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a> = ymin; st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a> = ymax; }
<a name="l12908"></a>12908         <span class="keywordflow">if</span> (st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>==st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>) { st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>--; st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>++; }
<a name="l12909"></a>12909         <span class="keyword">const</span> <span class="keywordtype">float</span> ca = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;1?(float)(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>)/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1):0, cb = (<span class="keywordtype">float</span>)st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>;
<a name="l12910"></a>12910         <span class="keyword">const</span> <span class="keywordtype">int</span> Y0 = (int)(-cb/ca);
<a name="l12911"></a>12911         <span class="keywordtype">int</span> pY=0;
<a name="l12912"></a>12912         cimg_foroff(data,off) {
<a name="l12913"></a>12913           <span class="keyword">const</span> <span class="keywordtype">int</span> Y = (int)((data[off]-cb)/ca);
<a name="l12914"></a>12914           <span class="keywordflow">switch</span> (gtype) {
<a name="l12915"></a>12915           <span class="keywordflow">case</span> 0: <span class="comment">// plot with segments</span>
<a name="l12916"></a>12916             <span class="keywordflow">if</span> (off&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>((<span class="keywordtype">int</span>)((off-1)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/data.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()),pY,(<span class="keywordtype">int</span>)(off*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/data.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()),Y,color,~0L,opacity);
<a name="l12917"></a>12917             <span class="keywordflow">break</span>;
<a name="l12918"></a>12918           <span class="keywordflow">case</span> 1: { <span class="comment">// plot with bars</span>
<a name="l12919"></a>12919             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> X = off*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/data.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(), nX = (off+1)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/data.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1;
<a name="l12920"></a>12920             <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(X,(<span class="keywordtype">int</span>)Y0,nX,Y,color1,opacity);
<a name="l12921"></a>12921             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(X,Y,X,(<span class="keywordtype">int</span>)Y0,color2,~0L,opacity);
<a name="l12922"></a>12922             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(X,(<span class="keywordtype">int</span>)Y0,nX,(<span class="keywordtype">int</span>)Y0,Y&lt;=Y0?color2:color,~0L,opacity);
<a name="l12923"></a>12923             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(nX,Y,nX,(<span class="keywordtype">int</span>)Y0,color,~0L,opacity);
<a name="l12924"></a>12924             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(X,Y,nX,Y,Y&lt;=Y0?color:color2,~0L,opacity);
<a name="l12925"></a>12925           } <span class="keywordflow">break</span>;
<a name="l12926"></a>12926           }
<a name="l12927"></a>12927           pY=Y;
<a name="l12928"></a>12928         }
<a name="l12929"></a>12929         <span class="keywordflow">if</span> (gtype==2) { <span class="comment">// plot with cubic interpolation</span>
<a name="l12930"></a>12930           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> ndata = data.<a class="code" href="structcimg__library_1_1_c_img.html#a740f8962ff1960b9072a0210d743139c" title="Get a shared-memory image referencing a set of points of the instance image.">get_shared_points</a>(0,data.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1);
<a name="l12931"></a>12931           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l12932"></a>12932             <span class="keyword">const</span> <span class="keywordtype">int</span> Y = (int)((ndata.<a class="code" href="structcimg__library_1_1_c_img.html#abd46668b4c8326f5bc0c4b6e73c71dd9" title="Read a pixel value using cubic interpolation for the first coordinate cx.">cubic_pix1d</a>((<span class="keywordtype">float</span>)x*ndata.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)-cb)/ca);
<a name="l12933"></a>12933             <span class="keywordflow">if</span> (x&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x,pY,x+1,Y,color,~0L,opacity);
<a name="l12934"></a>12934             pY=Y;
<a name="l12935"></a>12935           }
<a name="l12936"></a>12936         }
<a name="l12937"></a>12937         <span class="keyword">delete</span>[] color1; <span class="keyword">delete</span>[] color2;
<a name="l12938"></a>12938       }
<a name="l12939"></a>12939       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12940"></a>12940     }
<a name="l12941"></a>12941 
<a name="l12943"></a>12943 
<a name="l12954"></a><a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397">12954</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; xvalues, <span class="keyword">const</span> <span class="keywordtype">int</span> y,
<a name="l12955"></a>12955                                          <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l12956"></a>12956       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12957"></a>12957         <span class="keywordtype">int</span> siz = (int)xvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1;
<a name="l12958"></a>12958         <span class="keywordflow">if</span> (siz&lt;=0) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,y,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y,color,~0L,opacity);
<a name="l12959"></a>12959         <span class="keywordflow">else</span> {
<a name="l12960"></a>12960           <span class="keywordflow">if</span> (xvalues[0]&lt;xvalues[siz]) <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(0,y,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y,color,30,5,~0L,opacity);
<a name="l12961"></a>12961           <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,y,0,y,color,30,5,~0L,opacity);
<a name="l12962"></a>12962           <span class="keyword">const</span> <span class="keywordtype">int</span> yt = (y+14)&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()?(y+3):(y-14);
<a name="l12963"></a>12963           <span class="keywordtype">char</span> txt[32];
<a name="l12964"></a>12964           cimg_foroff(xvalues,x) {
<a name="l12965"></a>12965             std::sprintf(txt,<span class="stringliteral">&quot;%g&quot;</span>,(<span class="keywordtype">double</span>)xvalues(x));
<a name="l12966"></a>12966             <span class="keyword">const</span> <span class="keywordtype">int</span> xi=(int)(x*(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1)/siz), xt = xi-(<span class="keywordtype">int</span>)std::strlen(txt)*3;
<a name="l12967"></a>12967             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(xi,y-1,color,opacity).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(xi,y+1,color,opacity).
<a name="l12968"></a>12968               <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(txt,xt&lt;0?0:xt,yt,color,0,11,opacity);
<a name="l12969"></a>12969           }
<a name="l12970"></a>12970         }
<a name="l12971"></a>12971       }
<a name="l12972"></a>12972       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12973"></a>12973     }
<a name="l12974"></a>12974 
<a name="l12976"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6afeecfad99113c3091ca3ff23e85876">12976</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; yvalues,
<a name="l12977"></a>12977                                          <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l12978"></a>12978       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l12979"></a>12979         <span class="keywordtype">int</span> siz = (int)yvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1;
<a name="l12980"></a>12980         <span class="keywordflow">if</span> (siz&lt;=0) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x,0,x,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,color,~0L,opacity);
<a name="l12981"></a>12981         <span class="keywordflow">else</span> {
<a name="l12982"></a>12982           <span class="keywordflow">if</span> (yvalues[0]&lt;yvalues[siz]) <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x,0,x,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,color,30,5,~0L,opacity);
<a name="l12983"></a>12983           <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,x,0,color,30,5,~0L,opacity);
<a name="l12984"></a>12984           <span class="keywordtype">char</span> txt[32];
<a name="l12985"></a>12985           cimg_foroff(yvalues,y) {
<a name="l12986"></a>12986             std::sprintf(txt,<span class="stringliteral">&quot;%g&quot;</span>,(<span class="keywordtype">double</span>)yvalues(y));
<a name="l12987"></a>12987             <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l12988"></a>12988               yi = (int)(y*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1)/siz),
<a name="l12989"></a>12989               tmp = yi-5,
<a name="l12990"></a>12990               nyi = tmp&lt;0?0:(tmp&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-11?(int)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-11:tmp),
<a name="l12991"></a>12991               xt = x-(int)std::strlen(txt)*7;
<a name="l12992"></a>12992             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x-1,yi,color,opacity).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x+1,yi,color,opacity);
<a name="l12993"></a>12993             <span class="keywordflow">if</span> (xt&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(txt,xt,nyi,color,0,11,opacity);
<a name="l12994"></a>12994             <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(txt,x+3,nyi,color,0,11,opacity);
<a name="l12995"></a>12995           }
<a name="l12996"></a>12996         }
<a name="l12997"></a>12997       }
<a name="l12998"></a>12998       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l12999"></a>12999     }
<a name="l13000"></a>13000 
<a name="l13002"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa41421a441f823f61f1a13a10f39451b">13002</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tx, <span class="keyword">typename</span> ty&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tx&gt;</a>&amp; xvalues, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ty&gt;</a>&amp; yvalues,
<a name="l13003"></a>13003                                                        <span class="keyword">const</span> T *<span class="keyword">const</span> color, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l13004"></a>13004       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13005"></a>13005         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tx&gt;</a> nxvalues(xvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,xvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1,1,1,<span class="keyword">true</span>);
<a name="l13006"></a>13006         <span class="keyword">const</span> <span class="keywordtype">int</span> sizx = (int)xvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1, wm1 = (int)(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)-1;
<a name="l13007"></a>13007         <span class="keywordflow">if</span> (sizx&gt;0) {
<a name="l13008"></a>13008           <span class="keywordtype">float</span> ox = (float)nxvalues[0];
<a name="l13009"></a>13009           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=1; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; x++) {
<a name="l13010"></a>13010             <span class="keyword">const</span> <span class="keywordtype">float</span> nx = (float)nxvalues.linear_pix1d((<span class="keywordtype">float</span>)x*sizx/wm1);
<a name="l13011"></a>13011             <span class="keywordflow">if</span> (nx*ox&lt;=0) { <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(nx==0?x:x-1,yvalues,color,opacity); <span class="keywordflow">break</span>; }
<a name="l13012"></a>13012             ox = nx;
<a name="l13013"></a>13013           }
<a name="l13014"></a>13014         }
<a name="l13015"></a>13015         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ty&gt;</a> nyvalues(yvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,yvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1,1,1,<span class="keyword">true</span>);
<a name="l13016"></a>13016         <span class="keyword">const</span> <span class="keywordtype">int</span> sizy = (int)yvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1, hm1 = (int)(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)-1;
<a name="l13017"></a>13017         <span class="keywordflow">if</span> (sizy&gt;0) {
<a name="l13018"></a>13018           <span class="keywordtype">float</span> oy = (float)nyvalues[0];
<a name="l13019"></a>13019           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=1; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; y++) {
<a name="l13020"></a>13020             <span class="keyword">const</span> <span class="keywordtype">float</span> ny = (float)nyvalues.linear_pix1d((<span class="keywordtype">float</span>)y*sizy/hm1);
<a name="l13021"></a>13021             <span class="keywordflow">if</span> (ny*oy&lt;=0) { <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(xvalues,ny==0?y:y-1,color,opacity); <span class="keywordflow">break</span>; }
<a name="l13022"></a>13022             oy = ny;
<a name="l13023"></a>13023           }
<a name="l13024"></a>13024         }
<a name="l13025"></a>13025       }
<a name="l13026"></a>13026       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13027"></a>13027     }
<a name="l13028"></a>13028 
<a name="l13030"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0286b440e4200818656be205cd38838a">13030</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x0, <span class="keyword">const</span> <span class="keywordtype">float</span> x1, <span class="keyword">const</span> <span class="keywordtype">float</span> y0, <span class="keyword">const</span> <span class="keywordtype">float</span> y1,
<a name="l13031"></a>13031                     <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l13032"></a>13032                     <span class="keyword">const</span> <span class="keywordtype">int</span> subdivisionx=-60, <span class="keyword">const</span> <span class="keywordtype">int</span> subdivisiony=-60,
<a name="l13033"></a>13033                     <span class="keyword">const</span> <span class="keywordtype">float</span> precisionx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> precisiony=0,
<a name="l13034"></a>13034                     <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l13035"></a>13035       <span class="keyword">const</span> <span class="keywordtype">float</span> dx = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(x1-x0), dy = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(y1-y0);
<a name="l13036"></a>13036       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13037"></a>13037         px = (precisionx==0)?(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">std::pow</a>(10.0,(<span class="keywordtype">int</span>)std::log10(dx)-2.0):precisionx,
<a name="l13038"></a>13038         py = (precisiony==0)?(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a067f4006eacbc322ce61bafebe7bd340" title="Replace each image pixel by its power by p.">std::pow</a>(10.0,(<span class="keywordtype">int</span>)std::log10(dy)-2.0):precisiony;
<a name="l13039"></a>13039       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a92fff00514d8f0444ac4e53811c86397" title="Draw a labelled horizontal axis on the instance image.">draw_axis</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::sequence</a>(subdivisionx&gt;0?subdivisionx:1-(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/subdivisionx,x0,x1).<a class="code" href="structcimg__library_1_1_c_img.html#afc1a4ffb591540103f80b06f6a4faf84" title="Round image values.">round</a>(px),
<a name="l13040"></a>13040                        <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::sequence</a>(subdivisiony&gt;0?subdivisiony:1-(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/subdivisiony,y0,y1).<a class="code" href="structcimg__library_1_1_c_img.html#afc1a4ffb591540103f80b06f6a4faf84" title="Round image values.">round</a>(py),
<a name="l13041"></a>13041                        color,opacity);
<a name="l13042"></a>13042     }
<a name="l13043"></a>13043 
<a name="l13045"></a>13045     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tx, <span class="keyword">typename</span> ty&gt;
<a name="l13046"></a><a class="code" href="structcimg__library_1_1_c_img.html#a38f5283986f0cb4fdac660e489788634">13046</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a38f5283986f0cb4fdac660e489788634" title="Draw grid on the instance image.">draw_grid</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tx&gt;</a>&amp; xvalues, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ty&gt;</a>&amp; yvalues, <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l13047"></a>13047                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> patternx=~0U, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> patterny=~0U,
<a name="l13048"></a>13048                       <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l13049"></a>13049       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13050"></a>13050         <span class="keywordflow">if</span> (!xvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) cimg_foroff(xvalues,x) {
<a name="l13051"></a>13051           <span class="keyword">const</span> <span class="keywordtype">int</span> xi = (int)xvalues[x];
<a name="l13052"></a>13052           <span class="keywordflow">if</span> (xi&gt;=0 &amp;&amp; xi&lt;(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(xi,0,xi,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,color,patternx,opacity);
<a name="l13053"></a>13053         }
<a name="l13054"></a>13054         <span class="keywordflow">if</span> (!yvalues.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) cimg_foroff(yvalues,y) {
<a name="l13055"></a>13055           <span class="keyword">const</span> <span class="keywordtype">int</span> yi = (int)yvalues[y];
<a name="l13056"></a>13056           <span class="keywordflow">if</span> (yi&gt;=0 &amp;&amp; yi&lt;(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,yi,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,yi,color,patterny,opacity);
<a name="l13057"></a>13057         }
<a name="l13058"></a>13058       }
<a name="l13059"></a>13059       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13060"></a>13060     }
<a name="l13061"></a>13061 
<a name="l13063"></a><a class="code" href="structcimg__library_1_1_c_img.html#a30d5eea8b0712c1c33cba9540eb08938">13063</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a38f5283986f0cb4fdac660e489788634" title="Draw grid on the instance image.">draw_grid</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> deltax,  <span class="keyword">const</span> <span class="keywordtype">float</span> deltay,
<a name="l13064"></a>13064                     <span class="keyword">const</span> <span class="keywordtype">float</span> offsetx, <span class="keyword">const</span> <span class="keywordtype">float</span> offsety,
<a name="l13065"></a>13065                     <span class="keyword">const</span> T *<span class="keyword">const</span> color,
<a name="l13066"></a>13066                     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> patternx=~0U, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> patterny=~0U,
<a name="l13067"></a>13067                     <span class="keyword">const</span> <span class="keywordtype">bool</span> invertx=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> inverty=<span class="keyword">false</span>,
<a name="l13068"></a>13068                     <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l13069"></a>13069 
<a name="l13070"></a>13070       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> seqx, seqy;
<a name="l13071"></a>13071 
<a name="l13072"></a>13072       <span class="keywordflow">if</span> (deltax!=0) {
<a name="l13073"></a>13073         <span class="keyword">const</span> <span class="keywordtype">float</span> dx = deltax&gt;0?deltax:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*-deltax/100;
<a name="l13074"></a>13074         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx = (<span class="keywordtype">unsigned</span> int)(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/dx);
<a name="l13075"></a>13075         seqx = <a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">CImg&lt;unsigned int&gt;::sequence</a>(1+nx,0,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(dx*nx));
<a name="l13076"></a>13076         <span class="keywordflow">if</span> (offsetx) cimg_foroff(seqx,x) seqx(x) = (<span class="keywordtype">unsigned</span> int)<a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(seqx(x)+offsetx,(float)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l13077"></a>13077         <span class="keywordflow">if</span> (invertx) cimg_foroff(seqx,x) seqx(x) = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1-seqx(x);
<a name="l13078"></a>13078       }
<a name="l13079"></a>13079 
<a name="l13080"></a>13080       <span class="keywordflow">if</span> (deltay!=0) {
<a name="l13081"></a>13081         <span class="keyword">const</span> <span class="keywordtype">float</span> dy = deltay&gt;0?deltay:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*-deltay/100;
<a name="l13082"></a>13082         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ny = (<span class="keywordtype">unsigned</span> int)(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/dy);
<a name="l13083"></a>13083         seqy = <a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">CImg&lt;unsigned int&gt;::sequence</a>(1+ny,0,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(dy*ny));
<a name="l13084"></a>13084         <span class="keywordflow">if</span> (offsety) cimg_foroff(seqy,y) seqy(y) = (<span class="keywordtype">unsigned</span> int)<a class="code" href="namespacecimg__library_1_1cimg.html#a1b6a62e8511af92513cc68dab1811769" title="Return x modulo m (generic modulo).">cimg::mod</a>(seqy(y)+offsety,(float)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l13085"></a>13085         <span class="keywordflow">if</span> (inverty) cimg_foroff(seqy,y) seqy(y) = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1-seqy(y);
<a name="l13086"></a>13086      }
<a name="l13087"></a>13087 
<a name="l13088"></a>13088       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a38f5283986f0cb4fdac660e489788634" title="Draw grid on the instance image.">draw_grid</a>(seqx,seqy,color,patternx,patterny,opacity);
<a name="l13089"></a>13089     }
<a name="l13090"></a>13090 
<a name="l13091"></a>13091     <span class="comment">// INNER CLASS used by function CImg&lt;&gt;::draw_fill()</span>
<a name="l13092"></a><a class="code" href="structcimg__library_1_1_c_img_1_1__draw__fill.html">13092</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_1_1__draw__fill.html">_draw_fill</a> {
<a name="l13093"></a>13093       <span class="keyword">const</span> T1 *<span class="keyword">const</span> color;
<a name="l13094"></a>13094       <span class="keyword">const</span> <span class="keywordtype">float</span> sigma,opacity;
<a name="l13095"></a>13095       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T1&gt;</a> value;
<a name="l13096"></a>13096       <a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T2&gt;</a> region;
<a name="l13097"></a>13097 
<a name="l13098"></a>13098       <a class="code" href="structcimg__library_1_1_c_img_1_1__draw__fill.html">_draw_fill</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T1&gt;</a>&amp; img,<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z,
<a name="l13099"></a>13099                  <span class="keyword">const</span> T *<span class="keyword">const</span> pcolor,<span class="keyword">const</span> <span class="keywordtype">float</span> psigma,<span class="keyword">const</span> <span class="keywordtype">float</span> popacity):
<a name="l13100"></a>13100         color(pcolor),sigma(psigma),opacity(popacity),
<a name="l13101"></a>13101         value(img.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(x,y,z)), region(<a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T2&gt;</a>(img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,1,(T2)<span class="keyword">false</span>)) {
<a name="l13102"></a>13102       }
<a name="l13103"></a>13103 
<a name="l13104"></a>13104       <a class="code" href="structcimg__library_1_1_c_img_1_1__draw__fill.html">_draw_fill</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_1_1__draw__fill.html">_draw_fill</a>&amp; d) {
<a name="l13105"></a>13105         color = d.color;
<a name="l13106"></a>13106         sigma = d.sigma;
<a name="l13107"></a>13107         opacity = d.opacity;
<a name="l13108"></a>13108         value = d.value;
<a name="l13109"></a>13109         region = d.region;
<a name="l13110"></a>13110         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13111"></a>13111       }
<a name="l13112"></a>13112 
<a name="l13113"></a>13113       <span class="keywordtype">bool</span> comp(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T1&gt;</a>&amp; A,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T1&gt;</a>&amp; B)<span class="keyword"> const </span>{
<a name="l13114"></a>13114         <span class="keywordtype">bool</span> res=<span class="keyword">true</span>;
<a name="l13115"></a>13115         <span class="keyword">const</span> T *pA=A.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+A.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l13116"></a>13116         <span class="keywordflow">for</span> (<span class="keyword">const</span> T *pB=B.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+B.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(); res &amp;&amp; pA&gt;A.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>; res=(<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(*(--pA)-(*(--pB)))&lt;=sigma) );
<a name="l13117"></a>13117         <span class="keywordflow">return</span> res;
<a name="l13118"></a>13118       }
<a name="l13119"></a>13119 
<a name="l13120"></a>13120       <span class="keywordtype">void</span> fill(<a class="code" href="structcimg__library_1_1_c_img.html">CImg&lt;T1&gt;</a>&amp; img,<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z) {
<a name="l13121"></a>13121         <span class="keywordflow">if</span> (x&lt;0 || x&gt;=img.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() || y&lt;0 || y&gt;=img.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() || z&lt;0 || z&gt;=img.<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()) <span class="keywordflow">return</span>;
<a name="l13122"></a>13122         <span class="keywordflow">if</span> (!region(x,y,z) &amp;&amp; comp(value,img.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(x,y,z))) {
<a name="l13123"></a>13123           <span class="keyword">const</span> T *col=color;
<a name="l13124"></a>13124           <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l13125"></a>13125           <span class="keywordtype">int</span> xmin,xmax;
<a name="l13126"></a>13126           <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(img,k) img(x,y,z,k)=*(col++);
<a name="l13127"></a>13127           <span class="keywordflow">else</span> cimg_forV(img,k) img(x,y,z,k)=(T1)(*(col++)*opacity+copacity*img(x,y,z,k));
<a name="l13128"></a>13128           col-=img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l13129"></a>13129           region(x,y,z) = (T2)<span class="keyword">true</span>;
<a name="l13130"></a>13130           <span class="keywordflow">for</span> (xmin=x-1; xmin&gt;=0 &amp;&amp; comp(value,img.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(xmin,y,z)); xmin--) {
<a name="l13131"></a>13131             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(img,k) img(xmin,y,z,k) = *(col++);
<a name="l13132"></a>13132             <span class="keywordflow">else</span> cimg_forV(img,k) img(xmin,y,z,k)=(T1)(*(col++)*nopacity+copacity*img(xmin,y,z,k));
<a name="l13133"></a>13133             col-=img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l13134"></a>13134             region(xmin,y,z)=(T2)<span class="keyword">true</span>;
<a name="l13135"></a>13135           }
<a name="l13136"></a>13136           <span class="keywordflow">for</span> (xmax=x+1; xmax&lt;img.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() &amp;&amp; comp(value,img.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(xmax,y,z)); xmax++) {
<a name="l13137"></a>13137             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(img,k) img(xmax,y,z,k) = *(col++);
<a name="l13138"></a>13138             <span class="keywordflow">else</span> cimg_forV(img,k) img(xmax,y,z,k)=(T1)(*(col++)*nopacity+copacity*img(xmax,y,z,k));
<a name="l13139"></a>13139             col-=img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l13140"></a>13140             region(xmax,y,z)=(T2)<span class="keyword">true</span>;
<a name="l13141"></a>13141           }
<a name="l13142"></a>13142           xmin++; xmax--;
<a name="l13143"></a>13143           <span class="keywordflow">for</span> (; xmin&lt;=xmax; xmin++) {
<a name="l13144"></a>13144             fill(img,xmin,y-1,z);
<a name="l13145"></a>13145             fill(img,xmin,y+1,z);
<a name="l13146"></a>13146             fill(img,xmin,y,z-1);
<a name="l13147"></a>13147             fill(img,xmin,y,z+1);
<a name="l13148"></a>13148           }
<a name="l13149"></a>13149         }
<a name="l13150"></a>13150       }
<a name="l13151"></a>13151     };
<a name="l13152"></a>13152 
<a name="l13154"></a>13154 
<a name="l13165"></a><a class="code" href="structcimg__library_1_1_c_img.html#af0cae853a65c947dbd93ed0ba06a38bd">13165</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af0cae853a65c947dbd93ed0ba06a38bd" title="Draw a 3D filled region starting from a point (x,y,\ z) in the instance image.">draw_fill</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z,
<a name="l13166"></a>13166                                          <span class="keyword">const</span> T *<span class="keyword">const</span> color, <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; region,<span class="keyword">const</span> <span class="keywordtype">float</span> sigma=0,
<a name="l13167"></a>13167                                          <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13168"></a>13168       _draw_fill&lt;T,t&gt; F(*<span class="keyword">this</span>,x,y,z,color,sigma,opacity);
<a name="l13169"></a>13169       F.fill(*<span class="keyword">this</span>,x,y,z);
<a name="l13170"></a>13170       region = F.region;
<a name="l13171"></a>13171       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13172"></a>13172     }
<a name="l13173"></a>13173 
<a name="l13175"></a>13175 
<a name="l13183"></a><a class="code" href="structcimg__library_1_1_c_img.html#a86422d29858cca05af9251a37604cd6d">13183</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a86422d29858cca05af9251a37604cd6d" title="Draw a 3D filled region starting from a point (x,y,\ z) in the instance image.">draw_fill</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> <span class="keywordtype">int</span> z,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> sigma=0,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13184"></a>13184       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;bool&gt;</a> tmp;
<a name="l13185"></a>13185       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#af0cae853a65c947dbd93ed0ba06a38bd" title="Draw a 3D filled region starting from a point (x,y,\ z) in the instance image.">draw_fill</a>(x,y,z,color,tmp,sigma,opacity);
<a name="l13186"></a>13186     }
<a name="l13187"></a>13187 
<a name="l13189"></a>13189 
<a name="l13196"></a><a class="code" href="structcimg__library_1_1_c_img.html#a13300dbfcceff38c38f80e011059c2bc">13196</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a13300dbfcceff38c38f80e011059c2bc" title="Draw a 2D filled region starting from a point (x,y) in the instance image.">draw_fill</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x,<span class="keyword">const</span> <span class="keywordtype">int</span> y,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> sigma=0,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13197"></a>13197       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;bool&gt;</a> tmp;
<a name="l13198"></a>13198       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#af0cae853a65c947dbd93ed0ba06a38bd" title="Draw a 3D filled region starting from a point (x,y,\ z) in the instance image.">draw_fill</a>(x,y,0,color,tmp,sigma,opacity);
<a name="l13199"></a>13199     }
<a name="l13200"></a>13200 
<a name="l13202"></a>13202 
<a name="l13211"></a><a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b">13211</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> x0, <span class="keyword">const</span> <span class="keywordtype">int</span> y0, <span class="keyword">const</span> <span class="keywordtype">int</span> x1, <span class="keyword">const</span> <span class="keywordtype">int</span> y1,
<a name="l13212"></a>13212                       <span class="keyword">const</span> <span class="keywordtype">double</span> alpha=1.0, <span class="keyword">const</span> <span class="keywordtype">double</span> beta=1.0, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13213"></a>13213       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13214"></a>13214         <span class="keywordtype">int</span> nx0=x0,nx1=x1,ny0=y0,ny1=y1;
<a name="l13215"></a>13215         <span class="keywordflow">if</span> (nx1&lt;nx0) cimg::swap(nx0,nx1);
<a name="l13216"></a>13216         <span class="keywordflow">if</span> (ny1&lt;ny0) cimg::swap(ny0,ny1);
<a name="l13217"></a>13217         <span class="keywordflow">if</span> (nx0&lt;0) nx0=0;
<a name="l13218"></a>13218         <span class="keywordflow">if</span> (nx1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()) nx1=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1;
<a name="l13219"></a>13219         <span class="keywordflow">if</span> (ny0&lt;0) ny0=0;
<a name="l13220"></a>13220         <span class="keywordflow">if</span> (ny1&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) ny1=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1;
<a name="l13221"></a>13221         <span class="keyword">const</span> <span class="keywordtype">int</span> xc = (nx0+nx1)/2, yc = (ny0+ny1)/2, dx=(xc-nx0), dy=(yc-ny0);
<a name="l13222"></a>13222         <span class="keyword">const</span> <span class="keywordtype">double</span> dc = <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>((<span class="keywordtype">double</span>)(dx*dx+dy*dy))*alpha + beta;
<a name="l13223"></a>13223         <span class="keywordtype">float</span> val = 0;
<a name="l13224"></a>13224         cimg_forV(*<span class="keyword">this</span>,k) {
<a name="l13225"></a>13225           <span class="keywordflow">if</span> (opacity&gt;=1) {
<a name="l13226"></a>13226             (*this)(xc,ny0,0,k) = (T)(0.5f*((*this)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny0,0,k)));
<a name="l13227"></a>13227             (*this)(xc,ny1,0,k) = (T)(0.5f*((*this)(nx0,ny1,0,k)+(*<span class="keyword">this</span>)(nx1,ny1,0,k)));
<a name="l13228"></a>13228             (*this)(nx0,yc,0,k) = (T)(0.5f*((*this)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx0,ny1,0,k)));
<a name="l13229"></a>13229             (*this)(nx1,yc,0,k) = (T)(0.5f*((*this)(nx1,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny1,0,k)));
<a name="l13230"></a>13230             <span class="keywordflow">do</span> {
<a name="l13231"></a>13231               val = (float)(0.25f*((*<span class="keyword">this</span>)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny0,0,k) +
<a name="l13232"></a>13232                                    (*<span class="keyword">this</span>)(nx1,ny1,0,k)+(*<span class="keyword">this</span>)(nx0,ny1,0,k)) + dc*<a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>());
<a name="l13233"></a>13233             } <span class="keywordflow">while</span> (val&lt;(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;T&gt;::min</a>() || val&gt;(float)<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::max</a>());
<a name="l13234"></a>13234             (*this)(xc,yc,0,k)  = (T)val;
<a name="l13235"></a>13235           } <span class="keywordflow">else</span> {
<a name="l13236"></a>13236             <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l13237"></a>13237             (*this)(xc,ny0,0,k) = (T)(0.5f*((*this)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny0,0,k))*nopacity + copacity*(*this)(xc,ny0,0,k));
<a name="l13238"></a>13238             (*this)(xc,ny1,0,k) = (T)(0.5f*((*this)(nx0,ny1,0,k)+(*<span class="keyword">this</span>)(nx1,ny1,0,k))*nopacity + copacity*(*this)(xc,ny1,0,k));
<a name="l13239"></a>13239             (*this)(nx0,yc,0,k) = (T)(0.5f*((*this)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx0,ny1,0,k))*nopacity + copacity*(*this)(nx0,yc,0,k));
<a name="l13240"></a>13240             (*this)(nx1,yc,0,k) = (T)(0.5f*((*this)(nx1,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny1,0,k))*nopacity + copacity*(*this)(nx1,yc,0,k));
<a name="l13241"></a>13241             <span class="keywordflow">do</span> {
<a name="l13242"></a>13242               val = (float)(0.25f*(((*<span class="keyword">this</span>)(nx0,ny0,0,k)+(*<span class="keyword">this</span>)(nx1,ny0,0,k) +
<a name="l13243"></a>13243                                              (*<span class="keyword">this</span>)(nx1,ny1,0,k)+(*<span class="keyword">this</span>)(nx0,ny1,0,k)) + dc*<a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>())*nopacity
<a name="l13244"></a>13244                             + copacity*(*<span class="keyword">this</span>)(xc,yc,0,k));
<a name="l13245"></a>13245             } <span class="keywordflow">while</span> (val&lt;(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;T&gt;::min</a>() || val&gt;(float)<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::max</a>());
<a name="l13246"></a>13246             (*this)(xc,yc,0,k)  = (T)val;
<a name="l13247"></a>13247           }
<a name="l13248"></a>13248         }
<a name="l13249"></a>13249         <span class="keywordflow">if</span> (xc!=nx0 || yc!=ny0) {
<a name="l13250"></a>13250           <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(nx0,ny0,xc,yc,alpha,beta,opacity);
<a name="l13251"></a>13251           <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(xc,ny0,nx1,yc,alpha,beta,opacity);
<a name="l13252"></a>13252           <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(nx0,yc,xc,ny1,alpha,beta,opacity);
<a name="l13253"></a>13253           <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(xc,yc,nx1,ny1,alpha,beta,opacity);
<a name="l13254"></a>13254         }
<a name="l13255"></a>13255       }
<a name="l13256"></a>13256       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13257"></a>13257     }
<a name="l13258"></a>13258 
<a name="l13260"></a>13260 
<a name="l13265"></a><a class="code" href="structcimg__library_1_1_c_img.html#af21f76918c19d35a25ca5b0c27b3d106">13265</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af21f76918c19d35a25ca5b0c27b3d106" title="Draw a plasma in the instance image.">draw_plasma</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> alpha=1.0,<span class="keyword">const</span> <span class="keywordtype">double</span> beta=1.0,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13266"></a>13266       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a295192935c48e4c27a35dfa66579398b" title="Draw a plasma square in the instance image.">draw_plasma</a>(0,0,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,alpha,beta,opacity);
<a name="l13267"></a>13267     }
<a name="l13268"></a>13268 
<a name="l13270"></a>13270 
<a name="l13276"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57">13276</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> xc,<span class="keyword">const</span> <span class="keywordtype">double</span> sigma,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13277"></a>13277       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13278"></a>13278         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_gaussian() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l13279"></a>13279         <span class="keyword">const</span> <span class="keywordtype">double</span> sigma2 = 2*sigma*sigma;
<a name="l13280"></a>13280         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l13281"></a>13281         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l13282"></a>13282         <span class="keyword">const</span> T *col = color;
<a name="l13283"></a>13283         cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l13284"></a>13284           <span class="keyword">const</span> <span class="keywordtype">float</span> dx = (x-xc);
<a name="l13285"></a>13285           <span class="keyword">const</span> <span class="keywordtype">double</span> val = <a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">std::exp</a>( -dx*dx/sigma2 );
<a name="l13286"></a>13286           T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,0,0,0);
<a name="l13287"></a>13287           <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(val*(*col++)); ptrd+=whz; }
<a name="l13288"></a>13288           <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(nopacity*val*(*col++) + copacity*(*ptrd)); ptrd+=whz; }
<a name="l13289"></a>13289           col-=dim;
<a name="l13290"></a>13290         }
<a name="l13291"></a>13291       }
<a name="l13292"></a>13292       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13293"></a>13293     }
<a name="l13294"></a>13294 
<a name="l13296"></a>13296 
<a name="l13303"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7d80c0c5b1d47a9db12e21c559815344">13303</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> xc,<span class="keyword">const</span> <span class="keywordtype">float</span> yc,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>,
<a name="l13304"></a>13304                                              <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13305"></a>13305       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13306"></a>13306         <span class="keywordflow">if</span> (tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=2 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=2 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l13307"></a>13307           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_gaussian() : Tensor parameter (%u,%u,%u,%u,%p) is not a 2x2 matrix.&quot;</span>,
<a name="l13308"></a>13308                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l13309"></a>13309         <span class="keywordflow">if</span> (!color) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_gaussian() : Specified color is (null)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l13310"></a>13310         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> invT = tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a291873d1a51e08889cdc40c933863790" title="Return the inverse of the current matrix.">get_inverse</a>(), invT2 = (invT*invT)/(-2.0);
<a name="l13311"></a>13311         <span class="keyword">const</span> t &amp;a=invT2(0,0), &amp;b=2*invT2(1,0), &amp;c=invT2(1,1);
<a name="l13312"></a>13312         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l13313"></a>13313         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l13314"></a>13314         <span class="keyword">const</span> T *col = color;
<a name="l13315"></a>13315         <span class="keywordtype">float</span> dy = -yc;
<a name="l13316"></a>13316         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l13317"></a>13317           <span class="keywordtype">float</span> dx = -xc;
<a name="l13318"></a>13318           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l13319"></a>13319             <span class="keyword">const</span> <span class="keywordtype">float</span> val = (float)std::exp(a*dx*dx + b*dx*dy + c*dy*dy);
<a name="l13320"></a>13320             T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,0,0);
<a name="l13321"></a>13321             <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(val*(*col++)); ptrd+=whz; }
<a name="l13322"></a>13322             <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(nopacity*val*(*col++) + copacity*(*ptrd)); ptrd+=whz; }
<a name="l13323"></a>13323             col-=dim;
<a name="l13324"></a>13324             dx++;
<a name="l13325"></a>13325           }
<a name="l13326"></a>13326           dy++;
<a name="l13327"></a>13327         }
<a name="l13328"></a>13328       }
<a name="l13329"></a>13329       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13330"></a>13330     }
<a name="l13331"></a>13331 
<a name="l13333"></a>13333 
<a name="l13340"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa8ac26c025f384a91bc8c44d4ba69e54">13340</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa8ac26c025f384a91bc8c44d4ba69e54" title="Draw an isotropic 2D gaussian function in the instance image.">draw_gaussian</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> xc,<span class="keyword">const</span> <span class="keywordtype">float</span> yc,<span class="keyword">const</span> <span class="keywordtype">float</span> sigma,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13341"></a>13341       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(xc,yc,<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::diagonal</a>(sigma,sigma),color,opacity);
<a name="l13342"></a>13342     }
<a name="l13343"></a>13343 
<a name="l13345"></a>13345 
<a name="l13353"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad04fdf43847ff838dd7e8bbbc6c35f22">13353</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> xc,<span class="keyword">const</span> <span class="keywordtype">float</span> yc,<span class="keyword">const</span> <span class="keywordtype">float</span> zc,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>,
<a name="l13354"></a>13354                                              <span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13355"></a>13355       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l13356"></a>13356         <span class="keywordflow">if</span> (tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=3 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=3 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || tensor.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l13357"></a>13357           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_gaussian() : Tensor parameter (%u,%u,%u,%u,%p) is not a 3x3 matrix.&quot;</span>,
<a name="l13358"></a>13358                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l13359"></a>13359         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> invT = tensor.<a class="code" href="structcimg__library_1_1_c_img.html#a291873d1a51e08889cdc40c933863790" title="Return the inverse of the current matrix.">get_inverse</a>(), invT2 = (invT*invT)/(-2.0);
<a name="l13360"></a>13360         <span class="keyword">const</span> t a=invT(0,0), b=2*invT(1,0), c=2*invT(2,0), d=invT(1,1), e=2*invT(2,1), f=invT(2,2);
<a name="l13361"></a>13361         <span class="keyword">const</span> <span class="keywordtype">float</span> nopacity = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(opacity), copacity = 1-<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(opacity,0.0f);
<a name="l13362"></a>13362         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> whz = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l13363"></a>13363         <span class="keyword">const</span> T *col = color;
<a name="l13364"></a>13364         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l13365"></a>13365           <span class="keyword">const</span> <span class="keywordtype">float</span> dx = (x-xc), dy = (y-yc), dz = (z-zc);
<a name="l13366"></a>13366           <span class="keyword">const</span> <span class="keywordtype">double</span> val = <a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">std::exp</a>(a*dx*dx + b*dx*dy + c*dx*dz + d*dy*dy + e*dy*dz + f*dz*dz);
<a name="l13367"></a>13367           T *ptrd = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,z,0);
<a name="l13368"></a>13368           <span class="keywordflow">if</span> (opacity&gt;=1) cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(val*(*col++)); ptrd+=whz; }
<a name="l13369"></a>13369           <span class="keywordflow">else</span> cimg_forV(*<span class="keyword">this</span>,k) { *ptrd = (T)(nopacity*val*(*col++) + copacity*(*ptrd)); ptrd+=whz; }
<a name="l13370"></a>13370           col-=dim;
<a name="l13371"></a>13371         }
<a name="l13372"></a>13372       }
<a name="l13373"></a>13373       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13374"></a>13374     }
<a name="l13375"></a>13375 
<a name="l13377"></a>13377 
<a name="l13385"></a><a class="code" href="structcimg__library_1_1_c_img.html#a305e6fca2fd1065b2b98298d80883c76">13385</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> xc,<span class="keyword">const</span> <span class="keywordtype">float</span> yc,<span class="keyword">const</span> <span class="keywordtype">float</span> zc,
<a name="l13386"></a>13386                         <span class="keyword">const</span> <span class="keywordtype">double</span> sigma,<span class="keyword">const</span> T *<span class="keyword">const</span> color,<span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1) {
<a name="l13387"></a>13387       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(xc,yc,zc,<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::diagonal</a>(sigma,sigma,sigma),color,opacity);
<a name="l13388"></a>13388     }
<a name="l13389"></a>13389 
<a name="l13391"></a>13391 
<a name="l13407"></a>13407     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l13408"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3">13408</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> X, <span class="keyword">const</span> <span class="keywordtype">float</span> Y, <span class="keyword">const</span> <span class="keywordtype">float</span> Z,
<a name="l13409"></a>13409                           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l13410"></a>13410                           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a>&amp; opacities,
<a name="l13411"></a>13411                           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> render_type=4,
<a name="l13412"></a>13412                           <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500,
<a name="l13413"></a>13413                           <span class="keyword">const</span> <span class="keywordtype">float</span> lightx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lighty=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lightz=-5000,
<a name="l13414"></a>13414                           <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light = 0.05f) {
<a name="l13415"></a>13415 
<a name="l13416"></a>13416       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> light_texture;
<a name="l13417"></a>13417       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || points.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13418"></a>13418       <span class="keywordflow">if</span> (colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>() || opacities.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>())
<a name="l13419"></a>13419         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_object3d() : Undefined colors or opacities&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l13420"></a>13420 
<a name="l13421"></a>13421       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&lt;3)
<a name="l13422"></a>13422         <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(X,Y,Z,points.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(-100,3,1,1,0),primitives,colors,opacities,
<a name="l13423"></a>13423                              render_type,double_sided,focale,lightx,lighty,lightz,ambiant_light);
<a name="l13424"></a>13424 
<a name="l13425"></a>13425       <span class="comment">// Create light texture for phong-like rendering</span>
<a name="l13426"></a>13426       <span class="keywordflow">if</span> (render_type==5) {
<a name="l13427"></a>13427         <span class="keywordflow">if</span> (colors.size&gt;primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>) light_texture = colors[primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>];
<a name="l13428"></a>13428         <span class="keywordflow">else</span> {
<a name="l13429"></a>13429           <span class="keyword">static</span> <span class="keywordtype">float</span> olightx=0, olighty=0, olightz=0, oambiant_light=0;
<a name="l13430"></a>13430           <span class="keywordflow">if</span> (light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || lightx!=olightx || lighty!=olighty || lightz!=olightz || ambiant_light!=oambiant_light) {
<a name="l13431"></a>13431             light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(512,512);
<a name="l13432"></a>13432             <span class="keyword">const</span> <span class="keywordtype">float</span> white[1]={ 1.0f },
<a name="l13433"></a>13433               dlx = lightx-X, dly = lighty-Y, dlz = lightz-Z,
<a name="l13434"></a>13434                 nl = (float)std::sqrt(dlx*dlx+dly*dly+dlz*dlz),
<a name="l13435"></a>13435                 nlx = light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2*(1+dlx/nl),
<a name="l13436"></a>13436                 nly = light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2*(1+dly/nl);
<a name="l13437"></a>13437               (light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#ae8023a6e536e22fc1d2960b7067bba57" title="Draw a 1D gaussian function in the instance image.">draw_gaussian</a>(nlx,nly,light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/3.0f,white)+=ambiant_light).<a class="code" href="structcimg__library_1_1_c_img.html#ad74dbbcaf96762284bbf67e2e2ad1a64" title="Cut pixel values between a and b.">cut</a>(0.0f,1.0f);
<a name="l13438"></a>13438               olightx = lightx; olighty = lighty; olightz = lightz; oambiant_light = ambiant_light;
<a name="l13439"></a>13439           }
<a name="l13440"></a>13440         }
<a name="l13441"></a>13441       }
<a name="l13442"></a>13442 
<a name="l13443"></a>13443       <span class="comment">// Compute 3D to 2D projection</span>
<a name="l13444"></a>13444       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> projections(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,2);
<a name="l13445"></a>13445       cimg_forX(points,l) {
<a name="l13446"></a>13446         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13447"></a>13447           x = (float)points(l,0),
<a name="l13448"></a>13448           y = (float)points(l,1),
<a name="l13449"></a>13449           z = (float)points(l,2);
<a name="l13450"></a>13450         <span class="keyword">const</span> <span class="keywordtype">float</span> projectedz = z + Z + focale;
<a name="l13451"></a>13451         projections(l,1) = Y + focale*y/projectedz;
<a name="l13452"></a>13452         projections(l,0) = X + focale*x/projectedz;
<a name="l13453"></a>13453       }
<a name="l13454"></a>13454 
<a name="l13455"></a>13455       <span class="comment">// Compute and sort visible primitives</span>
<a name="l13456"></a>13456       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> visibles(primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l13457"></a>13457       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> zrange(primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l13458"></a>13458       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_visibles = 0;
<a name="l13459"></a>13459       <span class="keyword">const</span> <span class="keywordtype">float</span> zmin = -focale+1.5f;
<a name="l13460"></a>13460       { cimglist_for(primitives,l) {
<a name="l13461"></a>13461         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;</a>&amp; primitive = primitives[l];
<a name="l13462"></a>13462         <span class="keywordflow">switch</span> (primitive.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l13463"></a>13463         <span class="keywordflow">case</span> 1: { <span class="comment">// Point</span>
<a name="l13464"></a>13464           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i0 = (<span class="keywordtype">unsigned</span> int)primitive(0);
<a name="l13465"></a>13465           <span class="keyword">const</span> <span class="keywordtype">float</span> x0 = projections(i0,0), y0 = projections(i0,1), z0 = (float)(Z+points(i0,2));
<a name="l13466"></a>13466           <span class="keywordflow">if</span> (z0&gt;zmin &amp;&amp; x0&gt;=0 &amp;&amp; x0&lt;width &amp;&amp; y0&gt;=0 &amp;&amp; y0&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l13467"></a>13467             visibles(nb_visibles) = (<span class="keywordtype">unsigned</span> int)l;
<a name="l13468"></a>13468             zrange(nb_visibles++) = z0;
<a name="l13469"></a>13469           }
<a name="l13470"></a>13470         } <span class="keywordflow">break</span>;
<a name="l13471"></a>13471         <span class="keywordflow">case</span> 2: <span class="comment">// Line or textured line</span>
<a name="l13472"></a>13472         <span class="keywordflow">case</span> 6: {
<a name="l13473"></a>13473           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13474"></a>13474             i0 = (<span class="keywordtype">unsigned</span> int)primitive(0),
<a name="l13475"></a>13475             i1 = (<span class="keywordtype">unsigned</span> int)primitive(1);
<a name="l13476"></a>13476           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13477"></a>13477             x0 = projections(i0,0), y0 = projections(i0,1), z0 = (float)(Z+points(i0,2)),
<a name="l13478"></a>13478             x1 = projections(i1,0), y1 = projections(i1,1), z1 = (float)(Z+points(i1,2));
<a name="l13479"></a>13479           <span class="keywordtype">float</span> xm, xM, ym, yM;
<a name="l13480"></a>13480           <span class="keywordflow">if</span> (x0&lt;x1) { xm = x0; xM = x1; } <span class="keywordflow">else</span> { xm = x1; xM = x0; }
<a name="l13481"></a>13481           <span class="keywordflow">if</span> (y0&lt;y1) { ym = y0; yM = y1; } <span class="keywordflow">else</span> { ym = y1; yM = y0; }
<a name="l13482"></a>13482           <span class="keywordflow">if</span> (z0&gt;zmin &amp;&amp; z1&gt;zmin &amp;&amp; xM&gt;=0 &amp;&amp; xm&lt;width &amp;&amp; yM&gt;=0 &amp;&amp; ym&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l13483"></a>13483             visibles(nb_visibles) = (<span class="keywordtype">unsigned</span> int)l;
<a name="l13484"></a>13484             zrange(nb_visibles++) = 0.5f*(z0+z1);
<a name="l13485"></a>13485           }
<a name="l13486"></a>13486         } <span class="keywordflow">break</span>;
<a name="l13487"></a>13487         <span class="keywordflow">case</span> 3:  <span class="comment">// Triangle or textured triangle</span>
<a name="l13488"></a>13488         <span class="keywordflow">case</span> 9: {
<a name="l13489"></a>13489           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13490"></a>13490             i0 = (<span class="keywordtype">unsigned</span> int)primitive(0),
<a name="l13491"></a>13491             i1 = (<span class="keywordtype">unsigned</span> int)primitive(1),
<a name="l13492"></a>13492             i2 = (<span class="keywordtype">unsigned</span> int)primitive(2);
<a name="l13493"></a>13493           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13494"></a>13494             x0 = projections(i0,0), y0 = projections(i0,1), z0 = (float)(Z+points(i0,2)),
<a name="l13495"></a>13495             x1 = projections(i1,0), y1 = projections(i1,1), z1 = (float)(Z+points(i1,2)),
<a name="l13496"></a>13496             x2 = projections(i2,0), y2 = projections(i2,1), z2 = (float)(Z+points(i2,2));
<a name="l13497"></a>13497           <span class="keywordtype">float</span> xm, xM, ym, yM;
<a name="l13498"></a>13498           <span class="keywordflow">if</span> (x0&lt;x1) { xm = x0; xM = x1; } <span class="keywordflow">else</span> { xm = x1; xM = x0; }
<a name="l13499"></a>13499           <span class="keywordflow">if</span> (x2&lt;xm) xm = x2;
<a name="l13500"></a>13500           <span class="keywordflow">if</span> (x2&gt;xM) xM = x2;
<a name="l13501"></a>13501           <span class="keywordflow">if</span> (y0&lt;y1) { ym = y0; yM = y1; } <span class="keywordflow">else</span> { ym = y1; yM = y0; }
<a name="l13502"></a>13502           <span class="keywordflow">if</span> (y2&lt;ym) ym = y2;
<a name="l13503"></a>13503           <span class="keywordflow">if</span> (y2&gt;yM) yM = y2;
<a name="l13504"></a>13504           <span class="keywordflow">if</span> (z0&gt;zmin &amp;&amp; z1&gt;zmin &amp;&amp; z2&gt;zmin &amp;&amp; xM&gt;=0 &amp;&amp; xm&lt;width &amp;&amp; yM&gt;=0 &amp;&amp; ym&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l13505"></a>13505             <span class="keywordflow">if</span> (double_sided || (x1-x0)*(y2-y0)-(x2-x0)*(y1-y0)&lt;0) {
<a name="l13506"></a>13506               visibles(nb_visibles) = (<span class="keywordtype">unsigned</span> int)l;
<a name="l13507"></a>13507               zrange(nb_visibles++) = (z0+z1+z2)/3;
<a name="l13508"></a>13508             }
<a name="l13509"></a>13509           }
<a name="l13510"></a>13510         } <span class="keywordflow">break</span>;
<a name="l13511"></a>13511         <span class="keywordflow">case</span> 4: <span class="comment">// Rectangle or textured rectangle</span>
<a name="l13512"></a>13512         <span class="keywordflow">case</span> 12: {
<a name="l13513"></a>13513           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13514"></a>13514             i0 = (<span class="keywordtype">unsigned</span> int)primitive(0),
<a name="l13515"></a>13515             i1 = (<span class="keywordtype">unsigned</span> int)primitive(1),
<a name="l13516"></a>13516             i2 = (<span class="keywordtype">unsigned</span> int)primitive(2),
<a name="l13517"></a>13517             i3 = (<span class="keywordtype">unsigned</span> int)primitive(3);
<a name="l13518"></a>13518           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13519"></a>13519             x0 = projections(i0,0), y0 = projections(i0,1), z0 = (float)(Z+points(i0,2)),
<a name="l13520"></a>13520             x1 = projections(i1,0), y1 = projections(i1,1), z1 = (float)(Z+points(i1,2)),
<a name="l13521"></a>13521             x2 = projections(i2,0), y2 = projections(i2,1), z2 = (float)(Z+points(i2,2)),
<a name="l13522"></a>13522             x3 = projections(i3,0), y3 = projections(i3,1), z3 = (float)(Z+points(i3,2));
<a name="l13523"></a>13523           <span class="keywordtype">float</span> xm, xM, ym, yM;
<a name="l13524"></a>13524           <span class="keywordflow">if</span> (x0&lt;x1) { xm = x0; xM = x1; } <span class="keywordflow">else</span> { xm = x1; xM = x0; }
<a name="l13525"></a>13525           <span class="keywordflow">if</span> (x2&lt;xm) xm = x2;
<a name="l13526"></a>13526           <span class="keywordflow">if</span> (x2&gt;xM) xM = x2;
<a name="l13527"></a>13527           <span class="keywordflow">if</span> (x3&lt;xm) xm = x3;
<a name="l13528"></a>13528           <span class="keywordflow">if</span> (x3&gt;xM) xM = x3;
<a name="l13529"></a>13529           <span class="keywordflow">if</span> (y0&lt;y1) { ym = y0; yM = y1; } <span class="keywordflow">else</span> { ym = y1; yM = y0; }
<a name="l13530"></a>13530           <span class="keywordflow">if</span> (y2&lt;ym) ym = y2;
<a name="l13531"></a>13531           <span class="keywordflow">if</span> (y2&gt;yM) yM = y2;
<a name="l13532"></a>13532           <span class="keywordflow">if</span> (y3&lt;ym) ym = y3;
<a name="l13533"></a>13533           <span class="keywordflow">if</span> (y3&gt;yM) yM = y3;
<a name="l13534"></a>13534           <span class="keywordflow">if</span> (z0&gt;zmin &amp;&amp; z1&gt;zmin &amp;&amp; z2&gt;zmin &amp;&amp; z3&gt;zmin &amp;&amp; xM&gt;=0 &amp;&amp; xm&lt;width &amp;&amp; yM&gt;=0 &amp;&amp; ym&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l13535"></a>13535             <span class="keywordflow">if</span> (double_sided || (x1-x0)*(y2-y0)-(x2-x0)*(y1-y0)&lt;0) {
<a name="l13536"></a>13536               visibles(nb_visibles) = (<span class="keywordtype">unsigned</span> int)l;
<a name="l13537"></a>13537               zrange(nb_visibles++) = (z0+z1+z2+z3)/4;
<a name="l13538"></a>13538             }
<a name="l13539"></a>13539           }
<a name="l13540"></a>13540         } <span class="keywordflow">break</span>;
<a name="l13541"></a>13541         <span class="keywordflow">default</span>:
<a name="l13542"></a>13542           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_object3d() : Primitive %u is invalid (size = %u, can be 1,2,3,4,6,9 or 12)&quot;</span>,
<a name="l13543"></a>13543                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),l,primitive.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l13544"></a>13544         }}
<a name="l13545"></a>13545       }
<a name="l13546"></a>13546       <span class="keywordflow">if</span> (nb_visibles&lt;=0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13547"></a>13547       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> permutations;
<a name="l13548"></a>13548       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(zrange.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,nb_visibles,1,1,1,<span class="keyword">true</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(permutations,<span class="keyword">false</span>);
<a name="l13549"></a>13549 
<a name="l13550"></a>13550       <span class="comment">// Compute light properties</span>
<a name="l13551"></a>13551       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> lightprops;
<a name="l13552"></a>13552       <span class="keywordflow">switch</span> (render_type) {
<a name="l13553"></a>13553       <span class="keywordflow">case</span> 3: { <span class="comment">// Flat Shading</span>
<a name="l13554"></a>13554         lightprops.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(nb_visibles);
<a name="l13555"></a>13555         cimg_forX(lightprops,l) {
<a name="l13556"></a>13556           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;</a>&amp; primitive = primitives(visibles(permutations(l)));
<a name="l13557"></a>13557           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> psize = primitive.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l13558"></a>13558           <span class="keywordflow">if</span> (psize==3 || psize==4 || psize==9 || psize==12) {
<a name="l13559"></a>13559             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13560"></a>13560               i0 = (<span class="keywordtype">unsigned</span> int)primitive(0),
<a name="l13561"></a>13561               i1 = (<span class="keywordtype">unsigned</span> int)primitive(1),
<a name="l13562"></a>13562               i2 = (<span class="keywordtype">unsigned</span> int)primitive(2);
<a name="l13563"></a>13563             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13564"></a>13564               x0 = (float)points(i0,0), y0 = (float)points(i0,1), z0 = (float)points(i0,2),
<a name="l13565"></a>13565               x1 = (float)points(i1,0), y1 = (float)points(i1,1), z1 = (float)points(i1,2),
<a name="l13566"></a>13566               x2 = (float)points(i2,0), y2 = (float)points(i2,1), z2 = (float)points(i2,2),
<a name="l13567"></a>13567               dx1 = x1-x0, dy1 = y1-y0, dz1 = z1-z0,
<a name="l13568"></a>13568               dx2 = x2-x0, dy2 = y2-y0, dz2 = z2-z0,
<a name="l13569"></a>13569               nx = dy1*dz2-dz1*dy2,
<a name="l13570"></a>13570               ny = dz1*dx2-dx1*dz2,
<a name="l13571"></a>13571               nz = dx1*dy2-dy1*dx2,
<a name="l13572"></a>13572               <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(1e-5f+nx*nx+ny*ny+nz*nz),
<a name="l13573"></a>13573               lx = X+(x0+x1+x2)/3-lightx,
<a name="l13574"></a>13574               ly = Y+(y0+y1+y2)/3-lighty,
<a name="l13575"></a>13575               lz = Z+(z0+z1+z2)/3-lightz,
<a name="l13576"></a>13576               nl = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(1e-5f+lx*lx+ly*ly+lz*lz),
<a name="l13577"></a>13577               factor = (-lx*nx-ly*ny-lz*nz)/(norm*nl),
<a name="l13578"></a>13578               nfactor = double_sided?<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(factor):<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(factor,0.0f);
<a name="l13579"></a>13579             lightprops[l] = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(nfactor+ambiant_light,1.0f);
<a name="l13580"></a>13580           } <span class="keywordflow">else</span> lightprops[l] = 1.0f;
<a name="l13581"></a>13581         }
<a name="l13582"></a>13582       } <span class="keywordflow">break</span>;
<a name="l13583"></a>13583 
<a name="l13584"></a>13584       <span class="keywordflow">case</span> 4: <span class="comment">// Gouraud Shading</span>
<a name="l13585"></a>13585       <span class="keywordflow">case</span> 5: { <span class="comment">// Phong-Shading</span>
<a name="l13586"></a>13586         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> points_normals(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,3,1,1,0);
<a name="l13587"></a>13587         cimglist_for(primitives,l) {
<a name="l13588"></a>13588           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;</a>&amp; primitive = primitives[l];
<a name="l13589"></a>13589           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> psize = primitive.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l13590"></a>13590           <span class="keyword">const</span> <span class="keywordtype">bool</span>
<a name="l13591"></a>13591             triangle_flag = (psize==3) || (psize==9),
<a name="l13592"></a>13592             rectangle_flag = (psize==4) || (psize==12);
<a name="l13593"></a>13593           <span class="keywordflow">if</span> (triangle_flag || rectangle_flag) {
<a name="l13594"></a>13594             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13595"></a>13595               i0 = (<span class="keywordtype">unsigned</span> int)primitive(0),
<a name="l13596"></a>13596               i1 = (<span class="keywordtype">unsigned</span> int)primitive(1),
<a name="l13597"></a>13597               i2 = (<span class="keywordtype">unsigned</span> int)primitive(2),
<a name="l13598"></a>13598               i3 = rectangle_flag?(<span class="keywordtype">unsigned</span> int)primitive(3):0;
<a name="l13599"></a>13599             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13600"></a>13600               x0 = (float)points(i0,0), y0 = (float)points(i0,1), z0 = (float)points(i0,2),
<a name="l13601"></a>13601               x1 = (float)points(i1,0), y1 = (float)points(i1,1), z1 = (float)points(i1,2),
<a name="l13602"></a>13602               x2 = (float)points(i2,0), y2 = (float)points(i2,1), z2 = (float)points(i2,2),
<a name="l13603"></a>13603               dx1 = x1-x0, dy1 = y1-y0, dz1 = z1-z0,
<a name="l13604"></a>13604               dx2 = x2-x0, dy2 = y2-y0, dz2 = z2-z0,
<a name="l13605"></a>13605               nx = dy1*dz2-dz1*dy2,
<a name="l13606"></a>13606               ny = dz1*dx2-dx1*dz2,
<a name="l13607"></a>13607               nz = dx1*dy2-dy1*dx2,
<a name="l13608"></a>13608               <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(1e-5f+nx*nx+ny*ny+nz*nz),
<a name="l13609"></a>13609               nnx = nx/norm,
<a name="l13610"></a>13610               nny = ny/norm,
<a name="l13611"></a>13611               nnz = nz/norm;
<a name="l13612"></a>13612             points_normals(i0,0)+=nnx; points_normals(i0,1)+=nny; points_normals(i0,2)+=nnz;
<a name="l13613"></a>13613             points_normals(i1,0)+=nnx; points_normals(i1,1)+=nny; points_normals(i1,2)+=nnz;
<a name="l13614"></a>13614             points_normals(i2,0)+=nnx; points_normals(i2,1)+=nny; points_normals(i2,2)+=nnz;
<a name="l13615"></a>13615             <span class="keywordflow">if</span> (rectangle_flag) {
<a name="l13616"></a>13616               points_normals(i3,0)+=nnx; points_normals(i3,1)+=nny; points_normals(i3,2)+=nnz;
<a name="l13617"></a>13617             }
<a name="l13618"></a>13618           }
<a name="l13619"></a>13619         }
<a name="l13620"></a>13620 
<a name="l13621"></a>13621         <span class="keywordflow">if</span> (render_type==4) {
<a name="l13622"></a>13622           lightprops.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l13623"></a>13623           cimg_forX(points,ll) {
<a name="l13624"></a>13624             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13625"></a>13625               nx = points_normals(ll,0),
<a name="l13626"></a>13626               ny = points_normals(ll,1),
<a name="l13627"></a>13627               nz = points_normals(ll,2),
<a name="l13628"></a>13628               <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(1e-5f+nx*nx+ny*ny+nz*nz),
<a name="l13629"></a>13629               lx = (float)(X+points(ll,0)-lightx),
<a name="l13630"></a>13630               ly = (<span class="keywordtype">float</span>)(Y+points(ll,1)-lighty),
<a name="l13631"></a>13631               lz = (<span class="keywordtype">float</span>)(Z+points(ll,2)-lightz),
<a name="l13632"></a>13632               nl = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(1e-5f+lx*lx+ly*ly+lz*lz),
<a name="l13633"></a>13633               factor = (-lx*nx-ly*ny-lz*nz)/(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>*nl),
<a name="l13634"></a>13634               nfactor = double_sided?<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(factor):<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(factor,0.0f);
<a name="l13635"></a>13635             lightprops[ll] = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(nfactor+ambiant_light,1.0f);
<a name="l13636"></a>13636           }
<a name="l13637"></a>13637         } <span class="keywordflow">else</span> {
<a name="l13638"></a>13638           lightprops.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,2);
<a name="l13639"></a>13639           cimg_forX(points,ll) {
<a name="l13640"></a>13640             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13641"></a>13641               nx = points_normals(ll,0),
<a name="l13642"></a>13642               ny = points_normals(ll,1),
<a name="l13643"></a>13643               nz = points_normals(ll,2),
<a name="l13644"></a>13644               <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(1e-5f+nx*nx+ny*ny+nz*nz),
<a name="l13645"></a>13645               nnx = nx/norm, nny = ny/norm;
<a name="l13646"></a>13646             lightprops(ll,0) = (light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2-1)*(1+nnx);
<a name="l13647"></a>13647             lightprops(ll,1) = (light_texture.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2-1)*(1+nny);
<a name="l13648"></a>13648           }
<a name="l13649"></a>13649         }
<a name="l13650"></a>13650       } <span class="keywordflow">break</span>;
<a name="l13651"></a>13651       }
<a name="l13652"></a>13652 
<a name="l13653"></a>13653       <span class="comment">// Draw visible primitives</span>
<a name="l13654"></a>13654       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> opacsize = opacities.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>;
<a name="l13655"></a>13655       { <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;nb_visibles; l++) {
<a name="l13656"></a>13656         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_primitive = visibles(permutations(l));
<a name="l13657"></a>13657         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;</a>&amp; primitive = primitives[n_primitive];
<a name="l13658"></a>13658         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; color = colors[n_primitive%colors.size];
<a name="l13659"></a>13659         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>&amp; opacity = opacities[n_primitive%opacsize];
<a name="l13660"></a>13660         <span class="keyword">const</span> <span class="keywordtype">float</span> opac = opacity.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()?(float)opacity(0):1.0f;
<a name="l13661"></a>13661 
<a name="l13662"></a>13662         <span class="keywordflow">switch</span> (primitive.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) {
<a name="l13663"></a>13663         <span class="keywordflow">case</span> 1: { <span class="comment">// colored point or sprite</span>
<a name="l13664"></a>13664           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n0 = (<span class="keywordtype">unsigned</span> int)primitive[0];
<a name="l13665"></a>13665           <span class="keyword">const</span> <span class="keywordtype">int</span> x0 = (int)projections(n0,0), y0 = (int)projections(n0,1);
<a name="l13666"></a>13666           <span class="keywordflow">if</span> (color.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()==dim) <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13667"></a>13667           <span class="keywordflow">else</span> {
<a name="l13668"></a>13668             <span class="keyword">const</span> <span class="keywordtype">float</span> z = Z + points(n0,2);
<a name="l13669"></a>13669             <span class="keyword">const</span> <span class="keywordtype">int</span> factor = (int)(focale*100/(z+focale));
<a name="l13670"></a>13670             <span class="keyword">const</span> <span class="keywordtype">int</span> sw = color.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*factor/200, sh = color.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*factor/200;
<a name="l13671"></a>13671             <span class="keywordflow">if</span> (x0+sw&gt;=0 &amp;&amp; x0-sw&lt;(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; y0+sh&gt;=0 &amp;&amp; y0-sh&lt;(int)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l13672"></a>13672               <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> sprite = color.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(-factor,-factor,1,-100,render_type&lt;=3?1:3);
<a name="l13673"></a>13673               <span class="keywordflow">if</span> (opacity.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==color.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; opacity.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==color.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)
<a name="l13674"></a>13674                 <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(sprite,opacity.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,sprite.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,1),x0-sw,y0-sh,0,0);
<a name="l13675"></a>13675               <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(sprite,x0-sw,y0-sh,0,0,opac);
<a name="l13676"></a>13676             }
<a name="l13677"></a>13677           }
<a name="l13678"></a>13678         } <span class="keywordflow">break</span>;
<a name="l13679"></a>13679         <span class="keywordflow">case</span> 2: { <span class="comment">// colored line</span>
<a name="l13680"></a>13680           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13681"></a>13681             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13682"></a>13682             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1];
<a name="l13683"></a>13683           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13684"></a>13684             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13685"></a>13685             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1);
<a name="l13686"></a>13686           <span class="keywordflow">if</span> (render_type) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac);
<a name="l13687"></a>13687           <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13688"></a>13688         } <span class="keywordflow">break</span>;
<a name="l13689"></a>13689         <span class="keywordflow">case</span> 6: { <span class="comment">// textured line</span>
<a name="l13690"></a>13690           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13691"></a>13691             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13692"></a>13692             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1],
<a name="l13693"></a>13693             tx0 = (<span class="keywordtype">unsigned</span> int)primitive[2],
<a name="l13694"></a>13694             ty0 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[3],
<a name="l13695"></a>13695             tx1 = (<span class="keywordtype">unsigned</span> int)primitive[4],
<a name="l13696"></a>13696             ty1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[5];
<a name="l13697"></a>13697           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13698"></a>13698             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13699"></a>13699             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1);
<a name="l13700"></a>13700           <span class="keywordflow">if</span> (render_type) <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color,tx0,ty0,tx1,ty1,opac);
<a name="l13701"></a>13701           <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx0,ty0).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13702"></a>13702                  <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx1,ty1).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13703"></a>13703         } <span class="keywordflow">break</span>;
<a name="l13704"></a>13704         <span class="keywordflow">case</span> 3: { <span class="comment">// colored triangle</span>
<a name="l13705"></a>13705           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13706"></a>13706             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13707"></a>13707             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1],
<a name="l13708"></a>13708             n2 = (<span class="keywordtype">unsigned</span> int)primitive[2];
<a name="l13709"></a>13709           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13710"></a>13710             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13711"></a>13711             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1),
<a name="l13712"></a>13712             x2 = (int)projections(n2,0), y2 = (int)projections(n2,1);
<a name="l13713"></a>13713           <span class="keywordflow">switch</span>(render_type) {
<a name="l13714"></a>13714           <span class="keywordflow">case</span> 0:
<a name="l13715"></a>13715             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13716"></a>13716             <span class="keywordflow">break</span>;
<a name="l13717"></a>13717           <span class="keywordflow">case</span> 1:
<a name="l13718"></a>13718             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac).
<a name="l13719"></a>13719               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac);
<a name="l13720"></a>13720             <span class="keywordflow">break</span>;
<a name="l13721"></a>13721           <span class="keywordflow">case</span> 2:
<a name="l13722"></a>13722             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13723"></a>13723             <span class="keywordflow">break</span>;
<a name="l13724"></a>13724           <span class="keywordflow">case</span> 3:
<a name="l13725"></a>13725             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac,lightprops(l));
<a name="l13726"></a>13726             <span class="keywordflow">break</span>;
<a name="l13727"></a>13727           <span class="keywordflow">case</span> 4:
<a name="l13728"></a>13728             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),lightprops(n0),lightprops(n1),lightprops(n2),opac);
<a name="l13729"></a>13729             <span class="keywordflow">break</span>;
<a name="l13730"></a>13730           <span class="keywordflow">case</span> 5:
<a name="l13731"></a>13731             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),light_texture,
<a name="l13732"></a>13732                           (<span class="keywordtype">unsigned</span> int)lightprops(n0,0), (<span class="keywordtype">unsigned</span> int)lightprops(n0,1),
<a name="l13733"></a>13733                           (<span class="keywordtype">unsigned</span> int)lightprops(n1,0), (<span class="keywordtype">unsigned</span> int)lightprops(n1,1),
<a name="l13734"></a>13734                           (<span class="keywordtype">unsigned</span> int)lightprops(n2,0), (<span class="keywordtype">unsigned</span> int)lightprops(n2,1),
<a name="l13735"></a>13735                           opac);
<a name="l13736"></a>13736             <span class="keywordflow">break</span>;
<a name="l13737"></a>13737           }
<a name="l13738"></a>13738         } <span class="keywordflow">break</span>;
<a name="l13739"></a>13739         <span class="keywordflow">case</span> 4: { <span class="comment">// colored rectangle</span>
<a name="l13740"></a>13740           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13741"></a>13741             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13742"></a>13742             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1],
<a name="l13743"></a>13743             n2 = (<span class="keywordtype">unsigned</span> int)primitive[2],
<a name="l13744"></a>13744             n3 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[3];
<a name="l13745"></a>13745           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13746"></a>13746             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13747"></a>13747             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1),
<a name="l13748"></a>13748             x2 = (int)projections(n2,0), y2 = (int)projections(n2,1),
<a name="l13749"></a>13749             x3 = (int)projections(n3,0), y3 = (int)projections(n3,1);
<a name="l13750"></a>13750           <span class="keywordflow">switch</span>(render_type) {
<a name="l13751"></a>13751           <span class="keywordflow">case</span> 0:
<a name="l13752"></a>13752             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13753"></a>13753               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13754"></a>13754             <span class="keywordflow">break</span>;
<a name="l13755"></a>13755           <span class="keywordflow">case</span> 1:
<a name="l13756"></a>13756             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac).
<a name="l13757"></a>13757               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x2,y2,x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x3,y3,x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),~0L,opac);
<a name="l13758"></a>13758             <span class="keywordflow">break</span>;
<a name="l13759"></a>13759           <span class="keywordflow">case</span> 2:
<a name="l13760"></a>13760             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).<a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13761"></a>13761             <span class="keywordflow">break</span>;
<a name="l13762"></a>13762           <span class="keywordflow">case</span> 3:
<a name="l13763"></a>13763             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac,lightprops(l)).
<a name="l13764"></a>13764               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac,lightprops(l));
<a name="l13765"></a>13765             <span class="keywordflow">break</span>;
<a name="l13766"></a>13766           <span class="keywordflow">case</span> 4: {
<a name="l13767"></a>13767             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13768"></a>13768               lightprop0 = lightprops(n0), lightprop1 = lightprops(n1),
<a name="l13769"></a>13769               lightprop2 = lightprops(n2), lightprop3 = lightprops(n3);
<a name="l13770"></a>13770             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),lightprop0,lightprop1,lightprop2,opac).
<a name="l13771"></a>13771               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),lightprop0,lightprop2,lightprop3,opac);
<a name="l13772"></a>13772           } <span class="keywordflow">break</span>;
<a name="l13773"></a>13773           <span class="keywordflow">case</span> 5: {
<a name="l13774"></a>13774             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13775"></a>13775               lx0 = (<span class="keywordtype">unsigned</span> int)lightprops(n0,0), ly0 = (<span class="keywordtype">unsigned</span> int)lightprops(n0,1),
<a name="l13776"></a>13776               lx1 = (<span class="keywordtype">unsigned</span> int)lightprops(n1,0), ly1 = (<span class="keywordtype">unsigned</span> int)lightprops(n1,1),
<a name="l13777"></a>13777               lx2 = (<span class="keywordtype">unsigned</span> int)lightprops(n2,0), ly2 = (<span class="keywordtype">unsigned</span> int)lightprops(n2,1),
<a name="l13778"></a>13778               lx3 = (<span class="keywordtype">unsigned</span> int)lightprops(n3,0), ly3 = (<span class="keywordtype">unsigned</span> int)lightprops(n3,1);
<a name="l13779"></a>13779             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),light_texture,lx0,ly0,lx1,ly1,lx2,ly2,opac).
<a name="l13780"></a>13780               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),light_texture,lx0,ly0,lx2,ly2,lx3,ly3,opac);
<a name="l13781"></a>13781           } <span class="keywordflow">break</span>;
<a name="l13782"></a>13782           }
<a name="l13783"></a>13783         } <span class="keywordflow">break</span>;
<a name="l13784"></a>13784         <span class="keywordflow">case</span> 9: { <span class="comment">// Textured triangle</span>
<a name="l13785"></a>13785           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13786"></a>13786             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13787"></a>13787             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1],
<a name="l13788"></a>13788             n2 = (<span class="keywordtype">unsigned</span> int)primitive[2],
<a name="l13789"></a>13789             tx0 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[3],
<a name="l13790"></a>13790             ty0 = (<span class="keywordtype">unsigned</span> int)primitive[4],
<a name="l13791"></a>13791             tx1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[5],
<a name="l13792"></a>13792             ty1 = (<span class="keywordtype">unsigned</span> int)primitive[6],
<a name="l13793"></a>13793             tx2 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[7],
<a name="l13794"></a>13794             ty2 = (<span class="keywordtype">unsigned</span> int)primitive[8];
<a name="l13795"></a>13795           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13796"></a>13796             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13797"></a>13797             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1),
<a name="l13798"></a>13798             x2 = (int)projections(n2,0), y2 = (int)projections(n2,1);
<a name="l13799"></a>13799           <span class="keywordflow">switch</span>(render_type) {
<a name="l13800"></a>13800           <span class="keywordflow">case</span> 0:
<a name="l13801"></a>13801             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx0,ty0).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13802"></a>13802               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx1,ty1).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13803"></a>13803               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx2,ty2).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13804"></a>13804             <span class="keywordflow">break</span>;
<a name="l13805"></a>13805           <span class="keywordflow">case</span> 1:
<a name="l13806"></a>13806             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color,tx0,ty0,tx1,ty1,opac).
<a name="l13807"></a>13807               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x2,y2,color,tx0,ty0,tx2,ty2,opac).
<a name="l13808"></a>13808               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y1,x2,y2,color,tx1,ty1,tx2,ty2,opac);
<a name="l13809"></a>13809             <span class="keywordflow">break</span>;
<a name="l13810"></a>13810           <span class="keywordflow">case</span> 2:
<a name="l13811"></a>13811             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,opac);
<a name="l13812"></a>13812             <span class="keywordflow">break</span>;
<a name="l13813"></a>13813           <span class="keywordflow">case</span> 3:
<a name="l13814"></a>13814             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,opac,lightprops(l));
<a name="l13815"></a>13815             <span class="keywordflow">break</span>;
<a name="l13816"></a>13816           <span class="keywordflow">case</span> 4:
<a name="l13817"></a>13817             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,lightprops(n0),lightprops(n1),lightprops(n2),opac);
<a name="l13818"></a>13818             <span class="keywordflow">break</span>;
<a name="l13819"></a>13819           <span class="keywordflow">case</span> 5:
<a name="l13820"></a>13820             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,light_texture,
<a name="l13821"></a>13821                           (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n0,0), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n0,1),
<a name="l13822"></a>13822                           (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n1,0), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n1,1),
<a name="l13823"></a>13823                           (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n2,0), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)lightprops(n2,1),
<a name="l13824"></a>13824                           opac);
<a name="l13825"></a>13825             <span class="keywordflow">break</span>;
<a name="l13826"></a>13826           }
<a name="l13827"></a>13827         } <span class="keywordflow">break</span>;
<a name="l13828"></a>13828         <span class="keywordflow">case</span> 12: { <span class="comment">// Textured rectangle</span>
<a name="l13829"></a>13829           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13830"></a>13830             n0 = (<span class="keywordtype">unsigned</span> int)primitive[0],
<a name="l13831"></a>13831             n1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[1],
<a name="l13832"></a>13832             n2 = (<span class="keywordtype">unsigned</span> int)primitive[2],
<a name="l13833"></a>13833             n3 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[3],
<a name="l13834"></a>13834             tx0 = (<span class="keywordtype">unsigned</span> int)primitive[4],
<a name="l13835"></a>13835             ty0 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[5],
<a name="l13836"></a>13836             tx1 = (<span class="keywordtype">unsigned</span> int)primitive[6],
<a name="l13837"></a>13837             ty1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[7],
<a name="l13838"></a>13838             tx2 = (<span class="keywordtype">unsigned</span> int)primitive[8],
<a name="l13839"></a>13839             ty2 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[9],
<a name="l13840"></a>13840             tx3 = (<span class="keywordtype">unsigned</span> int)primitive[10],
<a name="l13841"></a>13841             ty3 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitive[11];
<a name="l13842"></a>13842           <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l13843"></a>13843             x0 = (int)projections(n0,0), y0 = (int)projections(n0,1),
<a name="l13844"></a>13844             x1 = (int)projections(n1,0), y1 = (int)projections(n1,1),
<a name="l13845"></a>13845             x2 = (int)projections(n2,0), y2 = (int)projections(n2,1),
<a name="l13846"></a>13846             x3 = (int)projections(n3,0), y3 = (int)projections(n3,1);
<a name="l13847"></a>13847           <span class="keywordflow">switch</span>(render_type) {
<a name="l13848"></a>13848           <span class="keywordflow">case</span> 0:
<a name="l13849"></a>13849             <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x0,y0,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx0,ty0).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13850"></a>13850               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x1,y1,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx1,ty1).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13851"></a>13851               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x2,y2,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx2,ty2).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac).
<a name="l13852"></a>13852               <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x3,y3,color.<a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(tx3,ty3).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),opac);
<a name="l13853"></a>13853             <span class="keywordflow">break</span>;
<a name="l13854"></a>13854           <span class="keywordflow">case</span> 1:
<a name="l13855"></a>13855             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y1,color,tx0,ty0,tx1,ty1,opac).
<a name="l13856"></a>13856               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y1,x2,y2,color,tx1,ty1,tx2,ty2,opac).
<a name="l13857"></a>13857               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x2,y2,x3,y3,color,tx2,ty2,tx3,ty3,opac).
<a name="l13858"></a>13858               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x3,y3,x0,y0,color,tx3,ty3,tx0,ty0,opac);
<a name="l13859"></a>13859             <span class="keywordflow">break</span>;
<a name="l13860"></a>13860           <span class="keywordflow">case</span> 2:
<a name="l13861"></a>13861             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,opac).
<a name="l13862"></a>13862               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color,tx0,ty0,tx2,ty2,tx3,ty3,opac);
<a name="l13863"></a>13863             <span class="keywordflow">break</span>;
<a name="l13864"></a>13864           <span class="keywordflow">case</span> 3:
<a name="l13865"></a>13865             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,opac,lightprops(l)).
<a name="l13866"></a>13866               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color,tx0,ty0,tx2,ty2,tx3,ty3,opac,lightprops(l));
<a name="l13867"></a>13867             <span class="keywordflow">break</span>;
<a name="l13868"></a>13868           <span class="keywordflow">case</span> 4: {
<a name="l13869"></a>13869             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13870"></a>13870               lightprop0 = lightprops(n0), lightprop1 = lightprops(n1),
<a name="l13871"></a>13871               lightprop2 = lightprops(n2), lightprop3 = lightprops(n3);
<a name="l13872"></a>13872             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,lightprop0,lightprop1,lightprop2,opac).
<a name="l13873"></a>13873               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color,tx0,ty0,tx2,ty2,tx3,ty3,lightprop0,lightprop2,lightprop3,opac);
<a name="l13874"></a>13874           } <span class="keywordflow">break</span>;
<a name="l13875"></a>13875           <span class="keywordflow">case</span> 5: {
<a name="l13876"></a>13876             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l13877"></a>13877               lx0 = (<span class="keywordtype">unsigned</span> int)lightprops(n0,0), ly0 = (<span class="keywordtype">unsigned</span> int)lightprops(n0,1),
<a name="l13878"></a>13878               lx1 = (<span class="keywordtype">unsigned</span> int)lightprops(n1,0), ly1 = (<span class="keywordtype">unsigned</span> int)lightprops(n1,1),
<a name="l13879"></a>13879               lx2 = (<span class="keywordtype">unsigned</span> int)lightprops(n2,0), ly2 = (<span class="keywordtype">unsigned</span> int)lightprops(n2,1),
<a name="l13880"></a>13880               lx3 = (<span class="keywordtype">unsigned</span> int)lightprops(n3,0), ly3 = (<span class="keywordtype">unsigned</span> int)lightprops(n3,1);
<a name="l13881"></a>13881             <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x1,y1,x2,y2,color,tx0,ty0,tx1,ty1,tx2,ty2,light_texture,lx0,ly0,lx1,ly1,lx2,ly2,opac).
<a name="l13882"></a>13882               <a class="code" href="structcimg__library_1_1_c_img.html#aa7c824a81306ef4b7420020c196cc1b0" title="Draw a 2D filled colored triangle in the instance image, at coordinates (x0,y0)-(x1,y1)-(x2,y2).">draw_triangle</a>(x0,y0,x2,y2,x3,y3,color,tx0,ty0,tx1,ty1,tx2,ty2,light_texture,lx0,ly0,lx2,ly2,lx3,ly3,opac);
<a name="l13883"></a>13883           } <span class="keywordflow">break</span>;
<a name="l13884"></a>13884           }
<a name="l13885"></a>13885         } <span class="keywordflow">break</span>;
<a name="l13886"></a>13886       }
<a name="l13887"></a>13887       }
<a name="l13888"></a>13888       }
<a name="l13889"></a>13889       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13890"></a>13890     }
<a name="l13891"></a>13891 
<a name="l13893"></a>13893     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l13894"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0770db2fa6bab28f0fe1cdb7bb397a0a">13894</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> X, <span class="keyword">const</span> <span class="keywordtype">float</span> Y, <span class="keyword">const</span> <span class="keywordtype">float</span> Z,
<a name="l13895"></a>13895                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l13896"></a>13896                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a>&amp; opacities,
<a name="l13897"></a>13897                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> render_type=4,
<a name="l13898"></a>13898                         <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500,
<a name="l13899"></a>13899                         <span class="keyword">const</span> <span class="keywordtype">float</span> lightx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lighty=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lightz=-5000,
<a name="l13900"></a>13900                         <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light = 0.05f) {
<a name="l13901"></a>13901       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13902"></a>13902       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a> npoints(points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,3,1,1,0);
<a name="l13903"></a>13903       tp *ptrX = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), *ptrY = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1), *ptrZ = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l13904"></a>13904       cimg_forX(npoints,l) {
<a name="l13905"></a>13905         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; point = points[l];
<a name="l13906"></a>13906         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = point.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l13907"></a>13907         <span class="keywordflow">if</span> (!siz)
<a name="l13908"></a>13908           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_object3d() : Given points (size=%u) contains a null element at &quot;</span>
<a name="l13909"></a>13909                                       <span class="stringliteral">&quot;position %u.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,l);
<a name="l13910"></a>13910         *(ptrZ++) = (siz&gt;2)?point(2):0;
<a name="l13911"></a>13911         *(ptrY++) = (siz&gt;1)?point(1):0;
<a name="l13912"></a>13912         *(ptrX++) = point(0);
<a name="l13913"></a>13913       }
<a name="l13914"></a>13914       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(X,Y,Z,npoints,primitives,colors,opacities,
<a name="l13915"></a>13915                            render_type,double_sided,focale,lightx,lighty,lightz,ambiant_light);
<a name="l13916"></a>13916     }
<a name="l13917"></a>13917 
<a name="l13919"></a>13919       <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l13920"></a><a class="code" href="structcimg__library_1_1_c_img.html#a30bce7fb9ed1013f5f6ab57ac5996880">13920</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> X, <span class="keyword">const</span> <span class="keywordtype">float</span> Y, <span class="keyword">const</span> <span class="keywordtype">float</span> Z,
<a name="l13921"></a>13921                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l13922"></a>13922                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>&amp; opacities,
<a name="l13923"></a>13923                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> render_type=4,
<a name="l13924"></a>13924                         <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500,
<a name="l13925"></a>13925                         <span class="keyword">const</span> <span class="keywordtype">float</span> lightx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lighty=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lightz=-5000,
<a name="l13926"></a>13926                         <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light = 0.05f) {
<a name="l13927"></a>13927       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a> nopacities(opacities.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1);
<a name="l13928"></a>13928       cimglist_for(nopacities,l) nopacities(l,0) = opacities(l);
<a name="l13929"></a>13929       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(X,Y,Z,points,primitives,colors,nopacities,
<a name="l13930"></a>13930                            render_type,double_sided,focale,lightx,lighty,lightz,ambiant_light);
<a name="l13931"></a>13931     }
<a name="l13932"></a>13932 
<a name="l13934"></a>13934     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l13935"></a><a class="code" href="structcimg__library_1_1_c_img.html#a061ba5d23e45b7b4330842cecb72b54f">13935</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> X, <span class="keyword">const</span> <span class="keywordtype">float</span> Y, <span class="keyword">const</span> <span class="keywordtype">float</span> Z,
<a name="l13936"></a>13936                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l13937"></a>13937                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>&amp; opacities,
<a name="l13938"></a>13938                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> render_type=4,
<a name="l13939"></a>13939                         <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500,
<a name="l13940"></a>13940                         <span class="keyword">const</span> <span class="keywordtype">float</span> lightx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lighty=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lightz=-5000,
<a name="l13941"></a>13941                         <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light = 0.05f) {
<a name="l13942"></a>13942       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a> nopacities(opacities.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1);
<a name="l13943"></a>13943       { cimglist_for(nopacities,l) nopacities(l,0) = opacities(l); }
<a name="l13944"></a>13944       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l13945"></a>13945       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a> npoints(points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,3,1,1,0);
<a name="l13946"></a>13946       tp *ptrX = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), *ptrY = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1), *ptrZ = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l13947"></a>13947       cimg_forX(npoints,l) {
<a name="l13948"></a>13948         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; point = points[l];
<a name="l13949"></a>13949         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = point.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l13950"></a>13950         <span class="keywordflow">if</span> (!siz)
<a name="l13951"></a>13951           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::draw_object3d() : Given points (size=%u) contains a null element at &quot;</span>
<a name="l13952"></a>13952                                       <span class="stringliteral">&quot;position %u.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,l);
<a name="l13953"></a>13953         *(ptrZ++) = (siz&gt;2)?point(2):0;
<a name="l13954"></a>13954         *(ptrY++) = (siz&gt;1)?point(1):0;
<a name="l13955"></a>13955         *(ptrX++) = point(0);
<a name="l13956"></a>13956       }
<a name="l13957"></a>13957       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(X,Y,Z,npoints,primitives,colors,nopacities,
<a name="l13958"></a>13958                            render_type,double_sided,focale,lightx,lighty,lightz,ambiant_light);
<a name="l13959"></a>13959     }
<a name="l13960"></a>13960 
<a name="l13962"></a>13962     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l13963"></a><a class="code" href="structcimg__library_1_1_c_img.html#a02b69a94aea6bf45fee2771a2ea229e0">13963</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> X, <span class="keyword">const</span> <span class="keywordtype">float</span> Y, <span class="keyword">const</span> <span class="keywordtype">float</span> Z,
<a name="l13964"></a>13964                         <span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l13965"></a>13965                         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors,
<a name="l13966"></a>13966                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> render_type=4,
<a name="l13967"></a>13967                         <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500,
<a name="l13968"></a>13968                         <span class="keyword">const</span> <span class="keywordtype">float</span> lightx=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lighty=0, <span class="keyword">const</span> <span class="keywordtype">float</span> lightz=-5000,
<a name="l13969"></a>13969                         <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light = 0.05f, <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f) {
<a name="l13970"></a>13970       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(X,Y,Z,points,primitives,colors,
<a name="l13971"></a>13971                            <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,1,1,1,opacity),
<a name="l13972"></a>13972                            render_type,double_sided,focale,lightx,lighty,lightz,
<a name="l13973"></a>13973                            ambiant_light);
<a name="l13974"></a>13974     }
<a name="l13975"></a>13975 
<a name="l13977"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5f5f57589f123beed048d681bb7269e2">13977</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5f5f57589f123beed048d681bb7269e2" title="Rescale and center a 3D object.">resize_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> siz=100, <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>) {
<a name="l13978"></a>13978       T *ptrx = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0), *ptry = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1), *ptrz = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l13979"></a>13979       <span class="keywordtype">float</span> xm = (float)*(ptrx++), ym = (float)*(ptry++), zm = (float)*(ptrz++), xM = xm, yM = ym, zM = zm;
<a name="l13980"></a>13980       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=1; p&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; p++) {
<a name="l13981"></a>13981          <span class="keyword">const</span> <span class="keywordtype">float</span> x = (float)*(ptrx++), y = (float)*(ptry++), z = (float)*(ptrz++);
<a name="l13982"></a>13982          <span class="keywordflow">if</span> (x&lt;xm) xm = x;
<a name="l13983"></a>13983          <span class="keywordflow">if</span> (y&lt;ym) ym = y;
<a name="l13984"></a>13984          <span class="keywordflow">if</span> (z&lt;zm) zm = z;
<a name="l13985"></a>13985          <span class="keywordflow">if</span> (x&gt;xM) xM = x;
<a name="l13986"></a>13986          <span class="keywordflow">if</span> (y&gt;yM) yM = y;
<a name="l13987"></a>13987          <span class="keywordflow">if</span> (z&gt;zM) zM = z;
<a name="l13988"></a>13988       }
<a name="l13989"></a>13989       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l13990"></a>13990         cx = 0.5f*(xm+xM),
<a name="l13991"></a>13991         cy = 0.5f*(ym+yM),
<a name="l13992"></a>13992         cz = 0.5f*(zm+zM),
<a name="l13993"></a>13993         delta = <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(xM-xm,yM-ym,zM-zm),
<a name="l13994"></a>13994         ratio = (siz&gt;=0)?(delta&lt;=0?0:(siz/delta)):-siz/100;
<a name="l13995"></a>13995       ptrx = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0);
<a name="l13996"></a>13996       ptry = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1);
<a name="l13997"></a>13997       ptrz = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l13998"></a>13998       <span class="keywordflow">if</span> (centering) cimg_forX(*<span class="keyword">this</span>,l) {
<a name="l13999"></a>13999         T &amp;x = *(ptrx++), &amp;y = *(ptry++), &amp;z = *(ptrz++);
<a name="l14000"></a>14000         x = (T)((x-cx)*ratio);
<a name="l14001"></a>14001         y = (T)((y-cy)*ratio);
<a name="l14002"></a>14002         z = (T)((z-cz)*ratio);
<a name="l14003"></a>14003       } <span class="keywordflow">else</span> cimg_forX(*<span class="keyword">this</span>,l) {
<a name="l14004"></a>14004         T &amp;x = *(ptrx++), &amp;y = *(ptry++), &amp;z = *(ptrz++);
<a name="l14005"></a>14005         x = (T)(cx+(x-cx)*ratio);
<a name="l14006"></a>14006         y = (T)(cy+(y-cy)*ratio);
<a name="l14007"></a>14007         z = (T)(cz+(z-cz)*ratio);
<a name="l14008"></a>14008       }
<a name="l14009"></a>14009       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14010"></a>14010     }
<a name="l14011"></a>14011 
<a name="l14013"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0eb2fd6df11f88e4d7fd0e94b40301c3">14013</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0eb2fd6df11f88e4d7fd0e94b40301c3" title="Get a rescaled and centered version of the 3D object.">get_resize_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> siz=100, <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l14014"></a>14014       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a5f5f57589f123beed048d681bb7269e2" title="Rescale and center a 3D object.">resize_object3d</a>(siz,centering);
<a name="l14015"></a>14015     }
<a name="l14016"></a>14016 
<a name="l14018"></a>14018     <span class="comment">//----------------------------</span>
<a name="l14019"></a>14019     <span class="comment">//</span>
<a name="l14021"></a>14021 <span class="comment"></span>
<a name="l14022"></a>14022     <span class="comment">//----------------------------</span>
<a name="l14023"></a>14023 
<a name="l14025"></a>14025 
<a name="l14034"></a>14034     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt;
<a name="l14035"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac97ccdd3c9e08e879a0273304c86406a">14035</a>     <a class="code" href="structcimg__library_1_1_c_img.html#ac97ccdd3c9e08e879a0273304c86406a" title="Return the correlation of the image by a mask.">get_correlate</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1,<span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_correl=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l14036"></a>14036       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l14037"></a>14037       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t,float&gt;::type fftype;
<a name="l14038"></a>14038       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,fftype&gt;::type ftype;
<a name="l14039"></a>14039 
<a name="l14040"></a>14040       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l14041"></a>14041       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l14042"></a>14042         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::correlate() : Specified mask (%u,%u,%u,%u,%p) is not scalar.&quot;</span>,
<a name="l14043"></a>14043                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l14044"></a>14044       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l14045"></a>14045       <span class="keywordflow">if</span> (cond &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> &amp;&amp; ((mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==1 &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;=5) || (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;=3))) {
<a name="l14046"></a>14046         <span class="comment">// A special optimization is done for 2x2,3x3,4x4,5x5,2x2x2 and 3x3x3 mask (with cond=1)</span>
<a name="l14047"></a>14047         <span class="keywordflow">switch</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) {
<a name="l14048"></a>14048         <span class="keywordflow">case</span> 3: {
<a name="l14049"></a>14049           CImg_3x3x3(I,T);
<a name="l14050"></a>14050           <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr3x3x3(I,mask);
<a name="l14051"></a>14051           <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14052"></a>14052             <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum3x3x3(I);
<a name="l14053"></a>14053             dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr3x3x3(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14054"></a>14054           }
<a name="l14055"></a>14055         } <span class="keywordflow">break</span>;
<a name="l14056"></a>14056         <span class="keywordflow">case</span> 2: {
<a name="l14057"></a>14057           CImg_2x2x2(I,T);
<a name="l14058"></a>14058           <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2x2(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr2x2x2(I,mask);
<a name="l14059"></a>14059           <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2x2(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14060"></a>14060             <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum2x2x2(I);
<a name="l14061"></a>14061             dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr2x2x2(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14062"></a>14062           }
<a name="l14063"></a>14063         } <span class="keywordflow">break</span>;
<a name="l14064"></a>14064         <span class="keywordflow">default</span>:
<a name="l14065"></a>14065         <span class="keywordflow">case</span> 1:
<a name="l14066"></a>14066           <span class="keywordflow">switch</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) {
<a name="l14067"></a>14067           <span class="keywordflow">case</span> 5: {
<a name="l14068"></a>14068             CImg_5x5(I,T);
<a name="l14069"></a>14069             <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for5x5(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr5x5(I,mask);
<a name="l14070"></a>14070             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for5x5(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14071"></a>14071               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum5x5(I);
<a name="l14072"></a>14072               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr5x5(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14073"></a>14073             }
<a name="l14074"></a>14074           } <span class="keywordflow">break</span>;
<a name="l14075"></a>14075           <span class="keywordflow">case</span> 4: {
<a name="l14076"></a>14076             CImg_4x4(I,T);
<a name="l14077"></a>14077             <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for4x4(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr4x4(I,mask);
<a name="l14078"></a>14078             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for4x4(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14079"></a>14079               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum4x4(I);
<a name="l14080"></a>14080               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr4x4(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14081"></a>14081             }
<a name="l14082"></a>14082           } <span class="keywordflow">break</span>;
<a name="l14083"></a>14083           <span class="keywordflow">case</span> 3: {
<a name="l14084"></a>14084             CImg_3x3(I,T);
<a name="l14085"></a>14085             <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr3x3(I,mask);
<a name="l14086"></a>14086             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14087"></a>14087               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum3x3(I);
<a name="l14088"></a>14088               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr3x3(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14089"></a>14089             }
<a name="l14090"></a>14090           } <span class="keywordflow">break</span>;
<a name="l14091"></a>14091           <span class="keywordflow">case</span> 2: {
<a name="l14092"></a>14092             CImg_2x2(I,T);
<a name="l14093"></a>14093             <span class="keywordflow">if</span> (!weighted_correl) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_corr2x2(I,mask);
<a name="l14094"></a>14094             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14095"></a>14095               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum2x2(I);
<a name="l14096"></a>14096               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_corr2x2(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14097"></a>14097             }
<a name="l14098"></a>14098           } <span class="keywordflow">break</span>;
<a name="l14099"></a>14099           <span class="keywordflow">case</span> 1: dest = mask(0)*(*this); <span class="keywordflow">break</span>;
<a name="l14100"></a>14100           }
<a name="l14101"></a>14101         }
<a name="l14102"></a>14102       } <span class="keywordflow">else</span> {
<a name="l14103"></a>14103         <span class="comment">// Generic version for other masks</span>
<a name="l14104"></a>14104         <span class="keyword">const</span> <span class="keywordtype">int</span> cxm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2, cym=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2, czm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2, fxm=cxm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>%2), fym=cym-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>%2), fzm=czm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>%2);
<a name="l14105"></a>14105         cimg_forV(*<span class="keyword">this</span>,v)
<a name="l14106"></a>14106           <span class="keywordflow">if</span> (!weighted_correl) {       <span class="comment">// Classical correlation</span>
<a name="l14107"></a>14107             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14108"></a>14108               ftype val = 0;
<a name="l14109"></a>14109               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14110"></a>14110                 val+= (*<span class="keyword">this</span>)(x+xm,y+ym,z+zm,v)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14111"></a>14111               dest(x,y,z,v)=(restype)val;
<a name="l14112"></a>14112             }
<a name="l14113"></a>14113             <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14114"></a>14114               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14115"></a>14115                 ftype val = 0;
<a name="l14116"></a>14116                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14117"></a>14117                   val+= <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14118"></a>14118                 dest(x,y,z,v)=(restype)val;
<a name="l14119"></a>14119               }
<a name="l14120"></a>14120             <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14121"></a>14121               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14122"></a>14122                 ftype val = 0;
<a name="l14123"></a>14123                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++)  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14124"></a>14124                   val+= <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14125"></a>14125                 dest(x,y,z,v)=(restype)val;
<a name="l14126"></a>14126               }
<a name="l14127"></a>14127           } <span class="keywordflow">else</span> {      <span class="comment">// Weighted correlation</span>
<a name="l14128"></a>14128             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14129"></a>14129               ftype val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14130"></a>14130               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14131"></a>14131                 <span class="keyword">const</span> T cval = (*this)(x+xm,y+ym,z+zm,v);
<a name="l14132"></a>14132                 val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14133"></a>14133                 <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+= cval*cval;
<a name="l14134"></a>14134               }
<a name="l14135"></a>14135               dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>((<span class="keywordtype">double</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14136"></a>14136             }
<a name="l14137"></a>14137             <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14138"></a>14138              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14139"></a>14139                 ftype val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14140"></a>14140                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14141"></a>14141                   <span class="keyword">const</span> T cval = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v);
<a name="l14142"></a>14142                   val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14143"></a>14143                   <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+=cval*cval;
<a name="l14144"></a>14144                 }
<a name="l14145"></a>14145                 dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>((<span class="keywordtype">double</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14146"></a>14146               }
<a name="l14147"></a>14147             <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14148"></a>14148               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14149"></a>14149                 ftype val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14150"></a>14150                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14151"></a>14151                   <span class="keyword">const</span> T cval = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0);
<a name="l14152"></a>14152                   val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14153"></a>14153                   <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+= cval*cval;
<a name="l14154"></a>14154                 }
<a name="l14155"></a>14155                 dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>((<span class="keywordtype">double</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14156"></a>14156               }
<a name="l14157"></a>14157           }
<a name="l14158"></a>14158       }
<a name="l14159"></a>14159       <span class="keywordflow">return</span> dest;
<a name="l14160"></a>14160     }
<a name="l14161"></a>14161 
<a name="l14162"></a>14162 
<a name="l14164"></a>14164 
<a name="l14168"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5c73733e5a7af93e124a7999a1dc0556">14168</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5c73733e5a7af93e124a7999a1dc0556" title="Correlate the image by a mask.">correlate</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1,<span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_correl=<span class="keyword">false</span>) {
<a name="l14169"></a>14169       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac97ccdd3c9e08e879a0273304c86406a" title="Return the correlation of the image by a mask.">get_correlate</a>(mask,cond,weighted_correl).swap(*<span class="keyword">this</span>);
<a name="l14170"></a>14170     }
<a name="l14171"></a>14171 
<a name="l14173"></a>14173 
<a name="l14182"></a>14182     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt;
<a name="l14183"></a><a class="code" href="structcimg__library_1_1_c_img.html#a828b33b7fd32dd4c929a271ca5b127cc">14183</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a828b33b7fd32dd4c929a271ca5b127cc" title="Return the convolution of the image by a mask.">get_convolve</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_convol=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l14184"></a>14184       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l14185"></a>14185       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;t,float&gt;::type fftype;
<a name="l14186"></a>14186       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,fftype&gt;::type ftype;
<a name="l14187"></a>14187 
<a name="l14188"></a>14188       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l14189"></a>14189       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l14190"></a>14190         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::convolve() : Specified mask (%u,%u,%u,%u,%p) is not scalar.&quot;</span>,
<a name="l14191"></a>14191                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l14192"></a>14192       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l14193"></a>14193       <span class="keywordflow">if</span> (cond &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> &amp;&amp; ((mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==1 &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;=5) || (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;=3))) { <span class="comment">// optimized version</span>
<a name="l14194"></a>14194         <span class="keywordflow">switch</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) {
<a name="l14195"></a>14195         <span class="keywordflow">case</span> 3: {
<a name="l14196"></a>14196           CImg_3x3x3(I,T);
<a name="l14197"></a>14197           <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_conv3x3x3(I,mask);
<a name="l14198"></a>14198           <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14199"></a>14199             <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum3x3x3(I);
<a name="l14200"></a>14200             dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv3x3x3(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14201"></a>14201           }
<a name="l14202"></a>14202         } <span class="keywordflow">break</span>;
<a name="l14203"></a>14203         <span class="keywordflow">case</span> 2: {
<a name="l14204"></a>14204           CImg_2x2x2(I,T);
<a name="l14205"></a>14205           <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2x2(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_conv2x2x2(I,mask);
<a name="l14206"></a>14206           <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2x2(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14207"></a>14207             <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum2x2x2(I);
<a name="l14208"></a>14208             dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv2x2x2(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14209"></a>14209           }
<a name="l14210"></a>14210         } <span class="keywordflow">break</span>;
<a name="l14211"></a>14211         <span class="keywordflow">default</span>:
<a name="l14212"></a>14212         <span class="keywordflow">case</span> 1:
<a name="l14213"></a>14213           <span class="keywordflow">switch</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) {
<a name="l14214"></a>14214           <span class="keywordflow">case</span> 5: {
<a name="l14215"></a>14215             CImg_5x5(I,T);
<a name="l14216"></a>14216             <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for5x5(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = cimg_conv5x5(I,mask);
<a name="l14217"></a>14217             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for5x5(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14218"></a>14218               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum5x5(I);
<a name="l14219"></a>14219               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv5x5(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14220"></a>14220             }
<a name="l14221"></a>14221           } <span class="keywordflow">break</span>;
<a name="l14222"></a>14222           <span class="keywordflow">case</span> 4: {
<a name="l14223"></a>14223             CImg_4x4(I,T);
<a name="l14224"></a>14224             <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for4x4(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = (T)cimg_conv4x4(I,mask);
<a name="l14225"></a>14225             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for4x4(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14226"></a>14226               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum4x4(I);
<a name="l14227"></a>14227               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv4x4(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14228"></a>14228             }
<a name="l14229"></a>14229           } <span class="keywordflow">break</span>;
<a name="l14230"></a>14230           <span class="keywordflow">case</span> 3: {
<a name="l14231"></a>14231             CImg_3x3(I,T);
<a name="l14232"></a>14232             <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = (T)cimg_conv3x3(I,mask);
<a name="l14233"></a>14233             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for3x3(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14234"></a>14234               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum3x3(I);
<a name="l14235"></a>14235               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv3x3(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14236"></a>14236             }
<a name="l14237"></a>14237           } <span class="keywordflow">break</span>;
<a name="l14238"></a>14238           <span class="keywordflow">case</span> 2: {
<a name="l14239"></a>14239             CImg_2x2(I,T);
<a name="l14240"></a>14240             <span class="keywordflow">if</span> (!weighted_convol) cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2(*<span class="keyword">this</span>,x,y,z,v,I) dest(x,y,z,v) = (T)cimg_conv2x2(I,mask);
<a name="l14241"></a>14241             <span class="keywordflow">else</span> cimg_forZV(*<span class="keyword">this</span>,z,v) cimg_for2x2(*<span class="keyword">this</span>,x,y,z,v,I) {
<a name="l14242"></a>14242               <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (double)cimg_squaresum2x2(I);
<a name="l14243"></a>14243               dest(x,y,z,v) = (norm!=0)?(restype)(cimg_conv2x2(I,mask)/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(norm)):0;
<a name="l14244"></a>14244             }
<a name="l14245"></a>14245           } <span class="keywordflow">break</span>;
<a name="l14246"></a>14246           <span class="keywordflow">case</span> 1: dest = mask(0)*(*this); <span class="keywordflow">break</span>;
<a name="l14247"></a>14247           }
<a name="l14248"></a>14248         }
<a name="l14249"></a>14249       } <span class="keywordflow">else</span> { <span class="comment">// generic version</span>
<a name="l14250"></a>14250 
<a name="l14251"></a>14251         <span class="keyword">const</span> <span class="keywordtype">int</span> cxm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2, cym=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2, czm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2, fxm=cxm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>%2), fym=cym-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>%2), fzm=czm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>%2);
<a name="l14252"></a>14252         cimg_forV(*<span class="keyword">this</span>,v)
<a name="l14253"></a>14253           <span class="keywordflow">if</span> (!weighted_convol) {       <span class="comment">// Classical convolution</span>
<a name="l14254"></a>14254             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14255"></a>14255               ftype val = 0;
<a name="l14256"></a>14256               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14257"></a>14257                 val+= (*<span class="keyword">this</span>)(x-xm,y-ym,z-zm,v)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14258"></a>14258               dest(x,y,z,v)=(restype)val;
<a name="l14259"></a>14259             }
<a name="l14260"></a>14260             <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14261"></a>14261               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14262"></a>14262                 ftype val = 0;
<a name="l14263"></a>14263                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14264"></a>14264                   val+= <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x-xm,y-ym,z-zm,v)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14265"></a>14265                 dest(x,y,z,v)=(restype)val;
<a name="l14266"></a>14266               }
<a name="l14267"></a>14267             <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14268"></a>14268               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14269"></a>14269                 ftype val = 0;
<a name="l14270"></a>14270                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++)  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14271"></a>14271                   val+= <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x-xm,y-ym,z-zm,v,0)*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14272"></a>14272                 dest(x,y,z,v)=(restype)val;
<a name="l14273"></a>14273               }
<a name="l14274"></a>14274           } <span class="keywordflow">else</span> {      <span class="comment">// Weighted convolution</span>
<a name="l14275"></a>14275             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14276"></a>14276               ftype val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14277"></a>14277               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14278"></a>14278                 <span class="keyword">const</span> T cval = (*this)(x-xm,y-ym,z-zm,v);
<a name="l14279"></a>14279                 val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14280"></a>14280                 <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+= cval*cval;
<a name="l14281"></a>14281               }
<a name="l14282"></a>14282               dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14283"></a>14283             }
<a name="l14284"></a>14284             <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14285"></a>14285               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14286"></a>14286                 ftype val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14287"></a>14287                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14288"></a>14288                   <span class="keyword">const</span> T cval = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x-xm,y-ym,z-zm,v);
<a name="l14289"></a>14289                   val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14290"></a>14290                   <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+=cval*cval;
<a name="l14291"></a>14291                 }
<a name="l14292"></a>14292                 dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14293"></a>14293               }
<a name="l14294"></a>14294             <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14295"></a>14295               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14296"></a>14296                 <span class="keywordtype">double</span> val = 0, <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = 0;
<a name="l14297"></a>14297                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++)  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++) {
<a name="l14298"></a>14298                   <span class="keyword">const</span> T cval = <a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x-xm,y-ym,z-zm,v,0);
<a name="l14299"></a>14299                   val+= cval*mask(cxm+xm,cym+ym,czm+zm,0);
<a name="l14300"></a>14300                   <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>+= cval*cval;
<a name="l14301"></a>14301                 }
<a name="l14302"></a>14302                 dest(x,y,z,v)=(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>!=0)?(restype)(val/<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>)):0;
<a name="l14303"></a>14303               }
<a name="l14304"></a>14304           }
<a name="l14305"></a>14305       }
<a name="l14306"></a>14306       <span class="keywordflow">return</span> dest;
<a name="l14307"></a>14307     }
<a name="l14308"></a>14308 
<a name="l14310"></a>14310 
<a name="l14314"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae6b437e9429c83b508a74e06d69469da">14314</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae6b437e9429c83b508a74e06d69469da" title="Convolve the image by a mask.">convolve</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1,<span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_convol=<span class="keyword">false</span>) {
<a name="l14315"></a>14315       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a828b33b7fd32dd4c929a271ca5b127cc" title="Return the convolution of the image by a mask.">get_convolve</a>(mask,cond,weighted_convol).swap(*<span class="keyword">this</span>);
<a name="l14316"></a>14316     }
<a name="l14317"></a>14317 
<a name="l14319"></a>14319     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt;
<a name="l14320"></a><a class="code" href="structcimg__library_1_1_c_img.html#a32d2dca663fa590a3a65e97688b110dd">14320</a>     <a class="code" href="structcimg__library_1_1_c_img.html#a32d2dca663fa590a3a65e97688b110dd" title="Return the erosion of the image by a structuring element.">get_erode</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_erosion=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l14321"></a>14321       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l14322"></a>14322       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l14323"></a>14323       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l14324"></a>14324         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::erode() : Specified mask (%u,%u,%u,%u,%p) is not a scalar image.&quot;</span>,
<a name="l14325"></a>14325                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l14326"></a>14326       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l14327"></a>14327       <span class="keyword">const</span> <span class="keywordtype">int</span> cxm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2, cym=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2, czm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2,
<a name="l14328"></a>14328         fxm=cxm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>%2), fym=cym-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>%2), fzm=czm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>%2);
<a name="l14329"></a>14329       cimg_forV(*<span class="keyword">this</span>,v)
<a name="l14330"></a>14330         <span class="keywordflow">if</span> (!weighted_erosion) {        <span class="comment">// Classical erosion</span>
<a name="l14331"></a>14331           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14332"></a>14332             restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14333"></a>14333             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14334"></a>14334               <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)(*<span class="keyword">this</span>)(x+xm,y+ym,z+zm,v),min_val);
<a name="l14335"></a>14335             dest(x,y,z,v)=min_val;
<a name="l14336"></a>14336           }
<a name="l14337"></a>14337           <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14338"></a>14338                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14339"></a>14339                         restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14340"></a>14340                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14341"></a>14341                           <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v),min_val);
<a name="l14342"></a>14342                         dest(x,y,z,v)=min_val;
<a name="l14343"></a>14343                       }
<a name="l14344"></a>14344           <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14345"></a>14345                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14346"></a>14346                    restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14347"></a>14347                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14348"></a>14348                      <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0),min_val);
<a name="l14349"></a>14349                    dest(x,y,z,v)=min_val;
<a name="l14350"></a>14350                  }
<a name="l14351"></a>14351         } <span class="keywordflow">else</span> { <span class="comment">// Weighted erosion</span>
<a name="l14352"></a>14352           t mval=0;
<a name="l14353"></a>14353           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14354"></a>14354             restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14355"></a>14355             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14356"></a>14356               <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)((*<span class="keyword">this</span>)(x+xm,y+ym,z+zm,v)+mval),min_val);
<a name="l14357"></a>14357             dest(x,y,z,v)=min_val;
<a name="l14358"></a>14358           }
<a name="l14359"></a>14359           <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14360"></a>14360                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14361"></a>14361                         restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14362"></a>14362                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14363"></a>14363                           <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)(<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v)+mval),min_val);
<a name="l14364"></a>14364                         dest(x,y,z,v)=min_val;
<a name="l14365"></a>14365                       }
<a name="l14366"></a>14366           <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14367"></a>14367                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14368"></a>14368                    restype min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;restype&gt;::max</a>();
<a name="l14369"></a>14369                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14370"></a>14370                      <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) min_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>((restype)(<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0)+mval),min_val);
<a name="l14371"></a>14371                    dest(x,y,z,v)=min_val;
<a name="l14372"></a>14372                  }
<a name="l14373"></a>14373         }
<a name="l14374"></a>14374       <span class="keywordflow">return</span> dest;
<a name="l14375"></a>14375     }
<a name="l14376"></a>14376 
<a name="l14378"></a>14378 
<a name="l14382"></a><a class="code" href="structcimg__library_1_1_c_img.html#a73a35f338fc6648d908ed69a50021d42">14382</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a73a35f338fc6648d908ed69a50021d42" title="Erode the image by a structuring element.">erode</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1,<span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_erosion=<span class="keyword">false</span>) {
<a name="l14383"></a>14383       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a32d2dca663fa590a3a65e97688b110dd" title="Return the erosion of the image by a structuring element.">get_erode</a>(mask,cond,weighted_erosion).swap(*<span class="keyword">this</span>);
<a name="l14384"></a>14384     }
<a name="l14385"></a>14385 
<a name="l14387"></a><a class="code" href="structcimg__library_1_1_c_img.html#aca876e6dbc38df15c944ee60903742ef">14387</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aca876e6dbc38df15c944ee60903742ef" title="Erode the image by a square structuring element of size n.">get_erode</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1)<span class="keyword"> const </span>{
<a name="l14388"></a>14388       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> mask;
<a name="l14389"></a>14389       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=n) mask.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,n,1,1,1);
<a name="l14390"></a>14390       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res = <a class="code" href="structcimg__library_1_1_c_img.html#a32d2dca663fa590a3a65e97688b110dd" title="Return the erosion of the image by a structuring element.">get_erode</a>(mask,cond,<span class="keyword">false</span>);
<a name="l14391"></a>14391       <span class="keywordflow">if</span> (n&gt;20) mask.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l14392"></a>14392       <span class="keywordflow">return</span> res;
<a name="l14393"></a>14393     }
<a name="l14394"></a>14394 
<a name="l14396"></a><a class="code" href="structcimg__library_1_1_c_img.html#a694d451f82c9532088ff0906d427e343">14396</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a694d451f82c9532088ff0906d427e343" title="Erode the image by a square structuring element of size n.">erode</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1) {
<a name="l14397"></a>14397       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a32d2dca663fa590a3a65e97688b110dd" title="Return the erosion of the image by a structuring element.">get_erode</a>(n,cond).swap(*<span class="keyword">this</span>);
<a name="l14398"></a>14398     }
<a name="l14399"></a>14399 
<a name="l14401"></a>14401     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt;
<a name="l14402"></a><a class="code" href="structcimg__library_1_1_c_img.html#af9560e3c8cc0190079bbd73937c7d427">14402</a>     <a class="code" href="structcimg__library_1_1_c_img.html#af9560e3c8cc0190079bbd73937c7d427" title="Return the dilatation of the image by a structuring element.">get_dilate</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1, <span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_dilatation=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l14403"></a>14403       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l14404"></a>14404       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>();
<a name="l14405"></a>14405       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l14406"></a>14406         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::dilate() : Specified mask (%u,%u,%u,%u,%p) is not a scalar image.&quot;</span>,
<a name="l14407"></a>14407                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,mask.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l14408"></a>14408       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l14409"></a>14409       <span class="keyword">const</span> <span class="keywordtype">int</span> cxm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2, cym=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2, czm=mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2,
<a name="l14410"></a>14410         fxm=cxm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>%2), fym=cym-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>%2), fzm=czm-1+(mask.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>%2);
<a name="l14411"></a>14411       cimg_forV(*<span class="keyword">this</span>,v)
<a name="l14412"></a>14412         <span class="keywordflow">if</span> (!weighted_dilatation) { <span class="comment">// Classical dilatation</span>
<a name="l14413"></a>14413           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14414"></a>14414             restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14415"></a>14415             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14416"></a>14416               <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)(*<span class="keyword">this</span>)(x+xm,y+ym,z+zm,v),max_val);
<a name="l14417"></a>14417             dest(x,y,z,v)=max_val;
<a name="l14418"></a>14418           }
<a name="l14419"></a>14419           <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14420"></a>14420                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14421"></a>14421                         restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14422"></a>14422                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14423"></a>14423                           <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v),max_val);
<a name="l14424"></a>14424                         dest(x,y,z,v)=max_val;
<a name="l14425"></a>14425                       }
<a name="l14426"></a>14426           <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14427"></a>14427                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14428"></a>14428                    restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14429"></a>14429                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14430"></a>14430                      <span class="keywordflow">if</span> (mask(cxm+xm,cym+ym,czm+zm,0)) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0),max_val);
<a name="l14431"></a>14431                    dest(x,y,z,v)=max_val;
<a name="l14432"></a>14432                  }
<a name="l14433"></a>14433         } <span class="keywordflow">else</span> { <span class="comment">// Weighted dilatation</span>
<a name="l14434"></a>14434           t mval=0;
<a name="l14435"></a>14435           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z=czm; z&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm; z++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=cym; y&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym; y++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=cxm; x&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm; x++) {
<a name="l14436"></a>14436             restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14437"></a>14437             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14438"></a>14438               <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)((*<span class="keyword">this</span>)(x+xm,y+ym,z+zm,v)-mval),max_val);
<a name="l14439"></a>14439             dest(x,y,z,v)=max_val;
<a name="l14440"></a>14440           }
<a name="l14441"></a>14441           <span class="keywordflow">if</span> (cond) cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14442"></a>14442                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14443"></a>14443                         restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14444"></a>14444                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14445"></a>14445                           <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)(<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v)-mval),max_val);
<a name="l14446"></a>14446                         dest(x,y,z,v)=max_val;
<a name="l14447"></a>14447                       }
<a name="l14448"></a>14448           <span class="keywordflow">else</span> cimg_forYZV(*<span class="keyword">this</span>,y,z,v)
<a name="l14449"></a>14449                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0; x&lt;dimx(); (y&lt;cym || y&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-cym || z&lt;czm || z&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-czm)?x++:((x&lt;cxm-1 || x&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm)?x++:(x=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-cxm))) {
<a name="l14450"></a>14450                    restype max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;restype&gt;::min</a>();
<a name="l14451"></a>14451                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> zm=-czm; zm&lt;=fzm; zm++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ym=-cym; ym&lt;=fym; ym++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> xm=-cxm; xm&lt;=fxm; xm++)
<a name="l14452"></a>14452                      <span class="keywordflow">if</span> ((mval=mask(cxm+xm,cym+ym,czm+zm,0))!=0) max_val = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((restype)(<a class="code" href="structcimg__library_1_1_c_img.html#a947e22cc453c54c0a0b0590e64d2095f" title="Read a pixel value with Dirichlet or Neumann boundary conditions for the three first coordinates (x...">pix3d</a>(x+xm,y+ym,z+zm,v,0)-mval),max_val);
<a name="l14453"></a>14453                    dest(x,y,z,v)=max_val;
<a name="l14454"></a>14454                  }
<a name="l14455"></a>14455         }
<a name="l14456"></a>14456       <span class="keywordflow">return</span> dest;
<a name="l14457"></a>14457     }
<a name="l14458"></a>14458 
<a name="l14460"></a>14460 
<a name="l14464"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8d08e0d21eac13efcc468e3d8c9a0c96">14464</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8d08e0d21eac13efcc468e3d8c9a0c96" title="Dilate the image by a structuring element.">dilate</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; mask,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1,<span class="keyword">const</span> <span class="keywordtype">bool</span> weighted_dilatation=<span class="keyword">false</span>) {
<a name="l14465"></a>14465       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#af9560e3c8cc0190079bbd73937c7d427" title="Return the dilatation of the image by a structuring element.">get_dilate</a>(mask,cond,weighted_dilatation).swap(*<span class="keyword">this</span>);
<a name="l14466"></a>14466     }
<a name="l14467"></a>14467 
<a name="l14469"></a><a class="code" href="structcimg__library_1_1_c_img.html#a093d140e06d642c9087bb9686c3abb59">14469</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a093d140e06d642c9087bb9686c3abb59" title="Dilate the image by a square structuring element of size n.">get_dilate</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1)<span class="keyword"> const </span>{
<a name="l14470"></a>14470       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> mask;
<a name="l14471"></a>14471       <span class="keywordflow">if</span> (mask.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=n) mask.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,n,1,1,1);
<a name="l14472"></a>14472       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res = <a class="code" href="structcimg__library_1_1_c_img.html#af9560e3c8cc0190079bbd73937c7d427" title="Return the dilatation of the image by a structuring element.">get_dilate</a>(mask,cond,<span class="keyword">false</span>);
<a name="l14473"></a>14473       <span class="keywordflow">if</span> (n&gt;20) mask.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l14474"></a>14474       <span class="keywordflow">return</span> res;
<a name="l14475"></a>14475     }
<a name="l14476"></a>14476 
<a name="l14478"></a><a class="code" href="structcimg__library_1_1_c_img.html#abb250fc736ffe2f047e8750ecaef5b3a">14478</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#abb250fc736ffe2f047e8750ecaef5b3a" title="Dilate the image by a square structuring element of size n.">dilate</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1) {
<a name="l14479"></a>14479       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#af9560e3c8cc0190079bbd73937c7d427" title="Return the dilatation of the image by a structuring element.">get_dilate</a>(n,cond).swap(*<span class="keyword">this</span>);
<a name="l14480"></a>14480     }
<a name="l14481"></a>14481 
<a name="l14483"></a>14483 
<a name="l14487"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5f9e9fa1b27d6de91703cd57f4cf2275">14487</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5f9e9fa1b27d6de91703cd57f4cf2275" title="Add noise to the image.">noise</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> sigma=-20, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ntype=0) {
<a name="l14488"></a>14488       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l14489"></a>14489         <span class="keywordtype">double</span> nsigma = sigma, <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a> = (double)<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::max</a>(), min = (double)<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::min</a>();
<a name="l14490"></a>14490         <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l14491"></a>14491         <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l14492"></a>14492         <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st;
<a name="l14493"></a>14493         <span class="keywordflow">if</span> (nsigma==0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14494"></a>14494         <span class="keywordflow">if</span> (nsigma&lt;0 || ntype==2) st = <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l14495"></a>14495         <span class="keywordflow">if</span> (nsigma&lt;0) nsigma = -nsigma*(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>-st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>)/100.0;
<a name="l14496"></a>14496         <span class="keywordflow">switch</span> (ntype) {
<a name="l14497"></a>14497         <span class="keywordflow">case</span> 0: { <span class="comment">// Gaussian noise</span>
<a name="l14498"></a>14498           cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l14499"></a>14499             <span class="keywordtype">double</span> val = *ptr+nsigma*<a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>();
<a name="l14500"></a>14500             <span class="keywordflow">if</span> (val&gt;max) val = max;
<a name="l14501"></a>14501             <span class="keywordflow">if</span> (val&lt;min) val = min;
<a name="l14502"></a>14502             *ptr = (T)val;
<a name="l14503"></a>14503           }
<a name="l14504"></a>14504         } <span class="keywordflow">break</span>;
<a name="l14505"></a>14505         <span class="keywordflow">case</span> 1: { <span class="comment">// Uniform noise</span>
<a name="l14506"></a>14506           cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l14507"></a>14507             <span class="keywordtype">double</span> val = *ptr+nsigma*<a class="code" href="namespacecimg__library_1_1cimg.html#aae82972570fdc0904d4f03df7b5d3023" title="Return a random variable between [-1,1], following a uniform distribution.">cimg::crand</a>();
<a name="l14508"></a>14508             <span class="keywordflow">if</span> (val&gt;max) val = max;
<a name="l14509"></a>14509             <span class="keywordflow">if</span> (val&lt;min) val = min;
<a name="l14510"></a>14510             *ptr = (T)val;
<a name="l14511"></a>14511           }
<a name="l14512"></a>14512         } <span class="keywordflow">break</span>;
<a name="l14513"></a>14513         <span class="keywordflow">case</span> 2: { <span class="comment">// Salt &amp; Pepper noise</span>
<a name="l14514"></a>14514           <span class="keywordflow">if</span> (st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>==st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>) { st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>=0; st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>=255; }
<a name="l14515"></a>14515           cimg_for(*<span class="keyword">this</span>,ptr,T) <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>()*100&lt;nsigma) *ptr=(T)(<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>()&lt;0.5?st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>:st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>);
<a name="l14516"></a>14516         } <span class="keywordflow">break</span>;
<a name="l14517"></a>14517         <span class="keywordflow">case</span> 3: { <span class="comment">// Poisson Noise</span>
<a name="l14518"></a>14518           cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l14519"></a>14519             <span class="keyword">const</span> <span class="keywordtype">double</span> z = (double)*ptr;
<a name="l14520"></a>14520             <span class="keywordflow">if</span> (z&lt;=1.0e-10) *ptr=(T)0;
<a name="l14521"></a>14521             <span class="keywordflow">else</span> {
<a name="l14522"></a>14522               <span class="keywordflow">if</span> (z&gt;100.0) *ptr = (T)(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(z) * <a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>()) + z);
<a name="l14523"></a>14523               <span class="keywordflow">else</span> {
<a name="l14524"></a>14524                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0;
<a name="l14525"></a>14525                 <span class="keyword">const</span> <span class="keywordtype">double</span> y=<a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">std::exp</a>(-z);
<a name="l14526"></a>14526                 <span class="keywordflow">for</span> (<span class="keywordtype">double</span> s=1.0; s&gt;=y; k++) s *= <a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1], followin a uniform distribution.">cimg::rand</a>();
<a name="l14527"></a>14527                 *ptr=(T)(k-1);
<a name="l14528"></a>14528               }
<a name="l14529"></a>14529             }
<a name="l14530"></a>14530           }
<a name="l14531"></a>14531         } <span class="keywordflow">break</span>;
<a name="l14532"></a>14532         <span class="keywordflow">case</span> 4: { <span class="comment">// Rice noise</span>
<a name="l14533"></a>14533           <span class="keyword">const</span> <span class="keywordtype">double</span> sqrt2 = (double)std::sqrt(2.0);
<a name="l14534"></a>14534           cimg_for(*<span class="keyword">this</span>,ptr,T) {
<a name="l14535"></a>14535             <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l14536"></a>14536               val0 = (double)*ptr/sqrt2,
<a name="l14537"></a>14537               re = val0 + nsigma*<a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>(),
<a name="l14538"></a>14538               im = val0 + nsigma*<a class="code" href="namespacecimg__library_1_1cimg.html#a0341a323738439349625b2de5f35bb4c" title="Return a random variable following a gaussian distribution and a standard deviation of 1...">cimg::grand</a>();
<a name="l14539"></a>14539             <span class="keywordtype">double</span> val = <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(re*re + im*im);
<a name="l14540"></a>14540             <span class="keywordflow">if</span> (val&gt;max) val = max;
<a name="l14541"></a>14541             <span class="keywordflow">if</span> (val&lt;min) val = min;
<a name="l14542"></a>14542             *ptr = (T)val;
<a name="l14543"></a>14543           }
<a name="l14544"></a>14544         } <span class="keywordflow">break</span>;
<a name="l14545"></a>14545         }
<a name="l14546"></a>14546       }
<a name="l14547"></a>14547       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14548"></a>14548     }
<a name="l14549"></a>14549 
<a name="l14551"></a>14551 
<a name="l14556"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab47b7ed21c3ed05bd689622cd8fc6670">14556</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab47b7ed21c3ed05bd689622cd8fc6670" title="Return a noisy image.">get_noise</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> sigma=-20,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ntype=0)<span class="keyword"> const </span>{
<a name="l14557"></a>14557       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a5f9e9fa1b27d6de91703cd57f4cf2275" title="Add noise to the image.">noise</a>(sigma,ntype);
<a name="l14558"></a>14558     }
<a name="l14559"></a>14559 
<a name="l14560"></a>14560 <span class="preprocessor">#define cimg_deriche_apply(x0,y0,z0,k0,nb,offset,T) { \</span>
<a name="l14561"></a>14561 <span class="preprocessor">    ima = ptr(x0,y0,z0,k0); \</span>
<a name="l14562"></a>14562 <span class="preprocessor">    I2 = *ima; ima+=offset; I1 = *ima; ima+=offset; \</span>
<a name="l14563"></a>14563 <span class="preprocessor">    Y2 = *(Y++) = sumg0*I2; Y1 = *(Y++) = g0*I1 + sumg1*I2; \</span>
<a name="l14564"></a>14564 <span class="preprocessor">    for (i=2; i&lt;(nb); i++) { I1 = *ima; ima+=offset; \</span>
<a name="l14565"></a>14565 <span class="preprocessor">        Y0 = *(Y++) = a1*I1 + a2*I2 + b1*Y1 + b2*Y2; \</span>
<a name="l14566"></a>14566 <span class="preprocessor">        I2=I1; Y2=Y1; Y1=Y0; } \</span>
<a name="l14567"></a>14567 <span class="preprocessor">    ima-=offset; I2 = *ima; Y2 = Y1 = parity*sumg1*I2; *ima = (T)(*(--Y)+Y2); \</span>
<a name="l14568"></a>14568 <span class="preprocessor">    ima-=offset; I1 = *ima; *ima = (T)(*(--Y)+Y1); \</span>
<a name="l14569"></a>14569 <span class="preprocessor">    for (i=(nb)-3; i&gt;=0; i--) { Y0=a3*I1+a4*I2+b1*Y1+b2*Y2; ima-=offset; \</span>
<a name="l14570"></a>14570 <span class="preprocessor">      I2=I1; I1=*ima; *ima=(T)(*(--Y)+Y0); Y2=Y1; Y1=Y0; } \</span>
<a name="l14571"></a>14571 <span class="preprocessor">  }</span>
<a name="l14572"></a>14572 <span class="preprocessor"></span>
<a name="l14574"></a>14574 
<a name="l14578"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d">14578</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d" title="Apply a deriche filter on the image.">deriche</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1,<span class="keyword">const</span> <span class="keywordtype">int</span> order=0,<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1) {
<a name="l14579"></a>14579       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l14580"></a>14580         <span class="keywordflow">if</span> (sigma&lt;0 || order&lt;0 || order&gt;2)
<a name="l14581"></a>14581           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::deriche() : Bad arguments (sigma=%g, order=%d)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),sigma,order);
<a name="l14582"></a>14582         <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=sigma&gt;0?(1.695f/sigma):20,ea=(<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a216d7a497c11ef15a3a948bad37134f3" title="Replace each image pixel by its exponential.">std::exp</a>(alpha),ema=(float)std::exp(-alpha),em2a=ema*ema,b1=2*ema,b2=-em2a;
<a name="l14583"></a>14583         <span class="keywordtype">float</span> ek,ekn,parity,a1,a2,a3,a4,g0,sumg1,sumg0;
<a name="l14584"></a>14584         <span class="keywordtype">double</span> *Y,Y0,Y1,Y2;
<a name="l14585"></a>14585         <span class="keywordtype">int</span> i,offset,nb;
<a name="l14586"></a>14586         T *ima,I1,I2;
<a name="l14587"></a>14587         <span class="keywordflow">switch</span>(order) {
<a name="l14588"></a>14588         <span class="keywordflow">case</span> 1:                 <span class="comment">// first derivative</span>
<a name="l14589"></a>14589           ek = -(1-ema)*(1-ema)*(1-ema)/(2*(ema+1)*ema); a1 = a4 = 0;  a2 = ek*ema; a3 = -ek*ema; parity =-1;
<a name="l14590"></a>14590           <span class="keywordflow">if</span> (cond) { sumg1 = (ek*ea) / ((ea-1)*(ea-1)); g0 = 0; sumg0 = g0+sumg1; }
<a name="l14591"></a>14591           <span class="keywordflow">else</span> g0 = sumg0 = sumg1 = 0;
<a name="l14592"></a>14592           <span class="keywordflow">break</span>;
<a name="l14593"></a>14593         <span class="keywordflow">case</span> 2:               <span class="comment">// second derivative</span>
<a name="l14594"></a>14594           ekn = ( -2*(-1+3*ea-3*ea*ea+ea*ea*ea)/(3*ea+1+3*ea*ea+ea*ea*ea) );
<a name="l14595"></a>14595           ek = -(em2a-1)/(2*alpha*ema); a1 = ekn;  a2 = -ekn*(1+ek*alpha)*ema; a3 = ekn*(1-ek*alpha)*ema; a4 = -ekn*em2a; parity =1;
<a name="l14596"></a>14596           <span class="keywordflow">if</span> (cond) { sumg1 = ekn/2; g0 = ekn; sumg0 = g0+sumg1; }
<a name="l14597"></a>14597           <span class="keywordflow">else</span> g0=sumg0=sumg1=0;
<a name="l14598"></a>14598           <span class="keywordflow">break</span>;
<a name="l14599"></a>14599         <span class="keywordflow">default</span>:              <span class="comment">// smoothing</span>
<a name="l14600"></a>14600           ek = (1-ema)*(1-ema) / (1+2*alpha*ema - em2a); a1 = ek;  a2 = ek*ema*(alpha-1); a3 = ek*ema*(alpha+1); a4 = -ek*em2a; parity = 1;
<a name="l14601"></a>14601           <span class="keywordflow">if</span> (cond) { sumg1 = ek*(alpha*ea+ea-1) / ((ea-1)*(ea-1)); g0 = ek; sumg0 = g0+sumg1; }
<a name="l14602"></a>14602           <span class="keywordflow">else</span>  g0=sumg0=sumg1=0;
<a name="l14603"></a>14603           <span class="keywordflow">break</span>;
<a name="l14604"></a>14604         }
<a name="l14605"></a>14605         <span class="comment">// filter init</span>
<a name="l14606"></a>14606         Y = <span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)];
<a name="l14607"></a>14607         <span class="keywordflow">switch</span>(cimg::uncase(axe)) {
<a name="l14608"></a>14608         <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;1)  { offset = 1;            nb = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;  cimg_forYZV(*<span class="keyword">this</span>,y,z,k) cimg_deriche_apply(0,y,z,k,nb,offset,T); }       <span class="keywordflow">break</span>;
<a name="l14609"></a>14609         <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;1) { offset = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;        nb = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; cimg_forXZV(*<span class="keyword">this</span>,x,z,k) cimg_deriche_apply(x,0,z,k,nb,offset,T); }       <span class="keywordflow">break</span>;
<a name="l14610"></a>14610         <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1)  { offset = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; nb = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;  cimg_forXYV(*<span class="keyword">this</span>,x,y,k) cimg_deriche_apply(x,y,0,k,nb,offset,T); }       <span class="keywordflow">break</span>;
<a name="l14611"></a>14611         <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::deriche() : unknow axe &#39;%c&#39;, must be &#39;x&#39;,&#39;y&#39; or &#39;z&#39;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),axe);
<a name="l14612"></a>14612         }
<a name="l14613"></a>14613         <span class="keyword">delete</span>[] Y;
<a name="l14614"></a>14614       }
<a name="l14615"></a>14615       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14616"></a>14616     }
<a name="l14617"></a>14617 
<a name="l14619"></a>14619 
<a name="l14624"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c">14624</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4234c0271b48e16829fd6d29b44e792c" title="Return the result of the Deriche filter.">get_deriche</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1,<span class="keyword">const</span> <span class="keywordtype">int</span> order=0,<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1)<span class="keyword"> const </span>{
<a name="l14625"></a>14625       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d" title="Apply a deriche filter on the image.">deriche</a>(sigma,order,axe,cond);
<a name="l14626"></a>14626     }
<a name="l14627"></a>14627 
<a name="l14629"></a>14629 
<a name="l14633"></a><a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2">14633</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigmax,<span class="keyword">const</span> <span class="keywordtype">float</span> sigmay,<span class="keyword">const</span> <span class="keywordtype">float</span> sigmaz,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1) {
<a name="l14634"></a>14634       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l14635"></a>14635         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;1  &amp;&amp; sigmax&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d" title="Apply a deriche filter on the image.">deriche</a>(sigmax,0,<span class="charliteral">&#39;x&#39;</span>,cond);
<a name="l14636"></a>14636         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;1 &amp;&amp; sigmay&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d" title="Apply a deriche filter on the image.">deriche</a>(sigmay,0,<span class="charliteral">&#39;y&#39;</span>,cond);
<a name="l14637"></a>14637         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1  &amp;&amp; sigmaz&gt;0) <a class="code" href="structcimg__library_1_1_c_img.html#a5ed8c92cc96a9083b8310021cde1d37d" title="Apply a deriche filter on the image.">deriche</a>(sigmaz,0,<span class="charliteral">&#39;z&#39;</span>,cond);
<a name="l14638"></a>14638       }
<a name="l14639"></a>14639       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14640"></a>14640     }
<a name="l14641"></a>14641 
<a name="l14643"></a>14643 
<a name="l14644"></a><a class="code" href="structcimg__library_1_1_c_img.html#a02ba0d7847585e04ac727d404005adc7">14644</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a02ba0d7847585e04ac727d404005adc7" title="Blur the image with a Canny-Deriche filter.">blur</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigma,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1) { <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a02ba0d7847585e04ac727d404005adc7" title="Blur the image with a Canny-Deriche filter.">blur</a>(sigma,sigma,sigma,cond); }
<a name="l14645"></a>14645 
<a name="l14647"></a>14647 
<a name="l14650"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5e27225b895209e2cf72b068e8008bad">14650</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a5e27225b895209e2cf72b068e8008bad" title="Return a blurred version of the image, using a Canny-Deriche filter.">get_blur</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigmax,<span class="keyword">const</span> <span class="keywordtype">float</span> sigmay,<span class="keyword">const</span> <span class="keywordtype">float</span> sigmaz,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1)<span class="keyword"> const </span>{
<a name="l14651"></a>14651       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(sigmax,sigmay,sigmaz,cond);
<a name="l14652"></a>14652     }
<a name="l14653"></a>14653 
<a name="l14655"></a><a class="code" href="structcimg__library_1_1_c_img.html#a25c5a6d6345ad5224efc3942df21913e">14655</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a25c5a6d6345ad5224efc3942df21913e" title="Return a blurred version of the image, using a Canny-Deriche filter.">get_blur</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> sigma,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cond=1)<span class="keyword"> const </span>{
<a name="l14656"></a>14656       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(sigma,cond);
<a name="l14657"></a>14657     }
<a name="l14658"></a>14658 
<a name="l14660"></a>14660 
<a name="l14661"></a>14661     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l14662"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023">14662</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; G, <span class="keyword">const</span> <span class="keywordtype">float</span> amplitude=60.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,<span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f,
<a name="l14663"></a>14663                            <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>) {
<a name="l14664"></a>14664 <span class="preprocessor">#define cimg_valign2d(i,j) \</span>
<a name="l14665"></a>14665 <span class="preprocessor">    { ftype &amp;u = W(i,j,0,0), &amp;v = W(i,j,0,1); \</span>
<a name="l14666"></a>14666 <span class="preprocessor">    if (u*curru + v*currv&lt;0) { u=-u; v=-v; }}</span>
<a name="l14667"></a>14667 <span class="preprocessor"></span><span class="preprocessor">#define cimg_valign3d(i,j,k) \</span>
<a name="l14668"></a>14668 <span class="preprocessor">    { ftype &amp;u = W(i,j,k,0), &amp;v = W(i,j,k,1), &amp;w = W(i,j,k,2); \</span>
<a name="l14669"></a>14669 <span class="preprocessor">    if (u*curru + v*currv + w*currw&lt;0) { u=-u; v=-v; w=-w; }}</span>
<a name="l14670"></a>14670 <span class="preprocessor"></span>
<a name="l14671"></a>14671       <span class="comment">// Check arguments and init variables</span>
<a name="l14672"></a>14672       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l14673"></a>14673       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() &amp;&amp; amplitude&gt;0) {
<a name="l14674"></a>14674         <span class="keywordflow">if</span> (G.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || (G.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=3 &amp;&amp; G.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=6) || G.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || G.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || G.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)
<a name="l14675"></a>14675           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::blur_anisotropic() : Specified tensor field (%u,%u,%u,%u) is not valid.&quot;</span>,
<a name="l14676"></a>14676                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),G.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,G.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,G.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,G.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l14677"></a>14677 
<a name="l14678"></a>14678         <span class="keyword">const</span> <span class="keywordtype">float</span> sqrt2amplitude = (float)std::sqrt(2*amplitude);
<a name="l14679"></a>14679         <span class="keyword">const</span> <span class="keywordtype">bool</span> threed = (G.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>&gt;=6);
<a name="l14680"></a>14680         <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14681"></a>14681           dx1 = <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1,
<a name="l14682"></a>14682           dy1 = <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-1,
<a name="l14683"></a>14683           dz1 = <a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>()-1;
<a name="l14684"></a>14684         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a>
<a name="l14685"></a>14685           dest(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,0),
<a name="l14686"></a>14686           W(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,threed?4:3),
<a name="l14687"></a>14687           tmp(dim);
<a name="l14688"></a>14688         <span class="keywordtype">int</span> N = 0;
<a name="l14689"></a>14689 
<a name="l14690"></a>14690         <span class="keywordflow">if</span> (threed)
<a name="l14691"></a>14691           <span class="comment">// 3D version of the algorithm</span>
<a name="l14692"></a>14692           <span class="keywordflow">for</span> (<span class="keywordtype">float</span> phi=(180%(<span class="keywordtype">int</span>)da)/2.0f; phi&lt;=180; phi+=da) {
<a name="l14693"></a>14693             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14694"></a>14694               phir = (float)(phi*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/180),
<a name="l14695"></a>14695               datmp = (float)(da/std::cos(phir)),
<a name="l14696"></a>14696               da2 = datmp&lt;1?360.0f:datmp;
<a name="l14697"></a>14697 
<a name="l14698"></a>14698             <span class="keywordflow">for</span> (<span class="keywordtype">float</span> theta=0; theta&lt;360; (theta+=da2),N++) {
<a name="l14699"></a>14699               <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14700"></a>14700                 thetar = (float)(theta*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/180),
<a name="l14701"></a>14701                 vx = (float)(std::cos(thetar)*<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(phir)),
<a name="l14702"></a>14702                 vy = (<span class="keywordtype">float</span>)(<a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">std::sin</a>(thetar)*<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(phir)),
<a name="l14703"></a>14703                 vz = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">std::sin</a>(phir);
<a name="l14704"></a>14704               <span class="keyword">const</span> t
<a name="l14705"></a>14705                 *pa = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0),
<a name="l14706"></a>14706                 *pb = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1),
<a name="l14707"></a>14707                 *pc = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2),
<a name="l14708"></a>14708                 *pd = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3),
<a name="l14709"></a>14709                 *pe = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,4),
<a name="l14710"></a>14710                 *pf = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,5);
<a name="l14711"></a>14711               ftype
<a name="l14712"></a>14712                 *pd0 = W.ptr(0,0,0,0),
<a name="l14713"></a>14713                 *pd1 = W.ptr(0,0,0,1),
<a name="l14714"></a>14714                 *pd2 = W.ptr(0,0,0,2),
<a name="l14715"></a>14715                 *pd3 = W.ptr(0,0,0,3);
<a name="l14716"></a>14716               cimg_forXYZ(G,xg,yg,zg) {
<a name="l14717"></a>14717                 <span class="keyword">const</span> t
<a name="l14718"></a>14718                   a = *(pa++), b = *(pb++), c = *(pc++),
<a name="l14719"></a>14719                   d = *(pd++), e = *(pe++), f = *(pf++);
<a name="l14720"></a>14720                 <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14721"></a>14721                   u = (float)(a*vx + b*vy + c*vz),
<a name="l14722"></a>14722                   v = (float)(b*vx + d*vy + e*vz),
<a name="l14723"></a>14723                   w = (float)(c*vx + e*vy + f*vz),
<a name="l14724"></a>14724                   n = (float)std::sqrt(1e-5+u*u+v*v+w*w),
<a name="l14725"></a>14725                   dln = dl/n;
<a name="l14726"></a>14726                 *(pd0++) = (ftype)(u*dln);
<a name="l14727"></a>14727                 *(pd1++) = (ftype)(v*dln);
<a name="l14728"></a>14728                 *(pd2++) = (ftype)(w*dln);
<a name="l14729"></a>14729                 *(pd3++) = (ftype)n;
<a name="l14730"></a>14730               }
<a name="l14731"></a>14731 
<a name="l14732"></a>14732               cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l14733"></a>14733                 tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l14734"></a>14734                 <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14735"></a>14735                   cu = (float)W(x,y,z,0),
<a name="l14736"></a>14736                   cv = (float)W(x,y,z,1),
<a name="l14737"></a>14737                   cw = (float)W(x,y,z,2),
<a name="l14738"></a>14738                   n  = (float)W(x,y,z,3),
<a name="l14739"></a>14739                   fsigma = (float)(n*sqrt2amplitude),
<a name="l14740"></a>14740                   length = gauss_prec*fsigma,
<a name="l14741"></a>14741                   fsigma2 = 2*fsigma*fsigma;
<a name="l14742"></a>14742                 <span class="keywordtype">float</span>
<a name="l14743"></a>14743                   S = 0,
<a name="l14744"></a>14744                   pu = cu,
<a name="l14745"></a>14745                   pv = cv,
<a name="l14746"></a>14746                   pw = cw,
<a name="l14747"></a>14747                   X = (float)x,
<a name="l14748"></a>14748                   Y = (<span class="keywordtype">float</span>)y,
<a name="l14749"></a>14749                   Z = (float)z;
<a name="l14750"></a>14750 
<a name="l14751"></a>14751                 <span class="keywordflow">switch</span> (interpolation) {
<a name="l14752"></a>14752                 <span class="keywordflow">case</span> 0:
<a name="l14753"></a>14753                   <span class="comment">// Nearest neighbor</span>
<a name="l14754"></a>14754                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1 &amp;&amp; Z&gt;=0 &amp;&amp; Z&lt;=dz1; l+=dl) {
<a name="l14755"></a>14755                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14756"></a>14756                       cx = (int)(X+0.5f),
<a name="l14757"></a>14757                       cy = (int)(Y+0.5f),
<a name="l14758"></a>14758                       cz = (int)(Z+0.5f);
<a name="l14759"></a>14759                     <span class="keywordtype">float</span>
<a name="l14760"></a>14760                       u = (float)W(cx,cy,cz,0),
<a name="l14761"></a>14761                       v = (float)W(cx,cy,cz,1),
<a name="l14762"></a>14762                       w = (float)W(cx,cy,cz,2);
<a name="l14763"></a>14763                     <span class="keywordflow">if</span> ((pu*u + pv*v + pw*w)&lt;0) { u=-u; v=-v; w=-w; }
<a name="l14764"></a>14764                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(*<span class="keyword">this</span>)(cx,cy,cz,k); S++; }
<a name="l14765"></a>14765                     <span class="keywordflow">else</span> {
<a name="l14766"></a>14766                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14767"></a>14767                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*(*<span class="keyword">this</span>)(cx,cy,cz,k));
<a name="l14768"></a>14768                       S+=coef;
<a name="l14769"></a>14769                     }
<a name="l14770"></a>14770                     X+=(pu=u); Y+=(pv=v); Z+=(pw=w);
<a name="l14771"></a>14771                   } <span class="keywordflow">break</span>;
<a name="l14772"></a>14772 
<a name="l14773"></a>14773                 <span class="keywordflow">case</span> 1:
<a name="l14774"></a>14774                   <span class="comment">// Linear interpolation</span>
<a name="l14775"></a>14775                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1 &amp;&amp; Z&gt;=0 &amp;&amp; Z&lt;=dz1; l+=dl) {
<a name="l14776"></a>14776                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14777"></a>14777                       cx = (int)X, px = (cx-1&lt;0)?0:cx-1, nx = (cx+1&gt;dx1)?dx1:cx+1,
<a name="l14778"></a>14778                       cy = (<span class="keywordtype">int</span>)Y, py = (cy-1&lt;0)?0:cy-1, ny = (cy+1&gt;dy1)?dy1:cy+1,
<a name="l14779"></a>14779                       cz = (int)Z, pz = (cz-1&lt;0)?0:cz-1, nz = (cz+1&gt;dz1)?dz1:cz+1;
<a name="l14780"></a>14780                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14781"></a>14781                       curru = (float)W(cx,cy,cz,0),
<a name="l14782"></a>14782                       currv = (float)W(cx,cy,cz,1),
<a name="l14783"></a>14783                       currw = (float)W(cx,cy,cz,2);
<a name="l14784"></a>14784                     cimg_valign3d(px,py,pz); cimg_valign3d(cx,py,pz); cimg_valign3d(nx,py,pz);
<a name="l14785"></a>14785                     cimg_valign3d(px,cy,pz); cimg_valign3d(cx,cy,pz); cimg_valign3d(nx,cy,pz);
<a name="l14786"></a>14786                     cimg_valign3d(px,ny,pz); cimg_valign3d(cx,ny,pz); cimg_valign3d(nx,ny,pz);
<a name="l14787"></a>14787                     cimg_valign3d(px,py,cz); cimg_valign3d(cx,py,cz); cimg_valign3d(nx,py,cz);
<a name="l14788"></a>14788                     cimg_valign3d(px,cy,cz);                          cimg_valign3d(nx,cy,cz);
<a name="l14789"></a>14789                     cimg_valign3d(px,ny,cz); cimg_valign3d(cx,ny,cz); cimg_valign3d(nx,ny,cz);
<a name="l14790"></a>14790                     cimg_valign3d(px,py,nz); cimg_valign3d(cx,py,nz); cimg_valign3d(nx,py,nz);
<a name="l14791"></a>14791                     cimg_valign3d(px,cy,nz); cimg_valign3d(cx,cy,nz); cimg_valign3d(nx,cy,nz);
<a name="l14792"></a>14792                     cimg_valign3d(px,ny,nz); cimg_valign3d(cx,ny,nz); cimg_valign3d(nx,ny,nz);
<a name="l14793"></a>14793                     <span class="keywordtype">float</span>
<a name="l14794"></a>14794                       u = (float)(W.linear_pix3d(X,Y,Z,0)),
<a name="l14795"></a>14795                       v = (<span class="keywordtype">float</span>)(W.linear_pix3d(X,Y,Z,1)),
<a name="l14796"></a>14796                       w = (<span class="keywordtype">float</span>)(W.linear_pix3d(X,Y,Z,2));
<a name="l14797"></a>14797                     <span class="keywordflow">if</span> ((pu*u + pv*v + pw*w)&lt;0) { u=-u; v=-v; w=-w; }
<a name="l14798"></a>14798                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)<a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(X,Y,Z,k); S++; }
<a name="l14799"></a>14799                     <span class="keywordflow">else</span> {
<a name="l14800"></a>14800                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14801"></a>14801                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*<a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(X,Y,Z,k));
<a name="l14802"></a>14802                       S+=coef;
<a name="l14803"></a>14803                     }
<a name="l14804"></a>14804                     X+=(pu=u); Y+=(pv=v); Z+=(pw=w);
<a name="l14805"></a>14805                   } <span class="keywordflow">break</span>;
<a name="l14806"></a>14806 
<a name="l14807"></a>14807                 <span class="keywordflow">default</span>:
<a name="l14808"></a>14808                   <span class="comment">// 2nd order Runge Kutta</span>
<a name="l14809"></a>14809                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1 &amp;&amp; Z&gt;=0 &amp;&amp; Z&lt;=dz1; l+=dl) {
<a name="l14810"></a>14810                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14811"></a>14811                       cx = (int)X, px = (cx-1&lt;0)?0:cx-1, nx = (cx+1&gt;dx1)?dx1:cx+1,
<a name="l14812"></a>14812                       cy = (<span class="keywordtype">int</span>)Y, py = (cy-1&lt;0)?0:cy-1, ny = (cy+1&gt;dy1)?dy1:cy+1,
<a name="l14813"></a>14813                       cz = (int)Z, pz = (cz-1&lt;0)?0:cz-1, nz = (cz+1&gt;dz1)?dz1:cz+1;
<a name="l14814"></a>14814                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14815"></a>14815                       curru = (float)W(cx,cy,cz,0),
<a name="l14816"></a>14816                       currv = (float)W(cx,cy,cz,1),
<a name="l14817"></a>14817                       currw = (float)W(cx,cy,cz,2);
<a name="l14818"></a>14818                     cimg_valign3d(px,py,pz); cimg_valign3d(cx,py,pz); cimg_valign3d(nx,py,pz);
<a name="l14819"></a>14819                     cimg_valign3d(px,cy,pz); cimg_valign3d(cx,cy,pz); cimg_valign3d(nx,cy,pz);
<a name="l14820"></a>14820                     cimg_valign3d(px,ny,pz); cimg_valign3d(cx,ny,pz); cimg_valign3d(nx,ny,pz);
<a name="l14821"></a>14821                     cimg_valign3d(px,py,cz); cimg_valign3d(cx,py,cz); cimg_valign3d(nx,py,cz);
<a name="l14822"></a>14822                     cimg_valign3d(px,cy,cz);                          cimg_valign3d(nx,cy,cz);
<a name="l14823"></a>14823                     cimg_valign3d(px,ny,cz); cimg_valign3d(cx,ny,cz); cimg_valign3d(nx,ny,cz);
<a name="l14824"></a>14824                     cimg_valign3d(px,py,nz); cimg_valign3d(cx,py,nz); cimg_valign3d(nx,py,nz);
<a name="l14825"></a>14825                     cimg_valign3d(px,cy,nz); cimg_valign3d(cx,cy,nz); cimg_valign3d(nx,cy,nz);
<a name="l14826"></a>14826                     cimg_valign3d(px,ny,nz); cimg_valign3d(cx,ny,nz); cimg_valign3d(nx,ny,nz);
<a name="l14827"></a>14827                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14828"></a>14828                       u0 = (float)(0.5f*W.linear_pix3d(X,Y,Z,0)),
<a name="l14829"></a>14829                       v0 = (<span class="keywordtype">float</span>)(0.5f*W.linear_pix3d(X,Y,Z,1)),
<a name="l14830"></a>14830                       w0 = (<span class="keywordtype">float</span>)(0.5f*W.linear_pix3d(X,Y,Z,2));
<a name="l14831"></a>14831                     <span class="keywordtype">float</span>
<a name="l14832"></a>14832                       u = (float)(W.linear_pix3d(X+u0,Y+v0,Z+w0,0)),
<a name="l14833"></a>14833                       v = (<span class="keywordtype">float</span>)(W.linear_pix3d(X+u0,Y+v0,Z+w0,1)),
<a name="l14834"></a>14834                       w = (<span class="keywordtype">float</span>)(W.linear_pix3d(X+u0,Y+v0,Z+w0,2));
<a name="l14835"></a>14835                     <span class="keywordflow">if</span> ((pu*u + pv*v + pw*w)&lt;0) { u=-u; v=-v; w=-w; }
<a name="l14836"></a>14836                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)<a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(X,Y,Z,k); S++; }
<a name="l14837"></a>14837                     <span class="keywordflow">else</span> {
<a name="l14838"></a>14838                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14839"></a>14839                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*<a class="code" href="structcimg__library_1_1_c_img.html#a1114549ccbf99f3ac826b172df7510ef" title="Read a pixel value using linear interpolation for the three first coordinates (cx,cy,cz).">linear_pix3d</a>(X,Y,Z,k));
<a name="l14840"></a>14840                       S+=coef;
<a name="l14841"></a>14841                     }
<a name="l14842"></a>14842                     X+=(pu=u); Y+=(pv=v); Z+=(pw=w);
<a name="l14843"></a>14843                   } <span class="keywordflow">break</span>;
<a name="l14844"></a>14844                 }
<a name="l14845"></a>14845                 <span class="keywordflow">if</span> (S&gt;0) cimg_forV(dest,k) dest(x,y,z,k)+=tmp[k]/S;
<a name="l14846"></a>14846                 <span class="keywordflow">else</span> cimg_forV(dest,k) dest(x,y,z,k)+=(ftype)((*<span class="keyword">this</span>)(x,y,z,k));
<a name="l14847"></a>14847 <span class="preprocessor">#ifdef cimg_plugin_greycstoration</span>
<a name="l14848"></a>14848 <span class="preprocessor"></span>                <span class="keywordflow">if</span> (!*(greycstoration_params-&gt;stop_request)) (*greycstoration_params-&gt;counter)++;
<a name="l14849"></a>14849                 <span class="keywordflow">else</span> <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14850"></a>14850 <span class="preprocessor">#endif</span>
<a name="l14851"></a>14851 <span class="preprocessor"></span>              }
<a name="l14852"></a>14852             }
<a name="l14853"></a>14853           } <span class="keywordflow">else</span>
<a name="l14854"></a>14854             <span class="comment">// 2D version of the algorithm</span>
<a name="l14855"></a>14855             <span class="keywordflow">for</span> (<span class="keywordtype">float</span> theta=(360%(<span class="keywordtype">int</span>)da)/2.0f; theta&lt;360; (theta+=da),N++) {
<a name="l14856"></a>14856               <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14857"></a>14857                 thetar = (float)(theta*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/180),
<a name="l14858"></a>14858                 vx = (float)(std::cos(thetar)),
<a name="l14859"></a>14859                 vy = (<span class="keywordtype">float</span>)(<a class="code" href="structcimg__library_1_1_c_img.html#a9c15b23160795b53834a54e0d72d13cd" title="Replace each image pixel by its sinus.">std::sin</a>(thetar));
<a name="l14860"></a>14860               <span class="keyword">const</span> t
<a name="l14861"></a>14861                 *pa = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0),
<a name="l14862"></a>14862                 *pb = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1),
<a name="l14863"></a>14863                 *pc = G.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l14864"></a>14864               ftype
<a name="l14865"></a>14865                 *pd0 = W.ptr(0,0,0,0),
<a name="l14866"></a>14866                 *pd1 = W.ptr(0,0,0,1),
<a name="l14867"></a>14867                 *pd2 = W.ptr(0,0,0,2);
<a name="l14868"></a>14868               cimg_forXY(G,xg,yg) {
<a name="l14869"></a>14869                 <span class="keyword">const</span> t a = *(pa++), b = *(pb++), c = *(pc++);
<a name="l14870"></a>14870                 <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14871"></a>14871                   u = (float)(a*vx + b*vy),
<a name="l14872"></a>14872                   v = (float)(b*vx + c*vy),
<a name="l14873"></a>14873                   n = (float)std::sqrt(1e-5+u*u+v*v),
<a name="l14874"></a>14874                   dln = dl/n;
<a name="l14875"></a>14875                 *(pd0++) = (ftype)(u*dln);
<a name="l14876"></a>14876                 *(pd1++) = (ftype)(v*dln);
<a name="l14877"></a>14877                 *(pd2++) = (ftype)n;
<a name="l14878"></a>14878               }
<a name="l14879"></a>14879 
<a name="l14880"></a>14880               cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l14881"></a>14881                 tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l14882"></a>14882                 <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14883"></a>14883                   cu = (float)W(x,y,0,0),
<a name="l14884"></a>14884                   cv = (float)W(x,y,0,1),
<a name="l14885"></a>14885                   n  = (float)W(x,y,0,2),
<a name="l14886"></a>14886                   fsigma = (float)(n*sqrt2amplitude),
<a name="l14887"></a>14887                   length = gauss_prec*fsigma,
<a name="l14888"></a>14888                   fsigma2 = 2*fsigma*fsigma;
<a name="l14889"></a>14889                 <span class="keywordtype">float</span>
<a name="l14890"></a>14890                   S = 0,
<a name="l14891"></a>14891                   pu = cu,
<a name="l14892"></a>14892                   pv = cv,
<a name="l14893"></a>14893                   X = (float)x,
<a name="l14894"></a>14894                   Y = (<span class="keywordtype">float</span>)y;
<a name="l14895"></a>14895 
<a name="l14896"></a>14896                 <span class="keywordflow">switch</span> (interpolation) {
<a name="l14897"></a>14897 
<a name="l14898"></a>14898                 <span class="keywordflow">case</span> 0:
<a name="l14899"></a>14899                   <span class="comment">// Nearest-neighbor interpolation for 2D images</span>
<a name="l14900"></a>14900                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1; l+=dl) {
<a name="l14901"></a>14901                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14902"></a>14902                       cx = (int)(X+0.5f),
<a name="l14903"></a>14903                       cy = (int)(Y+0.5f);
<a name="l14904"></a>14904                     <span class="keywordtype">float</span>
<a name="l14905"></a>14905                       u = (float)W(cx,cy,0,0),
<a name="l14906"></a>14906                       v = (float)W(cx,cy,0,1);
<a name="l14907"></a>14907                     <span class="keywordflow">if</span> ((pu*u + pv*v)&lt;0) { u=-u; v=-v; }
<a name="l14908"></a>14908                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(*<span class="keyword">this</span>)(cx,cy,0,k); S++; }
<a name="l14909"></a>14909                     <span class="keywordflow">else</span> {
<a name="l14910"></a>14910                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14911"></a>14911                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*(*<span class="keyword">this</span>)(cx,cy,0,k));
<a name="l14912"></a>14912                       S+=coef;
<a name="l14913"></a>14913                     }
<a name="l14914"></a>14914                     X+=(pu=u); Y+=(pv=v);
<a name="l14915"></a>14915                   } <span class="keywordflow">break</span>;
<a name="l14916"></a>14916 
<a name="l14917"></a>14917                 <span class="keywordflow">case</span> 1:
<a name="l14918"></a>14918                   <span class="comment">// Linear interpolation for 2D images</span>
<a name="l14919"></a>14919                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1; l+=dl) {
<a name="l14920"></a>14920                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14921"></a>14921                       cx = (int)X, px = (cx-1&lt;0)?0:cx-1, nx = (cx+1&gt;dx1)?dx1:cx+1,
<a name="l14922"></a>14922                       cy = (<span class="keywordtype">int</span>)Y, py = (cy-1&lt;0)?0:cy-1, ny = (cy+1&gt;dy1)?dy1:cy+1;
<a name="l14923"></a>14923                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14924"></a>14924                       curru = (float)W(cx,cy,0,0),
<a name="l14925"></a>14925                       currv = (float)W(cx,cy,0,1);
<a name="l14926"></a>14926                     cimg_valign2d(px,py); cimg_valign2d(cx,py); cimg_valign2d(nx,py);
<a name="l14927"></a>14927                     cimg_valign2d(px,cy);                       cimg_valign2d(nx,cy);
<a name="l14928"></a>14928                     cimg_valign2d(px,ny); cimg_valign2d(cx,ny); cimg_valign2d(nx,ny);
<a name="l14929"></a>14929                     <span class="keywordtype">float</span>
<a name="l14930"></a>14930                       u = (float)(W.linear_pix2d(X,Y,0,0)),
<a name="l14931"></a>14931                       v = (<span class="keywordtype">float</span>)(W.linear_pix2d(X,Y,0,1));
<a name="l14932"></a>14932                     <span class="keywordflow">if</span> ((pu*u + pv*v)&lt;0) { u=-u; v=-v; }
<a name="l14933"></a>14933                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,0,k); S++; }
<a name="l14934"></a>14934                     <span class="keywordflow">else</span> {
<a name="l14935"></a>14935                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14936"></a>14936                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,0,k));
<a name="l14937"></a>14937                       S+=coef;
<a name="l14938"></a>14938                     }
<a name="l14939"></a>14939                     X+=(pu=u); Y+=(pv=v);
<a name="l14940"></a>14940                   } <span class="keywordflow">break</span>;
<a name="l14941"></a>14941 
<a name="l14942"></a>14942                 <span class="keywordflow">default</span>:
<a name="l14943"></a>14943                   <span class="comment">// 2nd-order Runge-kutta interpolation for 2D images</span>
<a name="l14944"></a>14944                   <span class="keywordflow">for</span> (<span class="keywordtype">float</span> l=0; l&lt;length &amp;&amp; X&gt;=0 &amp;&amp; X&lt;=dx1 &amp;&amp; Y&gt;=0 &amp;&amp; Y&lt;=dy1; l+=dl) {
<a name="l14945"></a>14945                     <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l14946"></a>14946                       cx = (int)X, px = (cx-1&lt;0)?0:cx-1, nx = (cx+1&gt;dx1)?dx1:cx+1,
<a name="l14947"></a>14947                       cy = (<span class="keywordtype">int</span>)Y, py = (cy-1&lt;0)?0:cy-1, ny = (cy+1&gt;dy1)?dy1:cy+1;
<a name="l14948"></a>14948                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14949"></a>14949                       curru = (float)W(cx,cy,0,0),
<a name="l14950"></a>14950                       currv = (float)W(cx,cy,0,1);
<a name="l14951"></a>14951                     cimg_valign2d(px,py); cimg_valign2d(cx,py); cimg_valign2d(nx,py);
<a name="l14952"></a>14952                     cimg_valign2d(px,cy);                       cimg_valign2d(nx,cy);
<a name="l14953"></a>14953                     cimg_valign2d(px,ny); cimg_valign2d(cx,ny); cimg_valign2d(nx,ny);
<a name="l14954"></a>14954                     <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l14955"></a>14955                       u0 = (float)(0.5f*W.linear_pix2d(X,Y,0,0)),
<a name="l14956"></a>14956                       v0 = (<span class="keywordtype">float</span>)(0.5f*W.linear_pix2d(X,Y,0,1));
<a name="l14957"></a>14957                     <span class="keywordtype">float</span>
<a name="l14958"></a>14958                       u = (float)(W.linear_pix2d(X+u0,Y+v0,0,0)),
<a name="l14959"></a>14959                       v = (<span class="keywordtype">float</span>)(W.linear_pix2d(X+u0,Y+v0,0,1));
<a name="l14960"></a>14960                     <span class="keywordflow">if</span> ((pu*u + pv*v)&lt;0) { u=-u; v=-v; }
<a name="l14961"></a>14961                     <span class="keywordflow">if</span> (fast_approx) { cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,0,k); S++; }
<a name="l14962"></a>14962                     <span class="keywordflow">else</span> {
<a name="l14963"></a>14963                       <span class="keyword">const</span> <span class="keywordtype">float</span> coef = (float)std::exp(-l*l/fsigma2);
<a name="l14964"></a>14964                       cimg_forV(*<span class="keyword">this</span>,k) tmp[k]+=(ftype)(coef*<a class="code" href="structcimg__library_1_1_c_img.html#aef4529ff9352c692ad156b889ed2467e" title="Read a pixel value using linear interpolation for the two first coordinates (cx,cy).">linear_pix2d</a>(X,Y,0,k));
<a name="l14965"></a>14965                       S+=coef;
<a name="l14966"></a>14966                     }
<a name="l14967"></a>14967                     X+=(pu=u); Y+=(pv=v);
<a name="l14968"></a>14968                   } <span class="keywordflow">break</span>;
<a name="l14969"></a>14969                 }
<a name="l14970"></a>14970                 <span class="keywordflow">if</span> (S&gt;0) cimg_forV(dest,k) dest(x,y,0,k)+=tmp[k]/S;
<a name="l14971"></a>14971                 <span class="keywordflow">else</span> cimg_forV(dest,k) dest(x,y,0,k)+=(ftype)((*<span class="keyword">this</span>)(x,y,0,k));
<a name="l14972"></a>14972 <span class="preprocessor">#ifdef cimg_plugin_greycstoration</span>
<a name="l14973"></a>14973 <span class="preprocessor"></span>                <span class="keywordflow">if</span> (!*(greycstoration_params-&gt;stop_request)) (*greycstoration_params-&gt;counter)++;
<a name="l14974"></a>14974                 <span class="keywordflow">else</span> <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14975"></a>14975 <span class="preprocessor">#endif</span>
<a name="l14976"></a>14976 <span class="preprocessor"></span>              }
<a name="l14977"></a>14977             }
<a name="l14978"></a>14978         <span class="keyword">const</span> ftype *ptrs = dest.data+dest.size();
<a name="l14979"></a>14979         <span class="keyword">const</span> T m = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;T&gt;::min</a>(), M = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;T&gt;::max</a>();
<a name="l14980"></a>14980         cimg_for(*<span class="keyword">this</span>,ptrd,T) { <span class="keyword">const</span> ftype val = *(--ptrs)/N; *ptrd = val&lt;m?m:(val&gt;M?M:(T)val); }
<a name="l14981"></a>14981       }
<a name="l14982"></a>14982       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l14983"></a>14983     }
<a name="l14984"></a>14984 
<a name="l14986"></a>14986 
<a name="l14995"></a>14995     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l14996"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa8f424352f81af958edfaf4603d021c6">14996</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa8f424352f81af958edfaf4603d021c6" title="Get a blurred version of an image following a field of diffusion tensors.">get_blur_anisotropic</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; G, <span class="keyword">const</span> <span class="keywordtype">float</span> amplitude=60.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,<span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f,
<a name="l14997"></a>14997                                 <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l14998"></a>14998       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(G,amplitude,dl,da,gauss_prec,interpolation,fast_approx);
<a name="l14999"></a>14999     }
<a name="l15000"></a>15000 
<a name="l15002"></a>15002     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tm&gt;
<a name="l15003"></a><a class="code" href="structcimg__library_1_1_c_img.html#a90933be598bee3dbe864b51e16b05c93">15003</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tm&gt;</a>&amp; mask, <span class="keyword">const</span> <span class="keywordtype">float</span> amplitude, <span class="keyword">const</span> <span class="keywordtype">float</span> sharpness=0.7f, <span class="keyword">const</span> <span class="keywordtype">float</span> anisotropy=0.3f,
<a name="l15004"></a>15004                              <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.6f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,<span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f,
<a name="l15005"></a>15005                              <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>,
<a name="l15006"></a>15006                              <span class="keyword">const</span> <span class="keywordtype">float</span> geom_factor=1.0f) {
<a name="l15007"></a>15007       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() &amp;&amp; amplitude&gt;0) {
<a name="l15008"></a>15008         <span class="keywordflow">if</span> (amplitude==0) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15009"></a>15009         <span class="keywordflow">if</span> (amplitude&lt;0 || sharpness&lt;0 || anisotropy&lt;0 || anisotropy&gt;1 || alpha&lt;0 || sigma&lt;0 || dl&lt;0 || da&lt;0 || gauss_prec&lt;0)
<a name="l15010"></a>15010           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::blur_anisotropic() : Given parameters are amplitude(%g), sharpness(%g), &quot;</span>
<a name="l15011"></a>15011                                       <span class="stringliteral">&quot;anisotropy(%g), alpha(%g), sigma(%g), dl(%g), da(%g), gauss_prec(%g).\n&quot;</span>
<a name="l15012"></a>15012                                       <span class="stringliteral">&quot;Admissible parameters are in the range : amplitude&gt;0, sharpness&gt;0, anisotropy in [0,1], &quot;</span>
<a name="l15013"></a>15013                                       <span class="stringliteral">&quot;alpha&gt;0, sigma&gt;0, dl&gt;0, da&gt;0, gauss_prec&gt;0.&quot;</span>,
<a name="l15014"></a>15014                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),amplitude,sharpness,anisotropy,alpha,sigma,dl,da,gauss_prec);
<a name="l15015"></a>15015         <span class="keyword">const</span> <span class="keywordtype">bool</span> threed = (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1), no_mask = mask.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>();
<a name="l15016"></a>15016         <span class="keyword">const</span> <span class="keywordtype">float</span> nsharpness = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(sharpness,1e-5f), power1 = 0.5f*nsharpness, power2 = power1/(1e-7f+1.0f-anisotropy);
<a name="l15017"></a>15017 
<a name="l15018"></a>15018         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> blurred = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(alpha);
<a name="l15019"></a>15019         <span class="keywordflow">if</span> (geom_factor&gt;0) blurred*=geom_factor;
<a name="l15020"></a>15020         <span class="keywordflow">else</span> blurred.<a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b" title="Linear normalization of the pixel values between a and b.">normalize</a>(0,-geom_factor);
<a name="l15021"></a>15021 
<a name="l15022"></a>15022         <span class="keywordflow">if</span> (threed) { <span class="comment">// Field for 3D volumes</span>
<a name="l15023"></a>15023           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> val(3), vec(3,3), G(blurred.<a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102" title="Return the 3D structure tensor field of an image.">get_structure_tensorXYZ</a>());
<a name="l15024"></a>15024           <span class="keywordflow">if</span> (sigma&gt;0) G.<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(sigma);
<a name="l15025"></a>15025           cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l15026"></a>15026             <span class="keywordflow">if</span> (no_mask || mask(x,y,z)) {
<a name="l15027"></a>15027               G.get_tensor_at(x,y,z).symmetric_eigen(val,vec);
<a name="l15028"></a>15028               <span class="keyword">const</span> <span class="keywordtype">float</span> l1 = val[2], l2 = val[1], l3 = val[0],
<a name="l15029"></a>15029                 ux = vec(0,0), uy = vec(0,1), uz = vec(0,2),
<a name="l15030"></a>15030                 vx = vec(1,0), vy = vec(1,1), vz = vec(1,2),
<a name="l15031"></a>15031                 wx = vec(2,0), wy = vec(2,1), wz = vec(2,2),
<a name="l15032"></a>15032                 n1 = (float)std::pow(1.0f+l1+l2+l3,-power1),
<a name="l15033"></a>15033                 n2 = (float)std::pow(1.0f+l1+l2+l3,-power2);
<a name="l15034"></a>15034               G(x,y,z,0) = n1*(ux*ux + vx*vx) + n2*wx*wx;
<a name="l15035"></a>15035               G(x,y,z,1) = n1*(ux*uy + vx*vy) + n2*wx*wy;
<a name="l15036"></a>15036               G(x,y,z,2) = n1*(ux*uz + vx*vz) + n2*wx*wz;
<a name="l15037"></a>15037               G(x,y,z,3) = n1*(uy*uy + vy*vy) + n2*wy*wy;
<a name="l15038"></a>15038               G(x,y,z,4) = n1*(uy*uz + vy*vz) + n2*wy*wz;
<a name="l15039"></a>15039               G(x,y,z,5) = n1*(uz*uz + vz*vz) + n2*wz*wz;
<a name="l15040"></a>15040             } <span class="keywordflow">else</span> G(x,y,z,0) = G(x,y,z,1) = G(x,y,z,2) = G(x,y,z,3) = G(x,y,z,4) = G(x,y,z,5) = 0;
<a name="l15041"></a>15041 <span class="preprocessor">#ifdef cimg_plugin_greycstoration</span>
<a name="l15042"></a>15042 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (!*(greycstoration_params-&gt;stop_request)) (*greycstoration_params-&gt;counter)++;
<a name="l15043"></a>15043             <span class="keywordflow">else</span> <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15044"></a>15044 <span class="preprocessor">#endif</span>
<a name="l15045"></a>15045 <span class="preprocessor"></span>          }
<a name="l15046"></a>15046           <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(G,amplitude,dl,da,gauss_prec,interpolation,fast_approx);
<a name="l15047"></a>15047         } <span class="keywordflow">else</span> { <span class="comment">// Field for 2D images</span>
<a name="l15048"></a>15048           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> val(2), vec(2,2), G(blurred.<a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98" title="Return the 2D structure tensor field of an image.">get_structure_tensorXY</a>());
<a name="l15049"></a>15049           <span class="keywordflow">if</span> (sigma&gt;0) G.blur(sigma);
<a name="l15050"></a>15050           cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l15051"></a>15051             <span class="keywordflow">if</span> (no_mask || mask(x,y)) {
<a name="l15052"></a>15052               G.get_tensor_at(x,y).symmetric_eigen(val,vec);
<a name="l15053"></a>15053               <span class="keyword">const</span> <span class="keywordtype">float</span> l1 = val[1], l2 = val[0],
<a name="l15054"></a>15054                 ux = vec(1,0), uy = vec(1,1),
<a name="l15055"></a>15055                 vx = vec(0,0), vy = vec(0,1),
<a name="l15056"></a>15056                 n1 = (float)std::pow(1.0f+l1+l2,-power1),
<a name="l15057"></a>15057                 n2 = (float)std::pow(1.0f+l1+l2,-power2);
<a name="l15058"></a>15058               G(x,y,0,0) = n1*ux*ux + n2*vx*vx;
<a name="l15059"></a>15059               G(x,y,0,1) = n1*ux*uy + n2*vx*vy;
<a name="l15060"></a>15060               G(x,y,0,2) = n1*uy*uy + n2*vy*vy;
<a name="l15061"></a>15061             } <span class="keywordflow">else</span> G(x,y,0,0) = G(x,y,0,1) = G(x,y,0,2) = 0;
<a name="l15062"></a>15062 <span class="preprocessor">#ifdef cimg_plugin_greycstoration</span>
<a name="l15063"></a>15063 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (!*(greycstoration_params-&gt;stop_request)) (*greycstoration_params-&gt;counter)++;
<a name="l15064"></a>15064             <span class="keywordflow">else</span> <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15065"></a>15065 <span class="preprocessor">#endif</span>
<a name="l15066"></a>15066 <span class="preprocessor"></span>          }
<a name="l15067"></a>15067           <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(G,amplitude,dl,da,gauss_prec,interpolation,fast_approx);
<a name="l15068"></a>15068         }
<a name="l15069"></a>15069       }
<a name="l15070"></a>15070       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15071"></a>15071     }
<a name="l15072"></a>15072 
<a name="l15074"></a>15074 
<a name="l15086"></a>15086     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tm&gt;
<a name="l15087"></a><a class="code" href="structcimg__library_1_1_c_img.html#a193ec9934423df0d91f2fbfbd8edd41d">15087</a>       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa8f424352f81af958edfaf4603d021c6" title="Get a blurred version of an image following a field of diffusion tensors.">get_blur_anisotropic</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tm&gt;</a>&amp; mask, <span class="keyword">const</span> <span class="keywordtype">float</span> amplitude, <span class="keyword">const</span> <span class="keywordtype">float</span> sharpness=0.7f, <span class="keyword">const</span> <span class="keywordtype">float</span> anisotropy=0.3f,
<a name="l15088"></a>15088                                 <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.6f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,
<a name="l15089"></a>15089                                 <span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0,
<a name="l15090"></a>15090                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> geom_factor=1.0f)<span class="keyword"> const </span>{
<a name="l15091"></a>15091       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(mask,amplitude,sharpness,anisotropy,alpha,sigma,dl,da,gauss_prec,interpolation,fast_approx,geom_factor);
<a name="l15092"></a>15092     }
<a name="l15093"></a>15093 
<a name="l15095"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae1f84575eb2f9ab5a5747ecdbb42a099">15095</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> amplitude, <span class="keyword">const</span> <span class="keywordtype">float</span> sharpness=0.7f, <span class="keyword">const</span> <span class="keywordtype">float</span> anisotropy=0.3f,
<a name="l15096"></a>15096                            <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.6f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,<span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f,
<a name="l15097"></a>15097                            <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>,
<a name="l15098"></a>15098                            <span class="keyword">const</span> <span class="keywordtype">float</span> geom_factor=1.0f) {
<a name="l15099"></a>15099       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(),amplitude,sharpness,anisotropy,alpha,sigma,dl,da,gauss_prec,interpolation,fast_approx,geom_factor);
<a name="l15100"></a>15100     }
<a name="l15101"></a>15101 
<a name="l15103"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3f67a441b852f4adf1f65816851d6b37">15103</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa8f424352f81af958edfaf4603d021c6" title="Get a blurred version of an image following a field of diffusion tensors.">get_blur_anisotropic</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> amplitude, <span class="keyword">const</span> <span class="keywordtype">float</span> sharpness=0.7f, <span class="keyword">const</span> <span class="keywordtype">float</span> anisotropy=0.3f,
<a name="l15104"></a>15104                               <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.6f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=1.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> dl=0.8f,
<a name="l15105"></a>15105                               <span class="keyword">const</span> <span class="keywordtype">float</span> da=30.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> gauss_prec=2.0f, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interpolation=0,
<a name="l15106"></a>15106                               <span class="keyword">const</span> <span class="keywordtype">bool</span> fast_approx=<span class="keyword">true</span>, <span class="keyword">const</span> <span class="keywordtype">float</span> geom_factor=1.0f)<span class="keyword"> const </span>{
<a name="l15107"></a>15107       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a7a1d14a82da58988859f7a04f74ad023" title="Blur an image following a field of diffusion tensors.">blur_anisotropic</a>(amplitude,sharpness,anisotropy,alpha,sigma,dl,da,gauss_prec,interpolation,fast_approx,geom_factor);
<a name="l15108"></a>15108     }
<a name="l15109"></a>15109 
<a name="l15111"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2639069ab358008f2168381e2bc04d75">15111</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a2639069ab358008f2168381e2bc04d75" title="Return the Fast Fourier Transform of an image (along a specified axis).">get_FFT</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe, <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l15112"></a>15112       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l15113"></a>15113       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).FFT(axe,<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l15114"></a>15114     }
<a name="l15115"></a>15115 
<a name="l15117"></a><a class="code" href="structcimg__library_1_1_c_img.html#aad4e7a99f38686b4d399b2afe7ca2d1f">15117</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#aad4e7a99f38686b4d399b2afe7ca2d1f" title="Return the Fast Fourier Transform on an image.">get_FFT</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l15118"></a>15118       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l15119"></a>15119       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).FFT(<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l15120"></a>15120     }
<a name="l15121"></a>15121 
<a name="l15123"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9f31f9c2980b27d89c5df322807a7a3e">15123</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9f31f9c2980b27d89c5df322807a7a3e" title="Apply a median filter.">get_blur_median</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=3) {
<a name="l15124"></a>15124       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l15125"></a>15125       <span class="keywordflow">if</span> (!n || n==1) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15126"></a>15126       <span class="keyword">const</span> <span class="keywordtype">int</span> hl=n/2, hr=hl-1+n%2;
<a name="l15127"></a>15127       <span class="keywordflow">if</span> (res.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1) {  <span class="comment">// 3D median filter</span>
<a name="l15128"></a>15128         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> vois;
<a name="l15129"></a>15129         cimg_forXYZV(*<span class="keyword">this</span>,x,y,z,k) {
<a name="l15130"></a>15130           vois = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x-hl,y-hl,z-hl,k,x+hr,y+hr,z+hr,k);
<a name="l15131"></a>15131           res(x,y,z,k) = vois.<a class="code" href="structcimg__library_1_1_c_img.html#a1d86298850f10e5c23f12bc7d0d76cef" title="Return the median of the image.">median</a>();
<a name="l15132"></a>15132         }
<a name="l15133"></a>15133       } <span class="keywordflow">else</span> { <span class="comment">// 2D median filter</span>
<a name="l15134"></a>15134 <span class="preprocessor">#define _median_sort(a,b) if ((a)&gt;(b)) cimg::swap(a,b)</span>
<a name="l15135"></a>15135 <span class="preprocessor"></span>        <span class="keywordflow">switch</span> (n) {
<a name="l15136"></a>15136         <span class="keywordflow">case</span> 3: {
<a name="l15137"></a>15137           CImg_3x3(I,T);
<a name="l15138"></a>15138           CImg_3x3(J,T);
<a name="l15139"></a>15139           cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,0,k,I) {
<a name="l15140"></a>15140             cimg_copy3x3(I,J);
<a name="l15141"></a>15141             _median_sort(Jcp, Jnp); _median_sort(Jcc, Jnc); _median_sort(Jcn, Jnn);
<a name="l15142"></a>15142             _median_sort(Jpp, Jcp); _median_sort(Jpc, Jcc); _median_sort(Jpn, Jcn);
<a name="l15143"></a>15143             _median_sort(Jcp, Jnp); _median_sort(Jcc, Jnc); _median_sort(Jcn, Jnn);
<a name="l15144"></a>15144             _median_sort(Jpp, Jpc); _median_sort(Jnc, Jnn); _median_sort(Jcc, Jcn);
<a name="l15145"></a>15145             _median_sort(Jpc, Jpn); _median_sort(Jcp, Jcc); _median_sort(Jnp, Jnc);
<a name="l15146"></a>15146             _median_sort(Jcc, Jcn); _median_sort(Jcc, Jnp); _median_sort(Jpn, Jcc);
<a name="l15147"></a>15147             _median_sort(Jcc, Jnp);
<a name="l15148"></a>15148             res(x,y,0,k) = Jcc;
<a name="l15149"></a>15149           }
<a name="l15150"></a>15150         } <span class="keywordflow">break</span>;
<a name="l15151"></a>15151         <span class="keywordflow">case</span> 5: {
<a name="l15152"></a>15152           CImg_5x5(I,T);
<a name="l15153"></a>15153           CImg_5x5(J,T);
<a name="l15154"></a>15154           cimg_forV(*<span class="keyword">this</span>,k) cimg_for5x5(*<span class="keyword">this</span>,x,y,0,k,I) {
<a name="l15155"></a>15155             cimg_copy5x5(I,J);
<a name="l15156"></a>15156             _median_sort(Jbb, Jpb); _median_sort(Jnb, Jab); _median_sort(Jcb, Jab); _median_sort(Jcb, Jnb);
<a name="l15157"></a>15157             _median_sort(Jpp, Jcp); _median_sort(Jbp, Jcp); _median_sort(Jbp, Jpp); _median_sort(Jap, Jbc);
<a name="l15158"></a>15158             _median_sort(Jnp, Jbc); _median_sort(Jnp, Jap); _median_sort(Jcc, Jnc); _median_sort(Jpc, Jnc);
<a name="l15159"></a>15159             _median_sort(Jpc, Jcc); _median_sort(Jbn, Jpn); _median_sort(Jac, Jpn); _median_sort(Jac, Jbn);
<a name="l15160"></a>15160             _median_sort(Jnn, Jan); _median_sort(Jcn, Jan); _median_sort(Jcn, Jnn); _median_sort(Jpa, Jca);
<a name="l15161"></a>15161             _median_sort(Jba, Jca); _median_sort(Jba, Jpa); _median_sort(Jna, Jaa); _median_sort(Jcb, Jbp);
<a name="l15162"></a>15162             _median_sort(Jnb, Jpp); _median_sort(Jbb, Jpp); _median_sort(Jbb, Jnb); _median_sort(Jab, Jcp);
<a name="l15163"></a>15163             _median_sort(Jpb, Jcp); _median_sort(Jpb, Jab); _median_sort(Jpc, Jac); _median_sort(Jnp, Jac);
<a name="l15164"></a>15164             _median_sort(Jnp, Jpc); _median_sort(Jcc, Jbn); _median_sort(Jap, Jbn); _median_sort(Jap, Jcc);
<a name="l15165"></a>15165             _median_sort(Jnc, Jpn); _median_sort(Jbc, Jpn); _median_sort(Jbc, Jnc); _median_sort(Jba, Jna);
<a name="l15166"></a>15166             _median_sort(Jcn, Jna); _median_sort(Jcn, Jba); _median_sort(Jpa, Jaa); _median_sort(Jnn, Jaa);
<a name="l15167"></a>15167             _median_sort(Jnn, Jpa); _median_sort(Jan, Jca); _median_sort(Jnp, Jcn); _median_sort(Jap, Jnn);
<a name="l15168"></a>15168             _median_sort(Jbb, Jnn); _median_sort(Jbb, Jap); _median_sort(Jbc, Jan); _median_sort(Jpb, Jan);
<a name="l15169"></a>15169             _median_sort(Jpb, Jbc); _median_sort(Jpc, Jba); _median_sort(Jcb, Jba); _median_sort(Jcb, Jpc);
<a name="l15170"></a>15170             _median_sort(Jcc, Jpa); _median_sort(Jnb, Jpa); _median_sort(Jnb, Jcc); _median_sort(Jnc, Jca);
<a name="l15171"></a>15171             _median_sort(Jab, Jca); _median_sort(Jab, Jnc); _median_sort(Jac, Jna); _median_sort(Jbp, Jna);
<a name="l15172"></a>15172             _median_sort(Jbp, Jac); _median_sort(Jbn, Jaa); _median_sort(Jpp, Jaa); _median_sort(Jpp, Jbn);
<a name="l15173"></a>15173             _median_sort(Jcp, Jpn); _median_sort(Jcp, Jan); _median_sort(Jnc, Jpa); _median_sort(Jbn, Jna);
<a name="l15174"></a>15174             _median_sort(Jcp, Jnc); _median_sort(Jcp, Jbn); _median_sort(Jpb, Jap); _median_sort(Jnb, Jpc);
<a name="l15175"></a>15175             _median_sort(Jbp, Jcn); _median_sort(Jpc, Jcn); _median_sort(Jap, Jcn); _median_sort(Jab, Jbc);
<a name="l15176"></a>15176             _median_sort(Jpp, Jcc); _median_sort(Jcp, Jac); _median_sort(Jab, Jpp); _median_sort(Jab, Jcp);
<a name="l15177"></a>15177             _median_sort(Jcc, Jac); _median_sort(Jbc, Jac); _median_sort(Jpp, Jcp); _median_sort(Jbc, Jcc);
<a name="l15178"></a>15178             _median_sort(Jpp, Jbc); _median_sort(Jpp, Jcn); _median_sort(Jcc, Jcn); _median_sort(Jcp, Jcn);
<a name="l15179"></a>15179             _median_sort(Jcp, Jbc); _median_sort(Jcc, Jnn); _median_sort(Jcp, Jcc); _median_sort(Jbc, Jnn);
<a name="l15180"></a>15180             _median_sort(Jcc, Jba); _median_sort(Jbc, Jba); _median_sort(Jbc, Jcc);
<a name="l15181"></a>15181             res(x,y,0,k) = Jcc;
<a name="l15182"></a>15182           }
<a name="l15183"></a>15183         } <span class="keywordflow">break</span>;
<a name="l15184"></a>15184         <span class="keywordflow">default</span>: {
<a name="l15185"></a>15185           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> vois;
<a name="l15186"></a>15186           cimg_forXYV(*<span class="keyword">this</span>,x,y,k) {
<a name="l15187"></a>15187             vois = <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(x-hl,y-hl,0,k,x+hr,y+hr,0,k);
<a name="l15188"></a>15188             res(x,y,0,k) = vois.<a class="code" href="structcimg__library_1_1_c_img.html#a1d86298850f10e5c23f12bc7d0d76cef" title="Return the median of the image.">median</a>();
<a name="l15189"></a>15189           }
<a name="l15190"></a>15190         } <span class="keywordflow">break</span>;
<a name="l15191"></a>15191         }
<a name="l15192"></a>15192       }
<a name="l15193"></a>15193       <span class="keywordflow">return</span> res;
<a name="l15194"></a>15194     }
<a name="l15195"></a>15195 
<a name="l15197"></a><a class="code" href="structcimg__library_1_1_c_img.html#aec66b5c98d17186d69b1042d5925a45a">15197</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aec66b5c98d17186d69b1042d5925a45a" title="Apply a median filter.">blur_median</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=3) {
<a name="l15198"></a>15198       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9f31f9c2980b27d89c5df322807a7a3e" title="Apply a median filter.">get_blur_median</a>(n).swap(*<span class="keyword">this</span>);
<a name="l15199"></a>15199     }
<a name="l15200"></a>15200 
<a name="l15202"></a><a class="code" href="structcimg__library_1_1_c_img.html#a082215bbfbfef39b22ec607df8e0f482">15202</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a082215bbfbfef39b22ec607df8e0f482" title="Sharpen image using anisotropic shock filters.">sharpen</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> amplitude=50.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> edge=1.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=0.0f) {
<a name="l15203"></a>15203       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15204"></a>15204       <span class="keyword">const</span> <span class="keywordtype">bool</span> threed = (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1);
<a name="l15205"></a>15205       <span class="keyword">const</span> <span class="keywordtype">float</span> nedge = 0.5f*edge;
<a name="l15206"></a>15206       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l15207"></a>15207       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> val, vec, veloc(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l15208"></a>15208 
<a name="l15209"></a>15209       <span class="keywordflow">if</span> (threed) {
<a name="l15210"></a>15210         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> G = (alpha&gt;0?<a class="code" href="structcimg__library_1_1_c_img.html#a5e27225b895209e2cf72b068e8008bad" title="Return a blurred version of the image, using a Canny-Deriche filter.">get_blur</a>(alpha).<a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102" title="Return the 3D structure tensor field of an image.">get_structure_tensorXYZ</a>():<a class="code" href="structcimg__library_1_1_c_img.html#adab3a45db64fc386a05639e6ff81d102" title="Return the 3D structure tensor field of an image.">get_structure_tensorXYZ</a>());
<a name="l15211"></a>15211         <span class="keywordflow">if</span> (sigma&gt;0) G.<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(sigma);
<a name="l15212"></a>15212         CImg_3x3x3(I,<span class="keywordtype">float</span>);
<a name="l15213"></a>15213         cimg_forXYZ(G,x,y,z) {
<a name="l15214"></a>15214           G.<a class="code" href="structcimg__library_1_1_c_img.html#ab6b97231d7be6d16aa5d17ad061f99a5" title="Return a new image corresponding to the diffusion tensor located at (x,y,z) of the current vector-val...">get_tensor_at</a>(x,y,z).<a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(val,vec);
<a name="l15215"></a>15215           G(x,y,z,0) = vec(0,0);
<a name="l15216"></a>15216           G(x,y,z,1) = vec(0,1);
<a name="l15217"></a>15217           G(x,y,z,2) = vec(0,2);
<a name="l15218"></a>15218           G(x,y,z,3) = 1.0f-(float)std::pow(1.0f+val[0]+val[1]+val[2],-nedge);
<a name="l15219"></a>15219         }
<a name="l15220"></a>15220         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3x3(*<span class="keyword">this</span>,x,y,z,k,I) {
<a name="l15221"></a>15221           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l15222"></a>15222             u = G(x,y,z,0),
<a name="l15223"></a>15223             v = G(x,y,z,1),
<a name="l15224"></a>15224             w = G(x,y,z,2),
<a name="l15225"></a>15225             amp = G(x,y,z,3),
<a name="l15226"></a>15226             ixx = Incc+Ipcc-2*Iccc,
<a name="l15227"></a>15227             ixy = 0.25f*(Innc+Ippc-Inpc-Ipnc),
<a name="l15228"></a>15228             ixz = 0.25f*(Incn+Ipcp-Incp-Ipcn),
<a name="l15229"></a>15229             iyy = Icnc+Icpc-2*Iccc,
<a name="l15230"></a>15230             iyz = 0.25f*(Icnn+Icpp-Icnp-Icpn),
<a name="l15231"></a>15231             izz = Iccn+Iccp-2*Iccc,
<a name="l15232"></a>15232             ixf = Incc-Iccc,
<a name="l15233"></a>15233             ixb = Iccc-Ipcc,
<a name="l15234"></a>15234             iyf = Icnc-Iccc,
<a name="l15235"></a>15235             iyb = Iccc-Icpc,
<a name="l15236"></a>15236             izf = Iccn-Iccc,
<a name="l15237"></a>15237             izb = Iccc-Iccp,
<a name="l15238"></a>15238             itt = u*u*ixx + v*v*iyy + w*w*izz + 2*u*v*ixy + 2*u*w*ixz + 2*v*w*iyz,
<a name="l15239"></a>15239             it = u*<a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">cimg::minmod</a>(ixf,ixb) + v*<a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">cimg::minmod</a>(iyf,iyb) + w*<a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">cimg::minmod</a>(izf,izb);
<a name="l15240"></a>15240           veloc(x,y,z,k) = -amp*<a class="code" href="namespacecimg__library_1_1cimg.html#acb00b9ea45d7c523af71071eaad2fd98" title="Return the sign of x.">cimg::sign</a>(itt)*<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(it);
<a name="l15241"></a>15241         }
<a name="l15242"></a>15242       } <span class="keywordflow">else</span> {
<a name="l15243"></a>15243         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> G = (alpha&gt;0?<a class="code" href="structcimg__library_1_1_c_img.html#a5e27225b895209e2cf72b068e8008bad" title="Return a blurred version of the image, using a Canny-Deriche filter.">get_blur</a>(alpha).<a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98" title="Return the 2D structure tensor field of an image.">get_structure_tensorXY</a>():<a class="code" href="structcimg__library_1_1_c_img.html#a81848f6f08670d76da7804cdfdaeac98" title="Return the 2D structure tensor field of an image.">get_structure_tensorXY</a>());
<a name="l15244"></a>15244         <span class="keywordflow">if</span> (sigma&gt;0) G.<a class="code" href="structcimg__library_1_1_c_img.html#a41a8cd61d97ca8268fcdcafc858f06f2" title="Blur the image with a Deriche filter (anisotropically).">blur</a>(sigma);
<a name="l15245"></a>15245         CImg_3x3(I,<span class="keywordtype">float</span>);
<a name="l15246"></a>15246         cimg_forXY(G,x,y) {
<a name="l15247"></a>15247           G.<a class="code" href="structcimg__library_1_1_c_img.html#ab6b97231d7be6d16aa5d17ad061f99a5" title="Return a new image corresponding to the diffusion tensor located at (x,y,z) of the current vector-val...">get_tensor_at</a>(x,y).<a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(val,vec);
<a name="l15248"></a>15248           G(x,y,0) = vec(0,0);
<a name="l15249"></a>15249           G(x,y,1) = vec(0,1);
<a name="l15250"></a>15250           G(x,y,2) = 1.0f-(float)std::pow(1.0f+val[0]+val[1],-nedge);
<a name="l15251"></a>15251         }
<a name="l15252"></a>15252         cimg_forV(*<span class="keyword">this</span>,k) cimg_for3x3(*<span class="keyword">this</span>,x,y,0,k,I) {
<a name="l15253"></a>15253           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l15254"></a>15254             u = G(x,y,0),
<a name="l15255"></a>15255             v = G(x,y,1),
<a name="l15256"></a>15256             amp = G(x,y,2),
<a name="l15257"></a>15257             ixx = Inc+Ipc-2*Icc,
<a name="l15258"></a>15258             ixy = 0.25f*(Inn+Ipp-Inp-Ipn),
<a name="l15259"></a>15259             iyy = Icn+Icp-2*Icc,
<a name="l15260"></a>15260             ixf = Inc-Icc,
<a name="l15261"></a>15261             ixb = Icc-Ipc,
<a name="l15262"></a>15262             iyf = Icn-Icc,
<a name="l15263"></a>15263             iyb = Icc-Icp,
<a name="l15264"></a>15264             itt = u*u*ixx + v*v*iyy + 2*u*v*ixy,
<a name="l15265"></a>15265             it = u*<a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">cimg::minmod</a>(ixf,ixb) + v*<a class="code" href="namespacecimg__library_1_1cimg.html#a5ae603a367d3f1b9199fc3060336493f" title="Return minmod(a,b).">cimg::minmod</a>(iyf,iyb);
<a name="l15266"></a>15266           veloc(x,y,k) = -amp*<a class="code" href="namespacecimg__library_1_1cimg.html#acb00b9ea45d7c523af71071eaad2fd98" title="Return the sign of x.">cimg::sign</a>(itt)*<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(it);
<a name="l15267"></a>15267         }
<a name="l15268"></a>15268       }
<a name="l15269"></a>15269       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> stats(veloc);
<a name="l15270"></a>15270       <span class="keyword">const</span> <span class="keywordtype">float</span> vmax = (float)<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>),<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>(stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>));
<a name="l15271"></a>15271       <span class="keywordflow">if</span> (vmax!=0) { veloc*=amplitude/vmax; (*this)+=veloc; }
<a name="l15272"></a>15272       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15273"></a>15273     }
<a name="l15274"></a>15274 
<a name="l15275"></a>15275     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_sharpen(<span class="keyword">const</span> <span class="keywordtype">float</span> amplitude=50.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> edge=1.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> alpha=0.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> sigma=0.0f)<span class="keyword"> const </span>{
<a name="l15276"></a>15276       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a082215bbfbfef39b22ec607df8e0f482" title="Sharpen image using anisotropic shock filters.">sharpen</a>(amplitude,edge,alpha,sigma);
<a name="l15277"></a>15277     }
<a name="l15278"></a>15278 
<a name="l15280"></a><a class="code" href="structcimg__library_1_1_c_img.html#a39897fc61dd34f2b4287ee24a7c9559b">15280</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a39897fc61dd34f2b4287ee24a7c9559b" title="Estimate displacement field between instance image and given reference image.">get_displacement_field</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; reference,
<a name="l15281"></a>15281                                                                        <span class="keyword">const</span> <span class="keywordtype">float</span> smooth=0.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> precision=1e-6f,
<a name="l15282"></a>15282                                                                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_scale=0,
<a name="l15283"></a>15283                                                                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> itermax=10000)<span class="keyword"> const </span>{
<a name="l15284"></a>15284 
<a name="l15285"></a>15285       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l15286"></a>15286       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || reference.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15287"></a>15287       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#ad7eed98e5f834320d33a5fe748d1a158" title="Return true if images have same width, same height and same depth.">is_sameXYZ</a>(reference))
<a name="l15288"></a>15288         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::get_displacement_field() : Instance image (%u,%u,%u,%u,%p) and reference image (%u,%u,%u,%u,%p) &quot;</span>
<a name="l15289"></a>15289                                     <span class="stringliteral">&quot;must have same dimensions&quot;</span>,
<a name="l15290"></a>15290                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,
<a name="l15291"></a>15291                                     reference.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,reference.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,reference.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,reference.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,reference.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15292"></a>15292       <span class="keyword">const</span> <span class="keywordtype">bool</span> threed = depth&gt;1;
<a name="l15293"></a>15293       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> u(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,height,depth,threed?3:2,0);
<a name="l15294"></a>15294 
<a name="l15295"></a>15295       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nbs = nb_scale&gt;0?nb_scale:(<span class="keywordtype">unsigned</span> int)(2*std::log((<span class="keywordtype">double</span>)(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,height,depth))));
<a name="l15296"></a>15296       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> scale=nbs-1; scale&gt;=0; scale--) {
<a name="l15297"></a>15297         <span class="keyword">const</span> <span class="keywordtype">float</span> fact = (float)std::pow(1.5f,-(<span class="keywordtype">float</span>)scale);
<a name="l15298"></a>15298         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l15299"></a>15299           tnw = (<span class="keywordtype">unsigned</span> int)(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*fact),  nw = tnw?tnw:1,
<a name="l15300"></a>15300           tnh = (<span class="keywordtype">unsigned</span> int)(height*fact), nh = tnh?tnh:1,
<a name="l15301"></a>15301           tnd = (<span class="keywordtype">unsigned</span> int)(depth*fact),  nd = tnd?tnd:1;
<a name="l15302"></a>15302         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a>
<a name="l15303"></a>15303           I1 = <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(nw,nh,nd,1,3),
<a name="l15304"></a>15304           I2 = reference.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(nw,nh,nd,1,3);
<a name="l15305"></a>15305         I1.<a class="code" href="structcimg__library_1_1_c_img.html#a2c7af7a94c6ada6645257c8cd0ffa791" title="Replace each pixel value with its vector norm.">norm_pointwise</a>(1);
<a name="l15306"></a>15306         I2.<a class="code" href="structcimg__library_1_1_c_img.html#a2c7af7a94c6ada6645257c8cd0ffa791" title="Replace each pixel value with its vector norm.">norm_pointwise</a>(2);
<a name="l15307"></a>15307         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st1(I1,<span class="keyword">false</span>), st2(I2,<span class="keyword">false</span>);
<a name="l15308"></a>15308         <span class="keyword">const</span> <span class="keywordtype">float</span> M = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st1.min),<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st1.max),<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st2.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>),<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(st2.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>));
<a name="l15309"></a>15309         I1/=M; I2/=M;
<a name="l15310"></a>15310         u*=1.5;
<a name="l15311"></a>15311         u.<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(nw,nh,nd,threed?3:2,3);
<a name="l15312"></a>15312         <span class="keywordtype">float</span> dt = 100, E = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;float&gt;::max</a>(), nprecision = nw*nh*nd*precision;
<a name="l15313"></a>15313         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;ftype&gt;</a> dI = threed?I2.<a class="code" href="structcimg__library_1_1_c_img.html#a1e6795a49e69fcae84efce88eea99090" title="Return a list of images, corresponding to the XYZ-gradients of an image.">get_gradientXYZ</a>():I2.get_gradientXY();
<a name="l15314"></a>15314 
<a name="l15315"></a>15315         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iter=0; iter&lt;itermax; iter++) {
<a name="l15316"></a>15316           <span class="keyword">const</span> <span class="keywordtype">float</span> Eold = E;
<a name="l15317"></a>15317           E = 0;
<a name="l15318"></a>15318           <span class="keywordflow">if</span> (threed)
<a name="l15319"></a>15319             cimg_for3XYZ(u,x,y,z) {
<a name="l15320"></a>15320             <span class="keyword">const</span> ftype
<a name="l15321"></a>15321               X = x + u(x,y,z,0),
<a name="l15322"></a>15322               Y = y + u(x,y,z,1),
<a name="l15323"></a>15323               Z = z + u(x,y,z,2),
<a name="l15324"></a>15324               deltaI = (ftype)(I2.linear_pix3d(X,Y,Z) - I1(x,y,z));
<a name="l15325"></a>15325             <span class="keywordtype">float</span> tmpf = 0;
<a name="l15326"></a>15326             cimg_forV(u,k) {
<a name="l15327"></a>15327               <span class="keyword">const</span> ftype
<a name="l15328"></a>15328                 ux  = 0.5f*(u(_nx,y,z,k) - u(_px,y,z,k)),
<a name="l15329"></a>15329                 uy  = 0.5f*(u(x,_ny,z,k) - u(x,_py,z,k)),
<a name="l15330"></a>15330                 uz  = 0.5f*(u(x,y,_nz,k) - u(x,y,_pz,k));
<a name="l15331"></a>15331               u(x,y,z,k) = (ftype)( u(x,y,z,k) +
<a name="l15332"></a>15332                                     dt*(-deltaI*dI[k].linear_pix3d(X,Y,Z) +
<a name="l15333"></a>15333                                         smooth* ( u(_nx,y,z,k) + u(_px,y,z,k) + u(x,_ny,z,k) + u(x,_py,z,k) + u(x,y,_nz,k) + u(x,y,_pz,k)))
<a name="l15334"></a>15334                                     )/(1 + 6*smooth*dt);
<a name="l15335"></a>15335               tmpf += (float)(ux*ux + uy*uy + uz*uz);
<a name="l15336"></a>15336             }
<a name="l15337"></a>15337             E += deltaI*deltaI + smooth * tmpf;
<a name="l15338"></a>15338           }
<a name="l15339"></a>15339           <span class="keywordflow">else</span> cimg_for3XY(u,x,y) {
<a name="l15340"></a>15340             <span class="keyword">const</span> ftype
<a name="l15341"></a>15341               X = x + u(x,y,0),
<a name="l15342"></a>15342               Y = y + u(x,y,1),
<a name="l15343"></a>15343               deltaI = (ftype)(I2.linear_pix2d(X,Y) - I1(x,y));
<a name="l15344"></a>15344             <span class="keywordtype">float</span> tmpf = 0;
<a name="l15345"></a>15345             cimg_forV(u,k) {
<a name="l15346"></a>15346               <span class="keyword">const</span> ftype
<a name="l15347"></a>15347                 ux  = 0.5f*(u(_nx,y,k) - u(_px,y,k)),
<a name="l15348"></a>15348                 uy  = 0.5f*(u(x,_ny,k) - u(x,_py,k));
<a name="l15349"></a>15349               u(x,y,k) = (ftype)( u(x,y,k) +
<a name="l15350"></a>15350                                   dt*(-deltaI*dI[k].linear_pix2d(X,Y) + smooth* ( u(_nx,y,k) + u(_px,y,k) + u(x,_ny,k) + u(x,_py,k) ))
<a name="l15351"></a>15351                                   )/(1 + 4*smooth*dt);
<a name="l15352"></a>15352               tmpf += (float)(ux*ux + uy*uy);
<a name="l15353"></a>15353             }
<a name="l15354"></a>15354             E += deltaI*deltaI + smooth * tmpf;
<a name="l15355"></a>15355           }
<a name="l15356"></a>15356           <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Eold-E)&lt;nprecision) <span class="keywordflow">break</span>;
<a name="l15357"></a>15357           <span class="keywordflow">if</span> (Eold&lt;E) { dt/=2; <span class="keywordflow">if</span> (dt&lt;0.1) <span class="keywordflow">break</span>; }
<a name="l15358"></a>15358         }
<a name="l15359"></a>15359       }
<a name="l15360"></a>15360       <span class="keywordflow">return</span> u;
<a name="l15361"></a>15361     }
<a name="l15362"></a>15362 
<a name="l15364"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3e393fd1f7b42451f4bb1ade1bcabddc">15364</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3e393fd1f7b42451f4bb1ade1bcabddc" title="Estimate displacement field between instance image and given reference image.">displacement_field</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; reference, <span class="keyword">const</span> <span class="keywordtype">float</span> smooth=0.1f, <span class="keyword">const</span> <span class="keywordtype">float</span> precision=1e-6f,
<a name="l15365"></a>15365                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_scale=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> itermax=10000) {
<a name="l15366"></a>15366       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a39897fc61dd34f2b4287ee24a7c9559b" title="Estimate displacement field between instance image and given reference image.">get_displacement_field</a>(reference,smooth,precision,nb_scale,itermax));
<a name="l15367"></a>15367     }
<a name="l15368"></a>15368 
<a name="l15370"></a>15370     <span class="comment">//-----------------------------</span>
<a name="l15371"></a>15371     <span class="comment">//</span>
<a name="l15373"></a>15373 <span class="comment"></span>
<a name="l15374"></a>15374     <span class="comment">//-----------------------------</span>
<a name="l15375"></a>15375 
<a name="l15377"></a><a class="code" href="structcimg__library_1_1_c_img.html#afbe2f5fb97689bcd7c905212ace2e17f">15377</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#afbe2f5fb97689bcd7c905212ace2e17f" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1) {
<a name="l15378"></a>15378       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,1).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1);
<a name="l15379"></a>15379     }
<a name="l15380"></a>15380 
<a name="l15382"></a><a class="code" href="structcimg__library_1_1_c_img.html#a54b2ca1d004143e30074daa6d6a7f61a">15382</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a54b2ca1d004143e30074daa6d6a7f61a" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2) {
<a name="l15383"></a>15383       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,2).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2);
<a name="l15384"></a>15384     }
<a name="l15385"></a>15385 
<a name="l15387"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0e95b60ef89c8c9954e6e2ffb56b99cb">15387</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0e95b60ef89c8c9954e6e2ffb56b99cb" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3) {
<a name="l15388"></a>15388       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,3).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3);
<a name="l15389"></a>15389     }
<a name="l15390"></a>15390 
<a name="l15392"></a><a class="code" href="structcimg__library_1_1_c_img.html#a289003ce5fb090e80e52ed2d1a999bb3">15392</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a289003ce5fb090e80e52ed2d1a999bb3" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4) {
<a name="l15393"></a>15393       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,4).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4);
<a name="l15394"></a>15394     }
<a name="l15395"></a>15395 
<a name="l15397"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7c57e2bfa997e03cf87ac2e8a39e5534">15397</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a7c57e2bfa997e03cf87ac2e8a39e5534" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5) {
<a name="l15398"></a>15398       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,5).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5);
<a name="l15399"></a>15399     }
<a name="l15400"></a>15400 
<a name="l15402"></a><a class="code" href="structcimg__library_1_1_c_img.html#a18472c0200e352d112a9acf746cdbbf5">15402</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a18472c0200e352d112a9acf746cdbbf5" title="Return a vector with specified coefficients.">vector</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6) {
<a name="l15403"></a>15403       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,6).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6);
<a name="l15404"></a>15404     }
<a name="l15405"></a>15405 
<a name="l15407"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8104cd331d7ee1f65e85dc12074a42fd">15407</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15408"></a>15408                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7) {
<a name="l15409"></a>15409       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,7).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7);
<a name="l15410"></a>15410     }
<a name="l15411"></a>15411 
<a name="l15413"></a><a class="code" href="structcimg__library_1_1_c_img.html#a14c8f10464b8cf1f00394a1419c53e65">15413</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15414"></a>15414                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8) {
<a name="l15415"></a>15415       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,8).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8);
<a name="l15416"></a>15416     }
<a name="l15417"></a>15417 
<a name="l15419"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3d37c0ed6dcc064819649a7ecc20580c">15419</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15420"></a>15420                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,<span class="keyword">const</span> T&amp; a9) {
<a name="l15421"></a>15421       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,9).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8,a9);
<a name="l15422"></a>15422     }
<a name="l15423"></a>15423 
<a name="l15425"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad5e0082774349dec6f8037d84af2efa2">15425</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15426"></a>15426                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,
<a name="l15427"></a>15427                        <span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10) {
<a name="l15428"></a>15428       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,10).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10);
<a name="l15429"></a>15429     }
<a name="l15430"></a>15430 
<a name="l15432"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4d20872973c22e19d7d848c2356cd539">15432</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15433"></a>15433                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,
<a name="l15434"></a>15434                        <span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10, <span class="keyword">const</span> T&amp; a11) {
<a name="l15435"></a>15435       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,11).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11);
<a name="l15436"></a>15436     }
<a name="l15437"></a>15437 
<a name="l15439"></a><a class="code" href="structcimg__library_1_1_c_img.html#a04a41a2924b959970d95456aae030bac">15439</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15440"></a>15440                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,
<a name="l15441"></a>15441                        <span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10, <span class="keyword">const</span> T&amp; a11, <span class="keyword">const</span> T&amp; a12) {
<a name="l15442"></a>15442       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,12).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12);
<a name="l15443"></a>15443     }
<a name="l15444"></a>15444 
<a name="l15446"></a><a class="code" href="structcimg__library_1_1_c_img.html#af3160060e9e72a221697c3509eec49c3">15446</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> vector(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15447"></a>15447                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,
<a name="l15448"></a>15448                        <span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10, <span class="keyword">const</span> T&amp; a11, <span class="keyword">const</span> T&amp; a12,
<a name="l15449"></a>15449                        <span class="keyword">const</span> T&amp; a13) {
<a name="l15450"></a>15450       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(1,13).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13);
<a name="l15451"></a>15451     }
<a name="l15452"></a>15452 
<a name="l15454"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae4af6d0e51d20cfb3db1c9e971b33874">15454</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae4af6d0e51d20cfb3db1c9e971b33874" title="Return a 1x1 square matrix with specified coefficients.">matrix</a>(<span class="keyword">const</span> T&amp; a1) {
<a name="l15455"></a>15455       <span class="keywordflow">return</span> vector(a1);
<a name="l15456"></a>15456     }
<a name="l15457"></a>15457 
<a name="l15459"></a><a class="code" href="structcimg__library_1_1_c_img.html#af7691093141c8dbeb53d3504acb51818">15459</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,
<a name="l15460"></a>15460                        <span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4) {
<a name="l15461"></a>15461       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(2,2).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,
<a name="l15462"></a>15462                                a3,a4);
<a name="l15463"></a>15463     }
<a name="l15464"></a>15464 
<a name="l15466"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9b23a94b4944af63a49ff016340f1fe3">15466</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,
<a name="l15467"></a>15467                        <span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,
<a name="l15468"></a>15468                        <span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,<span class="keyword">const</span> T&amp; a9) {
<a name="l15469"></a>15469       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(3,3).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,
<a name="l15470"></a>15470                                a4,a5,a6,
<a name="l15471"></a>15471                                a7,a8,a9);
<a name="l15472"></a>15472     }
<a name="l15473"></a>15473 
<a name="l15475"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad8161efcd135160828b158b59eb713e3">15475</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,
<a name="l15476"></a>15476                        <span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,
<a name="l15477"></a>15477                        <span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10,<span class="keyword">const</span> T&amp; a11,<span class="keyword">const</span> T&amp; a12,
<a name="l15478"></a>15478                        <span class="keyword">const</span> T&amp; a13,<span class="keyword">const</span> T&amp; a14,<span class="keyword">const</span> T&amp; a15,<span class="keyword">const</span> T&amp; a16) {
<a name="l15479"></a>15479       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(4,4).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,
<a name="l15480"></a>15480                                a5,a6,a7,a8,
<a name="l15481"></a>15481                                a9,a10,a11,a12,
<a name="l15482"></a>15482                                a13,a14,a15,a16);
<a name="l15483"></a>15483     }
<a name="l15484"></a>15484 
<a name="l15486"></a><a class="code" href="structcimg__library_1_1_c_img.html#a281b4822b262369a59c6f6c667339e35">15486</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5,
<a name="l15487"></a>15487                        <span class="keyword">const</span> T&amp; a6,<span class="keyword">const</span> T&amp; a7,<span class="keyword">const</span> T&amp; a8,<span class="keyword">const</span> T&amp; a9,<span class="keyword">const</span> T&amp; a10,
<a name="l15488"></a>15488                        <span class="keyword">const</span> T&amp; a11,<span class="keyword">const</span> T&amp; a12,<span class="keyword">const</span> T&amp; a13,<span class="keyword">const</span> T&amp; a14,<span class="keyword">const</span> T&amp; a15,
<a name="l15489"></a>15489                        <span class="keyword">const</span> T&amp; a16,<span class="keyword">const</span> T&amp; a17,<span class="keyword">const</span> T&amp; a18,<span class="keyword">const</span> T&amp; a19,<span class="keyword">const</span> T&amp; a20,
<a name="l15490"></a>15490                        <span class="keyword">const</span> T&amp; a21,<span class="keyword">const</span> T&amp; a22,<span class="keyword">const</span> T&amp; a23,<span class="keyword">const</span> T&amp; a24,<span class="keyword">const</span> T&amp; a25) {
<a name="l15491"></a>15491       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(5,5).<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(a1,a2,a3,a4,a5,
<a name="l15492"></a>15492                                a6,a7,a8,a9,a10,
<a name="l15493"></a>15493                                a11,a12,a13,a14,a15,
<a name="l15494"></a>15494                                a16,a17,a18,a19,a20,
<a name="l15495"></a>15495                                a21,a22,a23,a24,a25);
<a name="l15496"></a>15496     }
<a name="l15497"></a>15497 
<a name="l15499"></a><a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e">15499</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>() {
<a name="l15500"></a>15500       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l15501"></a>15501       <span class="keywordflow">switch</span> (siz) {
<a name="l15502"></a>15502       <span class="keywordflow">case</span> 1: <span class="keywordflow">break</span>;
<a name="l15503"></a>15503       <span class="keywordflow">case</span> 4: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 2; <span class="keywordflow">break</span>;
<a name="l15504"></a>15504       <span class="keywordflow">case</span> 9: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 3; <span class="keywordflow">break</span>;
<a name="l15505"></a>15505       <span class="keywordflow">case</span> 16: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 4; <span class="keywordflow">break</span>;
<a name="l15506"></a>15506       <span class="keywordflow">case</span> 25: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 5; <span class="keywordflow">break</span>;
<a name="l15507"></a>15507       <span class="keywordflow">case</span> 36: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 6; <span class="keywordflow">break</span>;
<a name="l15508"></a>15508       <span class="keywordflow">case</span> 49: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 7; <span class="keywordflow">break</span>;
<a name="l15509"></a>15509       <span class="keywordflow">case</span> 64: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 8; <span class="keywordflow">break</span>;
<a name="l15510"></a>15510       <span class="keywordflow">case</span> 81: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 9; <span class="keywordflow">break</span>;
<a name="l15511"></a>15511       <span class="keywordflow">case</span> 100: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = 10; <span class="keywordflow">break</span>;
<a name="l15512"></a>15512       <span class="keywordflow">default</span>: {
<a name="l15513"></a>15513         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=11, i2=i*i;
<a name="l15514"></a>15514         <span class="keywordflow">while</span> (i2&lt;siz) { i2+=2*i+1; i++; }
<a name="l15515"></a>15515         <span class="keywordflow">if</span> (i2==siz) <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = i;
<a name="l15516"></a>15516         <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::matrix() : Image size = %u is not a square number&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),siz);
<a name="l15517"></a>15517       } <span class="keywordflow">break</span>;
<a name="l15518"></a>15518       }
<a name="l15519"></a>15519       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15520"></a>15520     }
<a name="l15521"></a>15521 
<a name="l15523"></a><a class="code" href="structcimg__library_1_1_c_img.html#abd5cc0f26ba41fed5b0f015206781f28">15523</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#abd5cc0f26ba41fed5b0f015206781f28" title="Realign pixel values of the instance image as a square matrix.">get_matrix</a>()<span class="keyword"> const </span>{
<a name="l15524"></a>15524       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ae4af6d0e51d20cfb3db1c9e971b33874" title="Return a 1x1 square matrix with specified coefficients.">matrix</a>();
<a name="l15525"></a>15525     }
<a name="l15526"></a>15526 
<a name="l15528"></a><a class="code" href="structcimg__library_1_1_c_img.html#a40bd4344f4a7aae588ef5bfa4f8861d1">15528</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a40bd4344f4a7aae588ef5bfa4f8861d1" title="Return a 1x1 symmetric matrix with specified coefficients.">tensor</a>(<span class="keyword">const</span> T&amp; a1) {
<a name="l15529"></a>15529       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1);
<a name="l15530"></a>15530     }
<a name="l15531"></a>15531 
<a name="l15533"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae9f5322a5c23eba78071a3a1ebccbd2c">15533</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae9f5322a5c23eba78071a3a1ebccbd2c" title="Return a 2x2 symmetric matrix tensor with specified coefficients.">tensor</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3) {
<a name="l15534"></a>15534       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,a2,
<a name="l15535"></a>15535                     a2,a3);
<a name="l15536"></a>15536     }
<a name="l15537"></a>15537 
<a name="l15539"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9fdc9e8f92ac99e31d16b3a7a9de493f">15539</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9fdc9e8f92ac99e31d16b3a7a9de493f" title="Return a 3x3 symmetric matrix with specified coefficients.">tensor</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5,<span class="keyword">const</span> T&amp; a6) {
<a name="l15540"></a>15540       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,a2,a3,
<a name="l15541"></a>15541                     a2,a4,a5,
<a name="l15542"></a>15542                     a3,a5,a6);
<a name="l15543"></a>15543     }
<a name="l15544"></a>15544 
<a name="l15545"></a>15545     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_tensor()<span class="keyword"> const </span>{
<a name="l15546"></a>15546       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res;
<a name="l15547"></a>15547       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l15548"></a>15548       <span class="keywordflow">switch</span> (siz) {
<a name="l15549"></a>15549       <span class="keywordflow">case</span> 1: <span class="keywordflow">break</span>;
<a name="l15550"></a>15550       <span class="keywordflow">case</span> 3:
<a name="l15551"></a>15551         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(2,2);
<a name="l15552"></a>15552         res(0,0) = (*this)(0);
<a name="l15553"></a>15553         res(1,0) = res(0,1) = (*this)(1);
<a name="l15554"></a>15554         res(1,1) = (*this)(2);
<a name="l15555"></a>15555         <span class="keywordflow">break</span>;
<a name="l15556"></a>15556       <span class="keywordflow">case</span> 6:
<a name="l15557"></a>15557         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(3,3);
<a name="l15558"></a>15558         res(0,0) = (*this)(0);
<a name="l15559"></a>15559         res(1,0) = res(0,1) = (*this)(1);
<a name="l15560"></a>15560         res(2,0) = res(0,2) = (*this)(2);
<a name="l15561"></a>15561         res(1,1) = (*this)(3);
<a name="l15562"></a>15562         res(2,1) = res(1,2) = (*this)(4);
<a name="l15563"></a>15563         res(2,2) = (*this)(5);
<a name="l15564"></a>15564         <span class="keywordflow">break</span>;
<a name="l15565"></a>15565       <span class="keywordflow">default</span>:
<a name="l15566"></a>15566         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::tensor() : Wrong vector dimension = %u in instance image.&quot;</span>,
<a name="l15567"></a>15567                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(), dim);
<a name="l15568"></a>15568         <span class="keywordflow">break</span>;
<a name="l15569"></a>15569       }
<a name="l15570"></a>15570       <span class="keywordflow">return</span> res;
<a name="l15571"></a>15571     }
<a name="l15572"></a>15572 
<a name="l15574"></a><a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046">15574</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>() {
<a name="l15575"></a>15575       <span class="keywordflow">return</span> get_tensor().swap(*<span class="keyword">this</span>);
<a name="l15576"></a>15576     }
<a name="l15577"></a>15577 
<a name="l15579"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7ccfe7f9a79817ddddc7fc7bbd526cec">15579</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a7ccfe7f9a79817ddddc7fc7bbd526cec" title="Return a 1x1 diagonal matrix with specified coefficients.">diagonal</a>(<span class="keyword">const</span> T&amp; a1) {
<a name="l15580"></a>15580       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1);
<a name="l15581"></a>15581     }
<a name="l15582"></a>15582 
<a name="l15584"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad0dc88cea62137f97afb63848ab509ec">15584</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ad0dc88cea62137f97afb63848ab509ec" title="Return a 2x2 diagonal matrix with specified coefficients.">diagonal</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2) {
<a name="l15585"></a>15585       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,0,
<a name="l15586"></a>15586                     0,a2);
<a name="l15587"></a>15587     }
<a name="l15588"></a>15588 
<a name="l15590"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4e2095835fcd73b4addf2a39ac4784a7">15590</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4e2095835fcd73b4addf2a39ac4784a7" title="Return a 3x3 diagonal matrix with specified coefficients.">diagonal</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3) {
<a name="l15591"></a>15591       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,0,0,
<a name="l15592"></a>15592                     0,a2,0,
<a name="l15593"></a>15593                     0,0,a3);
<a name="l15594"></a>15594     }
<a name="l15595"></a>15595 
<a name="l15597"></a><a class="code" href="structcimg__library_1_1_c_img.html#a926edda8629231f547723ad8e1648ce7">15597</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a926edda8629231f547723ad8e1648ce7" title="Return a 4x4 diagonal matrix with specified coefficients.">diagonal</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4) {
<a name="l15598"></a>15598       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,0,0,0,
<a name="l15599"></a>15599                     0,a2,0,0,
<a name="l15600"></a>15600                     0,0,a3,0,
<a name="l15601"></a>15601                     0,0,0,a4);
<a name="l15602"></a>15602     }
<a name="l15603"></a>15603 
<a name="l15605"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa037fdcdbd949bc571e1ef2f20759516">15605</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa037fdcdbd949bc571e1ef2f20759516" title="Return a 5x5 diagonal matrix with specified coefficients.">diagonal</a>(<span class="keyword">const</span> T&amp; a1,<span class="keyword">const</span> T&amp; a2,<span class="keyword">const</span> T&amp; a3,<span class="keyword">const</span> T&amp; a4,<span class="keyword">const</span> T&amp; a5) {
<a name="l15606"></a>15606       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">matrix</a>(a1,0,0,0,0,
<a name="l15607"></a>15607                     0,a2,0,0,0,
<a name="l15608"></a>15608                     0,0,a3,0,0,
<a name="l15609"></a>15609                     0,0,0,a4,0,
<a name="l15610"></a>15610                     0,0,0,0,a5);
<a name="l15611"></a>15611     }
<a name="l15612"></a>15612 
<a name="l15614"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4fe05a8bfe2fd0404456c21b6e43f01c">15614</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a4fe05a8bfe2fd0404456c21b6e43f01c" title="Unroll all images values into specified axis.">unroll</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>) {
<a name="l15615"></a>15615       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l15616"></a>15616       <span class="keywordflow">if</span> (siz) <span class="keywordflow">switch</span> (axe) {
<a name="l15617"></a>15617       <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = siz; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=dim=1; <span class="keywordflow">break</span>;
<a name="l15618"></a>15618       <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = siz; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=dim=1; <span class="keywordflow">break</span>;
<a name="l15619"></a>15619       <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = siz; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=dim=1; <span class="keywordflow">break</span>;
<a name="l15620"></a>15620       <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: dim = siz; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=1; <span class="keywordflow">break</span>;
<a name="l15621"></a>15621       <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::unroll() : Given axe is &#39;%c&#39; which is not &#39;x&#39;,&#39;y&#39;,&#39;z&#39; or &#39;v&#39;&quot;</span>,
<a name="l15622"></a>15622                                            <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),axe);
<a name="l15623"></a>15623       }
<a name="l15624"></a>15624       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15625"></a>15625     }
<a name="l15626"></a>15626 
<a name="l15627"></a>15627     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_unroll(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>)<span class="keyword"> const </span>{
<a name="l15628"></a>15628       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a4fe05a8bfe2fd0404456c21b6e43f01c" title="Unroll all images values into specified axis.">unroll</a>(axe);
<a name="l15629"></a>15629     }
<a name="l15630"></a>15630 
<a name="l15631"></a>15631     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; vector() {
<a name="l15632"></a>15632       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4fe05a8bfe2fd0404456c21b6e43f01c" title="Unroll all images values into specified axis.">unroll</a>(<span class="charliteral">&#39;y&#39;</span>);
<a name="l15633"></a>15633     }
<a name="l15634"></a>15634 
<a name="l15635"></a>15635     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a> get_vector()<span class="keyword"> const </span>{
<a name="l15636"></a>15636       <span class="keywordflow">return</span> get_unroll(<span class="charliteral">&#39;y&#39;</span>);
<a name="l15637"></a>15637     }
<a name="l15638"></a>15638 
<a name="l15640"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8437cf30de955154744546a1d8500837">15640</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a8437cf30de955154744546a1d8500837" title="Get a diagonal matrix, whose diagonal coefficients are the coefficients of the input image...">get_diagonal</a>()<span class="keyword"> const </span>{
<a name="l15641"></a>15641       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l15642"></a>15642       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1,1,0);
<a name="l15643"></a>15643       cimg_foroff(*<span class="keyword">this</span>,off) res(off,off)=(*this)(off);
<a name="l15644"></a>15644       <span class="keywordflow">return</span> res;
<a name="l15645"></a>15645     }
<a name="l15646"></a>15646 
<a name="l15648"></a><a class="code" href="structcimg__library_1_1_c_img.html#a40b6808b8cefada797a46a1309a25664">15648</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a40b6808b8cefada797a46a1309a25664" title="Replace a vector by a diagonal matrix containing the original vector coefficients.">diagonal</a>() {
<a name="l15649"></a>15649       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8437cf30de955154744546a1d8500837" title="Get a diagonal matrix, whose diagonal coefficients are the coefficients of the input image...">get_diagonal</a>().swap(*<span class="keyword">this</span>);
<a name="l15650"></a>15650     }
<a name="l15651"></a>15651 
<a name="l15653"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae413eaa44b87492f8c89ddb7c38603aa">15653</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae413eaa44b87492f8c89ddb7c38603aa" title="Return a NxN identity matrix.">identity_matrix</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N) {
<a name="l15654"></a>15654       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(N,N,1,1,0);
<a name="l15655"></a>15655       cimg_forX(res,x) res(x,x)=1;
<a name="l15656"></a>15656       <span class="keywordflow">return</span> res;
<a name="l15657"></a>15657     }
<a name="l15658"></a>15658 
<a name="l15659"></a>15659     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; identity_matrix() {
<a name="l15660"></a>15660       <span class="keywordflow">return</span> get_identity_matrix(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)).swap(*<span class="keyword">this</span>);
<a name="l15661"></a>15661     }
<a name="l15662"></a>15662 
<a name="l15663"></a>15663     <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a> get_identity_matrix()<span class="keyword"> const </span>{
<a name="l15664"></a>15664       <span class="keywordflow">return</span> identity_matrix(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>));
<a name="l15665"></a>15665     }
<a name="l15666"></a>15666 
<a name="l15668"></a><a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8">15668</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">sequence</a>(<span class="keyword">const</span> T&amp; a0, <span class="keyword">const</span> T&amp; a1) {
<a name="l15669"></a>15669       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l15670"></a>15670         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1;
<a name="l15671"></a>15671         <span class="keyword">const</span> <span class="keywordtype">float</span> delta = (float)((<span class="keywordtype">float</span>)a1-a0);
<a name="l15672"></a>15672         T* ptr = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l15673"></a>15673         cimg_foroff(*<span class="keyword">this</span>,l) *(ptr++) = (T)(a0 + delta*l/siz);
<a name="l15674"></a>15674       }
<a name="l15675"></a>15675       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15676"></a>15676     }
<a name="l15677"></a>15677 
<a name="l15678"></a>15678     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> get_sequence(<span class="keyword">const</span> T&amp; a0, <span class="keyword">const</span> T&amp; a1)<span class="keyword"> const </span>{
<a name="l15679"></a>15679       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">sequence</a>(a0,a1);
<a name="l15680"></a>15680     }
<a name="l15681"></a>15681 
<a name="l15682"></a>15682     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">sequence</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">const</span> T&amp; a0, <span class="keyword">const</span> T&amp; a1) {
<a name="l15683"></a>15683       <span class="keywordflow">if</span> (N) <span class="keywordflow">return</span> CImg&lt;T&gt;(1,N).<a class="code" href="structcimg__library_1_1_c_img.html#afa14119eeae2df407635589375793ff8" title="Return a N-numbered sequence vector from a0 to a1.">sequence</a>(a0,a1);
<a name="l15684"></a>15684       <span class="keywordflow">return</span> CImg&lt;T&gt;();
<a name="l15685"></a>15685     }
<a name="l15686"></a>15686 
<a name="l15688"></a><a class="code" href="structcimg__library_1_1_c_img.html#a70c96fae54ed1d36114917d5fe1072bf">15688</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a70c96fae54ed1d36114917d5fe1072bf" title="Return a 3x3 rotation matrix along the (x,y,z)-axis with an angle w.">rotation_matrix</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y, <span class="keyword">const</span> <span class="keywordtype">float</span> z, <span class="keyword">const</span> <span class="keywordtype">float</span> w, <span class="keyword">const</span> <span class="keywordtype">bool</span> quaternion_data=<span class="keyword">false</span>) {
<a name="l15689"></a>15689       <span class="keywordtype">float</span> X,Y,Z,W;
<a name="l15690"></a>15690       <span class="keywordflow">if</span> (!quaternion_data) {
<a name="l15691"></a>15691         <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(x*x + y*y + z*z),
<a name="l15692"></a>15692           nx = norm&gt;0?x/norm:0,
<a name="l15693"></a>15693           ny = norm&gt;0?y/norm:0,
<a name="l15694"></a>15694           nz = norm&gt;0?z/norm:1,
<a name="l15695"></a>15695           nw = norm&gt;0?w:0,
<a name="l15696"></a>15696           sina = (float)std::sin(nw/2),
<a name="l15697"></a>15697           cosa = (float)std::cos(nw/2);
<a name="l15698"></a>15698         X = nx*sina;
<a name="l15699"></a>15699         Y = ny*sina;
<a name="l15700"></a>15700         Z = nz*sina;
<a name="l15701"></a>15701         W = cosa;
<a name="l15702"></a>15702       } <span class="keywordflow">else</span> {
<a name="l15703"></a>15703         <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = (float)std::sqrt(x*x + y*y + z*z + w*w);
<a name="l15704"></a>15704         <span class="keywordflow">if</span> (norm&gt;0) { X=x/norm; Y=y/norm; Z=z/norm; W=w/norm; }
<a name="l15705"></a>15705         <span class="keywordflow">else</span> { X=Y=Z=0; W=1; }
<a name="l15706"></a>15706       }
<a name="l15707"></a>15707       <span class="keyword">const</span> <span class="keywordtype">float</span> xx=X*X, xy=X*Y, xz=X*Z, xw=X*W, yy=Y*Y, yz=Y*Z, yw=Y*W, zz=Z*Z, zw=Z*W;
<a name="l15708"></a>15708       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#accacb7441cbe8f2805b2b8edc118231e" title="In-place version of get_matrix().">CImg&lt;T&gt;::matrix</a>(1-2*(yy+zz),   2*(xy+zw),   2*(xz-yw),
<a name="l15709"></a>15709                              2*(xy-zw), 1-2*(xx+zz),   2*(yz+xw),
<a name="l15710"></a>15710                              2*(xz+yw),   2*(yz-xw), 1-2*(xx+yy));
<a name="l15711"></a>15711     }
<a name="l15712"></a>15712 
<a name="l15714"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf">15714</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0d2b8a72f62d8e15722f9c4c97c33ebf" title="Return a new image corresponding to the vector located at (x,y,z) of the current vector-valued image...">get_vector_at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0)<span class="keyword"> const </span>{
<a name="l15715"></a>15715       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(1,dim);
<a name="l15716"></a>15716       cimg_forV(*<span class="keyword">this</span>,k) dest[k]=(*this)(x,y,z,k);
<a name="l15717"></a>15717       <span class="keywordflow">return</span> dest;
<a name="l15718"></a>15718     }
<a name="l15719"></a>15719 
<a name="l15721"></a><a class="code" href="structcimg__library_1_1_c_img.html#a13317c2700b6c7e4cb0567b9ae1f03ab">15721</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a13317c2700b6c7e4cb0567b9ae1f03ab" title="Return a new image corresponding to the square matrix located at (x,y,z) of the current vector-valued...">get_matrix_at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0)<span class="keyword"> const </span>{
<a name="l15722"></a>15722       <span class="keyword">const</span> <span class="keywordtype">int</span> n = (int)std::sqrt((<span class="keywordtype">double</span>)dim);
<a name="l15723"></a>15723       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(n,n);
<a name="l15724"></a>15724       cimg_forV(*<span class="keyword">this</span>,k) dest[k]=(*this)(x,y,z,k);
<a name="l15725"></a>15725       <span class="keywordflow">return</span> dest;
<a name="l15726"></a>15726     }
<a name="l15727"></a>15727 
<a name="l15729"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab6b97231d7be6d16aa5d17ad061f99a5">15729</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab6b97231d7be6d16aa5d17ad061f99a5" title="Return a new image corresponding to the diffusion tensor located at (x,y,z) of the current vector-val...">get_tensor_at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0)<span class="keyword"> const </span>{
<a name="l15730"></a>15730       <span class="keywordflow">if</span> (dim==6) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>((*<span class="keyword">this</span>)(x,y,z,0),(*<span class="keyword">this</span>)(x,y,z,1),(*<span class="keyword">this</span>)(x,y,z,2),
<a name="l15731"></a>15731                                           (*<span class="keyword">this</span>)(x,y,z,3),(*<span class="keyword">this</span>)(x,y,z,4),(*<span class="keyword">this</span>)(x,y,z,5));
<a name="l15732"></a>15732       <span class="keywordflow">if</span> (dim==3) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>((*<span class="keyword">this</span>)(x,y,z,0),(*<span class="keyword">this</span>)(x,y,z,1),(*<span class="keyword">this</span>)(x,y,z,2));
<a name="l15733"></a>15733       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acca65d50da14f3c9cf787370f97d7046" title="In-place version of get_tensor().">tensor</a>((*<span class="keyword">this</span>)(x,y,z,0));
<a name="l15734"></a>15734     }
<a name="l15735"></a>15735 
<a name="l15737"></a><a class="code" href="structcimg__library_1_1_c_img.html#a99a89479f6cb8fb4e8e377f71627ba40">15737</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a99a89479f6cb8fb4e8e377f71627ba40" title="Set the image vec as the vector valued pixel located at (x,y,z) of the current vector-valued image...">set_vector_at</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; vec,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0) {
<a name="l15738"></a>15738       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2deae980ec7e42b63d680d39d7bb0e6d" title="Draw a colored point in the instance image, at coordinates (x0,y0,z0).">draw_point</a>(x,y,z,vec.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,1);
<a name="l15739"></a>15739     }
<a name="l15740"></a>15740 
<a name="l15742"></a><a class="code" href="structcimg__library_1_1_c_img.html#abb5b9b315b398961953518b7ce4d6673">15742</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#abb5b9b315b398961953518b7ce4d6673" title="Set the image vec as the square matrix-valued pixel located at (x,y,z) of the current vector-valued i...">set_matrix_at</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; mat,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0) {
<a name="l15743"></a>15743       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a99a89479f6cb8fb4e8e377f71627ba40" title="Set the image vec as the vector valued pixel located at (x,y,z) of the current vector-valued image...">set_vector_at</a>(mat,x,y,z);
<a name="l15744"></a>15744     }
<a name="l15745"></a>15745 
<a name="l15747"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac199c9b30cc745b03c5f9bf3a1c4e7d4">15747</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac199c9b30cc745b03c5f9bf3a1c4e7d4" title="Set the image vec as the tensor valued pixel located at (x,y,z) of the current vector-valued image...">set_tensor_at</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; ten,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0) {
<a name="l15748"></a>15748       <span class="keywordflow">if</span> (ten.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==2) {
<a name="l15749"></a>15749         (*this)(x,y,z,0)=ten[0];
<a name="l15750"></a>15750         (*this)(x,y,z,1)=ten[1];
<a name="l15751"></a>15751         (*this)(x,y,z,2)=ten[3];
<a name="l15752"></a>15752       }
<a name="l15753"></a>15753       <span class="keywordflow">else</span> {
<a name="l15754"></a>15754         (*this)(x,y,z,0)=ten[0];
<a name="l15755"></a>15755         (*this)(x,y,z,1)=ten[1];
<a name="l15756"></a>15756         (*this)(x,y,z,2)=ten[2];
<a name="l15757"></a>15757         (*this)(x,y,z,3)=ten[4];
<a name="l15758"></a>15758         (*this)(x,y,z,4)=ten[5];
<a name="l15759"></a>15759         (*this)(x,y,z,5)=ten[8];
<a name="l15760"></a>15760       }
<a name="l15761"></a>15761       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15762"></a>15762     }
<a name="l15763"></a>15763 
<a name="l15765"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab8737309377bbea23ea4c44f3f2a2187">15765</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab8737309377bbea23ea4c44f3f2a2187" title="Return the transpose version of the current matrix.">get_transpose</a>()<span class="keyword"> const </span>{
<a name="l15766"></a>15766       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3fe495de66327a6c9ae822dc0fb05508" title="Permute axes order.">get_permute_axes</a>(<span class="stringliteral">&quot;yxzv&quot;</span>);
<a name="l15767"></a>15767     }
<a name="l15768"></a>15768 
<a name="l15770"></a><a class="code" href="structcimg__library_1_1_c_img.html#aedfbb8bbd5a2699fe23834fcc4af42e1">15770</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedfbb8bbd5a2699fe23834fcc4af42e1" title="Replace the current matrix by its transpose.">transpose</a>() {
<a name="l15771"></a>15771       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==1) { <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=1; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l15772"></a>15772       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>==1) { <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>=1; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l15773"></a>15773       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l15774"></a>15774         cimg_forYZV(*<span class="keyword">this</span>,y,z,v) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=y; x&lt;(int)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; x++) cimg::swap((*<span class="keyword">this</span>)(x,y,z,v),(*<span class="keyword">this</span>)(y,x,z,v));
<a name="l15775"></a>15775         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15776"></a>15776       }
<a name="l15777"></a>15777       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8737309377bbea23ea4c44f3f2a2187" title="Return the transpose version of the current matrix.">get_transpose</a>().swap(*<span class="keyword">this</span>);
<a name="l15778"></a>15778     }
<a name="l15779"></a>15779 
<a name="l15781"></a><a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267">15781</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> use_LU=<span class="keyword">true</span>) {
<a name="l15782"></a>15782       <span class="keywordflow">if</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l15783"></a>15783         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || dim!=1)
<a name="l15784"></a>15784           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::inverse() : Instance matrix (%u,%u,%u,%u,%p) is not square.&quot;</span>,
<a name="l15785"></a>15785                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15786"></a>15786         <span class="keyword">const</span> <span class="keywordtype">double</span> dete = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;3?-1.0:<a class="code" href="structcimg__library_1_1_c_img.html#a4909523f4b0c661e3e23b8805c9ac5c2" title="Return the determinant of the current matrix.">det</a>();
<a name="l15787"></a>15787         <span class="keywordflow">if</span> (dete!=0.0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==2) {
<a name="l15788"></a>15788           <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l15789"></a>15789             a = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0], c = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1],
<a name="l15790"></a>15790             b = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2], d = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3];
<a name="l15791"></a>15791           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0] = (T)(d/dete);  <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1] = (T)(-c/dete);
<a name="l15792"></a>15792           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2] = (T)(-b/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3] = (T)(a/dete);
<a name="l15793"></a>15793         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dete!=0.0 &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==3) {
<a name="l15794"></a>15794           <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l15795"></a>15795             a = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0], d = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1], g = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2],
<a name="l15796"></a>15796             b = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3], e = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4], h = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5],
<a name="l15797"></a>15797             c = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6], f = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7], i = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[8];
<a name="l15798"></a>15798           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0] = (T)((i*e-f*h)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1] = (T)((g*f-i*d)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2] = (T)((d*h-g*e)/dete);
<a name="l15799"></a>15799           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3] = (T)((h*c-i*b)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4] = (T)((i*a-c*g)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5] = (T)((g*b-a*h)/dete);
<a name="l15800"></a>15800           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6] = (T)((b*f-e*c)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7] = (T)((d*c-a*f)/dete), <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[8] = (T)((a*e-d*b)/dete);
<a name="l15801"></a>15801         } <span class="keywordflow">else</span> {
<a name="l15802"></a>15802           <span class="keywordflow">if</span> (use_LU) { <span class="comment">// LU-based inverse computation</span>
<a name="l15803"></a>15803             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> A(*<span class="keyword">this</span>), indx, col(1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l15804"></a>15804             <span class="keywordtype">bool</span> d;
<a name="l15805"></a>15805             A._LU(indx,d);
<a name="l15806"></a>15806             cimg_forX(*<span class="keyword">this</span>,j) {
<a name="l15807"></a>15807               col.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0); col(j)=1;
<a name="l15808"></a>15808               col._solve(A,indx);
<a name="l15809"></a>15809               cimg_forX(*<span class="keyword">this</span>,i) (*this)(j,i) = col(i);
<a name="l15810"></a>15810             }
<a name="l15811"></a>15811           } <span class="keywordflow">else</span> { <span class="comment">// SVD-based inverse computation</span>
<a name="l15812"></a>15812             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> U(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>),S(1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>),V(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l15813"></a>15813             <a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e" title="Compute the SVD of a general matrix.">SVD</a>(U,S,V,<span class="keyword">false</span>);
<a name="l15814"></a>15814             U.transpose();
<a name="l15815"></a>15815             cimg_forY(S,k) <span class="keywordflow">if</span> (S[k]!=0) S[k]=1/S[k];
<a name="l15816"></a>15816             S.diagonal();
<a name="l15817"></a>15817             *<span class="keyword">this</span> = V*S*U;
<a name="l15818"></a>15818           }
<a name="l15819"></a>15819         }
<a name="l15820"></a>15820       }
<a name="l15821"></a>15821       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15822"></a>15822     }
<a name="l15823"></a>15823 
<a name="l15825"></a><a class="code" href="structcimg__library_1_1_c_img.html#a291873d1a51e08889cdc40c933863790">15825</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a291873d1a51e08889cdc40c933863790" title="Return the inverse of the current matrix.">get_inverse</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> use_LU=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l15826"></a>15826       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l15827"></a>15827       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>(use_LU);
<a name="l15828"></a>15828     }
<a name="l15829"></a>15829 
<a name="l15831"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae26e9d4883ddef119c350b3c64e664b4">15831</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#ae26e9d4883ddef119c350b3c64e664b4" title="Return the pseudo-inverse (Moore-Penrose) of the matrix.">get_pseudoinverse</a>()<span class="keyword"> const </span>{
<a name="l15832"></a>15832       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l15833"></a>15833       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> At = <a class="code" href="structcimg__library_1_1_c_img.html#ab8737309377bbea23ea4c44f3f2a2187" title="Return the transpose version of the current matrix.">get_transpose</a>(), At2(At);
<a name="l15834"></a>15834       <span class="keywordflow">return</span> (((At*=*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>())*=At2);
<a name="l15835"></a>15835     }
<a name="l15836"></a>15836 
<a name="l15838"></a><a class="code" href="structcimg__library_1_1_c_img.html#a98c73e6910ed84eb7e9fe23a7e822f04">15838</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a98c73e6910ed84eb7e9fe23a7e822f04" title="Replace the matrix by its pseudo-inverse.">pseudoinverse</a>() {
<a name="l15839"></a>15839       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l15840"></a>15840       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a> At = <a class="code" href="structcimg__library_1_1_c_img.html#ab8737309377bbea23ea4c44f3f2a2187" title="Return the transpose version of the current matrix.">get_transpose</a>(), At2(At);
<a name="l15841"></a>15841       ((At*=*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>())*=At2;
<a name="l15842"></a>15842       <span class="keywordflow">return</span> ((*<span class="keyword">this</span>)=At);
<a name="l15843"></a>15843     }
<a name="l15844"></a>15844 
<a name="l15846"></a><a class="code" href="structcimg__library_1_1_c_img.html#acbf8651f447f39520618ff22f0649d58">15846</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#acbf8651f447f39520618ff22f0649d58" title="Return the trace of the current matrix.">trace</a>()<span class="keyword"> const </span>{
<a name="l15847"></a>15847       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15848"></a>15848         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::trace() : Instance matrix (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15849"></a>15849                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15850"></a>15850       <span class="keywordtype">double</span> res=0;
<a name="l15851"></a>15851       cimg_forX(*<span class="keyword">this</span>,k) res+=(*this)(k,k);
<a name="l15852"></a>15852       <span class="keywordflow">return</span> res;
<a name="l15853"></a>15853     }
<a name="l15854"></a>15854 
<a name="l15856"></a>15856     <span class="comment">// (Adapted from the numerical recipies for CImg)</span>
<a name="l15857"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac37f8186597093b8965a233fe191159d">15857</a>     <span class="keyword">const</span> T <a class="code" href="structcimg__library_1_1_c_img.html#ac37f8186597093b8965a233fe191159d" title="Return the kth smallest element of the image.">kth_smallest</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k)<span class="keyword"> const </span>{
<a name="l15858"></a>15858       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15859"></a>15859         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::kth_smallest() : Instance image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15860"></a>15860                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15861"></a>15861       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> arr(*<span class="keyword">this</span>);
<a name="l15862"></a>15862       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> l=0,ir=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1;
<a name="l15863"></a>15863       <span class="keywordflow">for</span> (;;) {
<a name="l15864"></a>15864         <span class="keywordflow">if</span> (ir&lt;=l+1) {
<a name="l15865"></a>15865           <span class="keywordflow">if</span> (ir==l+1 &amp;&amp; arr[ir]&lt;arr[l]) cimg::swap(arr[l],arr[ir]);
<a name="l15866"></a>15866           <span class="keywordflow">return</span> arr[k];
<a name="l15867"></a>15867         } <span class="keywordflow">else</span> {
<a name="l15868"></a>15868           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mid = (l+ir)&gt;&gt;1;
<a name="l15869"></a>15869           cimg::swap(arr[mid],arr[l+1]);
<a name="l15870"></a>15870           <span class="keywordflow">if</span> (arr[l]&gt;arr[ir]) cimg::swap(arr[l],arr[ir]);
<a name="l15871"></a>15871           <span class="keywordflow">if</span> (arr[l+1]&gt;arr[ir]) cimg::swap(arr[l+1],arr[ir]);
<a name="l15872"></a>15872           <span class="keywordflow">if</span> (arr[l]&gt;arr[l+1]) cimg::swap(arr[l],arr[l+1]);
<a name="l15873"></a>15873           <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = l+1, j = ir;
<a name="l15874"></a>15874           <span class="keyword">const</span> T pivot = arr[l+1];
<a name="l15875"></a>15875           <span class="keywordflow">for</span> (;;) {
<a name="l15876"></a>15876             <span class="keywordflow">do</span> i++; <span class="keywordflow">while</span> (arr[i]&lt;pivot);
<a name="l15877"></a>15877             <span class="keywordflow">do</span> j--; <span class="keywordflow">while</span> (arr[j]&gt;pivot);
<a name="l15878"></a>15878             <span class="keywordflow">if</span> (j&lt;i) <span class="keywordflow">break</span>;
<a name="l15879"></a>15879             cimg::swap(arr[i],arr[j]);
<a name="l15880"></a>15880           }
<a name="l15881"></a>15881           arr[l+1] = arr[j];
<a name="l15882"></a>15882           arr[j] = pivot;
<a name="l15883"></a>15883           <span class="keywordflow">if</span> (j&gt;=k) ir=j-1;
<a name="l15884"></a>15884           <span class="keywordflow">if</span> (j&lt;=k) l=i;
<a name="l15885"></a>15885         }
<a name="l15886"></a>15886       }
<a name="l15887"></a>15887       <span class="keywordflow">return</span> 0;
<a name="l15888"></a>15888     }
<a name="l15889"></a>15889 
<a name="l15891"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1d86298850f10e5c23f12bc7d0d76cef">15891</a>     <span class="keyword">const</span> T <a class="code" href="structcimg__library_1_1_c_img.html#a1d86298850f10e5c23f12bc7d0d76cef" title="Return the median of the image.">median</a>()<span class="keyword"> const </span>{
<a name="l15892"></a>15892       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l15893"></a>15893       <span class="keyword">const</span> T res = <a class="code" href="structcimg__library_1_1_c_img.html#ac37f8186597093b8965a233fe191159d" title="Return the kth smallest element of the image.">kth_smallest</a>(s&gt;&gt;1);
<a name="l15894"></a>15894       <span class="keywordflow">return</span> (s%2)?res:((res+<a class="code" href="structcimg__library_1_1_c_img.html#ac37f8186597093b8965a233fe191159d" title="Return the kth smallest element of the image.">kth_smallest</a>((s&gt;&gt;1)-1))/2);
<a name="l15895"></a>15895     }
<a name="l15896"></a>15896 
<a name="l15898"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5715551ea29f928aa02909654415a75f">15898</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5715551ea29f928aa02909654415a75f" title="Return the dot product of the current vector/matrix with the vector/matrix img.">dot</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l15899"></a>15899       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15900"></a>15900         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::dot() : Instance object (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15901"></a>15901                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15902"></a>15902       <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15903"></a>15903         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::trace() : Specified argument (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15904"></a>15904                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15905"></a>15905       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nb = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l15906"></a>15906       <span class="keywordtype">double</span> res=0;
<a name="l15907"></a>15907       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> off=0; off&lt;nb; off++) res+=<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off]*img[off];
<a name="l15908"></a>15908       <span class="keywordflow">return</span> res;
<a name="l15909"></a>15909     }
<a name="l15910"></a>15910 
<a name="l15912"></a><a class="code" href="structcimg__library_1_1_c_img.html#af6f42ca92cd93bbe27a419297d5efa07">15912</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af6f42ca92cd93bbe27a419297d5efa07" title="Return the cross product between two 3d vectors.">cross</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img) {
<a name="l15913"></a>15913       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=1 || <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&lt;3 || img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=1 || img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&lt;3)
<a name="l15914"></a>15914         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::cross() : Arguments (%u,%u,%u,%u,%p) and (%u,%u,%u,%u,%p) must be both 3d vectors.&quot;</span>,
<a name="l15915"></a>15915                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15916"></a>15916       <span class="keyword">const</span> T x = (*this)[0], y = (*this)[1], z = (*this)[2];
<a name="l15917"></a>15917       (*this)[0] = y*img[2]-z*img[1];
<a name="l15918"></a>15918       (*this)[1] = z*img[0]-x*img[2];
<a name="l15919"></a>15919       (*this)[2] = x*img[1]-y*img[0];
<a name="l15920"></a>15920       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l15921"></a>15921     }
<a name="l15922"></a>15922 
<a name="l15924"></a><a class="code" href="structcimg__library_1_1_c_img.html#acffeed1150aa359e2e760beb50053e7b">15924</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#acffeed1150aa359e2e760beb50053e7b" title="Return the cross product between two 3d vectors.">get_cross</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; img)<span class="keyword"> const </span>{
<a name="l15925"></a>15925       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#af6f42ca92cd93bbe27a419297d5efa07" title="Return the cross product between two 3d vectors.">cross</a>(img);
<a name="l15926"></a>15926     }
<a name="l15927"></a>15927 
<a name="l15929"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4909523f4b0c661e3e23b8805c9ac5c2">15929</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4909523f4b0c661e3e23b8805c9ac5c2" title="Return the determinant of the current matrix.">det</a>()<span class="keyword"> const </span>{
<a name="l15930"></a>15930       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || dim!=1)
<a name="l15931"></a>15931         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::det() : Instance matrix (%u,%u,%u,%u,%p) is not square or is empty.&quot;</span>,
<a name="l15932"></a>15932                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15933"></a>15933       <span class="keywordflow">switch</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) {
<a name="l15934"></a>15934       <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(0,0);
<a name="l15935"></a>15935       <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(0,0)*(*<span class="keyword">this</span>)(1,1)-(*<span class="keyword">this</span>)(0,1)*(*<span class="keyword">this</span>)(1,0);
<a name="l15936"></a>15936       <span class="keywordflow">case</span> 3: {
<a name="l15937"></a>15937         <span class="keyword">const</span> <span class="keywordtype">double</span>
<a name="l15938"></a>15938           a = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0], d = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1], g = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2],
<a name="l15939"></a>15939           b = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3], e = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4], h = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5],
<a name="l15940"></a>15940           c = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6], f = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7], i = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[8];
<a name="l15941"></a>15941         <span class="keywordflow">return</span> i*a*e-a*h*f-i*b*d+b*g*f+c*d*h-c*g*e;
<a name="l15942"></a>15942       }
<a name="l15943"></a>15943       <span class="keywordflow">default</span>: {
<a name="l15944"></a>15944         <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l15945"></a>15945         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> lu(*<span class="keyword">this</span>);
<a name="l15946"></a>15946         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> indx;
<a name="l15947"></a>15947         <span class="keywordtype">bool</span> d;
<a name="l15948"></a>15948         lu._LU(indx,d);
<a name="l15949"></a>15949         <span class="keywordtype">double</span> res = d?1.0:-1.0;
<a name="l15950"></a>15950         cimg_forX(lu,i) res*=lu(i,i);
<a name="l15951"></a>15951         <span class="keywordflow">return</span> res;
<a name="l15952"></a>15952       }
<a name="l15953"></a>15953       }
<a name="l15954"></a>15954       <span class="keywordflow">return</span> 0;
<a name="l15955"></a>15955     }
<a name="l15956"></a>15956 
<a name="l15958"></a><a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249">15958</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> ntype=2)<span class="keyword"> const </span>{
<a name="l15959"></a>15959       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15960"></a>15960         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::norm() : Instance object (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15961"></a>15961                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15962"></a>15962       <span class="keywordtype">double</span> res = 0;
<a name="l15963"></a>15963       <span class="keywordflow">switch</span> (ntype) {
<a name="l15964"></a>15964       <span class="keywordflow">case</span> -1: {
<a name="l15965"></a>15965         cimg_foroff(*<span class="keyword">this</span>,off) {
<a name="l15966"></a>15966           <span class="keyword">const</span> <span class="keywordtype">double</span> tmp = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>((<span class="keywordtype">double</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off]);
<a name="l15967"></a>15967           <span class="keywordflow">if</span> (tmp&gt;res) res = tmp;
<a name="l15968"></a>15968         }
<a name="l15969"></a>15969         <span class="keywordflow">return</span> res;
<a name="l15970"></a>15970       } <span class="keywordflow">break</span>;
<a name="l15971"></a>15971       <span class="keywordflow">case</span> 1 : {
<a name="l15972"></a>15972         cimg_foroff(*<span class="keyword">this</span>,off) res+=<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>((<span class="keywordtype">double</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off]);
<a name="l15973"></a>15973         <span class="keywordflow">return</span> res;
<a name="l15974"></a>15974       } <span class="keywordflow">break</span>;
<a name="l15975"></a>15975       <span class="keywordflow">default</span>: { <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5715551ea29f928aa02909654415a75f" title="Return the dot product of the current vector/matrix with the vector/matrix img.">dot</a>(*<span class="keyword">this</span>)); }
<a name="l15976"></a>15976       }
<a name="l15977"></a>15977       <span class="keywordflow">return</span> 0;
<a name="l15978"></a>15978     }
<a name="l15979"></a>15979 
<a name="l15981"></a><a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d">15981</a>     <span class="keywordtype">double</span> <a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d" title="Return the sum of all the pixel values in an image.">sum</a>()<span class="keyword"> const </span>{
<a name="l15982"></a>15982       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l15983"></a>15983         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::sum() : Instance object (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l15984"></a>15984                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l15985"></a>15985       <span class="keywordtype">double</span> res=0;
<a name="l15986"></a>15986       cimg_for(*<span class="keyword">this</span>,ptr,T) res+=*ptr;
<a name="l15987"></a>15987       <span class="keywordflow">return</span> res;
<a name="l15988"></a>15988     }
<a name="l15989"></a>15989 
<a name="l15991"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e">15991</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e" title="Compute the SVD of a general matrix.">SVD</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; U, <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; S, <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; V,
<a name="l15992"></a>15992                                          <span class="keyword">const</span> <span class="keywordtype">bool</span> sorting=<span class="keyword">true</span>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_iter=40)<span class="keyword"> const </span>{
<a name="l15993"></a>15993       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) { U.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); S.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); V.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); }
<a name="l15994"></a>15994       <span class="keywordflow">else</span> {
<a name="l15995"></a>15995         U = *<span class="keyword">this</span>;
<a name="l15996"></a>15996         <span class="keywordflow">if</span> (S.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) S.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l15997"></a>15997         <span class="keywordflow">if</span> (V.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> || V.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) V.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l15998"></a>15998         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> rv1(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l15999"></a>15999         t anorm=0,c,f,g=0,h,s,scale=0;
<a name="l16000"></a>16000         <span class="keywordtype">int</span> l=0, nm=0;
<a name="l16001"></a>16001 
<a name="l16002"></a>16002         cimg_forX(U,i) {
<a name="l16003"></a>16003           l = i+1; rv1[i] = scale*g; g = s = scale = 0;
<a name="l16004"></a>16004           <span class="keywordflow">if</span> (i&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) {
<a name="l16005"></a>16005             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) scale+= <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(U(i,k));
<a name="l16006"></a>16006             <span class="keywordflow">if</span> (scale) {
<a name="l16007"></a>16007               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) { U(i,k)/=scale; s+= U(i,k)*U(i,k); }
<a name="l16008"></a>16008               f = U(i,i); g = (t)((f&gt;=0?-1:1)*<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(s)); h=f*g-s; U(i,i)=f-g;
<a name="l16009"></a>16009               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) {
<a name="l16010"></a>16010                 s = 0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) s+= U(i,k)*U(j,k);
<a name="l16011"></a>16011                 f = s/h;
<a name="l16012"></a>16012                 { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) U(j,k)+= f*U(i,k); }
<a name="l16013"></a>16013               }
<a name="l16014"></a>16014               { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) U(i,k)*= scale; }
<a name="l16015"></a>16015             }
<a name="l16016"></a>16016           }
<a name="l16017"></a>16017           S[i]=scale*g;
<a name="l16018"></a>16018 
<a name="l16019"></a>16019           g = s = scale = 0;
<a name="l16020"></a>16020           <span class="keywordflow">if</span> (i&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>() &amp;&amp; i!=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1) {
<a name="l16021"></a>16021             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) scale += <a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(U(k,i));
<a name="l16022"></a>16022             <span class="keywordflow">if</span> (scale) {
<a name="l16023"></a>16023               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) { U(k,i)/= scale; s+= U(k,i)*U(k,i); }
<a name="l16024"></a>16024               f = U(l,i); g = (t)((f&gt;=0?-1:1)*<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(s)); h = f*g-s; U(l,i) = f-g;
<a name="l16025"></a>16025               { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) rv1[k]=U(k,i)/h; }
<a name="l16026"></a>16026               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); j++) {
<a name="l16027"></a>16027                 s=0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) s+= U(k,j)*U(k,i);
<a name="l16028"></a>16028                 { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) U(k,j)+= s*rv1[k]; }
<a name="l16029"></a>16029               }
<a name="l16030"></a>16030               { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) U(k,i)*= scale; }
<a name="l16031"></a>16031             }
<a name="l16032"></a>16032           }
<a name="l16033"></a>16033           anorm=<a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>((t)anorm,(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(S[i])+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(rv1[i])));
<a name="l16034"></a>16034         }
<a name="l16035"></a>16035 
<a name="l16036"></a>16036         { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1; i&gt;=0; i--) {
<a name="l16037"></a>16037           <span class="keywordflow">if</span> (i&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1) {
<a name="l16038"></a>16038             <span class="keywordflow">if</span> (g) {
<a name="l16039"></a>16039               { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) V(i,j) =(U(j,i)/U(l,i))/g; }
<a name="l16040"></a>16040               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) {
<a name="l16041"></a>16041                 s=0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) s+= U(k,i)*V(j,k);
<a name="l16042"></a>16042                 { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); k++) V(j,k)+= s*V(i,k); }
<a name="l16043"></a>16043               }
<a name="l16044"></a>16044             }
<a name="l16045"></a>16045             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) V(j,i)=V(i,j)=0.0;
<a name="l16046"></a>16046           }
<a name="l16047"></a>16047           V(i,i) = 1.0; g = rv1[i]; l = i;
<a name="l16048"></a>16048         }
<a name="l16049"></a>16049         }
<a name="l16050"></a>16050 
<a name="l16051"></a>16051         { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())-1; i&gt;=0; i--) {
<a name="l16052"></a>16052           l = i+1; g = S[i];
<a name="l16053"></a>16053           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) U(j,i) = 0;
<a name="l16054"></a>16054           <span class="keywordflow">if</span> (g) {
<a name="l16055"></a>16055             g = 1/g;
<a name="l16056"></a>16056             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); j++) {
<a name="l16057"></a>16057               s=0; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=l; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) s+= U(i,k)*U(j,k);
<a name="l16058"></a>16058               f = (s/U(i,i))*g;
<a name="l16059"></a>16059               { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i; k&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); k++) U(j,k)+= f*U(i,k); }
<a name="l16060"></a>16060             }
<a name="l16061"></a>16061             { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=i; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); j++) U(i,j)*= g; }
<a name="l16062"></a>16062           } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=i; j&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(); j++) U(i,j)=0;
<a name="l16063"></a>16063           U(i,i)++;
<a name="l16064"></a>16064         }
<a name="l16065"></a>16065         }
<a name="l16066"></a>16066 
<a name="l16067"></a>16067         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()-1; k&gt;=0; k--) {
<a name="l16068"></a>16068           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> its=0; its&lt;max_iter; its++) {
<a name="l16069"></a>16069             <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;
<a name="l16070"></a>16070             <span class="keywordflow">for</span> (l=k; l&gt;=1; l--) {
<a name="l16071"></a>16071               nm = l-1;
<a name="l16072"></a>16072               <span class="keywordflow">if</span> ((<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(rv1[l])+anorm)==anorm) { flag = <span class="keyword">false</span>; <span class="keywordflow">break</span>; }
<a name="l16073"></a>16073               <span class="keywordflow">if</span> ((<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(S[nm])+anorm)==anorm) <span class="keywordflow">break</span>;
<a name="l16074"></a>16074             }
<a name="l16075"></a>16075             <span class="keywordflow">if</span> (flag) {
<a name="l16076"></a>16076               c = 0; s = 1;
<a name="l16077"></a>16077               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=l; i&lt;=k; i++) {
<a name="l16078"></a>16078                 f = s*rv1[i]; rv1[i] = c*rv1[i];
<a name="l16079"></a>16079                 <span class="keywordflow">if</span> ((<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(f)+anorm)==anorm) <span class="keywordflow">break</span>;
<a name="l16080"></a>16080                 g = S[i]; h = (t)cimg::pythagore(f,g); S[i] = h; h = 1/h; c = g*h; s = -f*h;
<a name="l16081"></a>16081                 cimg_forY(U,j) { <span class="keyword">const</span> t y = U(nm,j), z = U(i,j); U(nm,j) = y*c+z*s; U(i,j) = z*c-y*s; }
<a name="l16082"></a>16082               }
<a name="l16083"></a>16083             }
<a name="l16084"></a>16084             <span class="keyword">const</span> t&amp; z = S[k];
<a name="l16085"></a>16085             <span class="keywordflow">if</span> (l==k) { <span class="keywordflow">if</span> (z&lt;0) { S[k] = -z; cimg_forX(U,j) V(k,j) = -V(k,j); } <span class="keywordflow">break</span>; }
<a name="l16086"></a>16086             nm = k-1;
<a name="l16087"></a>16087             t x = S[l], y = S[nm];
<a name="l16088"></a>16088             g = rv1[nm]; h = rv1[k];
<a name="l16089"></a>16089             f = ((y-z)*(y+z)+(g-h)*(g+h))/(2*h*y);
<a name="l16090"></a>16090             g = (t)cimg::pythagore(f,1.0);
<a name="l16091"></a>16091             f = ((x-z)*(x+z)+h*((y/(f+ (f&gt;=0?g:-g)))-h))/x;
<a name="l16092"></a>16092             c = s = 1;
<a name="l16093"></a>16093             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=l; j&lt;=nm; j++) {
<a name="l16094"></a>16094               <span class="keyword">const</span> <span class="keywordtype">int</span> i = j+1;
<a name="l16095"></a>16095               g = rv1[i]; h = s*g; g = c*g;
<a name="l16096"></a>16096               t y = S[i];
<a name="l16097"></a>16097               t z = (t)cimg::pythagore(f,h);
<a name="l16098"></a>16098               rv1[j] = z; c = f/z; s = h/z;
<a name="l16099"></a>16099               f = x*c+g*s; g = g*c-x*s; h = y*s; y*=c;
<a name="l16100"></a>16100               cimg_forX(U,jj) { <span class="keyword">const</span> t x = V(j,jj), z = V(i,jj); V(j,jj) = x*c+z*s; V(i,jj) = z*c-x*s; }
<a name="l16101"></a>16101               z = (t)cimg::pythagore(f,h); S[j] = z;
<a name="l16102"></a>16102               <span class="keywordflow">if</span> (z) { z = 1/z; c = f*z; s = h*z; }
<a name="l16103"></a>16103               f = c*g+s*y; x = c*y-s*g;
<a name="l16104"></a>16104               { cimg_forY(U,jj) { <span class="keyword">const</span> t y = U(j,jj); z = U(i,jj); U(j,jj) = y*c+z*s; U(i,jj) = z*c-y*s; }}
<a name="l16105"></a>16105             }
<a name="l16106"></a>16106             rv1[l] = 0; rv1[k]=f; S[k]=x;
<a name="l16107"></a>16107           }
<a name="l16108"></a>16108         }
<a name="l16109"></a>16109 
<a name="l16110"></a>16110         <span class="keywordflow">if</span> (sorting) {
<a name="l16111"></a>16111           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;int&gt;</a> permutations(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16112"></a>16112           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> tmp(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16113"></a>16113           S.<a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(permutations,<span class="keyword">false</span>);
<a name="l16114"></a>16114           cimg_forY(U,k) {
<a name="l16115"></a>16115             cimg_forX(permutations,x) tmp(x) = U(permutations(x),k);
<a name="l16116"></a>16116             std::memcpy(U.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,k),tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(t)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16117"></a>16117           }
<a name="l16118"></a>16118           { cimg_forY(V,k) {
<a name="l16119"></a>16119             cimg_forX(permutations,x) tmp(x) = V(permutations(x),k);
<a name="l16120"></a>16120             std::memcpy(V.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,k),tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(t)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16121"></a>16121           }}
<a name="l16122"></a>16122         }
<a name="l16123"></a>16123       }
<a name="l16124"></a>16124       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16125"></a>16125     }
<a name="l16126"></a>16126 
<a name="l16128"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6e6d25c3402562ee5bdf193f3a64b140">16128</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6e6d25c3402562ee5bdf193f3a64b140" title="Compute the SVD of a general matrix.">SVD</a>(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; USV)<span class="keyword"> const </span>{
<a name="l16129"></a>16129       <span class="keywordflow">if</span> (USV.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>&lt;3) USV.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(3);
<a name="l16130"></a>16130       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e" title="Compute the SVD of a general matrix.">SVD</a>(USV[0],USV[1],USV[2]);
<a name="l16131"></a>16131     }
<a name="l16132"></a>16132 
<a name="l16134"></a><a class="code" href="structcimg__library_1_1_c_img.html#a192e6eb3e62ef11af7eb91d4b787699f">16134</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a192e6eb3e62ef11af7eb91d4b787699f" title="Compute the SVD of a general matrix.">get_SVD</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> sorting=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l16135"></a>16135       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l16136"></a>16136       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a> res(3);
<a name="l16137"></a>16137       <a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e" title="Compute the SVD of a general matrix.">SVD</a>(res[0],res[1],res[2],sorting);
<a name="l16138"></a>16138       <span class="keywordflow">return</span> res;
<a name="l16139"></a>16139     }
<a name="l16140"></a>16140 
<a name="l16141"></a>16141     <span class="comment">// INNER ROUTINE : Compute the LU decomposition of a permuted matrix (c.f. numerical recipies)</span>
<a name="l16142"></a>16142     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; _LU(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; indx, <span class="keywordtype">bool</span>&amp; d) {
<a name="l16143"></a>16143       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l16144"></a>16144       <span class="keyword">const</span> <span class="keywordtype">int</span> N = <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>();
<a name="l16145"></a>16145       <span class="keywordtype">int</span> imax=0;
<a name="l16146"></a>16146       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;ftype&gt;</a> vv(N);
<a name="l16147"></a>16147       indx.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(N);
<a name="l16148"></a>16148       d=<span class="keyword">true</span>;
<a name="l16149"></a>16149       cimg_forX(*<span class="keyword">this</span>,i) {
<a name="l16150"></a>16150         ftype vmax=0.0;
<a name="l16151"></a>16151         cimg_forX(*<span class="keyword">this</span>,j) {
<a name="l16152"></a>16152           <span class="keyword">const</span> ftype tmp = <a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">cimg::abs</a>((*<span class="keyword">this</span>)(j,i));
<a name="l16153"></a>16153           <span class="keywordflow">if</span> (tmp&gt;vmax) vmax = tmp;
<a name="l16154"></a>16154         }
<a name="l16155"></a>16155         <span class="keywordflow">if</span> (vmax==0) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l16156"></a>16156         vv[i] = 1/vmax;
<a name="l16157"></a>16157       }
<a name="l16158"></a>16158       cimg_forX(*<span class="keyword">this</span>,j) {
<a name="l16159"></a>16159         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;j; i++) {
<a name="l16160"></a>16160           ftype <a class="code" href="structcimg__library_1_1_c_img.html#acd9c40e2d6889b9eae6b330a5045371d" title="Return the sum of all the pixel values in an image.">sum</a>=(*this)(j,i);
<a name="l16161"></a>16161           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;i; k++) sum-=(*<span class="keyword">this</span>)(k,i)*(*<span class="keyword">this</span>)(j,k);
<a name="l16162"></a>16162           (*this)(j,i) = (T)sum;
<a name="l16163"></a>16163         }
<a name="l16164"></a>16164         ftype vmax=0;
<a name="l16165"></a>16165         { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=j; i&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(); i++) {
<a name="l16166"></a>16166           ftype sum=(*this)(j,i);
<a name="l16167"></a>16167           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;j; k++) sum-=(*<span class="keyword">this</span>)(k,i)*(*<span class="keyword">this</span>)(j,k);
<a name="l16168"></a>16168           (*this)(j,i) = (T)sum;
<a name="l16169"></a>16169           const ftype tmp = vv[i]*cimg::<a class="code" href="structcimg__library_1_1_c_img.html#aa16c123928d15dc1c7f48f786cc242b0" title="Replace each pixel value by its absolute value.">abs</a>(sum);
<a name="l16170"></a>16170           if (tmp&gt;=vmax) { vmax=tmp; imax=i; }
<a name="l16171"></a>16171         }}
<a name="l16172"></a>16172         <span class="keywordflow">if</span> (j!=imax) {
<a name="l16173"></a>16173           cimg_forX(*<span class="keyword">this</span>,k) cimg::swap((*this)(k,imax),(*this)(k,j));
<a name="l16174"></a>16174           d =!d;
<a name="l16175"></a>16175           vv[imax] = vv[j];
<a name="l16176"></a>16176         }
<a name="l16177"></a>16177         indx[j] = (t)imax;
<a name="l16178"></a>16178         if ((*this)(j,j)==0) (*this)(j,j)=(T)1e-20;
<a name="l16179"></a>16179         if (j&lt;N) {
<a name="l16180"></a>16180           <span class="keyword">const</span> ftype tmp = 1/(ftype)(*<span class="keyword">this</span>)(j,j);
<a name="l16181"></a>16181           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=j+1; i&lt;N; i++) (*<span class="keyword">this</span>)(j,i)*=tmp;
<a name="l16182"></a>16182         }
<a name="l16183"></a>16183       }
<a name="l16184"></a>16184       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16185"></a>16185     }
<a name="l16186"></a>16186 
<a name="l16187"></a>16187     <span class="comment">// INNER ROUTINE : Solve a linear system, using the LU decomposition</span>
<a name="l16188"></a>16188     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a76918ef9658da71040f29084bfe45de7" title="Default constructor.">CImg</a>&amp; _solve(<span class="keyword">const</span> CImg&lt;T&gt;&amp; A, <span class="keyword">const</span> CImg&lt;t&gt;&amp; indx) {
<a name="l16189"></a>16189       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type ftype;
<a name="l16190"></a>16190       <span class="keyword">const</span> <span class="keywordtype">int</span> N = <a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l16191"></a>16191       <span class="keywordtype">int</span> ii=-1;
<a name="l16192"></a>16192       ftype sum;
<a name="l16193"></a>16193       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;N; i++) {
<a name="l16194"></a>16194         <span class="keyword">const</span> <span class="keywordtype">int</span> ip = (int)indx[i];
<a name="l16195"></a>16195         ftype sum = (*this)(ip);
<a name="l16196"></a>16196         (*this)(ip) = (*<span class="keyword">this</span>)(i);
<a name="l16197"></a>16197         <span class="keywordflow">if</span> (ii&gt;=0) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=ii; j&lt;=i-1; j++) sum-=A(j,i)*(*this)(j);
<a name="l16198"></a>16198         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sum!=0) ii=i;
<a name="l16199"></a>16199         (*this)(i)=sum;
<a name="l16200"></a>16200       }
<a name="l16201"></a>16201       { <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=N-1; i&gt;=0; i--) {
<a name="l16202"></a>16202         sum = (*this)(i);
<a name="l16203"></a>16203         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=i+1; j&lt;N; j++) sum-=A(j,i)*(*this)(j);
<a name="l16204"></a>16204         (*this)(i)=sum/A(i,i);
<a name="l16205"></a>16205       }}
<a name="l16206"></a>16206       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16207"></a>16207     }
<a name="l16208"></a>16208 
<a name="l16210"></a><a class="code" href="structcimg__library_1_1_c_img.html#ace9bdf1b50ca9caab1c5d3c7707d80b1">16210</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ace9bdf1b50ca9caab1c5d3c7707d80b1" title="Solve a linear system AX=B where B=*this. (in-place version).">solve</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; A) {
<a name="l16211"></a>16211       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=1 || <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || dim!=1 || <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=A.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || A.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=1 || A.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=1)
<a name="l16212"></a>16212         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::solve() : Instance matrix size is (%u,%u,%u,%u) while &quot;</span>
<a name="l16213"></a>16213                                     <span class="stringliteral">&quot;size of given matrix A is (%u,%u,%u,%u).&quot;</span>,
<a name="l16214"></a>16214                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,A.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,A.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,A.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,A.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l16215"></a>16215       <span class="keywordflow">if</span> (A.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>==A.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) {
<a name="l16216"></a>16216         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> lu(A);
<a name="l16217"></a>16217         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> indx;
<a name="l16218"></a>16218         <span class="keywordtype">bool</span> d;
<a name="l16219"></a>16219         lu._LU(indx,d);
<a name="l16220"></a>16220         _solve(lu,indx);
<a name="l16221"></a>16221       } <span class="keywordflow">else</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(A.<a class="code" href="structcimg__library_1_1_c_img.html#ae26e9d4883ddef119c350b3c64e664b4" title="Return the pseudo-inverse (Moore-Penrose) of the matrix.">get_pseudoinverse</a>()*(*this));
<a name="l16222"></a>16222       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16223"></a>16223     }
<a name="l16224"></a>16224 
<a name="l16226"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa41ea9269466a654b9a23e5e56f3a22f">16226</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#aa41ea9269466a654b9a23e5e56f3a22f" title="Solve a linear system AX=B where B=*this.">get_solve</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; A)<span class="keyword"> const </span>{
<a name="l16227"></a>16227       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l16228"></a>16228       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;restype&gt;</a>(*<span class="keyword">this</span>,<span class="keyword">false</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ace9bdf1b50ca9caab1c5d3c7707d80b1" title="Solve a linear system AX=B where B=*this. (in-place version).">solve</a>(A);
<a name="l16229"></a>16229     }
<a name="l16230"></a>16230 
<a name="l16232"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3d6fb4c9d4dc7289e360ec9b08e3ea54">16232</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3d6fb4c9d4dc7289e360ec9b08e3ea54" title="Compute the eigenvalues and eigenvectors of a matrix.">eigen</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; val, <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> &amp;vec)<span class="keyword"> const </span>{
<a name="l16233"></a>16233       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) { val.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); vec.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); }
<a name="l16234"></a>16234       <span class="keywordflow">else</span> {
<a name="l16235"></a>16235         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1 || dim&gt;1)
<a name="l16236"></a>16236           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::eigen() : Instance object (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l16237"></a>16237                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l16238"></a>16238         <span class="keywordflow">if</span> (val.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) val.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16239"></a>16239         <span class="keywordflow">if</span> (vec.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) vec.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16240"></a>16240         <span class="keywordflow">switch</span>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) {
<a name="l16241"></a>16241         <span class="keywordflow">case</span> 1: { val[0]=(t)(*<span class="keyword">this</span>)[0]; vec[0]=(t)1; } <span class="keywordflow">break</span>;
<a name="l16242"></a>16242         <span class="keywordflow">case</span> 2: {
<a name="l16243"></a>16243           <span class="keyword">const</span> <span class="keywordtype">double</span> a = (*this)[0], b = (*this)[1], c = (*this)[2], d = (*this)[3], e = a+d;
<a name="l16244"></a>16244           <span class="keywordtype">double</span> f = e*e-4*(a*d-b*c);
<a name="l16245"></a>16245           cimg::warn(f&lt;0,<span class="stringliteral">&quot;CImg&lt;%s&gt;::eigen() : Complex eigenvalues&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l16246"></a>16246           f = <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(f);
<a name="l16247"></a>16247           <span class="keyword">const</span> <span class="keywordtype">double</span> l1 = 0.5*(e-f), l2 = 0.5*(e+f);
<a name="l16248"></a>16248           <span class="keyword">const</span> <span class="keywordtype">double</span> theta1 = std::atan2(l2-a,b), theta2 = std::atan2(l1-a,b);
<a name="l16249"></a>16249           val[0]=(t)l2;
<a name="l16250"></a>16250           val[1]=(t)l1;
<a name="l16251"></a>16251           vec(0,0) = (t)std::cos(theta1);
<a name="l16252"></a>16252           vec(0,1) = (t)std::sin(theta1);
<a name="l16253"></a>16253           vec(1,0) = (t)std::cos(theta2);
<a name="l16254"></a>16254           vec(1,1) = (t)std::sin(theta2);
<a name="l16255"></a>16255         } <span class="keywordflow">break</span>;
<a name="l16256"></a>16256         <span class="keywordflow">default</span>:
<a name="l16257"></a>16257           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::eigen() : Eigenvalues computation of general matrices is limited&quot;</span>
<a name="l16258"></a>16258                                       <span class="stringliteral">&quot;to 2x2 matrices (given is %ux%u)&quot;</span>, <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l16259"></a>16259         }
<a name="l16260"></a>16260       }
<a name="l16261"></a>16261       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16262"></a>16262     }
<a name="l16263"></a>16263 
<a name="l16265"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac807a864f151b566eb14425137adaad1">16265</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#ac807a864f151b566eb14425137adaad1" title="Return the eigenvalues and eigenvectors of a matrix.">get_eigen</a>()<span class="keyword"> const </span>{
<a name="l16266"></a>16266       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l16267"></a>16267       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a> res(2);
<a name="l16268"></a>16268       <a class="code" href="structcimg__library_1_1_c_img.html#a3d6fb4c9d4dc7289e360ec9b08e3ea54" title="Compute the eigenvalues and eigenvectors of a matrix.">eigen</a>(res[0],res[1]);
<a name="l16269"></a>16269       <span class="keywordflow">return</span> res;
<a name="l16270"></a>16270     }
<a name="l16271"></a>16271 
<a name="l16273"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae71df6efd3bac834eae29e84bf79e71c">16273</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae71df6efd3bac834eae29e84bf79e71c" title="Compute the eigenvalues and eigenvectors of a matrix.">eigen</a>(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; eig)<span class="keyword"> const </span>{
<a name="l16274"></a>16274       <span class="keywordflow">if</span> (eig.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>&lt;2) eig.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(2);
<a name="l16275"></a>16275       <a class="code" href="structcimg__library_1_1_c_img.html#a3d6fb4c9d4dc7289e360ec9b08e3ea54" title="Compute the eigenvalues and eigenvectors of a matrix.">eigen</a>(eig[0],eig[1]);
<a name="l16276"></a>16276       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16277"></a>16277     }
<a name="l16278"></a>16278 
<a name="l16280"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0">16280</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; val, <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; vec)<span class="keyword"> const </span>{
<a name="l16281"></a>16281       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) { val.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); vec.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); }
<a name="l16282"></a>16282       <span class="keywordflow">else</span> {
<a name="l16283"></a>16283         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> || <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1 || dim&gt;1)
<a name="l16284"></a>16284           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::eigen() : Instance object (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l16285"></a>16285                                       <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l16286"></a>16286 
<a name="l16287"></a>16287         <span class="keywordflow">if</span> (val.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) val.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(1,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16288"></a>16288         <span class="keywordflow">if</span> (vec.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; vec.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) vec.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16289"></a>16289         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&lt;3) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3d6fb4c9d4dc7289e360ec9b08e3ea54" title="Compute the eigenvalues and eigenvectors of a matrix.">eigen</a>(val,vec);
<a name="l16290"></a>16290         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> V(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16291"></a>16291         <a class="code" href="structcimg__library_1_1_c_img.html#a8d9fd391d717afa541203fe2e530c60e" title="Compute the SVD of a general matrix.">SVD</a>(vec,val,V,<span class="keyword">false</span>);
<a name="l16292"></a>16292         cimg_forX(vec,x) {       <span class="comment">// check for negative eigenvalues</span>
<a name="l16293"></a>16293           t scal=0;
<a name="l16294"></a>16294           cimg_forY(vec,y) scal+=vec(x,y)*V(x,y);
<a name="l16295"></a>16295           <span class="keywordflow">if</span> (scal&lt;0) val[x]=-val[x];
<a name="l16296"></a>16296         }
<a name="l16297"></a>16297         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;int&gt;</a> permutations(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);  <span class="comment">// sort eigenvalues in decreasing order</span>
<a name="l16298"></a>16298         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a> tmp(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16299"></a>16299         val.<a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(permutations,<span class="keyword">false</span>);
<a name="l16300"></a>16300         cimg_forY(vec,k) {
<a name="l16301"></a>16301           cimg_forX(permutations,x) tmp(x) = vec(permutations(x),k);
<a name="l16302"></a>16302           std::memcpy(vec.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,k),tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(t)*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l16303"></a>16303         }
<a name="l16304"></a>16304       }
<a name="l16305"></a>16305       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16306"></a>16306     }
<a name="l16307"></a>16307 
<a name="l16309"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1b0a43884307e3ee41abc3e116d3221c">16309</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img.html#a1b0a43884307e3ee41abc3e116d3221c" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">get_symmetric_eigen</a>()<span class="keyword"> const </span>{
<a name="l16310"></a>16310       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l16311"></a>16311       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a> res(2);
<a name="l16312"></a>16312       <a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(res[0],res[1]);
<a name="l16313"></a>16313       <span class="keywordflow">return</span> res;
<a name="l16314"></a>16314     }
<a name="l16315"></a>16315 
<a name="l16317"></a><a class="code" href="structcimg__library_1_1_c_img.html#a42dedf55df4f9cec70395e6a0b701146">16317</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a42dedf55df4f9cec70395e6a0b701146" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; eig)<span class="keyword"> const </span>{
<a name="l16318"></a>16318       <span class="keywordflow">if</span> (eig.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>&lt;2) eig.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(2);
<a name="l16319"></a>16319       <a class="code" href="structcimg__library_1_1_c_img.html#aa7a445de07be7553058e6038c1574dd0" title="Compute the eigenvalues and eigenvectors of a symmetric matrix.">symmetric_eigen</a>(eig[0],eig[1]);
<a name="l16320"></a>16320       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16321"></a>16321     }
<a name="l16322"></a>16322 
<a name="l16323"></a>16323     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; _quicksort(<span class="keyword">const</span> <span class="keywordtype">int</span> min,<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">max</a>,<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; permutations,<span class="keyword">const</span> <span class="keywordtype">bool</span> increasing) {
<a name="l16324"></a>16324       <span class="keywordflow">if</span> (min&lt;max) {
<a name="l16325"></a>16325         <span class="keyword">const</span> <span class="keywordtype">int</span> mid = (min+max)/2;
<a name="l16326"></a>16326         <span class="keywordflow">if</span> (increasing) {
<a name="l16327"></a>16327           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[min]&gt;(*this)[mid]) {
<a name="l16328"></a>16328             cimg::swap((*<span class="keyword">this</span>)[min],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[min],permutations[mid]); }
<a name="l16329"></a>16329           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[mid]&gt;(*<span class="keyword">this</span>)[max]) {
<a name="l16330"></a>16330             cimg::swap((*<span class="keyword">this</span>)[max],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[max],permutations[mid]); }
<a name="l16331"></a>16331           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[min]&gt;(*<span class="keyword">this</span>)[mid]) {
<a name="l16332"></a>16332             cimg::swap((*<span class="keyword">this</span>)[min],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[min],permutations[mid]); }
<a name="l16333"></a>16333         } <span class="keywordflow">else</span> {
<a name="l16334"></a>16334           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[min]&lt;(*<span class="keyword">this</span>)[mid]) {
<a name="l16335"></a>16335             cimg::swap((*<span class="keyword">this</span>)[min],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[min],permutations[mid]); }
<a name="l16336"></a>16336           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[mid]&lt;(*<span class="keyword">this</span>)[max]) {
<a name="l16337"></a>16337             cimg::swap((*<span class="keyword">this</span>)[max],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[max],permutations[mid]); }
<a name="l16338"></a>16338           <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[min]&lt;(*<span class="keyword">this</span>)[mid]) {
<a name="l16339"></a>16339             cimg::swap((*<span class="keyword">this</span>)[min],(*<span class="keyword">this</span>)[mid]); cimg::swap(permutations[min],permutations[mid]); }
<a name="l16340"></a>16340         }
<a name="l16341"></a>16341         <span class="keywordflow">if</span> (max-min&gt;=3) {
<a name="l16342"></a>16342           <span class="keyword">const</span> T pivot = (*this)[mid];
<a name="l16343"></a>16343           <span class="keywordtype">int</span> i = min, j = max;
<a name="l16344"></a>16344           <span class="keywordflow">if</span> (increasing) {
<a name="l16345"></a>16345             <span class="keywordflow">do</span> {
<a name="l16346"></a>16346               <span class="keywordflow">while</span> ((*<span class="keyword">this</span>)[i]&lt;pivot) i++;
<a name="l16347"></a>16347               <span class="keywordflow">while</span> ((*<span class="keyword">this</span>)[j]&gt;pivot) j--;
<a name="l16348"></a>16348               <span class="keywordflow">if</span> (i&lt;=j) {
<a name="l16349"></a>16349                 cimg::swap((*<span class="keyword">this</span>)[i],(*<span class="keyword">this</span>)[j]);
<a name="l16350"></a>16350                 cimg::swap(permutations[i++],permutations[j--]);
<a name="l16351"></a>16351               }
<a name="l16352"></a>16352             } <span class="keywordflow">while</span> (i&lt;=j);
<a name="l16353"></a>16353           } <span class="keywordflow">else</span> {
<a name="l16354"></a>16354             <span class="keywordflow">do</span> {
<a name="l16355"></a>16355               <span class="keywordflow">while</span> ((*<span class="keyword">this</span>)[i]&gt;pivot) i++;
<a name="l16356"></a>16356               <span class="keywordflow">while</span> ((*<span class="keyword">this</span>)[j]&lt;pivot) j--;
<a name="l16357"></a>16357               <span class="keywordflow">if</span> (i&lt;=j) {
<a name="l16358"></a>16358                 cimg::swap((*<span class="keyword">this</span>)[i],(*<span class="keyword">this</span>)[j]);
<a name="l16359"></a>16359                 cimg::swap(permutations[i++],permutations[j--]);
<a name="l16360"></a>16360               }
<a name="l16361"></a>16361             } <span class="keywordflow">while</span> (i&lt;=j);
<a name="l16362"></a>16362           }
<a name="l16363"></a>16363           <span class="keywordflow">if</span> (min&lt;j) _quicksort(min,j,permutations,increasing);
<a name="l16364"></a>16364           <span class="keywordflow">if</span> (i&lt;max) _quicksort(i,max,permutations,increasing);
<a name="l16365"></a>16365         }
<a name="l16366"></a>16366       }
<a name="l16367"></a>16367       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16368"></a>16368     }
<a name="l16369"></a>16369 
<a name="l16371"></a>16371     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l16372"></a><a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4">16372</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; permutations,<span class="keyword">const</span> <span class="keywordtype">bool</span> increasing=<span class="keyword">true</span>) {
<a name="l16373"></a>16373       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) permutations.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l16374"></a>16374       <span class="keywordflow">else</span> {
<a name="l16375"></a>16375         <span class="keywordflow">if</span> (permutations.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()!=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()) permutations.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(size());
<a name="l16376"></a>16376         cimg_foroff(permutations,off) permutations[off] = (t)off;
<a name="l16377"></a>16377         _quicksort(0,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()-1,permutations,increasing);
<a name="l16378"></a>16378       }
<a name="l16379"></a>16379       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16380"></a>16380     }
<a name="l16381"></a>16381 
<a name="l16383"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9d2f2bc26cc2036abd75bdb7cae4882c">16383</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9d2f2bc26cc2036abd75bdb7cae4882c" title="Sort values of a vector.">sort</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> increasing=<span class="keyword">true</span>) { <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> foo; <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9d2f2bc26cc2036abd75bdb7cae4882c" title="Sort values of a vector.">sort</a>(foo,increasing); }
<a name="l16384"></a>16384 
<a name="l16386"></a><a class="code" href="structcimg__library_1_1_c_img.html#aec750d5082ec7fb51f7b2e199ebbaab6">16386</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#aec750d5082ec7fb51f7b2e199ebbaab6" title="Get a sorted version a of vector, with permutations.">get_sort</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; permutations,<span class="keyword">const</span> <span class="keywordtype">bool</span> increasing=<span class="keyword">true</span>) {
<a name="l16387"></a>16387       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(permutations,increasing);
<a name="l16388"></a>16388     }
<a name="l16389"></a>16389 
<a name="l16391"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae453c92b2d658db213738ba45cf8dd10">16391</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae453c92b2d658db213738ba45cf8dd10" title="Get a sorted version of a vector.">get_sort</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> increasing=<span class="keyword">true</span>) {
<a name="l16392"></a>16392       <span class="keywordflow">return</span> (+*<span class="keyword">this</span>).<a class="code" href="structcimg__library_1_1_c_img.html#ade39d3023aa16a6b8c2e97a0e1f7e8c4" title="Sort values of a vector and get permutations.">sort</a>(increasing);
<a name="l16393"></a>16393     }
<a name="l16394"></a>16394 
<a name="l16396"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae2e94f18080336a3bbadd818518702d5">16396</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae2e94f18080336a3bbadd818518702d5" title="Get a permutation of the pixels.">get_permute</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; permutation)<span class="keyword"> const </span>{
<a name="l16397"></a>16397       <span class="keywordflow">if</span> (permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()!=<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())
<a name="l16398"></a>16398         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::permute() : Instance image (%u,%u,%u,%u,%p) and permutation (%u,%u,%u,%u,%p)&quot;</span>
<a name="l16399"></a>16399                                     <span class="stringliteral">&quot;have different sizes.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),
<a name="l16400"></a>16400                                     <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,
<a name="l16401"></a>16401                                     permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,permutation.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l16402"></a>16402       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,height,depth,dim);
<a name="l16403"></a>16403       <span class="keyword">const</span> t *p = permutation.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(permutation.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l16404"></a>16404       cimg_for(res,ptr,T) *ptr = (*this)[*(--p)];
<a name="l16405"></a>16405       <span class="keywordflow">return</span> res;
<a name="l16406"></a>16406     }
<a name="l16407"></a>16407 
<a name="l16409"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3b396bd57feddfad174d15ebde429de7">16409</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3b396bd57feddfad174d15ebde429de7" title="In-place version of the previous function.">permute</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; permutation) {
<a name="l16410"></a>16410       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae2e94f18080336a3bbadd818518702d5" title="Get a permutation of the pixels.">get_permute</a>(permutation).swap(*<span class="keyword">this</span>);
<a name="l16411"></a>16411     }
<a name="l16412"></a>16412 
<a name="l16414"></a>16414     <span class="comment">//-------------------</span>
<a name="l16415"></a>16415     <span class="comment">//</span>
<a name="l16417"></a>16417 <span class="comment"></span>
<a name="l16418"></a>16418     <span class="comment">//-------------------</span>
<a name="l16419"></a>16419 
<a name="l16421"></a><a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83">16421</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp)<span class="keyword"> const </span>{
<a name="l16422"></a>16422       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(*<span class="keyword">this</span>);
<a name="l16423"></a>16423       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16424"></a>16424     }
<a name="l16425"></a>16425 
<a name="l16429"></a><a class="code" href="structcimg__library_1_1_c_img.html#aade198c2b2e6f89be49a4cfa69fcdce4">16429</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aade198c2b2e6f89be49a4cfa69fcdce4">display</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* title, <span class="keyword">const</span> <span class="keywordtype">int</span> min_size=128, <span class="keyword">const</span> <span class="keywordtype">int</span> max_size=1024)<span class="keyword"> const </span>{
<a name="l16430"></a>16430       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l16431"></a>16431         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::display() : Instance image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l16432"></a>16432                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l16433"></a>16433       <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> *disp;
<a name="l16434"></a>16434       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0), h = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0), XYZ[3];
<a name="l16435"></a>16435       <a class="code" href="structcimg__library_1_1_c_img.html#a29c40d60c9eac664831cc2b69839ed6d" title="Display informations about the image on the standard error output.">print</a>(title);
<a name="l16436"></a>16436       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(w,h), minsiz = min_size&gt;=0?min_size:(-min_size)*dmin/100;
<a name="l16437"></a>16437       <span class="keywordflow">if</span> (dmin&lt;minsiz) { w=w*minsiz/dmin; w+=(w==0); h=h*minsiz/dmin; h+=(h==0); }
<a name="l16438"></a>16438       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(w,h), maxsiz = max_size&gt;=0?max_size:(-max_size)*dmax/100;
<a name="l16439"></a>16439       <span class="keywordflow">if</span> (dmax&gt;maxsiz) { w=w*maxsiz/dmax; w+=(w==0); h=h*maxsiz/dmax; h+=(h==0); }
<a name="l16440"></a>16440       disp = <span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>(w,h,title,3,3);
<a name="l16441"></a>16441       XYZ[0] = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2; XYZ[1] = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2; XYZ[2] = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2;
<a name="l16442"></a>16442       <span class="keywordflow">while</span> (!disp-&gt;<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; !disp-&gt;<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>) <a class="code" href="structcimg__library_1_1_c_img.html#ae7d87a654447b781e9c5a5d0db77fdf7" title="High-level interface to select features from images.">feature_selection</a>(0,1,*disp,XYZ);
<a name="l16443"></a>16443       <span class="keyword">delete</span> disp;
<a name="l16444"></a>16444       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16445"></a>16445     }
<a name="l16446"></a>16446 
<a name="l16448"></a><a class="code" href="structcimg__library_1_1_c_img.html#a941988a0ddc5b2ba903a3f059c7fdb1f">16448</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a941988a0ddc5b2ba903a3f059c7fdb1f" title="Display an image in a window, with a default title. See also.">display</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> min_size=128, <span class="keyword">const</span> <span class="keywordtype">int</span> max_size=1024)<span class="keyword"> const </span>{
<a name="l16449"></a>16449       <span class="keywordtype">char</span> title[256]={0};
<a name="l16450"></a>16450       std::sprintf(title,<span class="stringliteral">&quot;CImg&lt;%s&gt;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l16451"></a>16451       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(title,min_size,max_size);
<a name="l16452"></a>16452     }
<a name="l16453"></a>16453 
<a name="l16455"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae7d87a654447b781e9c5a5d0db77fdf7">16455</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae7d87a654447b781e9c5a5d0db77fdf7" title="High-level interface to select features from images.">feature_selection</a>(<span class="keywordtype">int</span>* <span class="keyword">const</span> selection, <span class="keyword">const</span> <span class="keywordtype">int</span> feature_type, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> &amp;disp,
<a name="l16456"></a>16456                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> XYZ=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> color=0)<span class="keyword"> const </span>{
<a name="l16457"></a>16457       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l16458"></a>16458         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::feature_selection() : Instance image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l16459"></a>16459                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l16460"></a>16460 
<a name="l16461"></a>16461       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l16462"></a>16462         old_events = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a>,
<a name="l16463"></a>16463         old_normalization = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a>,
<a name="l16464"></a>16464         hatch = 0x55555555;
<a name="l16465"></a>16465 
<a name="l16466"></a>16466       <span class="keywordtype">bool</span> old_is_resized = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>;
<a name="l16467"></a>16467       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = 3;
<a name="l16468"></a>16468       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = 0;
<a name="l16469"></a>16469       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8feb37e22985238253582a658b8f8e81" title="Show a closed display.">show</a>().<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = 0;
<a name="l16470"></a>16470 
<a name="l16471"></a>16471       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> fgcolor[3] = { 255,255,105 }, bgcolor[3] = { 0,0,0 };
<a name="l16472"></a>16472       <span class="keywordflow">if</span> (color) std::memcpy(fgcolor,color,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(3,<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()));
<a name="l16473"></a>16473 
<a name="l16474"></a>16474       <span class="keywordtype">int</span> area = 0, clicked_area = 0, phase = 0,
<a name="l16475"></a>16475         X0 = (int)((XYZ?XYZ[0]:<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2)%<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>), Y0 = (<span class="keywordtype">int</span>)((XYZ?XYZ[1]:<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2)%<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>), Z0 = (int)((XYZ?XYZ[2]:<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>/2)%<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>),
<a name="l16476"></a>16476         X1 =-1, Y1 = -1, Z1 = -1,
<a name="l16477"></a>16477         X = -1, Y = -1, Z = -1,
<a name="l16478"></a>16478         oX = X, oY = Y, oZ = Z;
<a name="l16479"></a>16479       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> old_button = 0, key = 0;
<a name="l16480"></a>16480 
<a name="l16481"></a>16481       <span class="keywordtype">bool</span> feature_selected = <span class="keyword">false</span>, text_down = <span class="keyword">false</span>;
<a name="l16482"></a>16482       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> visu, visu0;
<a name="l16483"></a>16483       <span class="keywordtype">char</span> text[1024] = { 0 };
<a name="l16484"></a>16484 
<a name="l16485"></a>16485       <span class="keywordflow">while</span> (!key &amp;&amp; !disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; !feature_selected) {
<a name="l16486"></a>16486 
<a name="l16487"></a>16487         <span class="comment">// Handle mouse motion and selection</span>
<a name="l16488"></a>16488         oX = X; oY = Y; oZ = Z;
<a name="l16489"></a>16489         <span class="keywordtype">int</span> mx = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>, my = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>;
<a name="l16490"></a>16490         <span class="keyword">const</span> <span class="keywordtype">int</span> mX = mx*(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0))/disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>, mY = my*(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0))/disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>;
<a name="l16491"></a>16491 
<a name="l16492"></a>16492         area = 0;
<a name="l16493"></a>16493         <span class="keywordflow">if</span> (mX&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() &amp;&amp; mY&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())  { area = 1; X = mX; Y = mY; Z = phase?Z1:Z0; }
<a name="l16494"></a>16494         <span class="keywordflow">if</span> (mX&lt;<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() &amp;&amp; mY&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) { area = 2; X = mX; Z = mY-<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; Y = phase?Y1:Y0; }
<a name="l16495"></a>16495         <span class="keywordflow">if</span> (mX&gt;=<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>() &amp;&amp; mY&lt;<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()) { area = 3; Y = mY; Z = mX-<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; X = phase?X1:X0; }
<a name="l16496"></a>16496 
<a name="l16497"></a>16497         key = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>;
<a name="l16498"></a>16498         <span class="keywordflow">if</span> (key &amp;&amp; key!=cimg::keyCTRLLEFT) {
<a name="l16499"></a>16499           <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a43387d75880547848f1bbade4ad16e36" title="Test if a specific key is pressed.">is_pressed</a>(cimg::keyCTRLLEFT)) {
<a name="l16500"></a>16500             <span class="keywordflow">switch</span> (key) {
<a name="l16501"></a>16501             <span class="keywordflow">case</span> cimg::keyARROWLEFT:
<a name="l16502"></a>16502             <span class="keywordflow">case</span> cimg::keyARROWDOWN: disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>--; <span class="keywordflow">break</span>;
<a name="l16503"></a>16503             <span class="keywordflow">case</span> cimg::keyARROWRIGHT:
<a name="l16504"></a>16504             <span class="keywordflow">case</span> cimg::keyARROWUP: disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>++; <span class="keywordflow">break</span>;
<a name="l16505"></a>16505             <span class="keywordflow">case</span> cimg::keyD: <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a4e6138906a037d73e90b7525861f0058" title="Toggle fullscreen mode.">toggle_fullscreen</a>(); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(-200,-200); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16506"></a>16506             <span class="keywordflow">case</span> cimg::keyC: <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a4e6138906a037d73e90b7525861f0058" title="Toggle fullscreen mode.">toggle_fullscreen</a>(); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(-50,-50); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16507"></a>16507             <span class="keywordflow">case</span> cimg::keyR: <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a3d67a68607f980104609fa97795d6c69" title="Fullscreen state of the display.">is_fullscreen</a>) disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a4e6138906a037d73e90b7525861f0058" title="Toggle fullscreen mode.">toggle_fullscreen</a>(); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(*<span class="keyword">this</span>); disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16508"></a>16508             <span class="keywordflow">case</span> cimg::keyF:
<a name="l16509"></a>16509               disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">screen_dimx</a>(),disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">screen_dimy</a>()).toggle_fullscreen();
<a name="l16510"></a>16510               disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">true</span>;
<a name="l16511"></a>16511               <span class="keywordflow">break</span>;
<a name="l16512"></a>16512             <span class="keywordflow">case</span> cimg::keyS: {
<a name="l16513"></a>16513               <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> snap_number = 0;
<a name="l16514"></a>16514               <span class="keywordtype">char</span> filename[32] = {0};
<a name="l16515"></a>16515               std::FILE *file;
<a name="l16516"></a>16516               <span class="keywordflow">do</span> {
<a name="l16517"></a>16517                 std::sprintf(filename,<span class="stringliteral">&quot;CImg_%.4u.bmp&quot;</span>,snap_number++);
<a name="l16518"></a>16518                 <span class="keywordflow">if</span> ((file=std::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>))!=0) std::fclose(file);
<a name="l16519"></a>16519               } <span class="keywordflow">while</span> (file);
<a name="l16520"></a>16520               <span class="keywordflow">if</span> (!visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a593d3d4f5eae665e93c3f551b2da3f03" title="Save the image as a file.">save</a>(filename);
<a name="l16521"></a>16521             } <span class="keywordflow">break</span>;
<a name="l16522"></a>16522             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l16523"></a>16523             }
<a name="l16524"></a>16524             key = disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = 0;
<a name="l16525"></a>16525           }
<a name="l16526"></a>16526         } <span class="keywordflow">else</span> key = 0;
<a name="l16527"></a>16527 
<a name="l16528"></a>16528         <span class="keywordflow">if</span> (!area) mx = my = X = Y = Z = -1;
<a name="l16529"></a>16529         <span class="keywordflow">else</span> {
<a name="l16530"></a>16530           <span class="keywordflow">if</span> (disp.button&amp;1 &amp;&amp; phase&lt;2) { X1 = X; Y1 = Y; Z1 = Z; }
<a name="l16531"></a>16531           <span class="keywordflow">if</span> (!(disp.button&amp;1) &amp;&amp; phase&gt;=2) {
<a name="l16532"></a>16532             <span class="keywordflow">switch</span> (clicked_area) {
<a name="l16533"></a>16533             <span class="keywordflow">case</span> 1: Z1 = Z; <span class="keywordflow">break</span>;
<a name="l16534"></a>16534             <span class="keywordflow">case</span> 2: Y1 = Y; <span class="keywordflow">break</span>;
<a name="l16535"></a>16535             <span class="keywordflow">case</span> 3: X1 = X; <span class="keywordflow">break</span>;
<a name="l16536"></a>16536             }
<a name="l16537"></a>16537           }
<a name="l16538"></a>16538           <span class="keywordflow">if</span> (disp.button&amp;2) { <span class="keywordflow">if</span> (phase) { X1 = X; Y1 = Y; Z1 = Z; } <span class="keywordflow">else</span> { X0 = X; Y0 = Y; Z0 = Z; } }
<a name="l16539"></a>16539           <span class="keywordflow">if</span> (disp.button&amp;4) { oX = X = X0; oY = Y = Y0; oZ = Z = Z0; phase = 0; visu.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); }
<a name="l16540"></a>16540           <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>) {
<a name="l16541"></a>16541             <span class="keywordflow">switch</span> (area) {
<a name="l16542"></a>16542             <span class="keywordflow">case</span> 1: <span class="keywordflow">if</span> (phase) Z = (Z1+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">else</span> Z = (Z0+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">break</span>;
<a name="l16543"></a>16543             <span class="keywordflow">case</span> 2: <span class="keywordflow">if</span> (phase) Y = (Y1+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">else</span> Y = (Y0+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">break</span>;
<a name="l16544"></a>16544             <span class="keywordflow">case</span> 3: <span class="keywordflow">if</span> (phase) X = (X1+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">else</span> X = (X0+=disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a>); <span class="keywordflow">break</span>;
<a name="l16545"></a>16545             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l16546"></a>16546             }
<a name="l16547"></a>16547             disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a8f9f97f8b6379c3c7dd75353ca3a432d" title="Wheel state of the mouse.">wheel</a> = 0;
<a name="l16548"></a>16548           }
<a name="l16549"></a>16549           <span class="keywordflow">if</span> ((disp.button&amp;1)!=old_button) {
<a name="l16550"></a>16550             <span class="keywordflow">switch</span> (phase++) {
<a name="l16551"></a>16551             <span class="keywordflow">case</span> 0: X0 = X1 = X; Y0 = Y1 = Y; Z0 = Z1 = Z; clicked_area = area; <span class="keywordflow">break</span>;
<a name="l16552"></a>16552             <span class="keywordflow">case</span> 1: X1 = X; Y1 = Y; Z1 = Z; <span class="keywordflow">break</span>;
<a name="l16553"></a>16553             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l16554"></a>16554             }
<a name="l16555"></a>16555             old_button = disp.button&amp;1;
<a name="l16556"></a>16556           }
<a name="l16557"></a>16557           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1 &amp;&amp; (X!=oX || Y!=oY || Z!=oZ)) visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l16558"></a>16558         }
<a name="l16559"></a>16559 
<a name="l16560"></a>16560         <span class="keywordflow">if</span> (phase) {
<a name="l16561"></a>16561           <span class="keywordflow">if</span> (!feature_type) feature_selected = phase?<span class="keyword">true</span>:<span class="keyword">false</span>;
<a name="l16562"></a>16562           <span class="keywordflow">else</span> {
<a name="l16563"></a>16563             <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1) feature_selected = (phase==3)?<span class="keyword">true</span>:<span class="keyword">false</span>;
<a name="l16564"></a>16564             <span class="keywordflow">else</span> feature_selected = (phase==2)?<span class="keyword">true</span>:<span class="keyword">false</span>;
<a name="l16565"></a>16565           }
<a name="l16566"></a>16566         }
<a name="l16567"></a>16567 
<a name="l16568"></a>16568         <span class="keywordflow">if</span> (X0&lt;0) X0 = 0; <span class="keywordflow">if</span> (X0&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) X0 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1; <span class="keywordflow">if</span> (Y0&lt;0) Y0 = 0; <span class="keywordflow">if</span> (Y0&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) Y0 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1;
<a name="l16569"></a>16569         <span class="keywordflow">if</span> (Z0&lt;0) Z0 = 0; <span class="keywordflow">if</span> (Z0&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) Z0 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1;
<a name="l16570"></a>16570         <span class="keywordflow">if</span> (X1&lt;1) X1 = 0; <span class="keywordflow">if</span> (X1&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) X1 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1; <span class="keywordflow">if</span> (Y1&lt;0) Y1 = 0; <span class="keywordflow">if</span> (Y1&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) Y1 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1;
<a name="l16571"></a>16571         <span class="keywordflow">if</span> (Z1&lt;0) Z1 = 0; <span class="keywordflow">if</span> (Z1&gt;=(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) Z1 = (<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>-1;
<a name="l16572"></a>16572 
<a name="l16573"></a>16573         <span class="comment">// Draw visualization image on the display</span>
<a name="l16574"></a>16574         <span class="keywordflow">if</span> (oX!=X || oY!=Y || oZ!=Z || visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l16575"></a>16575           <span class="keywordflow">if</span> (visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l16576"></a>16576             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> tmp;
<a name="l16577"></a>16577             <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>==1) tmp = <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(3,<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()));
<a name="l16578"></a>16578             <span class="keywordflow">else</span> tmp = (!phase?<a class="code" href="structcimg__library_1_1_c_img.html#ae8369d9edb2ba3f79a64a8e940b921ed" title="Return a 2D representation of a 3D image, with three slices.">get_projections2d</a>(X0,Y0,Z0):<a class="code" href="structcimg__library_1_1_c_img.html#ae8369d9edb2ba3f79a64a8e940b921ed" title="Return a 2D representation of a 3D image, with three slices.">get_projections2d</a>(X1,Y1,Z1)).<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,<a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(3,<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()));
<a name="l16579"></a>16579             <span class="keywordflow">if</span> (old_normalization) {
<a name="l16580"></a>16580               <span class="keywordflow">if</span> (old_normalization&lt;3 || <a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::is_float</a>()) {
<a name="l16581"></a>16581                 <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(T)&gt;1) visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(tmp.<a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b" title="Linear normalization of the pixel values between a and b.">normalize</a>(0,255));
<a name="l16582"></a>16582                 <span class="keywordflow">else</span> visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(tmp).<a class="code" href="structcimg__library_1_1_c_img.html#aebe5488b504aa1e9f331d63efa6d578b" title="Linear normalization of the pixel values between a and b.">normalize</a>(0,255);
<a name="l16583"></a>16583               } <span class="keywordflow">else</span> {
<a name="l16584"></a>16584                 <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::id</a>()!=<a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;unsigned char&gt;::id</a>()) {
<a name="l16585"></a>16585                   <span class="keyword">const</span> <span class="keywordtype">float</span> m = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::type&lt;T&gt;::min</a>(), M = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;T&gt;::max</a>();
<a name="l16586"></a>16586                   visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>((<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(tmp)-=m)*=255.0f/(M-m));
<a name="l16587"></a>16587                 } <span class="keywordflow">else</span> visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(tmp);
<a name="l16588"></a>16588               }
<a name="l16589"></a>16589             } <span class="keywordflow">else</span> visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(tmp);
<a name="l16590"></a>16590           }
<a name="l16591"></a>16591           visu = visu0;
<a name="l16592"></a>16592 
<a name="l16593"></a>16593           <span class="keyword">const</span> <span class="keywordtype">int</span> d=(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1)?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0;
<a name="l16594"></a>16594           <span class="keywordflow">if</span> (phase) <span class="keywordflow">switch</span> (feature_type) {
<a name="l16595"></a>16595           <span class="keywordflow">case</span> 1: {
<a name="l16596"></a>16596             <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l16597"></a>16597               x0=(int)((X0+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)), y0=(int)((Y0+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)),
<a name="l16598"></a>16598               x1=(int)((X1+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)), y1=(int)((Y1+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d));
<a name="l16599"></a>16599             visu.<a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x0,y0,x1,y1,fgcolor,30.0f,5.0f,hatch);
<a name="l16600"></a>16600             <span class="keywordflow">if</span> (d) {
<a name="l16601"></a>16601               <span class="keyword">const</span> <span class="keywordtype">int</span> zx0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+Z0+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)), zx1=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+Z1+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)),
<a name="l16602"></a>16602                 zy0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+Z0+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)), zy1=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+Z1+0.5f)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d));
<a name="l16603"></a>16603               visu.<a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(zx0,y0,zx1,y1,fgcolor,30.0f,5.0f,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#a1824b8c07f761474db1d3006d72c8e75" title="Draw a 2D colored arrow in the instance image, at coordinates (x0,y0)-&amp;gt;(x1,y1).">draw_arrow</a>(x0,zy0,x1,zy1,fgcolor,30.0f,5.0f,hatch);
<a name="l16604"></a>16604             }
<a name="l16605"></a>16605           } <span class="keywordflow">break</span>;
<a name="l16606"></a>16606           <span class="keywordflow">case</span> 2: {
<a name="l16607"></a>16607             <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l16608"></a>16608               x0=(X0&lt;X1?X0:X1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d),
<a name="l16609"></a>16609               y0=(Y0&lt;Y1?Y0:Y1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d),
<a name="l16610"></a>16610               x1=((X0&lt;X1?X1:X0)+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)-1,
<a name="l16611"></a>16611               y1=((Y0&lt;Y1?Y1:Y0)+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)-1;
<a name="l16612"></a>16612             visu.<a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(x0,y0,x1,y1,fgcolor,0.2f).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y0,x1,y0,fgcolor,hatch).
<a name="l16613"></a>16613               <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y0,x1,y1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,y1,x0,y1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,y1,x0,y0,fgcolor,hatch);
<a name="l16614"></a>16614             <span class="keywordflow">if</span> (d) {
<a name="l16615"></a>16615               <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l16616"></a>16616                 zx0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+(Z0&lt;Z1?Z0:Z1))*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)),
<a name="l16617"></a>16617                 zy0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+(Z0&lt;Z1?Z0:Z1))*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)),
<a name="l16618"></a>16618                 zx1=(<span class="keywordtype">int</span>)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+(Z0&lt;Z1?Z1:Z0)+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d))-1,
<a name="l16619"></a>16619                 zy1=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+(Z0&lt;Z1?Z1:Z0)+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d))-1;
<a name="l16620"></a>16620               visu.<a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(zx0,y0,zx1,y1,fgcolor,0.2f).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(zx0,y0,zx1,y0,fgcolor,hatch).
<a name="l16621"></a>16621                 <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(zx1,y0,zx1,y1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(zx1,y1,zx0,y1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(zx0,y1,zx0,y0,fgcolor,hatch);
<a name="l16622"></a>16622               visu.<a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(x0,zy0,x1,zy1,fgcolor,0.2f).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,zy0,x1,zy0,fgcolor,hatch).
<a name="l16623"></a>16623                 <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,zy0,x1,zy1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x1,zy1,x0,zy1,fgcolor,hatch).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(x0,zy1,x0,zy0,fgcolor,hatch);
<a name="l16624"></a>16624             }
<a name="l16625"></a>16625           } <span class="keywordflow">break</span>;
<a name="l16626"></a>16626           <span class="keywordflow">case</span> 3: {
<a name="l16627"></a>16627             <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l16628"></a>16628               x0=X0*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d),
<a name="l16629"></a>16629               y0=Y0*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d),
<a name="l16630"></a>16630               x1=X1*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)-1,
<a name="l16631"></a>16631               y1=Y1*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)-1;
<a name="l16632"></a>16632             visu.<a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,y0,(<span class="keywordtype">float</span>)(x1-x0),(<span class="keywordtype">float</span>)(y1-y0),1.0f,0.0f,fgcolor,0L,0.2f).
<a name="l16633"></a>16633               <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,y0,(<span class="keywordtype">float</span>)(x1-x0),(<span class="keywordtype">float</span>)(y1-y0),1.0f,0.0f,fgcolor,hatch);
<a name="l16634"></a>16634             <span class="keywordflow">if</span> (d) {
<a name="l16635"></a>16635               <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l16636"></a>16636                 zx0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+Z0)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d)),
<a name="l16637"></a>16637                 zy0=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+Z0)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d)),
<a name="l16638"></a>16638                 zx1=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+Z1+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+d))-1,
<a name="l16639"></a>16639                 zy1=(int)((<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+Z1+1)*disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>/(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+d))-1;
<a name="l16640"></a>16640               visu.<a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(zx0,y0,(<span class="keywordtype">float</span>)(zx1-zx0),(<span class="keywordtype">float</span>)(y1-y0),1.0f,0.0f,fgcolor,0L,0.2f).
<a name="l16641"></a>16641                 <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(zx0,y0,(<span class="keywordtype">float</span>)(zx1-zx0),(<span class="keywordtype">float</span>)(y1-y0),1.0f,0.0f,fgcolor,hatch).
<a name="l16642"></a>16642                 <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,zy0,(<span class="keywordtype">float</span>)(x1-x0),(<span class="keywordtype">float</span>)(zy1-zy0),1.0f,0.0f,fgcolor,0L,0.2f).
<a name="l16643"></a>16643                 <a class="code" href="structcimg__library_1_1_c_img.html#a20cc568a4d3bfeb07ac5a7b41a9f1235" title="Draw an ellipse on the instance image.">draw_ellipse</a>(x0,zy0,(<span class="keywordtype">float</span>)(x1-x0),(<span class="keywordtype">float</span>)(zy1-zy0),1.0f,0.0f,fgcolor,hatch);
<a name="l16644"></a>16644             }
<a name="l16645"></a>16645           } <span class="keywordflow">break</span>;
<a name="l16646"></a>16646           }
<a name="l16647"></a>16647 
<a name="l16648"></a>16648           <span class="keywordflow">if</span> (my&lt;12) text_down = <span class="keyword">true</span>;
<a name="l16649"></a>16649           <span class="keywordflow">if</span> (my&gt;=visu.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-11) text_down = <span class="keyword">false</span>;
<a name="l16650"></a>16650           <span class="keywordflow">if</span> (!feature_type || !phase) {
<a name="l16651"></a>16651             <span class="keywordflow">if</span> (X&gt;=0 &amp;&amp; Y&gt;=0 &amp;&amp; Z&gt;=0 &amp;&amp; X&lt;(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> &amp;&amp; Y&lt;(int)<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> &amp;&amp; Z&lt;(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>) {
<a name="l16652"></a>16652               <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1) std::sprintf(text,<span class="stringliteral">&quot;Coords (%d,%d,%d)={ &quot;</span>,X,Y,Z); <span class="keywordflow">else</span> std::sprintf(text,<span class="stringliteral">&quot;Coords (%d,%d)={ &quot;</span>,X,Y);
<a name="l16653"></a>16653               <span class="keywordtype">char</span> *ctext = text + cimg::strlen(text), *<span class="keyword">const</span> ltext = text+512;
<a name="l16654"></a>16654               <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;dim &amp;&amp; ctext&lt;ltext; k++) {
<a name="l16655"></a>16655                 std::sprintf(ctext,<span class="stringliteral">&quot;%g &quot;</span>,(<span class="keywordtype">double</span>)(*<span class="keyword">this</span>)(X,Y,Z,k));
<a name="l16656"></a>16656                 ctext = text + cimg::strlen(text);
<a name="l16657"></a>16657               }
<a name="l16658"></a>16658               std::sprintf(text+cimg::strlen(text),<span class="stringliteral">&quot;}&quot;</span>);
<a name="l16659"></a>16659             }
<a name="l16660"></a>16660           } <span class="keywordflow">else</span> <span class="keywordflow">switch</span> (feature_type) {
<a name="l16661"></a>16661           <span class="keywordflow">case</span> 1: {
<a name="l16662"></a>16662             <span class="keyword">const</span> <span class="keywordtype">double</span> dX=(double)(X0-X1), dY=(double)(Y0-Y1), dZ=(double)(Z0-Z1), <a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a> = <a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(dX*dX+dY*dY+dZ*dZ);
<a name="l16663"></a>16663             <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1) std::sprintf(text,<span class="stringliteral">&quot;Vect (%d,%d,%d)-(%d,%d,%d), norm=%g&quot;</span>,X0,Y0,Z0,X1,Y1,Z1,<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>);
<a name="l16664"></a>16664             <span class="keywordflow">else</span> std::sprintf(text,<span class="stringliteral">&quot;Vect (%d,%d)-(%d,%d), norm=%g&quot;</span>,X0,Y0,X1,Y1,<a class="code" href="structcimg__library_1_1_c_img.html#a489a283b835a73074b2db91000147249" title="Return the norm of the current vector/matrix. ntype = norm type (0=L2, 1=L1, -1=Linf).">norm</a>);
<a name="l16665"></a>16665           } <span class="keywordflow">break</span>;
<a name="l16666"></a>16666           <span class="keywordflow">case</span> 2:
<a name="l16667"></a>16667             <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1) std::sprintf(text,<span class="stringliteral">&quot;Box (%d,%d,%d)-(%d,%d,%d), Size=(%d,%d,%d)&quot;</span>,
<a name="l16668"></a>16668                                       X0&lt;X1?X0:X1,Y0&lt;Y1?Y0:Y1,Z0&lt;Z1?Z0:Z1,
<a name="l16669"></a>16669                                       X0&lt;X1?X1:X0,Y0&lt;Y1?Y1:Y0,Z0&lt;Z1?Z1:Z0,
<a name="l16670"></a>16670                                       1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(X0-X1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Y0-Y1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Z0-Z1));
<a name="l16671"></a>16671             <span class="keywordflow">else</span>  std::sprintf(text,<span class="stringliteral">&quot;Box (%d,%d)-(%d,%d), Size=(%d,%d)&quot;</span>,
<a name="l16672"></a>16672                                X0&lt;X1?X0:X1,Y0&lt;Y1?Y0:Y1,X0&lt;X1?X1:X0,Y0&lt;Y1?Y1:Y0,1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(X0-X1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Y0-Y1));
<a name="l16673"></a>16673             <span class="keywordflow">break</span>;
<a name="l16674"></a>16674           <span class="keywordflow">default</span>:
<a name="l16675"></a>16675             <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1) std::sprintf(text,<span class="stringliteral">&quot;Ellipse (%d,%d,%d)-(%d,%d,%d), Radii=(%d,%d,%d)&quot;</span>,
<a name="l16676"></a>16676                                       X0,Y0,Z0,X1,Y1,Z1,1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(X0-X1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Y0-Y1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Z0-Z1));
<a name="l16677"></a>16677             <span class="keywordflow">else</span>  std::sprintf(text,<span class="stringliteral">&quot;Ellipse (%d,%d)-(%d,%d), Radii=(%d,%d)&quot;</span>,
<a name="l16678"></a>16678                                X0,Y0,X1,Y1,1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(X0-X1),1+<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(Y0-Y1));
<a name="l16679"></a>16679 
<a name="l16680"></a>16680             <span class="keywordflow">break</span>;
<a name="l16681"></a>16681           }
<a name="l16682"></a>16682           <span class="keywordflow">if</span> (phase || (mx&gt;=0 &amp;&amp; my&gt;=0)) visu.<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(text,0,text_down?visu.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()-11:0,fgcolor,bgcolor,11,0.7f);
<a name="l16683"></a>16683           disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#ad8acdcf15b78304af9e1a83e2a76ca57" title="Display an image list CImgList&amp;lt;T&amp;gt; into a display window.">display</a>(visu).<a class="code" href="structcimg__library_1_1_c_img_display.html#a96efe590da16f2e5b4510b2fde423c67" title="Synchronized waiting function. Same as cimg::wait().">wait</a>(25);
<a name="l16684"></a>16684         } <span class="keywordflow">else</span> disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a96efe590da16f2e5b4510b2fde423c67" title="Synchronized waiting function. Same as cimg::wait().">wait</a>();
<a name="l16685"></a>16685 
<a name="l16686"></a>16686         <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>) { disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(<span class="keyword">false</span>); old_is_resized = <span class="keyword">true</span>; disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = <span class="keyword">false</span>; visu0.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(); }
<a name="l16687"></a>16687       }
<a name="l16688"></a>16688 
<a name="l16689"></a>16689       <span class="comment">// Return result</span>
<a name="l16690"></a>16690       <span class="keywordflow">if</span> (XYZ) { XYZ[0] = (<span class="keywordtype">unsigned</span> int)X0; XYZ[1] = (<span class="keywordtype">unsigned</span> int)Y0; XYZ[2] = (<span class="keywordtype">unsigned</span> int)Z0; }
<a name="l16691"></a>16691       <span class="keywordflow">if</span> (feature_selected) {
<a name="l16692"></a>16692         <span class="keywordflow">if</span> (feature_type==2) {
<a name="l16693"></a>16693           <span class="keywordflow">if</span> (X0&gt;X1) cimg::swap(X0,X1);
<a name="l16694"></a>16694           <span class="keywordflow">if</span> (Y0&gt;Y1) cimg::swap(Y0,Y1);
<a name="l16695"></a>16695           <span class="keywordflow">if</span> (Z0&gt;Z1) cimg::swap(Z0,Z1);
<a name="l16696"></a>16696         }
<a name="l16697"></a>16697         <span class="keywordflow">if</span> (selection) {
<a name="l16698"></a>16698           <span class="keywordflow">if</span> (X1&lt;0 || Y1&lt;0 || Z1&lt;0) X0=Y0=Z0=X1=Y1=Z1=-1;
<a name="l16699"></a>16699           <span class="keywordflow">switch</span>(feature_type) {
<a name="l16700"></a>16700           <span class="keywordflow">case</span> 1:
<a name="l16701"></a>16701           <span class="keywordflow">case</span> 2:  selection[3] = X1; selection[4] = Y1; selection[5] = Z1;
<a name="l16702"></a>16702           <span class="keywordflow">default</span>: selection[0] = X0; selection[1] = Y0; selection[2] = Z0;
<a name="l16703"></a>16703           }
<a name="l16704"></a>16704         }
<a name="l16705"></a>16705       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (selection) selection[0]=selection[1]=selection[2]=selection[3]=selection[4]=selection[5]=-1;
<a name="l16706"></a>16706       disp.button = 0;
<a name="l16707"></a>16707       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a7aa89b55307acef855e33243f2a7a01d" title="Range of events detected by the display.">events</a> = old_events;
<a name="l16708"></a>16708       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#af19fa964e5fbc95c7e8a05e4696f9ce0" title="Normalization type used for the display.">normalization</a> = old_normalization;
<a name="l16709"></a>16709       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a> = old_is_resized;
<a name="l16710"></a>16710       disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = key;
<a name="l16711"></a>16711       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16712"></a>16712     }
<a name="l16713"></a>16713 
<a name="l16715"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9264217943de5bce061f9edc982d82a5">16715</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae7d87a654447b781e9c5a5d0db77fdf7" title="High-level interface to select features from images.">feature_selection</a>(<span class="keywordtype">int</span> *<span class="keyword">const</span> selection, <span class="keyword">const</span> <span class="keywordtype">int</span> feature_type,
<a name="l16716"></a>16716                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> XYZ=0,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> color=0)<span class="keyword"> const </span>{
<a name="l16717"></a>16717       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> + (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0), h = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> + (<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>:0);
<a name="l16718"></a>16718       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmin = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(w,h), minsiz = 256;
<a name="l16719"></a>16719       <span class="keywordflow">if</span> (dmin&lt;minsiz) { w=w*minsiz/dmin; h=h*minsiz/dmin; }
<a name="l16720"></a>16720       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(w,h), maxsiz = 1024;
<a name="l16721"></a>16721       <span class="keywordflow">if</span> (dmax&gt;maxsiz) { w=w*maxsiz/dmax; h=h*maxsiz/dmax; }
<a name="l16722"></a>16722       <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> disp(w,h,<span class="stringliteral">&quot; &quot;</span>,1,3);
<a name="l16723"></a>16723       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae7d87a654447b781e9c5a5d0db77fdf7" title="High-level interface to select features from images.">feature_selection</a>(selection,feature_type,disp,XYZ,color);
<a name="l16724"></a>16724     }
<a name="l16725"></a>16725 
<a name="l16727"></a>16727     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l16728"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9">16728</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; points,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l16729"></a>16729                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a>&amp; opacities, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp,
<a name="l16730"></a>16730                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l16731"></a>16731                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l16732"></a>16732                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l16733"></a>16733                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l16734"></a>16734                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l16735"></a>16735 
<a name="l16736"></a>16736       <span class="comment">// Check input arguments</span>
<a name="l16737"></a>16737       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>() || primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>() || opacities.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>())
<a name="l16738"></a>16738         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::display_object3d() : Given points (%u), primitives (%u) or opacities (%u) are empty.&quot;</span>,
<a name="l16739"></a>16739                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),points.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()/3,primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,opacities.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l16740"></a>16740       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l16741"></a>16741         <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a98cd64f739f893359ec77105d65cfbb7" title="Width of the display.">width</a>,disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0d9b09a5ee557d2a5e2380b642ebbf05" title="Height of the display.">height</a>,1,colors[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>(),0).
<a name="l16742"></a>16742           <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points,primitives,colors,opacities,disp,centering,
<a name="l16743"></a>16743                            render_static,render_motion,double_sided,focale,ambiant_light);
<a name="l16744"></a>16744       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&lt;3)
<a name="l16745"></a>16745         <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(-100,3,1,1,0),primitives,colors,opacities,disp,
<a name="l16746"></a>16746                                 centering,render_static,render_motion,double_sided,focale,ambiant_light);
<a name="l16747"></a>16747 
<a name="l16748"></a>16748       <span class="comment">// Init 3D objects and compute object statistics</span>
<a name="l16749"></a>16749       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> pose, rot_mat,
<a name="l16750"></a>16750         centered_points = centering?<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,3):<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(),
<a name="l16751"></a>16751         rotated_points(points.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,3),
<a name="l16752"></a>16752         bbox_points, rotated_bbox_points,
<a name="l16753"></a>16753         axes_points, rotated_axes_points;
<a name="l16754"></a>16754       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a> bbox_opacities, axes_opacities;
<a name="l16755"></a>16755       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> bbox_colors, axes_colors;
<a name="l16756"></a>16756       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a> bbox_primitives, axes_primitives;
<a name="l16757"></a>16757       <span class="keywordtype">float</span> dx=0, dy=0, dz=0, ratio=1;
<a name="l16758"></a>16758       <span class="keyword">const</span> T valmax = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::type&lt;T&gt;::max</a>();
<a name="l16759"></a>16759 
<a name="l16760"></a>16760       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a>
<a name="l16761"></a>16761         sx(points.<a class="code" href="structcimg__library_1_1_c_img.html#a6190f2f8a7f0c1f493dc70fcbab755d9" title="Return a shared-memory image referencing one particular line (y0,z0,v0) of the instance image...">get_shared_line</a>(0),<span class="keyword">false</span>),
<a name="l16762"></a>16762         sy(points.<a class="code" href="structcimg__library_1_1_c_img.html#a6190f2f8a7f0c1f493dc70fcbab755d9" title="Return a shared-memory image referencing one particular line (y0,z0,v0) of the instance image...">get_shared_line</a>(1),<span class="keyword">false</span>),
<a name="l16763"></a>16763         sz(points.<a class="code" href="structcimg__library_1_1_c_img.html#a6190f2f8a7f0c1f493dc70fcbab755d9" title="Return a shared-memory image referencing one particular line (y0,z0,v0) of the instance image...">get_shared_line</a>(2),<span class="keyword">false</span>);
<a name="l16764"></a>16764       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l16765"></a>16765         xm = (float)sx.min, xM = (<span class="keywordtype">float</span>)sx.max,
<a name="l16766"></a>16766         ym = (float)sy.min, yM = (<span class="keywordtype">float</span>)sy.max,
<a name="l16767"></a>16767         zm = (float)sz.min, zM = (<span class="keywordtype">float</span>)sz.max,
<a name="l16768"></a>16768         delta = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(xM-xm,yM-ym,zM-zm);
<a name="l16769"></a>16769 
<a name="l16770"></a>16770       <span class="keywordflow">if</span> (display_axes) {
<a name="l16771"></a>16771         axes_points.assign(7,3);
<a name="l16772"></a>16772         rotated_axes_points.assign(7,3);
<a name="l16773"></a>16773         axes_opacities.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(3,1,1,1,1,1.0f);
<a name="l16774"></a>16774         axes_colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(3,dim,1,1,1,valmax);
<a name="l16775"></a>16775         axes_points(0,0) = 0; axes_points(0,1) = 0; axes_points(0,2) = 0;
<a name="l16776"></a>16776         axes_points(1,0) = 20; axes_points(1,1) = 0; axes_points(1,2) = 0;
<a name="l16777"></a>16777         axes_points(2,0) = 0; axes_points(2,1) = 20; axes_points(2,2) = 0;
<a name="l16778"></a>16778         axes_points(3,0) = 0; axes_points(3,1) = 0; axes_points(3,2) = 20;
<a name="l16779"></a>16779         axes_points(4,0) = 22; axes_points(4,1) = -6; axes_points(4,2) = 0;
<a name="l16780"></a>16780         axes_points(5,0) = -6; axes_points(5,1) = 22; axes_points(5,2) = 0;
<a name="l16781"></a>16781         axes_points(6,0) = -6; axes_points(6,1) = -6; axes_points(6,2) = 22;
<a name="l16782"></a>16782         axes_primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(0,1));
<a name="l16783"></a>16783         axes_primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(0,2));
<a name="l16784"></a>16784         axes_primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(0,3));
<a name="l16785"></a>16785       }
<a name="l16786"></a>16786 
<a name="l16787"></a>16787       <span class="comment">// Begin user interaction loop</span>
<a name="l16788"></a>16788       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> visu0(*<span class="keyword">this</span>), visu;
<a name="l16789"></a>16789       <span class="keywordtype">bool</span> init = <span class="keyword">true</span>, clicked = <span class="keyword">false</span>, redraw = <span class="keyword">true</span>;
<a name="l16790"></a>16790       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key = 0;
<a name="l16791"></a>16791       <span class="keywordtype">int</span> x0 = 0, y0 = 0, x1 = 0, y1 = 0;
<a name="l16792"></a>16792       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> old_events = disp.events;
<a name="l16793"></a>16793       disp.show().button = disp.key = 0;
<a name="l16794"></a>16794       disp.events = 3;
<a name="l16795"></a>16795 
<a name="l16796"></a>16796       <span class="keywordflow">while</span> (!disp.is_closed &amp;&amp; !key) {
<a name="l16797"></a>16797 
<a name="l16798"></a>16798         <span class="comment">// Init object position and scale if necessary</span>
<a name="l16799"></a>16799         <span class="keywordflow">if</span> (init) {
<a name="l16800"></a>16800           ratio = delta&gt;0?(2.0f*<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(disp.width,disp.height)/(3.0f*delta)):0;
<a name="l16801"></a>16801           dx = 0.5f*(xM+xm); dy = 0.5f*(yM+ym); dz = 0.5f*(zM+zm);
<a name="l16802"></a>16802           <span class="keywordflow">if</span> (centering) {
<a name="l16803"></a>16803             cimg_forX(centered_points,l) {
<a name="l16804"></a>16804               centered_points(l,0) = (float)((points(l,0)-dx)*ratio);
<a name="l16805"></a>16805               centered_points(l,1) = (float)((points(l,1)-dy)*ratio);
<a name="l16806"></a>16806               centered_points(l,2) = (float)((points(l,2)-dz)*ratio);
<a name="l16807"></a>16807             }
<a name="l16808"></a>16808           }
<a name="l16809"></a>16809 
<a name="l16810"></a>16810           <span class="keywordflow">if</span> (render_static&lt;0 || render_motion&lt;0) {
<a name="l16811"></a>16811             bbox_colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(12,dim,1,1,1,valmax);
<a name="l16812"></a>16812             bbox_primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(12,1,2);
<a name="l16813"></a>16813             bbox_points.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(8,3);
<a name="l16814"></a>16814             rotated_bbox_points.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(8,3);
<a name="l16815"></a>16815             bbox_points(0,0) = xm; bbox_points(0,1) = ym; bbox_points(0,2) = zm;
<a name="l16816"></a>16816             bbox_points(1,0) = xM; bbox_points(1,1) = ym; bbox_points(1,2) = zm;
<a name="l16817"></a>16817             bbox_points(2,0) = xM; bbox_points(2,1) = yM; bbox_points(2,2) = zm;
<a name="l16818"></a>16818             bbox_points(3,0) = xm; bbox_points(3,1) = yM; bbox_points(3,2) = zm;
<a name="l16819"></a>16819             bbox_points(4,0) = xm; bbox_points(4,1) = ym; bbox_points(4,2) = zM;
<a name="l16820"></a>16820             bbox_points(5,0) = xM; bbox_points(5,1) = ym; bbox_points(5,2) = zM;
<a name="l16821"></a>16821             bbox_points(6,0) = xM; bbox_points(6,1) = yM; bbox_points(6,2) = zM;
<a name="l16822"></a>16822             bbox_points(7,0) = xm; bbox_points(7,1) = yM; bbox_points(7,2) = zM;
<a name="l16823"></a>16823             bbox_primitives[0].fill(0,1); bbox_primitives[1].fill(1,2); bbox_primitives[2].fill(2,3);  bbox_primitives[3].fill(3,0);
<a name="l16824"></a>16824             bbox_primitives[4].fill(4,5); bbox_primitives[5].fill(5,6); bbox_primitives[6].fill(6,7);  bbox_primitives[7].fill(7,4);
<a name="l16825"></a>16825             bbox_primitives[8].fill(0,4); bbox_primitives[9].fill(1,5); bbox_primitives[10].fill(2,6); bbox_primitives[11].fill(3,7);
<a name="l16826"></a>16826             bbox_opacities.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(bbox_primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,1,1,1,1,1.0f);
<a name="l16827"></a>16827           }
<a name="l16828"></a>16828 
<a name="l16829"></a>16829           <span class="keywordflow">if</span> (pose_matrix) pose = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>(pose_matrix,4,4,1,1,<span class="keyword">false</span>); <span class="keywordflow">else</span> pose = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::identity_matrix</a>(4);
<a name="l16830"></a>16830           init = <span class="keyword">false</span>;
<a name="l16831"></a>16831           redraw = <span class="keyword">true</span>;
<a name="l16832"></a>16832         }
<a name="l16833"></a>16833 
<a name="l16834"></a>16834         <span class="comment">// Rotate and Draw 3D object</span>
<a name="l16835"></a>16835         <span class="keywordflow">if</span> (redraw) {
<a name="l16836"></a>16836           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l16837"></a>16837             r00 = pose(0,0), r10 = pose(1,0), r20 = pose(2,0), r30 = pose(3,0),
<a name="l16838"></a>16838             r01 = pose(0,1), r11 = pose(1,1), r21 = pose(2,1), r31 = pose(3,1),
<a name="l16839"></a>16839             r02 = pose(0,2), r12 = pose(1,2), r22 = pose(2,2), r32 = pose(3,2);
<a name="l16840"></a>16840           <span class="keywordflow">if</span> ((clicked &amp;&amp; render_motion&gt;=0) || (!clicked &amp;&amp; render_static&gt;=0)) {
<a name="l16841"></a>16841             <span class="keywordflow">if</span> (centering) cimg_forX(centered_points,l) {
<a name="l16842"></a>16842               <span class="keyword">const</span> <span class="keywordtype">float</span> x = centered_points(l,0), y = centered_points(l,1), z = centered_points(l,2);
<a name="l16843"></a>16843               rotated_points(l,0) = r00*x + r10*y + r20*z + r30;
<a name="l16844"></a>16844               rotated_points(l,1) = r01*x + r11*y + r21*z + r31;
<a name="l16845"></a>16845               rotated_points(l,2) = r02*x + r12*y + r22*z + r32;
<a name="l16846"></a>16846             } <span class="keywordflow">else</span> cimg_forX(points,l) {
<a name="l16847"></a>16847               <span class="keyword">const</span> <span class="keywordtype">float</span> x = (float)points(l,0), y = (float)points(l,1), z = (float)points(l,2);
<a name="l16848"></a>16848               rotated_points(l,0) = r00*x + r10*y + r20*z + r30;
<a name="l16849"></a>16849               rotated_points(l,1) = r01*x + r11*y + r21*z + r31;
<a name="l16850"></a>16850               rotated_points(l,2) = r02*x + r12*y + r22*z + r32;
<a name="l16851"></a>16851             }
<a name="l16852"></a>16852           } <span class="keywordflow">else</span> {
<a name="l16853"></a>16853             <span class="keywordflow">if</span> (!centering) cimg_forX(bbox_points,l) {
<a name="l16854"></a>16854               <span class="keyword">const</span> <span class="keywordtype">float</span> x = bbox_points(l,0), y = bbox_points(l,1), z = bbox_points(l,2);
<a name="l16855"></a>16855               rotated_bbox_points(l,0) = r00*x + r10*y + r20*z + r30;
<a name="l16856"></a>16856               rotated_bbox_points(l,1) = r01*x + r11*y + r21*z + r31;
<a name="l16857"></a>16857               rotated_bbox_points(l,2) = r02*x + r12*y + r22*z + r32;
<a name="l16858"></a>16858             } <span class="keywordflow">else</span> cimg_forX(bbox_points,l) {
<a name="l16859"></a>16859               <span class="keyword">const</span> <span class="keywordtype">float</span> x = (bbox_points(l,0)-dx)*ratio, y = (bbox_points(l,1)-dy)*ratio, z = (bbox_points(l,2)-dz)*ratio;
<a name="l16860"></a>16860               rotated_bbox_points(l,0) = r00*x + r10*y + r20*z + r30;
<a name="l16861"></a>16861               rotated_bbox_points(l,1) = r01*x + r11*y + r21*z + r31;
<a name="l16862"></a>16862               rotated_bbox_points(l,2) = r02*x + r12*y + r22*z + r32;
<a name="l16863"></a>16863             }
<a name="l16864"></a>16864           }
<a name="l16865"></a>16865 
<a name="l16866"></a>16866           <span class="comment">// Draw object</span>
<a name="l16867"></a>16867           visu = visu0;
<a name="l16868"></a>16868           <span class="keywordflow">if</span> ((clicked &amp;&amp; render_motion&lt;0) || (!clicked &amp;&amp; render_static&lt;0))
<a name="l16869"></a>16869             visu.<a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(visu.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2.0f, visu.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2.0f, 0,
<a name="l16870"></a>16870                                rotated_bbox_points,bbox_primitives,bbox_colors,bbox_opacities,1,
<a name="l16871"></a>16871                                <span class="keyword">false</span>,focale,visu.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()/2.0f,visu.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()/2.0f,-5000.0f,0.2f);
<a name="l16872"></a>16872           <span class="keywordflow">else</span> visu.<a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(visu.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2.0f, visu.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2.0f, 0,
<a name="l16873"></a>16873                                   rotated_points,primitives,colors,opacities,clicked?render_motion:render_static,
<a name="l16874"></a>16874                                   double_sided,focale,visu.<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()/2.0f,visu.<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()/2.0f,-5000.0f,ambiant_light);
<a name="l16875"></a>16875 
<a name="l16876"></a>16876           <span class="comment">// Draw axes</span>
<a name="l16877"></a>16877           <span class="keywordflow">if</span> (display_axes) {
<a name="l16878"></a>16878             <span class="keyword">const</span> <span class="keywordtype">float</span> Xaxes = 25.0f, Yaxes = visu.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-35.0f;
<a name="l16879"></a>16879             cimg_forX(axes_points,l) {
<a name="l16880"></a>16880               <span class="keyword">const</span> <span class="keywordtype">float</span> x = axes_points(l,0), y = axes_points(l,1), z = axes_points(l,2);
<a name="l16881"></a>16881               rotated_axes_points(l,0) = r00*x + r10*y + r20*z;
<a name="l16882"></a>16882               rotated_axes_points(l,1) = r01*x + r11*y + r21*z;
<a name="l16883"></a>16883               rotated_axes_points(l,2) = r02*x + r12*y + r22*z;
<a name="l16884"></a>16884             }
<a name="l16885"></a>16885             axes_opacities(0,0) = (rotated_axes_points(1,2)&gt;0)?0.5f:1.0f;
<a name="l16886"></a>16886             axes_opacities(1,0) = (rotated_axes_points(2,2)&gt;0)?0.5f:1.0f;
<a name="l16887"></a>16887             axes_opacities(2,0) = (rotated_axes_points(3,2)&gt;0)?0.5f:1.0f;
<a name="l16888"></a>16888             visu.<a class="code" href="structcimg__library_1_1_c_img.html#a1df1e2b2fabde887e75629eaf50ed9c3" title="Draw a 3D object in the instance image.">draw_object3d</a>(Xaxes, Yaxes, 0, rotated_axes_points,axes_primitives,axes_colors,axes_opacities,1,<span class="keyword">false</span>,focale,0,0,0,0).
<a name="l16889"></a>16889               <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="stringliteral">&quot;X&quot;</span>,(<span class="keywordtype">int</span>)(Xaxes+rotated_axes_points(4,0)), (<span class="keywordtype">int</span>)(Yaxes+rotated_axes_points(4,1)), axes_colors[0].<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), 0, 11, axes_opacities(0,0)).
<a name="l16890"></a>16890               <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="stringliteral">&quot;Y&quot;</span>,(<span class="keywordtype">int</span>)(Xaxes+rotated_axes_points(5,0)), (<span class="keywordtype">int</span>)(Yaxes+rotated_axes_points(5,1)), axes_colors[1].<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), 0, 11, axes_opacities(1,0)).
<a name="l16891"></a>16891               <a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(<span class="stringliteral">&quot;Z&quot;</span>,(<span class="keywordtype">int</span>)(Xaxes+rotated_axes_points(6,0)), (<span class="keywordtype">int</span>)(Yaxes+rotated_axes_points(6,1)), axes_colors[2].<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), 0, 11, axes_opacities(2,0));
<a name="l16892"></a>16892           }
<a name="l16893"></a>16893 
<a name="l16894"></a>16894           visu.<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(disp);
<a name="l16895"></a>16895           <span class="keywordflow">if</span> (!clicked || render_motion==render_static) redraw = <span class="keyword">false</span>;
<a name="l16896"></a>16896         }
<a name="l16897"></a>16897 
<a name="l16898"></a>16898         <span class="comment">// Handle user interaction</span>
<a name="l16899"></a>16899         <span class="keywordflow">if</span> ((disp.button || disp.wheel) &amp;&amp; disp.mouse_x&gt;=0 &amp;&amp; disp.mouse_y&gt;=0) {
<a name="l16900"></a>16900           redraw = <span class="keyword">true</span>;
<a name="l16901"></a>16901           <span class="keywordflow">if</span> (!clicked) { x0 = x1 = disp.mouse_x; y0 = y1 = disp.mouse_y; <span class="keywordflow">if</span> (!disp.wheel) clicked = <span class="keyword">true</span>; }
<a name="l16902"></a>16902           <span class="keywordflow">else</span> { x1 = disp.mouse_x; y1 = disp.mouse_y; }
<a name="l16903"></a>16903           <span class="keywordflow">if</span> (disp.button&amp;1) {
<a name="l16904"></a>16904             <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l16905"></a>16905               R = 0.4f*<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(disp.width,disp.height),
<a name="l16906"></a>16906               R2 = R*R,
<a name="l16907"></a>16907               u0 = (float)(x0-disp.dimx()/2),
<a name="l16908"></a>16908               v0 = (<span class="keywordtype">float</span>)(y0-disp.dimy()/2),
<a name="l16909"></a>16909               u1 = (<span class="keywordtype">float</span>)(x1-disp.dimx()/2),
<a name="l16910"></a>16910               v1 = (<span class="keywordtype">float</span>)(y1-disp.dimy()/2),
<a name="l16911"></a>16911               n0 = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(u0*u0+v0*v0),
<a name="l16912"></a>16912               n1 = (float)std::sqrt(u1*u1+v1*v1),
<a name="l16913"></a>16913               nu0 = n0&gt;R?(u0*R/n0):u0,
<a name="l16914"></a>16914               nv0 = n0&gt;R?(v0*R/n0):v0,
<a name="l16915"></a>16915               nw0 = (float)std::sqrt(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(0.0f,R2-nu0*nu0-nv0*nv0)),
<a name="l16916"></a>16916               nu1 = n1&gt;R?(u1*R/n1):u1,
<a name="l16917"></a>16917               nv1 = n1&gt;R?(v1*R/n1):v1,
<a name="l16918"></a>16918               nw1 = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#aacf6f18af147ad1167dd4abf01381d37" title="Replace each image pixel by its square root.">std::sqrt</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(0.0f,R2-nu1*nu1-nv1*nv1)),
<a name="l16919"></a>16919               u = nv0*nw1-nw0*nv1,
<a name="l16920"></a>16920               v = nw0*nu1-nu0*nw1,
<a name="l16921"></a>16921               w = nv0*nu1-nu0*nv1,
<a name="l16922"></a>16922               n = (float)std::sqrt(u*u+v*v+w*w),
<a name="l16923"></a>16923               alpha = (float)std::asin(n/R2);
<a name="l16924"></a>16924             rot_mat = <a class="code" href="structcimg__library_1_1_c_img.html#a70c96fae54ed1d36114917d5fe1072bf" title="Return a 3x3 rotation matrix along the (x,y,z)-axis with an angle w.">CImg&lt;float&gt;::rotation_matrix</a>(u,v,w,alpha);
<a name="l16925"></a>16925             rot_mat *= pose.get_crop(0,0,2,2);
<a name="l16926"></a>16926             pose.draw_image(rot_mat,0,0);
<a name="l16927"></a>16927             x0=x1; y0=y1;
<a name="l16928"></a>16928           }
<a name="l16929"></a>16929           <span class="keywordflow">if</span> (disp.button&amp;2) { pose(3,2)+=(y1-y0); x0=x1; y0=y1; }
<a name="l16930"></a>16930           <span class="keywordflow">if</span> (disp.wheel) { pose(3,2)-=15*disp.wheel; disp.wheel=0; }
<a name="l16931"></a>16931           <span class="keywordflow">if</span> (disp.button&amp;4) { pose(3,0)+=(x1-x0); pose(3,1)+=(y1-y0); x0=x1; y0=y1; }
<a name="l16932"></a>16932           <span class="keywordflow">if</span> ((disp.button&amp;1) &amp;&amp; (disp.button&amp;2)) { init = <span class="keyword">true</span>; disp.button = 0; x0 = x1; y0 = y1; pose = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::identity_matrix</a>(4); }
<a name="l16933"></a>16933         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (clicked) { x0=x1; y0=y1; clicked = <span class="keyword">false</span>; redraw = <span class="keyword">true</span>; }
<a name="l16934"></a>16934 
<a name="l16935"></a>16935         key = disp.key;
<a name="l16936"></a>16936         <span class="keywordflow">if</span> (key &amp;&amp; key!=cimg::keyCTRLLEFT) {
<a name="l16937"></a>16937           <span class="keywordflow">if</span> (disp.is_pressed(cimg::keyCTRLLEFT)) {
<a name="l16938"></a>16938             <span class="keywordflow">switch</span> (key) {
<a name="l16939"></a>16939             <span class="keywordflow">case</span> cimg::keyD: <span class="keywordflow">if</span> (disp.is_fullscreen) disp.toggle_fullscreen(); disp.resize(-200,-200); disp.is_resized = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16940"></a>16940             <span class="keywordflow">case</span> cimg::keyC: <span class="keywordflow">if</span> (disp.is_fullscreen) disp.toggle_fullscreen(); disp.resize(-50,-50); disp.is_resized = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16941"></a>16941             <span class="keywordflow">case</span> cimg::keyR: <span class="keywordflow">if</span> (disp.is_fullscreen) disp.toggle_fullscreen(); disp.resize(*<span class="keyword">this</span>); disp.is_resized = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16942"></a>16942             <span class="keywordflow">case</span> cimg::keyF: disp.resize(disp.screen_dimx(),disp.screen_dimy()).toggle_fullscreen().is_resized = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l16943"></a>16943             <span class="keywordflow">case</span> cimg::keyS: { <span class="comment">// Save snapshot</span>
<a name="l16944"></a>16944               <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> snap_number = 0;
<a name="l16945"></a>16945               <span class="keywordtype">char</span> filename[32] = {0};
<a name="l16946"></a>16946               std::FILE *file;
<a name="l16947"></a>16947               <span class="keywordflow">do</span> {
<a name="l16948"></a>16948                 std::sprintf(filename,<span class="stringliteral">&quot;CImg_%.4u.bmp&quot;</span>,snap_number++);
<a name="l16949"></a>16949                 <span class="keywordflow">if</span> ((file=std::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>))!=0) std::fclose(file);
<a name="l16950"></a>16950               } <span class="keywordflow">while</span> (file);
<a name="l16951"></a>16951               visu.<a class="code" href="structcimg__library_1_1_c_img.html#a593d3d4f5eae665e93c3f551b2da3f03" title="Save the image as a file.">save</a>(filename);
<a name="l16952"></a>16952             } <span class="keywordflow">break</span>;
<a name="l16953"></a>16953             }
<a name="l16954"></a>16954             disp.key = key = 0;
<a name="l16955"></a>16955           }
<a name="l16956"></a>16956         } <span class="keywordflow">else</span> key = 0;
<a name="l16957"></a>16957         <span class="keywordflow">if</span> (disp.is_resized) { disp.<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(<span class="keyword">false</span>); visu0 = <a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(disp,1); redraw = <span class="keyword">true</span>; }
<a name="l16958"></a>16958       }
<a name="l16959"></a>16959       <span class="keywordflow">if</span> (pose_matrix) std::memcpy(pose_matrix,pose.data,16*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l16960"></a>16960       disp.events = old_events;
<a name="l16961"></a>16961       disp.button = 0;
<a name="l16962"></a>16962       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l16963"></a>16963     }
<a name="l16964"></a>16964 
<a name="l16966"></a>16966     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l16967"></a><a class="code" href="structcimg__library_1_1_c_img.html#a36febd630fe1380fbaf68b979eeab45b">16967</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l16968"></a>16968                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a>&amp; opacities, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> &amp;disp,
<a name="l16969"></a>16969                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l16970"></a>16970                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l16971"></a>16971                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l16972"></a>16972                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l16973"></a>16973                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l16974"></a>16974       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a> npoints(points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,3,1,1,0);
<a name="l16975"></a>16975       tp *ptrX = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), *ptrY = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1), *ptrZ = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l16976"></a>16976       cimg_forX(npoints,l) {
<a name="l16977"></a>16977         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; point = points[l];
<a name="l16978"></a>16978         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = point.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l16979"></a>16979         <span class="keywordflow">if</span> (!siz)
<a name="l16980"></a>16980           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::display_object3d() : Given points (size=%u) contains a null element at &quot;</span>
<a name="l16981"></a>16981                                       <span class="stringliteral">&quot;position %u.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,l);
<a name="l16982"></a>16982         *(ptrZ++) = (siz&gt;2)?point(2):0;
<a name="l16983"></a>16983         *(ptrY++) = (siz&gt;1)?point(1):0;
<a name="l16984"></a>16984         *(ptrX++) = point(0);
<a name="l16985"></a>16985       }
<a name="l16986"></a>16986       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(npoints,primitives,colors,opacities,disp,centering,
<a name="l16987"></a>16987                               render_static,render_motion,double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l16988"></a>16988     }
<a name="l16989"></a>16989 
<a name="l16991"></a>16991     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l16992"></a><a class="code" href="structcimg__library_1_1_c_img.html#a664dcda0cf9bef788c86a16d23cfddb1">16992</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l16993"></a>16993                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>&amp; opacities, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp,
<a name="l16994"></a>16994                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l16995"></a>16995                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l16996"></a>16996                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l16997"></a>16997                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l16998"></a>16998                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l16999"></a>16999       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a> nopacities(opacities.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1);
<a name="l17000"></a>17000       cimglist_for(nopacities,l) nopacities(l,0) = opacities(l);
<a name="l17001"></a>17001       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points,primitives,colors,nopacities,disp,centering,
<a name="l17002"></a>17002                               render_static,render_motion,double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l17003"></a>17003 
<a name="l17004"></a>17004     }
<a name="l17005"></a>17005 
<a name="l17007"></a>17007     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l17008"></a><a class="code" href="structcimg__library_1_1_c_img.html#af1bd7b30139cddfec8e137209cddb17f">17008</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points,<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l17009"></a>17009                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;to&gt;</a>&amp; opacities, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp,
<a name="l17010"></a>17010                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l17011"></a>17011                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l17012"></a>17012                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l17013"></a>17013                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l17014"></a>17014                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l17015"></a>17015       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;to&gt;</a> nopacities(opacities.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),1);
<a name="l17016"></a>17016       cimglist_for(nopacities,l) nopacities(l,0) = opacities(l);
<a name="l17017"></a>17017       <span class="keywordflow">if</span> (points.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::display_object3d() : Given points are empty.&quot;</span>,
<a name="l17018"></a>17018                                                          <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l17019"></a>17019       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a> npoints(points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,3,1,1,0);
<a name="l17020"></a>17020       tp *ptrX = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(), *ptrY = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,1), *ptrZ = npoints.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,2);
<a name="l17021"></a>17021       { cimg_forX(npoints,l) {
<a name="l17022"></a>17022         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;</a>&amp; point = points[l];
<a name="l17023"></a>17023         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = point.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l17024"></a>17024         <span class="keywordflow">if</span> (!siz)
<a name="l17025"></a>17025           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::display_object3d() : Given points (size=%u) contains a null element at &quot;</span>
<a name="l17026"></a>17026                                       <span class="stringliteral">&quot;position %u.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,l);
<a name="l17027"></a>17027         *(ptrZ++) = (siz&gt;2)?point(2):0;
<a name="l17028"></a>17028         *(ptrY++) = (siz&gt;1)?point(1):0;
<a name="l17029"></a>17029         *(ptrX++) = point(0);
<a name="l17030"></a>17030       }
<a name="l17031"></a>17031       }
<a name="l17032"></a>17032       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(npoints,primitives,colors,nopacities,disp,centering,
<a name="l17033"></a>17033                               render_static,render_motion,double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l17034"></a>17034     }
<a name="l17035"></a>17035 
<a name="l17037"></a>17037     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf, <span class="keyword">typename</span> to&gt;
<a name="l17038"></a><a class="code" href="structcimg__library_1_1_c_img.html#a32ad02f078b90d6ef64fb7cf684241a6">17038</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l17039"></a>17039                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <span class="keyword">const</span> to&amp; opacities,
<a name="l17040"></a>17040                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l17041"></a>17041                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l17042"></a>17042                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l17043"></a>17043                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l17044"></a>17044                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l17045"></a>17045       <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> disp(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<span class="stringliteral">&quot; &quot;</span>,0);
<a name="l17046"></a>17046       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points,primitives,colors,opacities,disp,centering,
<a name="l17047"></a>17047                               render_static,render_motion,double_sided,focale,ambiant_light,display_axes,pose_matrix);
<a name="l17048"></a>17048     }
<a name="l17049"></a>17049 
<a name="l17051"></a>17051     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l17052"></a><a class="code" href="structcimg__library_1_1_c_img.html#a38bf4b3eaea13b3c8a5cb1eca4ef5d20">17052</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l17053"></a>17053                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors,
<a name="l17054"></a>17054                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l17055"></a>17055                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l17056"></a>17056                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l17057"></a>17057                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l17058"></a>17058                                  <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f, <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l17059"></a>17059       <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> disp(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<span class="stringliteral">&quot; &quot;</span>,0);
<a name="l17060"></a>17060       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points,primitives,colors,<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::vector</a>(opacity),
<a name="l17061"></a>17061                               disp,centering,render_static,render_motion,double_sided,
<a name="l17062"></a>17062                               focale,ambiant_light,display_axes,pose_matrix);
<a name="l17063"></a>17063     }
<a name="l17064"></a>17064 
<a name="l17066"></a>17066     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l17067"></a><a class="code" href="structcimg__library_1_1_c_img.html#a306a98185e06a625a00177ddbb2d441f">17067</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(<span class="keyword">const</span> tp&amp; points, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l17068"></a>17068                                  <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; colors, <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> &amp;disp,
<a name="l17069"></a>17069                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>,
<a name="l17070"></a>17070                                  <span class="keyword">const</span> <span class="keywordtype">int</span> render_static=4, <span class="keyword">const</span> <span class="keywordtype">int</span> render_motion=1,
<a name="l17071"></a>17071                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> double_sided=<span class="keyword">false</span>,
<a name="l17072"></a>17072                                  <span class="keyword">const</span> <span class="keywordtype">float</span> focale=500.0f, <span class="keyword">const</span> <span class="keywordtype">float</span> ambiant_light=0.05f,
<a name="l17073"></a>17073                                  <span class="keyword">const</span> <span class="keywordtype">float</span> opacity=1.0f, <span class="keyword">const</span> <span class="keywordtype">bool</span> display_axes=<span class="keyword">true</span>, <span class="keywordtype">float</span> *<span class="keyword">const</span> pose_matrix=0)<span class="keyword"> const </span>{
<a name="l17074"></a>17074       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1da967a40886fcb186e55ee4011ec7e9" title="High-level interface for displaying a 3d object.">display_object3d</a>(points,primitives,colors,<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::vector</a>(opacity),
<a name="l17075"></a>17075                               disp,centering,render_static,render_motion,double_sided,
<a name="l17076"></a>17076                               focale,ambiant_light,display_axes,pose_matrix);
<a name="l17077"></a>17077     }
<a name="l17078"></a>17078 
<a name="l17080"></a>17080     <span class="comment">//----------------------</span>
<a name="l17081"></a>17081     <span class="comment">//</span>
<a name="l17083"></a>17083 <span class="comment"></span>
<a name="l17084"></a>17084     <span class="comment">//----------------------</span>
<a name="l17085"></a>17085 
<a name="l17087"></a>17087 
<a name="l17093"></a><a class="code" href="structcimg__library_1_1_c_img.html#a33611f3d14a83d92bb29259f14515381">17093</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a33611f3d14a83d92bb29259f14515381" title="Load an image from a file.">get_load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17094"></a>17094       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename);
<a name="l17095"></a>17095       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;asc&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6" title="Load an image from an ASCII file.">get_load_ascii</a>(filename);
<a name="l17096"></a>17096       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;dlm&quot;</span>,3) ||
<a name="l17097"></a>17097           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;txt&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827" title="Load an image from a DLM file.">get_load_dlm</a>(filename);
<a name="l17098"></a>17098       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;inr&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(filename);
<a name="l17099"></a>17099       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;hdr&quot;</span>,3) ||
<a name="l17100"></a>17100           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;nii&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae9cf619d3ff9e70dfa352216dc67f388" title="Load an image from an ANALYZE7.5/NIFTI file.">get_load_analyze</a>(filename);
<a name="l17101"></a>17101       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;par&quot;</span>,3) ||
<a name="l17102"></a>17102           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;rec&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(filename);
<a name="l17103"></a>17103       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;pan&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(filename);
<a name="l17104"></a>17104       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;bmp&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf" title="Load an image from a BMP file.">get_load_bmp</a>(filename);
<a name="l17105"></a>17105       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;png&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08" title="Load an image from a PNG file.">get_load_png</a>(filename);
<a name="l17106"></a>17106       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;tif&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1e4248a31fd83a0eb2349926acb7c239" title="Load an image in TIFF format.">get_load_tiff</a>(filename);
<a name="l17107"></a>17107       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;jpg&quot;</span>,3) ||
<a name="l17108"></a>17108           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;jpeg&quot;</span>,4))  <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b" title="Load a file in JPEG format.">get_load_jpeg</a>(filename);
<a name="l17109"></a>17109       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;ppm&quot;</span>,3) ||
<a name="l17110"></a>17110           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;pgm&quot;</span>,3) ||
<a name="l17111"></a>17111           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;pnm&quot;</span>,3))   <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">get_load_pnm</a>(filename);
<a name="l17112"></a>17112       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;cimg&quot;</span>,4) ||
<a name="l17113"></a>17113           ext[0]==<span class="charliteral">&#39;\0&#39;</span>)                      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(filename);
<a name="l17114"></a>17114       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;dcm&quot;</span>,3) ||
<a name="l17115"></a>17115           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;dicom&quot;</span>,5)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9a48fd037190ca8426c1078f4c18cedb" title="Load an image from a Dicom file (need &amp;#39;(X)Medcon&amp;#39; : http://xmedcon.sourceforge.net ).">get_load_dicom</a>(filename);
<a name="l17116"></a>17116       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l17117"></a>17117     }
<a name="l17118"></a>17118 
<a name="l17120"></a>17120 
<a name="l17121"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac232288147b4167d8daca12e752de20a">17121</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac232288147b4167d8daca12e752de20a" title="Load an image from a file.">load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17122"></a>17122       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a33611f3d14a83d92bb29259f14515381" title="Load an image from a file.">get_load</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17123"></a>17123     }
<a name="l17124"></a>17124 
<a name="l17126"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6">17126</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6" title="Load an image from an ASCII file.">get_load_ascii</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17127"></a>17127       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l17128"></a>17128       <span class="keywordtype">char</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7f3b504730dd9cfcdf1c7b136e97b231" title="Replace the instance image by one of its line.">line</a>[256] = {0};
<a name="l17129"></a>17129       std::fscanf(nfile,<span class="stringliteral">&quot;%255[^\n]&quot;</span>,line);
<a name="l17130"></a>17130       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off, dx = 0, dy = 1, dz = 1, dv = 1;
<a name="l17131"></a>17131       <span class="keywordtype">int</span> err = 1;
<a name="l17132"></a>17132       std::sscanf(line,<span class="stringliteral">&quot;%u %u %u %u&quot;</span>,&amp;dx,&amp;dy,&amp;dz,&amp;dv);
<a name="l17133"></a>17133       <span class="keywordflow">if</span> (!dx || !dy || !dz || !dv) {
<a name="l17134"></a>17134         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17135"></a>17135         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_ascii() : File &#39;%s&#39; is not a valid .ASC file.\n&quot;</span>
<a name="l17136"></a>17136                               <span class="stringliteral">&quot;Specified image dimensions are (%u,%u,%u,%u).&quot;</span>,
<a name="l17137"></a>17137                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,dx,dy,dz,dv);
<a name="l17138"></a>17138       }
<a name="l17139"></a>17139       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(dx,dy,dz,dv);
<a name="l17140"></a>17140       <span class="keywordtype">double</span> val;
<a name="l17141"></a>17141       T *ptr = dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l17142"></a>17142       <span class="keywordflow">for</span> (off=0; off&lt;dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>() &amp;&amp; err==1; off++) {
<a name="l17143"></a>17143         err = std::fscanf(nfile,<span class="stringliteral">&quot;%lf%*[^0-9.eE+-]&quot;</span>,&amp;val);
<a name="l17144"></a>17144         *(ptr++)=(T)val;
<a name="l17145"></a>17145       }
<a name="l17146"></a>17146       cimg::warn(off&lt;dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_ascii() : File &#39;%s&#39;, only %u/%u values read.&quot;</span>,
<a name="l17147"></a>17147                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,off,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l17148"></a>17148       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17149"></a>17149       <span class="keywordflow">return</span> dest;
<a name="l17150"></a>17150     }
<a name="l17151"></a>17151 
<a name="l17153"></a><a class="code" href="structcimg__library_1_1_c_img.html#a83fe2de29d9ccde21e2bc36e95cea931">17153</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a83fe2de29d9ccde21e2bc36e95cea931" title="Load an image from an ASCII file.">get_load_ascii</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17154"></a>17154       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6" title="Load an image from an ASCII file.">get_load_ascii</a>(0,filename);
<a name="l17155"></a>17155     }
<a name="l17156"></a>17156 
<a name="l17158"></a><a class="code" href="structcimg__library_1_1_c_img.html#affd7ab580b1ab0cfa26a40b6af7fb86d">17158</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#affd7ab580b1ab0cfa26a40b6af7fb86d" title="Load an image from an ASCII file (in-place version).">load_ascii</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17159"></a>17159       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6" title="Load an image from an ASCII file.">get_load_ascii</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l17160"></a>17160     }
<a name="l17161"></a>17161 
<a name="l17163"></a><a class="code" href="structcimg__library_1_1_c_img.html#af1dea28069ae9ee32a012132a5bb0c6b">17163</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af1dea28069ae9ee32a012132a5bb0c6b" title="Load an image from an ASCII file (in-place version).">load_ascii</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17164"></a>17164       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a3428f57c969dc72aa6efd8f2d8b51db6" title="Load an image from an ASCII file.">get_load_ascii</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17165"></a>17165     }
<a name="l17166"></a>17166 
<a name="l17168"></a><a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827">17168</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827" title="Load an image from a DLM file.">get_load_dlm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17169"></a>17169       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l17170"></a>17170       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(256,256);
<a name="l17171"></a>17171       <span class="keywordtype">char</span> c, delimiter[256]={0}, tmp[256];
<a name="l17172"></a>17172       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cdx=0,dx=0,dy=0;
<a name="l17173"></a>17173       <span class="keywordtype">int</span> oerr=0, err;
<a name="l17174"></a>17174       <span class="keywordtype">double</span> val;
<a name="l17175"></a>17175       <span class="keywordflow">while</span> ((err = std::fscanf(nfile,<span class="stringliteral">&quot;%lf%255[^0-9.eE+-]&quot;</span>,&amp;val,delimiter))!=EOF) {
<a name="l17176"></a>17176         oerr = err;
<a name="l17177"></a>17177         <span class="keywordflow">if</span> (err&gt;0) dest(cdx++,dy) = (T)val;
<a name="l17178"></a>17178         <span class="keywordflow">if</span> (cdx&gt;=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(dest.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+256,1,1,1,0);
<a name="l17179"></a>17179         c=0; <span class="keywordflow">if</span> (!std::sscanf(delimiter,<span class="stringliteral">&quot;%255[^\n]%c&quot;</span>,tmp,&amp;c) || c==<span class="charliteral">&#39;\n&#39;</span>) {
<a name="l17180"></a>17180           dx = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(cdx,dx);
<a name="l17181"></a>17181           dy++;
<a name="l17182"></a>17182           <span class="keywordflow">if</span> (dy&gt;=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(dest.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+256,1,1,0);
<a name="l17183"></a>17183           cdx=0;
<a name="l17184"></a>17184         }
<a name="l17185"></a>17185       }
<a name="l17186"></a>17186       <span class="keywordflow">if</span> (cdx &amp;&amp; oerr==1) { dx=cdx; dy++; }
<a name="l17187"></a>17187       <span class="keywordflow">if</span> (!dx || !dy) {
<a name="l17188"></a>17188         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17189"></a>17189         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_dlm() : File &#39;%s&#39; is not a valid DLM file.\n&quot;</span>
<a name="l17190"></a>17190                               <span class="stringliteral">&quot;Specified image dimensions are (%u,%u).&quot;</span>,
<a name="l17191"></a>17191                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,dx,dy);
<a name="l17192"></a>17192       }
<a name="l17193"></a>17193       dest.<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(dx,dy,1,1,0);
<a name="l17194"></a>17194       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17195"></a>17195       <span class="keywordflow">return</span> dest;
<a name="l17196"></a>17196     }
<a name="l17197"></a>17197 
<a name="l17199"></a><a class="code" href="structcimg__library_1_1_c_img.html#a579977ab231e3d80de8348efaa5940be">17199</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a579977ab231e3d80de8348efaa5940be" title="Load an image from a DLM file.">get_load_dlm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17200"></a>17200       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827" title="Load an image from a DLM file.">get_load_dlm</a>(0,filename);
<a name="l17201"></a>17201     }
<a name="l17202"></a>17202 
<a name="l17204"></a><a class="code" href="structcimg__library_1_1_c_img.html#affed02ce9bac68896151e61de1cd1228">17204</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#affed02ce9bac68896151e61de1cd1228" title="Load an image from a DLM file (in-place version).">load_dlm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17205"></a>17205       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827" title="Load an image from a DLM file.">get_load_dlm</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l17206"></a>17206     }
<a name="l17207"></a>17207 
<a name="l17209"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7c3741920165adcc8958207802e5dcd8">17209</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7c3741920165adcc8958207802e5dcd8" title="Load an image from a DLM file (in-place version).">load_dlm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17210"></a>17210       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#acc2f61d36e9df6729f7997859ea9a827" title="Load an image from a DLM file.">get_load_dlm</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17211"></a>17211     }
<a name="l17212"></a>17212 
<a name="l17214"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3">17214</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">get_load_pnm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17215"></a>17215       std::FILE *<span class="keyword">const</span> nfile=file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l17216"></a>17216       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ppm_type,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,colormax=255;
<a name="l17217"></a>17217       <span class="keywordtype">char</span> item[1024]={0};
<a name="l17218"></a>17218       <span class="keywordtype">int</span> err;
<a name="l17219"></a>17219       <span class="keywordflow">while</span> ((err=std::fscanf(nfile,<span class="stringliteral">&quot;%1023[^\n]&quot;</span>,item))!=EOF &amp;&amp; (item[0]==<span class="charliteral">&#39;#&#39;</span> || !err)) std::fgetc(nfile);
<a name="l17220"></a>17220       <span class="keywordflow">if</span>(std::sscanf(item,<span class="stringliteral">&quot; P%u&quot;</span>,&amp;ppm_type)!=1) {
<a name="l17221"></a>17221         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17222"></a>17222         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pnm() : File &#39;%s&#39;, PNM header &#39;P?&#39; not found.&quot;</span>,
<a name="l17223"></a>17223                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17224"></a>17224       }
<a name="l17225"></a>17225       <span class="keywordflow">while</span> ((err=std::fscanf(nfile,<span class="stringliteral">&quot; %1023[^\n]&quot;</span>,item))!=EOF &amp;&amp; (item[0]==<span class="charliteral">&#39;#&#39;</span> || !err)) std::fgetc(nfile);
<a name="l17226"></a>17226       <span class="keywordflow">if</span> ((err=std::sscanf(item,<span class="stringliteral">&quot; %u %u %u&quot;</span>,&amp;width,&amp;height,&amp;colormax))&lt;2) {
<a name="l17227"></a>17227         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17228"></a>17228         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pnm() : File &#39;%s&#39;, WIDTH and HEIGHT fields are not defined in PNM header.&quot;</span>,
<a name="l17229"></a>17229                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17230"></a>17230       }
<a name="l17231"></a>17231       <span class="keywordflow">if</span> (err==2) {
<a name="l17232"></a>17232         <span class="keywordflow">while</span> ((err=std::fscanf(nfile,<span class="stringliteral">&quot; %1023[^\n]&quot;</span>,item))!=EOF &amp;&amp; (item[0]==<span class="charliteral">&#39;#&#39;</span> || !err)) std::fgetc(nfile);
<a name="l17233"></a>17233         cimg::warn(std::sscanf(item,<span class="stringliteral">&quot;%u&quot;</span>,&amp;colormax)!=1,
<a name="l17234"></a>17234                    <span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pnm() : File &#39;%s&#39;, COLORMAX field is not defined in PNM header.&quot;</span>,
<a name="l17235"></a>17235                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17236"></a>17236       }
<a name="l17237"></a>17237       std::fgetc(nfile);
<a name="l17238"></a>17238 
<a name="l17239"></a>17239       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest;
<a name="l17240"></a>17240       <span class="keywordtype">int</span> rval,gval,bval;
<a name="l17241"></a>17241 
<a name="l17242"></a>17242       <span class="keywordflow">switch</span> (ppm_type) {
<a name="l17243"></a>17243       <span class="keywordflow">case</span> 2: { <span class="comment">// Grey Ascii</span>
<a name="l17244"></a>17244         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,height,1,1);
<a name="l17245"></a>17245         T* rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l17246"></a>17246         cimg_foroff(dest,off) { std::fscanf(nfile,<span class="stringliteral">&quot;%d&quot;</span>,&amp;rval); *(rdata++)=(T)rval; }
<a name="l17247"></a>17247       } <span class="keywordflow">break</span>;
<a name="l17248"></a>17248       <span class="keywordflow">case</span> 3: { <span class="comment">// Color Ascii</span>
<a name="l17249"></a>17249         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,height,1,3);
<a name="l17250"></a>17250         T *rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *bdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l17251"></a>17251         cimg_forXY(dest,x,y) {
<a name="l17252"></a>17252           std::fscanf(nfile,<span class="stringliteral">&quot;%d %d %d&quot;</span>,&amp;rval,&amp;gval,&amp;bval);
<a name="l17253"></a>17253           *(rdata++)=(T)rval;
<a name="l17254"></a>17254           *(gdata++)=(T)gval;
<a name="l17255"></a>17255           *(bdata++)=(T)bval; }
<a name="l17256"></a>17256       } <span class="keywordflow">break</span>;
<a name="l17257"></a>17257       <span class="keywordflow">case</span> 5: { <span class="comment">// Grey Binary</span>
<a name="l17258"></a>17258         <span class="keywordflow">if</span> (colormax&lt;256) { <span class="comment">// 8 bits</span>
<a name="l17259"></a>17259           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> raw(width,height,1,1);
<a name="l17260"></a>17260           cimg::fread(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height,nfile);
<a name="l17261"></a>17261           dest=raw;
<a name="l17262"></a>17262         } <span class="keywordflow">else</span> { <span class="comment">// 16 bits</span>
<a name="l17263"></a>17263           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned short&gt;</a> raw(width,height,1,1);
<a name="l17264"></a>17264           cimg::fread(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height,nfile);
<a name="l17265"></a>17265           <span class="keywordflow">if</span> (!<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height);
<a name="l17266"></a>17266           dest=raw;
<a name="l17267"></a>17267         }
<a name="l17268"></a>17268       } <span class="keywordflow">break</span>;
<a name="l17269"></a>17269       <span class="keywordflow">case</span> 6: { <span class="comment">// Color Binary</span>
<a name="l17270"></a>17270         <span class="keywordflow">if</span> (colormax&lt;256) { <span class="comment">// 8 bits</span>
<a name="l17271"></a>17271           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> raw(width,height,1,3);
<a name="l17272"></a>17272           cimg::fread(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height*3,nfile);
<a name="l17273"></a>17273           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,height,1,3);
<a name="l17274"></a>17274           T *rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *bdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l17275"></a>17275           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = raw.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l17276"></a>17276           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = raw.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*raw.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l17277"></a>17277             *(rdata++) = (T)*(ptrs++);
<a name="l17278"></a>17278             *(gdata++) = (T)*(ptrs++);
<a name="l17279"></a>17279             *(bdata++) = (T)*(ptrs++);
<a name="l17280"></a>17280           }
<a name="l17281"></a>17281         } <span class="keywordflow">else</span> { <span class="comment">// 16 bits</span>
<a name="l17282"></a>17282           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned short&gt;</a> raw(width,height,1,3);
<a name="l17283"></a>17283           cimg::fread(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height*3,nfile);
<a name="l17284"></a>17284           <span class="keywordflow">if</span> (!<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(raw.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,width*height*3);
<a name="l17285"></a>17285           dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,height,1,3);
<a name="l17286"></a>17286           T *rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *bdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l17287"></a>17287           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = raw.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l17288"></a>17288           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = raw.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*raw.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l17289"></a>17289             *(rdata++) = (T)*(ptrs++);
<a name="l17290"></a>17290             *(gdata++) = (T)*(ptrs++);
<a name="l17291"></a>17291             *(bdata++) = (T)*(ptrs++);
<a name="l17292"></a>17292           }
<a name="l17293"></a>17293         }
<a name="l17294"></a>17294       } <span class="keywordflow">break</span>;
<a name="l17295"></a>17295       <span class="keywordflow">default</span>:
<a name="l17296"></a>17296         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17297"></a>17297         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pnm() : File &#39;%s&#39;, PPM type &#39;P%d&#39; not supported.&quot;</span>,
<a name="l17298"></a>17298                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,ppm_type);
<a name="l17299"></a>17299       }
<a name="l17300"></a>17300       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17301"></a>17301       <span class="keywordflow">return</span> dest;
<a name="l17302"></a>17302     }
<a name="l17303"></a>17303 
<a name="l17305"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab13c7148c1089c070b2f8860d3a485ee">17305</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab13c7148c1089c070b2f8860d3a485ee" title="Load an image from a PNM file.">get_load_pnm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17306"></a>17306       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">get_load_pnm</a>(0,filename);
<a name="l17307"></a>17307     }
<a name="l17308"></a>17308 
<a name="l17310"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac8adaddeddadebd69a6bb11e1a1d8e00">17310</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac8adaddeddadebd69a6bb11e1a1d8e00" title="Load an image from a PNM file (in-place version).">load_pnm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17311"></a>17311       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">get_load_pnm</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l17312"></a>17312     }
<a name="l17313"></a>17313 
<a name="l17315"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad965659f2570bce67e41088731ea378d">17315</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad965659f2570bce67e41088731ea378d" title="Load an image from a PNM file (in-place version).">load_pnm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17316"></a>17316       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">get_load_pnm</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17317"></a>17317     }
<a name="l17318"></a>17318 
<a name="l17320"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5">17320</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l17321"></a>17321                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l17322"></a>17322                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l17323"></a>17323                              <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb = <span class="keyword">false</span>) {
<a name="l17324"></a>17324       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">CImgList&lt;T&gt;::get_load_yuv</a>(file,filename,sizex,sizey,first_frame,last_frame,yuv2rgb).<a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(<span class="charliteral">&#39;z&#39;</span>,<span class="charliteral">&#39;c&#39;</span>);
<a name="l17325"></a>17325     }
<a name="l17326"></a>17326 
<a name="l17328"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3ca8fde30784f077501255cb9424cf63">17328</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l17329"></a>17329                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l17330"></a>17330                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l17331"></a>17331                              <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb = <span class="keyword">false</span>) {
<a name="l17332"></a>17332       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">CImgList&lt;T&gt;::get_load_yuv</a>(filename,sizex,sizey,first_frame,last_frame,yuv2rgb).<a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(<span class="charliteral">&#39;z&#39;</span>,<span class="charliteral">&#39;c&#39;</span>);
<a name="l17333"></a>17333     }
<a name="l17334"></a>17334 
<a name="l17336"></a><a class="code" href="structcimg__library_1_1_c_img.html#aedcee61e00a196d9fb50d8207f917616">17336</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedcee61e00a196d9fb50d8207f917616" title="Load a YUV image sequence file (in-place).">load_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l17337"></a>17337                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l17338"></a>17338                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l17339"></a>17339                    <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb = <span class="keyword">false</span>) {
<a name="l17340"></a>17340       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(file,filename,sizex,sizey,first_frame,last_frame,yuv2rgb).swap(*<span class="keyword">this</span>);
<a name="l17341"></a>17341     }
<a name="l17342"></a>17342 
<a name="l17344"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae4a2eaf5669c58534338e103bc5c8087">17344</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedcee61e00a196d9fb50d8207f917616" title="Load a YUV image sequence file (in-place).">load_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l17345"></a>17345                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l17346"></a>17346                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l17347"></a>17347                    <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb = <span class="keyword">false</span>) {
<a name="l17348"></a>17348       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(filename,sizex,sizey,first_frame,last_frame,yuv2rgb).swap(*<span class="keyword">this</span>);
<a name="l17349"></a>17349     }
<a name="l17350"></a>17350 
<a name="l17352"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf">17352</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf" title="Load an image from a BMP file.">get_load_bmp</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17353"></a>17353       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l17354"></a>17354       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> header[64];
<a name="l17355"></a>17355       cimg::fread(header,54,nfile);
<a name="l17356"></a>17356       <span class="keywordflow">if</span> (header[0]!=<span class="charliteral">&#39;B&#39;</span> || header[1]!=<span class="charliteral">&#39;M&#39;</span>) {
<a name="l17357"></a>17357         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17358"></a>17358         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_bmp() : File &#39;%s&#39; is not a valid BMP file.&quot;</span>,
<a name="l17359"></a>17359                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17360"></a>17360       }
<a name="l17361"></a>17361 
<a name="l17362"></a>17362       <span class="comment">// Read header and pixel buffer</span>
<a name="l17363"></a>17363       <span class="keywordtype">int</span>
<a name="l17364"></a>17364         file_size   = header[0x02] + (header[0x03]&lt;&lt;8) + (header[0x04]&lt;&lt;16) + (header[0x05]&lt;&lt;24),
<a name="l17365"></a>17365         <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>      = header[0x0A] + (header[0x0B]&lt;&lt;8) + (header[0x0C]&lt;&lt;16) + (header[0x0D]&lt;&lt;24),
<a name="l17366"></a>17366         dx          = header[0x12] + (header[0x13]&lt;&lt;8) + (header[0x14]&lt;&lt;16) + (header[0x15]&lt;&lt;24),
<a name="l17367"></a>17367         dy          = header[0x16] + (header[0x17]&lt;&lt;8) + (header[0x18]&lt;&lt;16) + (header[0x19]&lt;&lt;24),
<a name="l17368"></a>17368         compression = header[0x1E] + (header[0x1F]&lt;&lt;8) + (header[0x20]&lt;&lt;16) + (header[0x21]&lt;&lt;24),
<a name="l17369"></a>17369         nb_colors   = header[0x2E] + (header[0x2F]&lt;&lt;8) + (header[0x30]&lt;&lt;16) + (header[0x31]&lt;&lt;24),
<a name="l17370"></a>17370         bpp         = header[0x1C] + (header[0x1D]&lt;&lt;8),
<a name="l17371"></a>17371         *palette    = 0;
<a name="l17372"></a>17372       <span class="keyword">const</span> <span class="keywordtype">int</span>
<a name="l17373"></a>17373         dx_bytes   = (bpp==1)?(dx/8+(dx%8?1:0)):((bpp==4)?(dx/2+(dx%2?1:0)):(dx*bpp/8)),
<a name="l17374"></a>17374         align      = (4-dx_bytes%4)%4,
<a name="l17375"></a>17375         buf_size   = <a class="code" href="namespacecimg__library_1_1cimg.html#a53ad3b8bbc9fe10b06707772f25f89c1" title="Return the minimum between a and b.">cimg::min</a>(<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(dy)*(dx_bytes+align),file_size-<a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>);
<a name="l17376"></a>17376 
<a name="l17377"></a>17377       <span class="keywordflow">if</span> (bpp&lt;16) { <span class="keywordflow">if</span> (!nb_colors) nb_colors=1&lt;&lt;bpp; } <span class="keywordflow">else</span> nb_colors=0;
<a name="l17378"></a>17378       <span class="keywordflow">if</span> (nb_colors) { palette = <span class="keyword">new</span> <span class="keywordtype">int</span>[nb_colors]; cimg::fread(palette,nb_colors,nfile); }
<a name="l17379"></a>17379       <span class="keyword">const</span> <span class="keywordtype">int</span> xoffset = <a class="code" href="structcimg__library_1_1_c_img.html#a266ad9e6e5d13058af75966b7d7e3ad9" title="Return the offset of the pixel coordinates (x,y,z,v) with respect to the data pointer data...">offset</a>-54-4*nb_colors;
<a name="l17380"></a>17380       <span class="keywordflow">if</span> (xoffset&gt;0) std::fseek(nfile,xoffset,SEEK_CUR);
<a name="l17381"></a>17381       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer  = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[buf_size], *ptrs = buffer;
<a name="l17382"></a>17382       cimg::fread(buffer,buf_size,nfile);
<a name="l17383"></a>17383       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17384"></a>17384 
<a name="l17385"></a>17385       <span class="comment">// Decompress buffer (if necessary)</span>
<a name="l17386"></a>17386       <span class="keywordflow">if</span> (compression) {
<a name="l17387"></a>17387         <span class="keyword">delete</span>[] buffer;
<a name="l17388"></a>17388         <span class="keywordflow">if</span> (file) {
<a name="l17389"></a>17389           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_bmp() : Not able to read a compressed BMP file using a *FILE input&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l17390"></a>17390         } <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l17391"></a>17391       }
<a name="l17392"></a>17392 
<a name="l17393"></a>17393       <span class="comment">// Read pixel data</span>
<a name="l17394"></a>17394       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(dx,<a class="code" href="namespacecimg__library_1_1cimg.html#a5dd0a4d361e2db646f5042be6bfe1d31" title="Return the absolute value of a.">cimg::abs</a>(dy),1,3);
<a name="l17395"></a>17395       <span class="keywordflow">switch</span> (bpp) {
<a name="l17396"></a>17396       <span class="keywordflow">case</span> 1: { <span class="comment">// Monochrome</span>
<a name="l17397"></a>17397         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) {
<a name="l17398"></a>17398           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask = 0x80, val = 0;
<a name="l17399"></a>17399           cimg_forX(res,x) {
<a name="l17400"></a>17400             <span class="keywordflow">if</span> (mask==0x80) val = *(ptrs++);
<a name="l17401"></a>17401             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *col = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)(palette+(val&amp;mask?1:0));
<a name="l17402"></a>17402             res(x,y,2) = (T)*(col++);
<a name="l17403"></a>17403             res(x,y,1) = (T)*(col++);
<a name="l17404"></a>17404             res(x,y,0) = (T)*(col++);
<a name="l17405"></a>17405             mask = cimg::ror(mask);
<a name="l17406"></a>17406           } ptrs+=align; }
<a name="l17407"></a>17407       } <span class="keywordflow">break</span>;
<a name="l17408"></a>17408       <span class="keywordflow">case</span> 4: { <span class="comment">// 16 colors</span>
<a name="l17409"></a>17409         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) {
<a name="l17410"></a>17410           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask = 0xF0, val = 0;
<a name="l17411"></a>17411           cimg_forX(res,x) {
<a name="l17412"></a>17412             <span class="keywordflow">if</span> (mask==0xF0) val = *(ptrs++);
<a name="l17413"></a>17413             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> color = (mask&lt;16)?(val&amp;mask):((val&amp;mask)&gt;&gt;4);
<a name="l17414"></a>17414             <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *col = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)(palette+color);
<a name="l17415"></a>17415             res(x,y,2) = (T)*(col++);
<a name="l17416"></a>17416             res(x,y,1) = (T)*(col++);
<a name="l17417"></a>17417             res(x,y,0) = (T)*(col++);
<a name="l17418"></a>17418             mask = cimg::ror(mask,4);
<a name="l17419"></a>17419           } ptrs+=align; }
<a name="l17420"></a>17420       } <span class="keywordflow">break</span>;
<a name="l17421"></a>17421       <span class="keywordflow">case</span> 8: { <span class="comment">//  256 colors</span>
<a name="l17422"></a>17422         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) { cimg_forX(res,x) {
<a name="l17423"></a>17423           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *col = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)(palette+*(ptrs++));
<a name="l17424"></a>17424           res(x,y,2) = (T)*(col++);
<a name="l17425"></a>17425           res(x,y,1) = (T)*(col++);
<a name="l17426"></a>17426           res(x,y,0) = (T)*(col++);
<a name="l17427"></a>17427         } ptrs+=align; }
<a name="l17428"></a>17428       } <span class="keywordflow">break</span>;
<a name="l17429"></a>17429       <span class="keywordflow">case</span> 16: { <span class="comment">// 16 bits colors</span>
<a name="l17430"></a>17430         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) { cimg_forX(res,x) {
<a name="l17431"></a>17431           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c1 = *(ptrs++), c2 = *(ptrs++);
<a name="l17432"></a>17432           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> col = c1+(c2&lt;&lt;8);
<a name="l17433"></a>17433           res(x,y,2) = (T)(col&amp;0x1F);
<a name="l17434"></a>17434           res(x,y,1) = (T)((col&gt;&gt;5)&amp;0x1F);
<a name="l17435"></a>17435           res(x,y,0) = (T)((col&gt;&gt;10)&amp;0x1F);
<a name="l17436"></a>17436         } ptrs+=align; }
<a name="l17437"></a>17437       } <span class="keywordflow">break</span>;
<a name="l17438"></a>17438       <span class="keywordflow">case</span> 24: { <span class="comment">// 24 bits colors</span>
<a name="l17439"></a>17439         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) { cimg_forX(res,x) {
<a name="l17440"></a>17440           res(x,y,2) = (T)*(ptrs++);
<a name="l17441"></a>17441           res(x,y,1) = (T)*(ptrs++);
<a name="l17442"></a>17442           res(x,y,0) = (T)*(ptrs++);
<a name="l17443"></a>17443         } ptrs+=align; }
<a name="l17444"></a>17444       } <span class="keywordflow">break</span>;
<a name="l17445"></a>17445       <span class="keywordflow">case</span> 32: { <span class="comment">// 32 bits colors</span>
<a name="l17446"></a>17446         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1; y&gt;=0; y--) { cimg_forX(res,x) {
<a name="l17447"></a>17447           res(x,y,2) = (T)*(ptrs++);
<a name="l17448"></a>17448           res(x,y,1) = (T)*(ptrs++);
<a name="l17449"></a>17449           res(x,y,0) = (T)*(ptrs++);
<a name="l17450"></a>17450           ptrs++;
<a name="l17451"></a>17451         } ptrs+=align; }
<a name="l17452"></a>17452       } <span class="keywordflow">break</span>;
<a name="l17453"></a>17453       }
<a name="l17454"></a>17454       <span class="keywordflow">if</span> (palette) <span class="keyword">delete</span>[] palette;
<a name="l17455"></a>17455       <span class="keyword">delete</span>[] buffer;
<a name="l17456"></a>17456       <span class="keywordflow">if</span> (dy&lt;0) res.<a class="code" href="structcimg__library_1_1_c_img.html#a0dddf2bd640a2b4c8a1218bf73f116bb" title="Mirror an image along the specified axis.">mirror</a>(<span class="charliteral">&#39;y&#39;</span>);
<a name="l17457"></a>17457       <span class="keywordflow">return</span> res;
<a name="l17458"></a>17458     }
<a name="l17459"></a>17459 
<a name="l17461"></a><a class="code" href="structcimg__library_1_1_c_img.html#a30b95dca92e8488a9d2d0c5923a8247a">17461</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a30b95dca92e8488a9d2d0c5923a8247a" title="Load an image from a BMP file.">get_load_bmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17462"></a>17462       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf" title="Load an image from a BMP file.">get_load_bmp</a>(0,filename);
<a name="l17463"></a>17463     }
<a name="l17464"></a>17464 
<a name="l17466"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9d9eab2fca0c2ac1c0dd22ef114a5f8e">17466</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9d9eab2fca0c2ac1c0dd22ef114a5f8e" title="Load an image from a BMP file.">load_bmp</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17467"></a>17467       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf" title="Load an image from a BMP file.">get_load_bmp</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l17468"></a>17468     }
<a name="l17469"></a>17469 
<a name="l17471"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1ddb0c4a55723922e866f971e5c87dd9">17471</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1ddb0c4a55723922e866f971e5c87dd9" title="Load an image from a BMP file.">load_bmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17472"></a>17472       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab7bee0877eb6b5e27cee3abf2ade45cf" title="Load an image from a BMP file.">get_load_bmp</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17473"></a>17473     }
<a name="l17474"></a>17474 
<a name="l17476"></a>17476     <span class="comment">// Note : Most of this function has been written by Eric Fausett</span>
<a name="l17477"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08">17477</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08" title="Load an image from a PNG file.">get_load_png</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17478"></a>17478 <span class="preprocessor">#ifndef cimg_use_png</span>
<a name="l17479"></a>17479 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (file)
<a name="l17480"></a>17480         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;(FILE*)&#39; cannot be read without using libpng.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l17481"></a>17481       <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l17482"></a>17482 <span class="preprocessor">#else</span>
<a name="l17483"></a>17483 <span class="preprocessor"></span>      <span class="comment">// Open file and check for PNG validity</span>
<a name="l17484"></a>17484       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l17485"></a>17485       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> pngCheck[8];
<a name="l17486"></a>17486       cimg::fread(pngCheck,8,nfile);
<a name="l17487"></a>17487       <span class="keywordflow">if</span> (png_sig_cmp(pngCheck,0,8)) {
<a name="l17488"></a>17488         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17489"></a>17489         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39; is not a valid PNG file.&quot;</span>,
<a name="l17490"></a>17490                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17491"></a>17491       }
<a name="l17492"></a>17492 
<a name="l17493"></a>17493       <span class="comment">// Setup PNG structures for read</span>
<a name="l17494"></a>17494       png_voidp user_error_ptr=0;
<a name="l17495"></a>17495       png_error_ptr user_error_fn=0, user_warning_fn=0;
<a name="l17496"></a>17496       png_structp png_ptr = png_create_read_struct(PNG_LIBPNG_VER_STRING,       <span class="comment">// Verifies libpng version correct</span>
<a name="l17497"></a>17497                                                    user_error_ptr, user_error_fn, user_warning_fn);
<a name="l17498"></a>17498       <span class="keywordflow">if</span>(!png_ptr){
<a name="l17499"></a>17499         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17500"></a>17500         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, trouble initializing &#39;png_ptr&#39; data structure.&quot;</span>,
<a name="l17501"></a>17501                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17502"></a>17502       }
<a name="l17503"></a>17503       png_infop info_ptr = png_create_info_struct(png_ptr);
<a name="l17504"></a>17504       <span class="keywordflow">if</span>(!info_ptr){
<a name="l17505"></a>17505         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17506"></a>17506         png_destroy_read_struct(&amp;png_ptr, (png_infopp)0, (png_infopp)0);
<a name="l17507"></a>17507         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, trouble initializing &#39;info_ptr&#39; data structure.&quot;</span>,
<a name="l17508"></a>17508                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17509"></a>17509       }
<a name="l17510"></a>17510       png_infop end_info = png_create_info_struct(png_ptr);
<a name="l17511"></a>17511       <span class="keywordflow">if</span>(!end_info){
<a name="l17512"></a>17512         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17513"></a>17513         png_destroy_read_struct(&amp;png_ptr, &amp;info_ptr, (png_infopp)0);
<a name="l17514"></a>17514         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, trouble initializing &#39;end_info&#39; data structure.&quot;</span>,
<a name="l17515"></a>17515                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17516"></a>17516       }
<a name="l17517"></a>17517 
<a name="l17518"></a>17518       <span class="comment">// Error handling callback for png file reading</span>
<a name="l17519"></a>17519       <span class="keywordflow">if</span> (setjmp(png_jmpbuf(png_ptr))){
<a name="l17520"></a>17520         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17521"></a>17521         png_destroy_read_struct(&amp;png_ptr, &amp;end_info, (png_infopp)0);
<a name="l17522"></a>17522         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, unknown fatal error.&quot;</span>,
<a name="l17523"></a>17523                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17524"></a>17524       }
<a name="l17525"></a>17525       png_init_io(png_ptr, nfile);
<a name="l17526"></a>17526       png_set_sig_bytes(png_ptr, 8);
<a name="l17527"></a>17527 
<a name="l17528"></a>17528       <span class="comment">// Get PNG Header Info up to data block</span>
<a name="l17529"></a>17529       png_read_info(png_ptr, info_ptr);
<a name="l17530"></a>17530       png_uint_32 <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l17531"></a>17531       <span class="keywordtype">int</span> bit_depth, color_type, interlace_type;
<a name="l17532"></a>17532       png_get_IHDR(png_ptr, info_ptr, &amp;width, &amp;height, &amp;bit_depth, &amp;color_type, &amp;interlace_type,
<a name="l17533"></a>17533                    int_p_NULL, int_p_NULL);
<a name="l17534"></a>17534       <span class="keywordtype">int</span> new_bit_depth = bit_depth;
<a name="l17535"></a>17535       <span class="keywordtype">int</span> new_color_type = color_type;
<a name="l17536"></a>17536 
<a name="l17537"></a>17537       <span class="comment">// Transforms to unify image data</span>
<a name="l17538"></a>17538       <span class="keywordflow">if</span> (new_color_type == PNG_COLOR_TYPE_PALETTE){
<a name="l17539"></a>17539         png_set_palette_to_rgb(png_ptr);
<a name="l17540"></a>17540         new_color_type -= PNG_COLOR_MASK_PALETTE;
<a name="l17541"></a>17541         new_bit_depth = 8;
<a name="l17542"></a>17542       }
<a name="l17543"></a>17543       <span class="keywordflow">if</span> (new_color_type == PNG_COLOR_TYPE_GRAY &amp;&amp; bit_depth &lt; 8){
<a name="l17544"></a>17544         png_set_gray_1_2_4_to_8(png_ptr);
<a name="l17545"></a>17545         new_bit_depth = 8;
<a name="l17546"></a>17546       }
<a name="l17547"></a>17547       <span class="keywordflow">if</span> (png_get_valid(png_ptr, info_ptr, PNG_INFO_tRNS))
<a name="l17548"></a>17548         png_set_tRNS_to_alpha(png_ptr);
<a name="l17549"></a>17549       <span class="keywordflow">if</span> (new_color_type == PNG_COLOR_TYPE_GRAY || new_color_type == PNG_COLOR_TYPE_GRAY_ALPHA){
<a name="l17550"></a>17550         png_set_gray_to_rgb(png_ptr);
<a name="l17551"></a>17551         new_color_type |= PNG_COLOR_MASK_COLOR;
<a name="l17552"></a>17552       }
<a name="l17553"></a>17553       <span class="keywordflow">if</span> (new_color_type == PNG_COLOR_TYPE_RGB) png_set_filler(png_ptr, 0xffffU, PNG_FILLER_AFTER);
<a name="l17554"></a>17554       png_read_update_info(png_ptr, info_ptr);
<a name="l17555"></a>17555       <span class="keywordflow">if</span> (!(new_bit_depth==8 || new_bit_depth==16)) {
<a name="l17556"></a>17556         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17557"></a>17557         png_destroy_read_struct(&amp;png_ptr, &amp;end_info, (png_infopp)0);
<a name="l17558"></a>17558         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, wrong bit coding (bit_depth=%u)&quot;</span>,
<a name="l17559"></a>17559                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,new_bit_depth);
<a name="l17560"></a>17560       }
<a name="l17561"></a>17561       <span class="keyword">const</span> <span class="keywordtype">int</span> byte_depth = new_bit_depth&gt;&gt;3;
<a name="l17562"></a>17562 
<a name="l17563"></a>17563       <span class="comment">// Allocate Memory for Image Read</span>
<a name="l17564"></a>17564       png_bytep *imgData = <span class="keyword">new</span> png_bytep[height];
<a name="l17565"></a>17565       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row=0; row &lt; height; row++) imgData[row] = <span class="keyword">new</span> png_byte[byte_depth * 4 * width];
<a name="l17566"></a>17566       png_read_image(png_ptr, imgData);
<a name="l17567"></a>17567       png_read_end(png_ptr, end_info);
<a name="l17568"></a>17568 
<a name="l17569"></a>17569       <span class="comment">// Read pixel data</span>
<a name="l17570"></a>17570       <span class="keywordflow">if</span> (!(new_color_type==PNG_COLOR_TYPE_RGB || new_color_type==PNG_COLOR_TYPE_RGB_ALPHA)) {
<a name="l17571"></a>17571         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17572"></a>17572         png_destroy_read_struct(&amp;png_ptr, &amp;end_info, (png_infopp)0);
<a name="l17573"></a>17573         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_png() : File &#39;%s&#39;, wrong color coding (new_color_type=%u)&quot;</span>,
<a name="l17574"></a>17574                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,new_color_type);
<a name="l17575"></a>17575       }
<a name="l17576"></a>17576       <span class="keyword">const</span> <span class="keywordtype">bool</span> no_alpha_channel = (new_color_type==PNG_COLOR_TYPE_RGB);
<a name="l17577"></a>17577       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(width,height,1,no_alpha_channel?3:4);
<a name="l17578"></a>17578       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> off = width*height;
<a name="l17579"></a>17579       T *ptr1 = res.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>, *ptr2 = ptr1+off, *ptr3 = ptr2+off, *ptr4 = ptr3+off;
<a name="l17580"></a>17580       <span class="keywordflow">switch</span>(new_bit_depth){
<a name="l17581"></a>17581       <span class="keywordflow">case</span> 8: {
<a name="l17582"></a>17582         cimg_forY(res,y){
<a name="l17583"></a>17583           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)imgData[y];
<a name="l17584"></a>17584           cimg_forX(res,x){
<a name="l17585"></a>17585             *(ptr1++) = (T)*(ptrs++);
<a name="l17586"></a>17586             *(ptr2++) = (T)*(ptrs++);
<a name="l17587"></a>17587             *(ptr3++) = (T)*(ptrs++);
<a name="l17588"></a>17588             <span class="keywordflow">if</span> (no_alpha_channel) ptrs++; <span class="keywordflow">else</span> *(ptr4++) = (T)*(ptrs++);
<a name="l17589"></a>17589           }
<a name="l17590"></a>17590         }
<a name="l17591"></a>17591       } <span class="keywordflow">break</span>;
<a name="l17592"></a>17592       <span class="keywordflow">case</span> 16: {
<a name="l17593"></a>17593         cimg_forY(res,y){
<a name="l17594"></a>17594           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)(imgData[y]);
<a name="l17595"></a>17595           cimg_forX(res,x){
<a name="l17596"></a>17596             *(ptr1++) = (T)*(ptrs++);
<a name="l17597"></a>17597             *(ptr2++) = (T)*(ptrs++);
<a name="l17598"></a>17598             *(ptr3++) = (T)*(ptrs++);
<a name="l17599"></a>17599             <span class="keywordflow">if</span> (no_alpha_channel) ptrs++; <span class="keywordflow">else</span> *(ptr4++) = (T)*(ptrs++);
<a name="l17600"></a>17600           }
<a name="l17601"></a>17601         }
<a name="l17602"></a>17602       } <span class="keywordflow">break</span>;
<a name="l17603"></a>17603       }
<a name="l17604"></a>17604       png_destroy_read_struct(&amp;png_ptr, &amp;info_ptr, &amp;end_info);
<a name="l17605"></a>17605 
<a name="l17606"></a>17606       <span class="comment">// Deallocate Image Read Memory</span>
<a name="l17607"></a>17607       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0; n&lt;height; n++) <span class="keyword">delete</span>[] imgData[n];
<a name="l17608"></a>17608       <span class="keyword">delete</span>[] imgData;
<a name="l17609"></a>17609       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l17610"></a>17610       <span class="keywordflow">return</span> res;
<a name="l17611"></a>17611 <span class="preprocessor">#endif</span>
<a name="l17612"></a>17612 <span class="preprocessor"></span>    }
<a name="l17613"></a>17613 
<a name="l17615"></a><a class="code" href="structcimg__library_1_1_c_img.html#a77fa8c53e85449f0eb7b923b515ad914">17615</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a77fa8c53e85449f0eb7b923b515ad914" title="Load an image from a PNG file.">get_load_png</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17616"></a>17616       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08" title="Load an image from a PNG file.">get_load_png</a>(0,filename);
<a name="l17617"></a>17617     }
<a name="l17618"></a>17618 
<a name="l17620"></a><a class="code" href="structcimg__library_1_1_c_img.html#a88eae066c138394b1659b051ce5e0aaa">17620</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a88eae066c138394b1659b051ce5e0aaa" title="Load an image from a PNG file.">load_png</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17621"></a>17621       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08" title="Load an image from a PNG file.">get_load_png</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l17622"></a>17622     }
<a name="l17623"></a>17623 
<a name="l17625"></a><a class="code" href="structcimg__library_1_1_c_img.html#aeb0ba1f9a9049f4444ac63e118fb2c0f">17625</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aeb0ba1f9a9049f4444ac63e118fb2c0f" title="Load an image from a PNG file.">load_png</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l17626"></a>17626       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad812108bdb1d2a6928e509c9bc8c1c08" title="Load an image from a PNG file.">get_load_png</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l17627"></a>17627     }
<a name="l17628"></a>17628 
<a name="l17630"></a>17630     <span class="comment">// Original contribution by Jerome Boulanger.</span>
<a name="l17631"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1e4248a31fd83a0eb2349926acb7c239">17631</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a1e4248a31fd83a0eb2349926acb7c239" title="Load an image in TIFF format.">get_load_tiff</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l17632"></a>17632 <span class="preprocessor">#ifndef cimg_use_tiff</span>
<a name="l17633"></a>17633 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l17634"></a>17634 <span class="preprocessor">#else</span>
<a name="l17635"></a>17635 <span class="preprocessor"></span>      <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest;
<a name="l17636"></a>17636       TIFF *tif = TIFFOpen(filename,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l17637"></a>17637 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l17638"></a>17638 <span class="preprocessor"></span>      TIFFSetWarningHandler(0);
<a name="l17639"></a>17639       TIFFSetErrorHandler(0);
<a name="l17640"></a>17640 <span class="preprocessor">#endif</span>
<a name="l17641"></a>17641 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (tif) {
<a name="l17642"></a>17642         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> number_of_directories = 0;
<a name="l17643"></a>17643         <span class="keywordflow">do</span> number_of_directories++; <span class="keywordflow">while</span> (TIFFReadDirectory(tif));
<a name="l17644"></a>17644         uint16 samplesperpixel, bitspersample;
<a name="l17645"></a>17645         uint32 nx,ny;
<a name="l17646"></a>17646         TIFFGetField(tif,TIFFTAG_IMAGEWIDTH,&amp;nx);
<a name="l17647"></a>17647         TIFFGetField(tif,TIFFTAG_IMAGELENGTH,&amp;ny);
<a name="l17648"></a>17648         TIFFGetField(tif,TIFFTAG_SAMPLESPERPIXEL,&amp;samplesperpixel);
<a name="l17649"></a>17649         <span class="keywordflow">if</span> (samplesperpixel!=1 &amp;&amp; samplesperpixel!=3 &amp;&amp; samplesperpixel!=4) {
<a name="l17650"></a>17650           cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, unknow value for tag : TIFFTAG_SAMPLESPERPIXEL, will force it to 1.&quot;</span>,
<a name="l17651"></a>17651                      <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17652"></a>17652           samplesperpixel=1;
<a name="l17653"></a>17653         }
<a name="l17654"></a>17654         TIFFGetFieldDefaulted(tif, TIFFTAG_BITSPERSAMPLE, &amp;bitspersample);
<a name="l17655"></a>17655         TIFFClose(tif);
<a name="l17656"></a>17656         tif = TIFFOpen(filename,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l17657"></a>17657         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(nx,ny,number_of_directories,samplesperpixel);
<a name="l17658"></a>17658 
<a name="l17659"></a>17659         <span class="keywordtype">unsigned</span>  <span class="keywordtype">int</span> dir=0;
<a name="l17660"></a>17660         <span class="keywordflow">do</span> {
<a name="l17661"></a>17661           <span class="keywordflow">if</span> (bitspersample!=8 || !( samplesperpixel == 3 || samplesperpixel == 4)){ <span class="comment">//if !rgba 8bit</span>
<a name="l17662"></a>17662             uint16 photo, config;
<a name="l17663"></a>17663             TIFFGetField(tif,TIFFTAG_PLANARCONFIG,&amp;config);
<a name="l17664"></a>17664             TIFFGetField(tif,TIFFTAG_PHOTOMETRIC,&amp;photo);
<a name="l17665"></a>17665             <span class="keywordflow">if</span> (TIFFIsTiled(tif)) {
<a name="l17666"></a>17666               uint32 tw, th;
<a name="l17667"></a>17667               TIFFGetField(tif, TIFFTAG_TILEWIDTH, &amp;tw);
<a name="l17668"></a>17668               TIFFGetField(tif, TIFFTAG_TILELENGTH, &amp;th);
<a name="l17669"></a>17669               <span class="keywordflow">if</span> (config==PLANARCONFIG_CONTIG) {
<a name="l17670"></a>17670                 <span class="keywordflow">switch</span>(bitspersample){
<a name="l17671"></a>17671                 <span class="keywordflow">case</span> 8:{
<a name="l17672"></a>17672                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf;
<a name="l17673"></a>17673                 buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17674"></a>17674                 <span class="keywordflow">if</span> (buf) {
<a name="l17675"></a>17675                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17676"></a>17676                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17677"></a>17677                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,0)&lt;0) {
<a name="l17678"></a>17678                         _TIFFfree(buf);
<a name="l17679"></a>17679                         TIFFClose(tif);
<a name="l17680"></a>17680                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17681"></a>17681                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17682"></a>17682                       } <span class="keywordflow">else</span> {
<a name="l17683"></a>17683                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * ptr = buf;
<a name="l17684"></a>17684                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17685"></a>17685                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17686"></a>17686                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17687"></a>17687                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17688"></a>17688                         }
<a name="l17689"></a>17689                     }
<a name="l17690"></a>17690                   }
<a name="l17691"></a>17691                   _TIFFfree(buf);
<a name="l17692"></a>17692                 }
<a name="l17693"></a>17693                 <span class="keywordflow">break</span>;
<a name="l17694"></a>17694                 }
<a name="l17695"></a>17695                 <span class="keywordflow">case</span> 16:{
<a name="l17696"></a>17696                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buf;
<a name="l17697"></a>17697                 buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17698"></a>17698                 <span class="keywordflow">if</span> (buf) {
<a name="l17699"></a>17699                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17700"></a>17700                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17701"></a>17701                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,0)&lt;0) {
<a name="l17702"></a>17702                         _TIFFfree(buf);
<a name="l17703"></a>17703                         TIFFClose(tif);
<a name="l17704"></a>17704                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17705"></a>17705                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17706"></a>17706                       } <span class="keywordflow">else</span> {
<a name="l17707"></a>17707                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> * ptr = buf;
<a name="l17708"></a>17708                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17709"></a>17709                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17710"></a>17710                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17711"></a>17711                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17712"></a>17712                         }
<a name="l17713"></a>17713                     }
<a name="l17714"></a>17714                   }
<a name="l17715"></a>17715                   _TIFFfree(buf);
<a name="l17716"></a>17716                 }
<a name="l17717"></a>17717                 <span class="keywordflow">break</span>;
<a name="l17718"></a>17718                 }
<a name="l17719"></a>17719                 <span class="keywordflow">case</span> 32:{
<a name="l17720"></a>17720                 <span class="keywordtype">float</span> *buf;
<a name="l17721"></a>17721                 buf = (<span class="keywordtype">float</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17722"></a>17722                 <span class="keywordflow">if</span> (buf) {
<a name="l17723"></a>17723                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17724"></a>17724                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17725"></a>17725                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,0)&lt;0) {
<a name="l17726"></a>17726                         _TIFFfree(buf);
<a name="l17727"></a>17727                         TIFFClose(tif);
<a name="l17728"></a>17728                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17729"></a>17729                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17730"></a>17730                       } <span class="keywordflow">else</span> {
<a name="l17731"></a>17731                         <span class="keywordtype">float</span> * ptr = buf;
<a name="l17732"></a>17732                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17733"></a>17733                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17734"></a>17734                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17735"></a>17735                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17736"></a>17736                         }
<a name="l17737"></a>17737                     }
<a name="l17738"></a>17738                   }
<a name="l17739"></a>17739                   _TIFFfree(buf);
<a name="l17740"></a>17740                 }
<a name="l17741"></a>17741                 <span class="keywordflow">break</span>;
<a name="l17742"></a>17742                 }
<a name="l17743"></a>17743                 }
<a name="l17744"></a>17744               }
<a name="l17745"></a>17745               <span class="keywordflow">else</span> {
<a name="l17746"></a>17746                 <span class="keywordflow">switch</span>(bitspersample){
<a name="l17747"></a>17747                 <span class="keywordflow">case</span> 8:{
<a name="l17748"></a>17748                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17749"></a>17749                 <span class="keywordflow">if</span> (buf) {
<a name="l17750"></a>17750                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17751"></a>17751                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17752"></a>17752                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17753"></a>17753                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,vv)&lt;0) {
<a name="l17754"></a>17754                         _TIFFfree(buf);
<a name="l17755"></a>17755                         TIFFClose(tif);
<a name="l17756"></a>17756                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17757"></a>17757                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17758"></a>17758                       } <span class="keywordflow">else</span> {
<a name="l17759"></a>17759                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * ptr = buf;
<a name="l17760"></a>17760                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17761"></a>17761                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17762"></a>17762                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17763"></a>17763                         }
<a name="l17764"></a>17764                     }
<a name="l17765"></a>17765                   }
<a name="l17766"></a>17766                   _TIFFfree(buf);
<a name="l17767"></a>17767                 }
<a name="l17768"></a>17768                 <span class="keywordflow">break</span>;
<a name="l17769"></a>17769                 }
<a name="l17770"></a>17770                 <span class="keywordflow">case</span> 16:{
<a name="l17771"></a>17771                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17772"></a>17772                 <span class="keywordflow">if</span> (buf) {
<a name="l17773"></a>17773                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17774"></a>17774                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17775"></a>17775                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17776"></a>17776                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,vv)&lt;0) {
<a name="l17777"></a>17777                         _TIFFfree(buf);
<a name="l17778"></a>17778                         TIFFClose(tif);
<a name="l17779"></a>17779                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17780"></a>17780                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17781"></a>17781                       } <span class="keywordflow">else</span> {
<a name="l17782"></a>17782                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> * ptr = buf;
<a name="l17783"></a>17783                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17784"></a>17784                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17785"></a>17785                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17786"></a>17786                         }
<a name="l17787"></a>17787                     }
<a name="l17788"></a>17788                   }
<a name="l17789"></a>17789                   _TIFFfree(buf);
<a name="l17790"></a>17790                 }
<a name="l17791"></a>17791                 <span class="keywordflow">break</span>;
<a name="l17792"></a>17792                 }
<a name="l17793"></a>17793                 <span class="keywordflow">case</span> 32:{
<a name="l17794"></a>17794                 <span class="keywordtype">float</span> *buf = (<span class="keywordtype">float</span> *)_TIFFmalloc(TIFFTileSize(tif));
<a name="l17795"></a>17795                 <span class="keywordflow">if</span> (buf) {
<a name="l17796"></a>17796                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17797"></a>17797                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row&lt;ny; row+=th) {
<a name="l17798"></a>17798                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col = 0; col&lt;nx; col+=tw) {
<a name="l17799"></a>17799                       <span class="keywordflow">if</span> (TIFFReadTile(tif,buf,col,row,0,vv)&lt;0) {
<a name="l17800"></a>17800                         _TIFFfree(buf);
<a name="l17801"></a>17801                         TIFFClose(tif);
<a name="l17802"></a>17802                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a tile.&quot;</span>,
<a name="l17803"></a>17803                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17804"></a>17804                       } <span class="keywordflow">else</span> {
<a name="l17805"></a>17805                         <span class="keywordtype">float</span> * ptr = buf;
<a name="l17806"></a>17806                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=row;rr&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( row+th,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ny);rr++)
<a name="l17807"></a>17807                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=col;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>( col+tw,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nx);cc++)
<a name="l17808"></a>17808                               dest(cc,rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17809"></a>17809                         }
<a name="l17810"></a>17810                     }
<a name="l17811"></a>17811                   }
<a name="l17812"></a>17812                   _TIFFfree(buf);
<a name="l17813"></a>17813                 }
<a name="l17814"></a>17814                 <span class="keywordflow">break</span>;
<a name="l17815"></a>17815                 }
<a name="l17816"></a>17816                 }
<a name="l17817"></a>17817               }
<a name="l17818"></a>17818             } <span class="keywordflow">else</span> {
<a name="l17819"></a>17819               <span class="keywordflow">if</span> (config==PLANARCONFIG_CONTIG) {
<a name="l17820"></a>17820                 <span class="keywordflow">switch</span>(bitspersample){
<a name="l17821"></a>17821                 <span class="keywordflow">case</span> 8 :{
<a name="l17822"></a>17822                   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17823"></a>17823                   <span class="keywordflow">if</span> (buf) {
<a name="l17824"></a>17824                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17825"></a>17825                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17826"></a>17826                     <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17827"></a>17827                       uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17828"></a>17828                       tstrip_t strip = TIFFComputeStrip(tif, row, 0);
<a name="l17829"></a>17829                       <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17830"></a>17830                         _TIFFfree(buf);
<a name="l17831"></a>17831                         TIFFClose(tif);
<a name="l17832"></a>17832                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a strip.&quot;</span>,
<a name="l17833"></a>17833                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17834"></a>17834                       }
<a name="l17835"></a>17835                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * ptr = buf;
<a name="l17836"></a>17836                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0; rr&lt;nrow; rr++)
<a name="l17837"></a>17837                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17838"></a>17838                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17839"></a>17839                               dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17840"></a>17840 
<a name="l17841"></a>17841                     }
<a name="l17842"></a>17842                     _TIFFfree(buf);
<a name="l17843"></a>17843                   }
<a name="l17844"></a>17844                   <span class="keywordflow">break</span>;
<a name="l17845"></a>17845                 }
<a name="l17846"></a>17846                 <span class="keywordflow">case</span> 16:{
<a name="l17847"></a>17847                   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buf = (<span class="keywordtype">unsigned</span>  <span class="keywordtype">short</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17848"></a>17848                   <span class="keywordflow">if</span> (buf) {
<a name="l17849"></a>17849                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17850"></a>17850                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17851"></a>17851                     <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17852"></a>17852                       uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17853"></a>17853                       tstrip_t strip = TIFFComputeStrip(tif, row, 0);
<a name="l17854"></a>17854                       <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17855"></a>17855                         _TIFFfree(buf);
<a name="l17856"></a>17856                         TIFFClose(tif);
<a name="l17857"></a>17857                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, error while reading a strip.&quot;</span>,
<a name="l17858"></a>17858                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17859"></a>17859                       }
<a name="l17860"></a>17860                       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> * ptr = buf;
<a name="l17861"></a>17861                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0; rr&lt;nrow; rr++)
<a name="l17862"></a>17862                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17863"></a>17863                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17864"></a>17864                               dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17865"></a>17865                     }
<a name="l17866"></a>17866                     _TIFFfree(buf);
<a name="l17867"></a>17867                   }
<a name="l17868"></a>17868                   <span class="keywordflow">break</span>;
<a name="l17869"></a>17869                 }
<a name="l17870"></a>17870                 <span class="keywordflow">case</span> 32:{
<a name="l17871"></a>17871                   <span class="keywordtype">float</span> *buf  = (<span class="keywordtype">float</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17872"></a>17872                   <span class="keywordflow">if</span> (buf) {
<a name="l17873"></a>17873                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17874"></a>17874                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17875"></a>17875                     <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17876"></a>17876                       uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17877"></a>17877                       tstrip_t strip = TIFFComputeStrip(tif, row, 0);
<a name="l17878"></a>17878                       <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17879"></a>17879                         _TIFFfree(buf);
<a name="l17880"></a>17880                         TIFFClose(tif);
<a name="l17881"></a>17881                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, error while reading a strip.&quot;</span>,
<a name="l17882"></a>17882                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17883"></a>17883                       }
<a name="l17884"></a>17884                       <span class="keywordtype">float</span> * ptr = buf;
<a name="l17885"></a>17885                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0; rr&lt;nrow; rr++)
<a name="l17886"></a>17886                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17887"></a>17887                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17888"></a>17888                               dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17889"></a>17889                     }
<a name="l17890"></a>17890                     _TIFFfree(buf);
<a name="l17891"></a>17891                   }
<a name="l17892"></a>17892                   <span class="keywordflow">break</span>;
<a name="l17893"></a>17893         }
<a name="l17894"></a>17894 
<a name="l17895"></a>17895                 }
<a name="l17896"></a>17896               }
<a name="l17897"></a>17897               <span class="keywordflow">else</span> {
<a name="l17898"></a>17898                 <span class="keywordflow">switch</span>(bitspersample){
<a name="l17899"></a>17899                 <span class="keywordflow">case</span> 8 :{
<a name="l17900"></a>17900                   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17901"></a>17901                   <span class="keywordflow">if</span> (buf) {
<a name="l17902"></a>17902                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17903"></a>17903                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17904"></a>17904                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++){
<a name="l17905"></a>17905                     <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17906"></a>17906                       uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17907"></a>17907                       tstrip_t strip = TIFFComputeStrip(tif, row, vv);
<a name="l17908"></a>17908                       <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17909"></a>17909                         _TIFFfree(buf);
<a name="l17910"></a>17910                         TIFFClose(tif);
<a name="l17911"></a>17911                         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, an error occure while reading a strip.&quot;</span>,
<a name="l17912"></a>17912                                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17913"></a>17913                       }
<a name="l17914"></a>17914                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * ptr = buf;
<a name="l17915"></a>17915                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0;rr&lt;nrow; rr++)
<a name="l17916"></a>17916                             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17917"></a>17917                               dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17918"></a>17918                         }}
<a name="l17919"></a>17919                     _TIFFfree(buf);
<a name="l17920"></a>17920                   }
<a name="l17921"></a>17921                   <span class="keywordflow">break</span>;
<a name="l17922"></a>17922                 }
<a name="l17923"></a>17923                 <span class="keywordflow">case</span> 16:{
<a name="l17924"></a>17924                   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buf = (<span class="keywordtype">unsigned</span>  <span class="keywordtype">short</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17925"></a>17925                   <span class="keywordflow">if</span> (buf) {
<a name="l17926"></a>17926                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17927"></a>17927                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17928"></a>17928                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17929"></a>17929                       <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17930"></a>17930                         uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17931"></a>17931                         tstrip_t strip = TIFFComputeStrip(tif, row, vv);
<a name="l17932"></a>17932                         <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17933"></a>17933                           _TIFFfree(buf);
<a name="l17934"></a>17934                           TIFFClose(tif);
<a name="l17935"></a>17935                           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, error while reading a strip.&quot;</span>,
<a name="l17936"></a>17936                                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17937"></a>17937                         }
<a name="l17938"></a>17938                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> * ptr = buf;
<a name="l17939"></a>17939                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0;rr&lt;nrow;rr++)
<a name="l17940"></a>17940                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17941"></a>17941                             dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17942"></a>17942                       }
<a name="l17943"></a>17943                     _TIFFfree(buf);
<a name="l17944"></a>17944                   }
<a name="l17945"></a>17945                   <span class="keywordflow">break</span>;
<a name="l17946"></a>17946                 }
<a name="l17947"></a>17947                  <span class="keywordflow">case</span> 32:{
<a name="l17948"></a>17948                   <span class="keywordtype">float</span> *buf = (<span class="keywordtype">float</span> *)_TIFFmalloc(TIFFStripSize(tif));
<a name="l17949"></a>17949                   <span class="keywordflow">if</span> (buf) {
<a name="l17950"></a>17950                     uint32 row, rowsperstrip = (uint32)-1;
<a name="l17951"></a>17951                     TIFFGetField(tif,TIFFTAG_ROWSPERSTRIP,&amp;rowsperstrip);
<a name="l17952"></a>17952                     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;samplesperpixel;vv++)
<a name="l17953"></a>17953                       <span class="keywordflow">for</span> (row = 0; row&lt;ny; row+= rowsperstrip) {
<a name="l17954"></a>17954                         uint32 nrow = (row+rowsperstrip&gt;ny?ny-row:rowsperstrip);
<a name="l17955"></a>17955                         tstrip_t strip = TIFFComputeStrip(tif, row, vv);
<a name="l17956"></a>17956                         <span class="keywordflow">if</span> ((TIFFReadEncodedStrip(tif,strip,buf,-1))&lt;0) {
<a name="l17957"></a>17957                           _TIFFfree(buf);
<a name="l17958"></a>17958                           TIFFClose(tif);
<a name="l17959"></a>17959                           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, error while reading a strip.&quot;</span>,
<a name="l17960"></a>17960                                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17961"></a>17961                         }
<a name="l17962"></a>17962                         <span class="keywordtype">float</span> * ptr = buf;
<a name="l17963"></a>17963                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0;rr&lt;nrow;rr++)
<a name="l17964"></a>17964                           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;nx;cc++)
<a name="l17965"></a>17965                             dest(cc,row+rr,dir,vv)= (T)(<span class="keywordtype">float</span>)*(ptr++);
<a name="l17966"></a>17966                       }
<a name="l17967"></a>17967                     _TIFFfree(buf);
<a name="l17968"></a>17968                   }
<a name="l17969"></a>17969                   <span class="keywordflow">break</span>;
<a name="l17970"></a>17970                 }
<a name="l17971"></a>17971                 }
<a name="l17972"></a>17972               }
<a name="l17973"></a>17973             }
<a name="l17974"></a>17974           }
<a name="l17975"></a>17975           <span class="keywordflow">else</span> {
<a name="l17976"></a>17976             uint32* raster = (uint32*)_TIFFmalloc(nx * ny * <span class="keyword">sizeof</span> (uint32));
<a name="l17977"></a>17977             <span class="keywordflow">if</span> (!raster) {
<a name="l17978"></a>17978               _TIFFfree(raster);
<a name="l17979"></a>17979               TIFFClose(tif);
<a name="l17980"></a>17980               <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, not enough memory for buffer allocation.&quot;</span>,
<a name="l17981"></a>17981                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l17982"></a>17982             }
<a name="l17983"></a>17983             TIFFReadRGBAImage(tif,nx,ny,raster,0);
<a name="l17984"></a>17984             <span class="keywordflow">switch</span> (samplesperpixel){
<a name="l17985"></a>17985               <span class="keywordflow">case</span> 1:{
<a name="l17986"></a>17986               cimg_forXY(dest,x,y) dest(x,y,dir)=(T)(<span class="keywordtype">float</span>)((raster[nx*(ny-1-y)+x]+ 128) / 257);
<a name="l17987"></a>17987               <span class="keywordflow">break</span>;
<a name="l17988"></a>17988             }
<a name="l17989"></a>17989           <span class="keywordflow">case</span> 3:{
<a name="l17990"></a>17990             cimg_forXY(dest,x,y) {
<a name="l17991"></a>17991               dest(x,y,dir,0)=(T)(<span class="keywordtype">float</span>)TIFFGetR(raster[nx*(ny-1-y)+x]);
<a name="l17992"></a>17992               dest(x,y,dir,1)=(T)(<span class="keywordtype">float</span>)TIFFGetG(raster[nx*(ny-1-y)+x]);
<a name="l17993"></a>17993               dest(x,y,dir,2)=(T)(<span class="keywordtype">float</span>)TIFFGetB(raster[nx*(ny-1-y)+x]);
<a name="l17994"></a>17994               }
<a name="l17995"></a>17995             <span class="keywordflow">break</span>;
<a name="l17996"></a>17996           }
<a name="l17997"></a>17997           <span class="keywordflow">case</span> 4:{
<a name="l17998"></a>17998              cimg_forXY(dest,x,y) {
<a name="l17999"></a>17999               dest(x,y,dir,0)=(T)(<span class="keywordtype">float</span>)TIFFGetR(raster[nx*(ny-1-y)+x]);
<a name="l18000"></a>18000               dest(x,y,dir,1)=(T)(<span class="keywordtype">float</span>)TIFFGetG(raster[nx*(ny-1-y)+x]);
<a name="l18001"></a>18001               dest(x,y,dir,2)=(T)(<span class="keywordtype">float</span>)TIFFGetB(raster[nx*(ny-1-y)+x]);
<a name="l18002"></a>18002               dest(x,y,dir,3)=(T)(<span class="keywordtype">float</span>)TIFFGetA(raster[nx*(ny-1-y)+x]);
<a name="l18003"></a>18003               }
<a name="l18004"></a>18004              <span class="keywordflow">break</span>;
<a name="l18005"></a>18005           }
<a name="l18006"></a>18006           }
<a name="l18007"></a>18007             _TIFFfree(raster);
<a name="l18008"></a>18008           }
<a name="l18009"></a>18009           dir++;
<a name="l18010"></a>18010         } <span class="keywordflow">while</span> (TIFFReadDirectory(tif));
<a name="l18011"></a>18011         TIFFClose(tif);
<a name="l18012"></a>18012       } <span class="keywordflow">else</span>
<a name="l18013"></a>18013         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_tiff() : File &#39;%s&#39;, error while loading the image.&quot;</span>,
<a name="l18014"></a>18014                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l18015"></a>18015       <span class="keywordflow">return</span> dest;
<a name="l18016"></a>18016 <span class="preprocessor">#endif</span>
<a name="l18017"></a>18017 <span class="preprocessor"></span>    }
<a name="l18018"></a>18018 
<a name="l18020"></a><a class="code" href="structcimg__library_1_1_c_img.html#a40ba0c2da622edd20d4925d97c923cf4">18020</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a40ba0c2da622edd20d4925d97c923cf4" title="Load an image from a TIFF file.">load_tiff</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18021"></a>18021       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1e4248a31fd83a0eb2349926acb7c239" title="Load an image in TIFF format.">get_load_tiff</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18022"></a>18022     }
<a name="l18023"></a>18023 
<a name="l18025"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b">18025</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b" title="Load a file in JPEG format.">get_load_jpeg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l18026"></a>18026 <span class="preprocessor">#ifndef cimg_use_jpeg</span>
<a name="l18027"></a>18027 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (file)
<a name="l18028"></a>18028         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_jpeg() : File &#39;(FILE*)&#39; cannot be read without using libjpeg.&quot;</span>,
<a name="l18029"></a>18029                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18030"></a>18030       <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l18031"></a>18031 <span class="preprocessor">#else</span>
<a name="l18032"></a>18032 <span class="preprocessor"></span>      <span class="keyword">struct </span>jpeg_decompress_struct cinfo;
<a name="l18033"></a>18033       <span class="keyword">struct </span>jpeg_error_mgr jerr;
<a name="l18034"></a>18034       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18035"></a>18035 
<a name="l18036"></a>18036       cinfo.err = jpeg_std_error(&amp;jerr);
<a name="l18037"></a>18037       jpeg_create_decompress(&amp;cinfo);
<a name="l18038"></a>18038       jpeg_stdio_src(&amp;cinfo,nfile);
<a name="l18039"></a>18039       jpeg_read_header(&amp;cinfo,TRUE);
<a name="l18040"></a>18040       jpeg_start_decompress(&amp;cinfo);
<a name="l18041"></a>18041 
<a name="l18042"></a>18042       <span class="keywordflow">if</span> (cinfo.output_components!=1 &amp;&amp; cinfo.output_components!=3 &amp;&amp; cinfo.output_components!=4) {
<a name="l18043"></a>18043         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_jpeg() : Don&#39;t know how to read image &#39;%s&#39; with libpeg, trying ImageMagick&#39;s convert&quot;</span>,
<a name="l18044"></a>18044                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l18045"></a>18045         <span class="keywordflow">if</span> (!file) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename);
<a name="l18046"></a>18046         <span class="keywordflow">else</span> {
<a name="l18047"></a>18047           <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18048"></a>18048           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_jpeg() : Cannot read JPEG image &#39;%s&#39; using a *FILE input.&quot;</span>,
<a name="l18049"></a>18049                                 <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l18050"></a>18050         }
<a name="l18051"></a>18051       }
<a name="l18052"></a>18052 
<a name="l18053"></a>18053       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_stride = cinfo.output_width * cinfo.output_components;
<a name="l18054"></a>18054       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[cinfo.output_width*cinfo.output_height*cinfo.output_components], *buf2 = buf;
<a name="l18055"></a>18055       JSAMPROW row_pointer[1];
<a name="l18056"></a>18056       <span class="keywordflow">while</span> (cinfo.output_scanline &lt; cinfo.output_height) {
<a name="l18057"></a>18057         row_pointer[0] = &amp;buf[cinfo.output_scanline*row_stride];
<a name="l18058"></a>18058         jpeg_read_scanlines(&amp;cinfo,row_pointer,1);
<a name="l18059"></a>18059       }
<a name="l18060"></a>18060       jpeg_finish_decompress(&amp;cinfo);
<a name="l18061"></a>18061       jpeg_destroy_decompress(&amp;cinfo);
<a name="l18062"></a>18062       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18063"></a>18063 
<a name="l18064"></a>18064       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> dest(cinfo.output_width,cinfo.output_height,1,cinfo.output_components);
<a name="l18065"></a>18065       <span class="keywordflow">switch</span> (dest.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>) {
<a name="l18066"></a>18066       <span class="keywordflow">case</span> 1: {
<a name="l18067"></a>18067         T *ptr_g = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18068"></a>18068         cimg_forXY(dest,x,y) *(ptr_g++) = (T)*(buf2++);
<a name="l18069"></a>18069       } <span class="keywordflow">break</span>;
<a name="l18070"></a>18070       <span class="keywordflow">case</span> 3: {
<a name="l18071"></a>18071         T *ptr_r = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *ptr_g = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *ptr_b = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l18072"></a>18072         cimg_forXY(dest,x,y) {
<a name="l18073"></a>18073           *(ptr_r++) = (T)*(buf2++);
<a name="l18074"></a>18074           *(ptr_g++) = (T)*(buf2++);
<a name="l18075"></a>18075           *(ptr_b++) = (T)*(buf2++);
<a name="l18076"></a>18076         }
<a name="l18077"></a>18077       } <span class="keywordflow">break</span>;
<a name="l18078"></a>18078       <span class="keywordflow">case</span> 4: {
<a name="l18079"></a>18079         T *ptr_r = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *ptr_g = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1),
<a name="l18080"></a>18080           *ptr_b = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2), *ptr_a = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l18081"></a>18081         cimg_forXY(dest,x,y) {
<a name="l18082"></a>18082           *(ptr_r++) = (T)*(buf2++);
<a name="l18083"></a>18083           *(ptr_g++) = (T)*(buf2++);
<a name="l18084"></a>18084           *(ptr_b++) = (T)*(buf2++);
<a name="l18085"></a>18085           *(ptr_a++) = (T)*(buf2++);
<a name="l18086"></a>18086         }
<a name="l18087"></a>18087       } <span class="keywordflow">break</span>;
<a name="l18088"></a>18088       }
<a name="l18089"></a>18089       <span class="keyword">delete</span>[] buf;
<a name="l18090"></a>18090       <span class="keywordflow">return</span> dest;
<a name="l18091"></a>18091 <span class="preprocessor">#endif</span>
<a name="l18092"></a>18092 <span class="preprocessor"></span>    }
<a name="l18093"></a>18093 
<a name="l18095"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0face6e46c3e4d1fdb26865f743504eb">18095</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a0face6e46c3e4d1fdb26865f743504eb" title="Load an image from a JPEG file.">get_load_jpeg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18096"></a>18096       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b" title="Load a file in JPEG format.">get_load_jpeg</a>(0,filename);
<a name="l18097"></a>18097     }
<a name="l18098"></a>18098 
<a name="l18100"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3532440be1bc9e5d560a8a4bc5bb8b98">18100</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3532440be1bc9e5d560a8a4bc5bb8b98" title="Load an image from a JPEG file.">load_jpeg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l18101"></a>18101       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b" title="Load a file in JPEG format.">get_load_jpeg</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l18102"></a>18102     }
<a name="l18103"></a>18103 
<a name="l18105"></a><a class="code" href="structcimg__library_1_1_c_img.html#aace8a1932b7d3ad6216f1dbf23a310f9">18105</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aace8a1932b7d3ad6216f1dbf23a310f9" title="Load an image from a JPEG file.">load_jpeg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18106"></a>18106       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4582de9e3170ce981f33124eb3e5a93b" title="Load a file in JPEG format.">get_load_jpeg</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18107"></a>18107     }
<a name="l18108"></a>18108 
<a name="l18110"></a>18110 
<a name="l18114"></a><a class="code" href="structcimg__library_1_1_c_img.html#a263aadb8d074a96e73f67908853ef501">18114</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a263aadb8d074a96e73f67908853ef501" title="Load an image using builtin ImageMagick++ Library.">get_load_magick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18115"></a>18115       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest;
<a name="l18116"></a>18116 <span class="preprocessor">#ifdef cimg_use_magick</span>
<a name="l18117"></a>18117 <span class="preprocessor"></span>      Magick::Image image(filename);
<a name="l18118"></a>18118       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = image.size().width(), <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = image.size().height();
<a name="l18119"></a>18119       <span class="keywordflow">switch</span> (image.type()) {
<a name="l18120"></a>18120       <span class="keywordflow">case</span> Magick::PaletteMatteType:
<a name="l18121"></a>18121       <span class="keywordflow">case</span> Magick::TrueColorMatteType:
<a name="l18122"></a>18122       <span class="keywordflow">case</span> Magick::ColorSeparationType: {
<a name="l18123"></a>18123         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,4);
<a name="l18124"></a>18124         T *rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *bdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2), *adata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l18125"></a>18125         Magick::PixelPacket *pixels = image.getPixels(0,0,width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l18126"></a>18126         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = width*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l18127"></a>18127           *(rdata++) = (T)(pixels-&gt;red);
<a name="l18128"></a>18128           *(gdata++) = (T)(pixels-&gt;green);
<a name="l18129"></a>18129           *(bdata++) = (T)(pixels-&gt;blue);
<a name="l18130"></a>18130           *(adata++) = (T)(pixels-&gt;opacity);
<a name="l18131"></a>18131           pixels++;
<a name="l18132"></a>18132         }
<a name="l18133"></a>18133       } <span class="keywordflow">break</span>;
<a name="l18134"></a>18134       <span class="keywordflow">case</span> Magick::PaletteType:
<a name="l18135"></a>18135       <span class="keywordflow">case</span> Magick::TrueColorType: {
<a name="l18136"></a>18136         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,3);
<a name="l18137"></a>18137         T *rdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *bdata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l18138"></a>18138         Magick::PixelPacket *pixels = image.getPixels(0,0,width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l18139"></a>18139         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = width*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l18140"></a>18140           *(rdata++) = (T)(pixels-&gt;red);
<a name="l18141"></a>18141           *(gdata++) = (T)(pixels-&gt;green);
<a name="l18142"></a>18142           *(bdata++) = (T)(pixels-&gt;blue);
<a name="l18143"></a>18143           pixels++;
<a name="l18144"></a>18144         }
<a name="l18145"></a>18145       } <span class="keywordflow">break</span>;
<a name="l18146"></a>18146       <span class="keywordflow">case</span> Magick::GrayscaleMatteType: {
<a name="l18147"></a>18147         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,2);
<a name="l18148"></a>18148         T *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *adata = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l18149"></a>18149         Magick::PixelPacket *pixels = image.getPixels(0,0,width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l18150"></a>18150         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = width*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l18151"></a>18151           *(data++) = (T)(pixels-&gt;red);
<a name="l18152"></a>18152           *(adata++) = (T)(pixels-&gt;opacity);
<a name="l18153"></a>18153           pixels++;
<a name="l18154"></a>18154         }
<a name="l18155"></a>18155       } <span class="keywordflow">break</span>;
<a name="l18156"></a>18156       <span class="keywordflow">default</span>: {
<a name="l18157"></a>18157         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,1);
<a name="l18158"></a>18158         T *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0);
<a name="l18159"></a>18159         Magick::PixelPacket *pixels = image.getPixels(0,0,width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l18160"></a>18160         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = width*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off; --off) {
<a name="l18161"></a>18161           *(data++) = (T)(pixels-&gt;red);
<a name="l18162"></a>18162           pixels++;
<a name="l18163"></a>18163         }
<a name="l18164"></a>18164       } <span class="keywordflow">break</span>;
<a name="l18165"></a>18165       }
<a name="l18166"></a>18166       <span class="keywordflow">return</span> dest;
<a name="l18167"></a>18167 <span class="preprocessor">#else</span>
<a name="l18168"></a>18168 <span class="preprocessor"></span>      <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_magick() : File &#39;%s&#39;, Magick++ has not been linked during compilation.&quot;</span>,
<a name="l18169"></a>18169                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(null)&quot;</span>);
<a name="l18170"></a>18170       <span class="keywordflow">return</span> dest;
<a name="l18171"></a>18171 <span class="preprocessor">#endif</span>
<a name="l18172"></a>18172 <span class="preprocessor"></span>    }
<a name="l18173"></a>18173 
<a name="l18175"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad0b95dce78785d8bdd436eaf482356d0">18175</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad0b95dce78785d8bdd436eaf482356d0" title="Load an image using builtin ImageMagick++ Library (in-place version).">load_magick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18176"></a>18176       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a263aadb8d074a96e73f67908853ef501" title="Load an image using builtin ImageMagick++ Library.">get_load_magick</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18177"></a>18177     }
<a name="l18178"></a>18178 
<a name="l18180"></a><a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70">18180</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70" title="Load an image from a RAW file.">get_load_raw</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l18181"></a>18181                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l18182"></a>18182                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizez=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizev=1,
<a name="l18183"></a>18183                              <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed=<span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> endian_swap=<span class="keyword">false</span>) {
<a name="l18184"></a>18184       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(sizex,sizey,sizez,sizev,0);
<a name="l18185"></a>18185       <span class="keywordflow">if</span> (res.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> res;
<a name="l18186"></a>18186 
<a name="l18187"></a>18187       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18188"></a>18188       <span class="keywordflow">if</span> (!multiplexed) {
<a name="l18189"></a>18189         cimg::fread(res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),res.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18190"></a>18190         <span class="keywordflow">if</span> (endian_swap) cimg::endian_swap(res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),res.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18191"></a>18191       }
<a name="l18192"></a>18192       <span class="keywordflow">else</span> {
<a name="l18193"></a>18193         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> buf(1,1,1,sizev);
<a name="l18194"></a>18194         cimg_forXYZ(res,x,y,z) {
<a name="l18195"></a>18195           cimg::fread(buf.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),sizev,nfile);
<a name="l18196"></a>18196           <span class="keywordflow">if</span> (endian_swap) cimg::endian_swap(buf.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),sizev);
<a name="l18197"></a>18197           res.<a class="code" href="structcimg__library_1_1_c_img.html#a99a89479f6cb8fb4e8e377f71627ba40" title="Set the image vec as the vector valued pixel located at (x,y,z) of the current vector-valued image...">set_vector_at</a>(buf,x,y,z); }
<a name="l18198"></a>18198       }
<a name="l18199"></a>18199       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18200"></a>18200       <span class="keywordflow">return</span> res;
<a name="l18201"></a>18201     }
<a name="l18202"></a>18202 
<a name="l18204"></a><a class="code" href="structcimg__library_1_1_c_img.html#a100f650f6012a82cb8818230da99e6e2">18204</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70" title="Load an image from a RAW file.">get_load_raw</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l18205"></a>18205                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l18206"></a>18206                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizez=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizev=1,
<a name="l18207"></a>18207                              <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed = <span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> endian_swap = <span class="keyword">false</span>) {
<a name="l18208"></a>18208       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70" title="Load an image from a RAW file.">get_load_raw</a>(0,filename,sizex,sizey,sizez,sizev,multiplexed,endian_swap);
<a name="l18209"></a>18209     }
<a name="l18210"></a>18210 
<a name="l18212"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac18432a55ad280d361ee1c01f6b09e12">18212</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac18432a55ad280d361ee1c01f6b09e12" title="In-place version of get_load_raw().">load_raw</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l18213"></a>18213                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l18214"></a>18214                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizez=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizev=1,
<a name="l18215"></a>18215                    <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed = <span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> endian_swap = <span class="keyword">false</span>) {
<a name="l18216"></a>18216       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70" title="Load an image from a RAW file.">get_load_raw</a>(file,filename,sizex,sizey,sizez,sizev,multiplexed,endian_swap).swap(*<span class="keyword">this</span>);
<a name="l18217"></a>18217     }
<a name="l18218"></a>18218 
<a name="l18220"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0171ebf5428cdeb65d0cf5bdc38d4aef">18220</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac18432a55ad280d361ee1c01f6b09e12" title="In-place version of get_load_raw().">load_raw</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l18221"></a>18221                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l18222"></a>18222                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizez=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizev=1,
<a name="l18223"></a>18223                    <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed = <span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> endian_swap = <span class="keyword">false</span>) {
<a name="l18224"></a>18224       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a980e8f9a7706398cfca97eca26b97a70" title="Load an image from a RAW file.">get_load_raw</a>(filename,sizex,sizey,sizez,sizev,multiplexed,endian_swap).swap(*<span class="keyword">this</span>);
<a name="l18225"></a>18225     }
<a name="l18226"></a>18226 
<a name="l18228"></a><a class="code" href="structcimg__library_1_1_c_img.html#aed4dc2820c667c07afcc3e362c23c117">18228</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aed4dc2820c667c07afcc3e362c23c117" title="Load an image from a RGBA file.">get_load_rgba</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18229"></a>18229       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18230"></a>18230       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[dimw*dimh*4];
<a name="l18231"></a>18231       cimg::fread(buffer,dimw*dimh*4,nfile);
<a name="l18232"></a>18232       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18233"></a>18233       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(dimw,dimh,1,4);
<a name="l18234"></a>18234       T *pR = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *pG = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *pB = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2), *pA = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l18235"></a>18235       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = buffer;
<a name="l18236"></a>18236       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off=res.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off&gt;0; --off) {
<a name="l18237"></a>18237         *(pR++) = (T)*(ptrs++);
<a name="l18238"></a>18238         *(pG++) = (T)*(ptrs++);
<a name="l18239"></a>18239         *(pB++) = (T)*(ptrs++);
<a name="l18240"></a>18240         *(pA++) = (T)*(ptrs++);
<a name="l18241"></a>18241       }
<a name="l18242"></a>18242       <span class="keyword">delete</span>[] buffer;
<a name="l18243"></a>18243       <span class="keywordflow">return</span> res;
<a name="l18244"></a>18244     }
<a name="l18245"></a>18245 
<a name="l18247"></a><a class="code" href="structcimg__library_1_1_c_img.html#af78faae6e19f0a6753bd402f7c17e990">18247</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#af78faae6e19f0a6753bd402f7c17e990" title="Load an image from a RGBA file.">get_load_rgba</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18248"></a>18248       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed4dc2820c667c07afcc3e362c23c117" title="Load an image from a RGBA file.">get_load_rgba</a>(0,filename,dimw,dimh);
<a name="l18249"></a>18249     }
<a name="l18250"></a>18250 
<a name="l18252"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9e2cf5e1fef554bb0cff540e683662f3">18252</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9e2cf5e1fef554bb0cff540e683662f3" title="In-place version of get_load_rgba().">load_rgba</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18253"></a>18253       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed4dc2820c667c07afcc3e362c23c117" title="Load an image from a RGBA file.">get_load_rgba</a>(file, filename,dimw,dimh).swap(*<span class="keyword">this</span>);
<a name="l18254"></a>18254     }
<a name="l18255"></a>18255 
<a name="l18257"></a><a class="code" href="structcimg__library_1_1_c_img.html#a541f2384cc851c5fb5777d173ac9fb47">18257</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a541f2384cc851c5fb5777d173ac9fb47" title="In-place version of get_load_rgba().">load_rgba</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18258"></a>18258       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed4dc2820c667c07afcc3e362c23c117" title="Load an image from a RGBA file.">get_load_rgba</a>(filename,dimw,dimh).swap(*<span class="keyword">this</span>);
<a name="l18259"></a>18259     }
<a name="l18260"></a>18260 
<a name="l18262"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2f381d7d76854210ea6dff9db18c7f79">18262</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2f381d7d76854210ea6dff9db18c7f79" title="Load an image from a RGB file.">get_load_rgb</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18263"></a>18263       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18264"></a>18264       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[dimw*dimh*3];
<a name="l18265"></a>18265       cimg::fread(buffer,dimw*dimh*3,nfile);
<a name="l18266"></a>18266       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18267"></a>18267       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> res(dimw,dimh,1,3);
<a name="l18268"></a>18268       T *pR = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *pG = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *pB=res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l18269"></a>18269       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = buffer;
<a name="l18270"></a>18270       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off=res.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; off&gt;0; --off) {
<a name="l18271"></a>18271         *(pR++) = (T)*(ptrs++);
<a name="l18272"></a>18272         *(pG++) = (T)*(ptrs++);
<a name="l18273"></a>18273         *(pB++) = (T)*(ptrs++);
<a name="l18274"></a>18274       }
<a name="l18275"></a>18275       <span class="keyword">delete</span>[] buffer;
<a name="l18276"></a>18276       <span class="keywordflow">return</span> res;
<a name="l18277"></a>18277     }
<a name="l18278"></a>18278 
<a name="l18280"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab1cd5934d4bde1ab9988670d1a78b06e">18280</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab1cd5934d4bde1ab9988670d1a78b06e" title="Load an image from a RGB file.">get_load_rgb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18281"></a>18281       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2f381d7d76854210ea6dff9db18c7f79" title="Load an image from a RGB file.">get_load_rgb</a>(0,filename,dimw,dimh);
<a name="l18282"></a>18282     }
<a name="l18283"></a>18283 
<a name="l18285"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8af2bb2b31a1ccaf8b73f7cce7c37709">18285</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8af2bb2b31a1ccaf8b73f7cce7c37709" title="In-place version of get_load_rgb().">load_rgb</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18286"></a>18286       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2f381d7d76854210ea6dff9db18c7f79" title="Load an image from a RGB file.">get_load_rgb</a>(file, filename,dimw,dimh).swap(*<span class="keyword">this</span>);
<a name="l18287"></a>18287     }
<a name="l18288"></a>18288 
<a name="l18290"></a><a class="code" href="structcimg__library_1_1_c_img.html#a830febfc2298d7a33503b77a7efcde59">18290</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a830febfc2298d7a33503b77a7efcde59" title="In-place version of get_load_rgb().">load_rgb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimw, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimh) {
<a name="l18291"></a>18291       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2f381d7d76854210ea6dff9db18c7f79" title="Load an image from a RGB file.">get_load_rgb</a>(filename,dimw,dimh).swap(*<span class="keyword">this</span>);
<a name="l18292"></a>18292     }
<a name="l18293"></a>18293 
<a name="l18294"></a>18294 <span class="preprocessor">#define cimg_load_inr_case(Tf,sign,pixsize,Ts) \</span>
<a name="l18295"></a>18295 <span class="preprocessor">  if (!loaded &amp;&amp; fopt[6]==pixsize &amp;&amp; fopt[4]==Tf &amp;&amp; fopt[5]==sign) { \</span>
<a name="l18296"></a>18296 <span class="preprocessor">      Ts *xval, *val = new Ts[fopt[0]*fopt[3]]; \</span>
<a name="l18297"></a>18297 <span class="preprocessor">      cimg_forYZ(dest,y,z) { \</span>
<a name="l18298"></a>18298 <span class="preprocessor">          cimg::fread(val,fopt[0]*fopt[3],nfile); \</span>
<a name="l18299"></a>18299 <span class="preprocessor">          if (fopt[7]!=endian) cimg::endian_swap(val,fopt[0]*fopt[3]); \</span>
<a name="l18300"></a>18300 <span class="preprocessor">          xval = val; cimg_forX(dest,x) cimg_forV(dest,k) \</span>
<a name="l18301"></a>18301 <span class="preprocessor">                          dest(x,y,z,k) = (T)*(xval++); \</span>
<a name="l18302"></a>18302 <span class="preprocessor">        } \</span>
<a name="l18303"></a>18303 <span class="preprocessor">      delete[] val; \</span>
<a name="l18304"></a>18304 <span class="preprocessor">      loaded = true; \</span>
<a name="l18305"></a>18305 <span class="preprocessor">    }</span>
<a name="l18306"></a>18306 <span class="preprocessor"></span>
<a name="l18307"></a>18307     <span class="keyword">static</span> <span class="keywordtype">void</span> _load_inr(std::FILE *file, <span class="keywordtype">int</span> out[8], <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0) {
<a name="l18308"></a>18308       <span class="keywordtype">char</span> item[1024],tmp1[64],tmp2[64];
<a name="l18309"></a>18309       out[0]=out[1]=out[2]=out[3]=out[5]=1; out[4]=out[6]=out[7]=-1;
<a name="l18310"></a>18310       std::fscanf(file,<span class="stringliteral">&quot;%63s&quot;</span>,item);
<a name="l18311"></a>18311       <span class="keywordflow">if</span>(cimg::strncasecmp(item,<span class="stringliteral">&quot;#INRIMAGE-4#{&quot;</span>,13)!=0)
<a name="l18312"></a>18312         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : File does not appear to be a valid INR file.\n&quot;</span>
<a name="l18313"></a>18313                               <span class="stringliteral">&quot;(INRIMAGE-4 identifier not found)&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18314"></a>18314       <span class="keywordflow">while</span> (std::fscanf(file,<span class="stringliteral">&quot; %63[^\n]%*c&quot;</span>,item)!=EOF &amp;&amp; cimg::strncmp(item,<span class="stringliteral">&quot;##}&quot;</span>,3)) {
<a name="l18315"></a>18315         std::sscanf(item,<span class="stringliteral">&quot; XDIM%*[^0-9]%d&quot;</span>,out);
<a name="l18316"></a>18316         std::sscanf(item,<span class="stringliteral">&quot; YDIM%*[^0-9]%d&quot;</span>,out+1);
<a name="l18317"></a>18317         std::sscanf(item,<span class="stringliteral">&quot; ZDIM%*[^0-9]%d&quot;</span>,out+2);
<a name="l18318"></a>18318         std::sscanf(item,<span class="stringliteral">&quot; VDIM%*[^0-9]%d&quot;</span>,out+3);
<a name="l18319"></a>18319         std::sscanf(item,<span class="stringliteral">&quot; PIXSIZE%*[^0-9]%d&quot;</span>,out+6);
<a name="l18320"></a>18320         <span class="keywordflow">if</span> (voxsize) {
<a name="l18321"></a>18321           std::sscanf(item,<span class="stringliteral">&quot; VX%*[^0-9.eE+-]%f&quot;</span>,voxsize);
<a name="l18322"></a>18322           std::sscanf(item,<span class="stringliteral">&quot; VY%*[^0-9.eE+-]%f&quot;</span>,voxsize+1);
<a name="l18323"></a>18323           std::sscanf(item,<span class="stringliteral">&quot; VZ%*[^0-9.eE+-]%f&quot;</span>,voxsize+2);
<a name="l18324"></a>18324         }
<a name="l18325"></a>18325         <span class="keywordflow">if</span> (std::sscanf(item,<span class="stringliteral">&quot; CPU%*[ =]%s&quot;</span>,tmp1)) out[7]=cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;sun&quot;</span>,3)?0:1;
<a name="l18326"></a>18326         <span class="keywordflow">switch</span>(std::sscanf(item,<span class="stringliteral">&quot; TYPE%*[ =]%s %s&quot;</span>,tmp1,tmp2)) {
<a name="l18327"></a>18327         <span class="keywordflow">case</span> 0: <span class="keywordflow">break</span>;
<a name="l18328"></a>18328         <span class="keywordflow">case</span> 2: out[5] = cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;unsigned&quot;</span>,8)?1:0; std::strcpy(tmp1,tmp2);
<a name="l18329"></a>18329         <span class="keywordflow">case</span> 1:
<a name="l18330"></a>18330           <span class="keywordflow">if</span> (!cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;int&quot;</span>,3)   || !cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;fixed&quot;</span>,5))  out[4]=0;
<a name="l18331"></a>18331           <span class="keywordflow">if</span> (!cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;float&quot;</span>,5) || !cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;double&quot;</span>,6)) out[4]=1;
<a name="l18332"></a>18332           <span class="keywordflow">if</span> (!cimg::strncasecmp(tmp1,<span class="stringliteral">&quot;packed&quot;</span>,6))                                       out[4]=2;
<a name="l18333"></a>18333           <span class="keywordflow">if</span> (out[4]&gt;=0) <span class="keywordflow">break</span>;
<a name="l18334"></a>18334         <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;cimg::inr_header_read() : Invalid TYPE &#39;%s&#39;&quot;</span>,tmp2);
<a name="l18335"></a>18335         }
<a name="l18336"></a>18336       }
<a name="l18337"></a>18337       <span class="keywordflow">if</span>(out[0]&lt;0 || out[1]&lt;0 || out[2]&lt;0 || out[3]&lt;0)
<a name="l18338"></a>18338         <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : Bad dimensions in .inr file = ( %d , %d , %d , %d )&quot;</span>,
<a name="l18339"></a>18339                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),out[0],out[1],out[2],out[3]);
<a name="l18340"></a>18340       <span class="keywordflow">if</span>(out[4]&lt;0 || out[5]&lt;0) <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : TYPE is not fully defined&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18341"></a>18341       <span class="keywordflow">if</span>(out[6]&lt;0) <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : PIXSIZE is not fully defined&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18342"></a>18342       <span class="keywordflow">if</span>(out[7]&lt;0) <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : Big/Little Endian coding type is not defined&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18343"></a>18343     }
<a name="l18344"></a>18344 
<a name="l18346"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd">18346</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keywordtype">float</span> *voxsize=0) {
<a name="l18347"></a>18347       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18348"></a>18348       <span class="keywordtype">int</span> fopt[8], endian=<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()?1:0;
<a name="l18349"></a>18349       <span class="keywordtype">bool</span> loaded = <span class="keyword">false</span>;
<a name="l18350"></a>18350       <span class="keywordflow">if</span> (voxsize) voxsize[0]=voxsize[1]=voxsize[2]=1;
<a name="l18351"></a>18351       _load_inr(nfile,fopt,voxsize);
<a name="l18352"></a>18352       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> dest(fopt[0],fopt[1],fopt[2],fopt[3]);
<a name="l18353"></a>18353       cimg_load_inr_case(0,0,8, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>);
<a name="l18354"></a>18354       cimg_load_inr_case(0,1,8, <span class="keywordtype">char</span>);
<a name="l18355"></a>18355       cimg_load_inr_case(0,0,16,<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>);
<a name="l18356"></a>18356       cimg_load_inr_case(0,1,16,<span class="keywordtype">short</span>);
<a name="l18357"></a>18357       cimg_load_inr_case(0,0,32,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);
<a name="l18358"></a>18358       cimg_load_inr_case(0,1,32,<span class="keywordtype">int</span>);
<a name="l18359"></a>18359       cimg_load_inr_case(1,0,32,<span class="keywordtype">float</span>);
<a name="l18360"></a>18360       cimg_load_inr_case(1,1,32,<span class="keywordtype">float</span>);
<a name="l18361"></a>18361       cimg_load_inr_case(1,0,64,<span class="keywordtype">double</span>);
<a name="l18362"></a>18362       cimg_load_inr_case(1,1,64,<span class="keywordtype">double</span>);
<a name="l18363"></a>18363       <span class="keywordflow">if</span> (!loaded) {
<a name="l18364"></a>18364         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18365"></a>18365         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_inr() : File &#39;%s&#39;, cannot read images of the type specified in the file&quot;</span>,
<a name="l18366"></a>18366                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l18367"></a>18367       }
<a name="l18368"></a>18368       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18369"></a>18369       <span class="keywordflow">return</span> dest;
<a name="l18370"></a>18370     }
<a name="l18371"></a>18371 
<a name="l18373"></a><a class="code" href="structcimg__library_1_1_c_img.html#adc7ab95da200f83819a5b87a0b6174b5">18373</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#adc7ab95da200f83819a5b87a0b6174b5" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0) {
<a name="l18374"></a>18374       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(0,filename,voxsize);
<a name="l18375"></a>18375     }
<a name="l18376"></a>18376 
<a name="l18378"></a><a class="code" href="structcimg__library_1_1_c_img.html#aea6912707c7840909881ab1e58c5878f">18378</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aea6912707c7840909881ab1e58c5878f" title="In-place version of get_load_inr().">load_inr</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0) {
<a name="l18379"></a>18379       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(file,filename,voxsize).swap(*<span class="keyword">this</span>);
<a name="l18380"></a>18380     }
<a name="l18381"></a>18381 
<a name="l18383"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1b81aaede8c8ef2bb5b5cfa10c80ef22">18383</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1b81aaede8c8ef2bb5b5cfa10c80ef22" title="In-place version of get_load_inr().">load_inr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0) {
<a name="l18384"></a>18384       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2c9ffc08d42b4756e03ef534f2a107bd" title="Load an image from an INRIMAGE-4 file.">get_load_inr</a>(filename,voxsize).swap(*<span class="keyword">this</span>);
<a name="l18385"></a>18385     }
<a name="l18386"></a>18386 
<a name="l18387"></a>18387 <span class="preprocessor">#define cimg_load_pandore_case(nid,nbdim,nwidth,nheight,ndepth,ndim,stype) \</span>
<a name="l18388"></a>18388 <span class="preprocessor">  case nid: { \</span>
<a name="l18389"></a>18389 <span class="preprocessor">    cimg::fread(dims,nbdim,nfile); \</span>
<a name="l18390"></a>18390 <span class="preprocessor">    if (endian) cimg::endian_swap(dims,nbdim); \</span>
<a name="l18391"></a>18391 <span class="preprocessor">    dest.assign(nwidth,nheight,ndepth,ndim); \</span>
<a name="l18392"></a>18392 <span class="preprocessor">    stype *buffer = new stype[dest.size()]; \</span>
<a name="l18393"></a>18393 <span class="preprocessor">    cimg::fread(buffer,dest.size(),nfile); \</span>
<a name="l18394"></a>18394 <span class="preprocessor">    if (endian) cimg::endian_swap(buffer,dest.size()); \</span>
<a name="l18395"></a>18395 <span class="preprocessor">    T *ptrd = dest.ptr(); \</span>
<a name="l18396"></a>18396 <span class="preprocessor">    cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++); \</span>
<a name="l18397"></a>18397 <span class="preprocessor">    buffer-=dest.size(); \</span>
<a name="l18398"></a>18398 <span class="preprocessor">    delete[] buffer; \</span>
<a name="l18399"></a>18399 <span class="preprocessor">   } \</span>
<a name="l18400"></a>18400 <span class="preprocessor">   break;</span>
<a name="l18401"></a>18401 <span class="preprocessor"></span>
<a name="l18403"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50">18403</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l18404"></a>18404       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18405"></a>18405       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uchar;
<a name="l18406"></a>18406       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ushort;
<a name="l18407"></a>18407       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uint;
<a name="l18408"></a>18408       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ulong;
<a name="l18409"></a>18409       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest;
<a name="l18410"></a>18410       <span class="keywordtype">char</span> tmp[32];
<a name="l18411"></a>18411       cimg::fread(tmp,12,nfile);
<a name="l18412"></a>18412       <span class="keywordflow">if</span> (cimg::strncasecmp(<span class="stringliteral">&quot;PANDORE&quot;</span>,tmp,7)) {
<a name="l18413"></a>18413         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18414"></a>18414         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pandore() : File &#39;%s&#39; is not a valid PANDORE file.\n&quot;</span>
<a name="l18415"></a>18415                               <span class="stringliteral">&quot;(PANDORE identifier not found).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l18416"></a>18416       }
<a name="l18417"></a>18417       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> imageid,dims[8];
<a name="l18418"></a>18418       <span class="keywordtype">int</span> ptbuf[4];
<a name="l18419"></a>18419       cimg::fread(&amp;imageid,1,nfile);
<a name="l18420"></a>18420       <span class="keyword">const</span> <span class="keywordtype">bool</span> endian = (imageid&gt;255);
<a name="l18421"></a>18421       <span class="keywordflow">if</span> (endian) cimg::endian_swap(imageid);
<a name="l18422"></a>18422 
<a name="l18423"></a>18423       cimg::fread(tmp,20,nfile);
<a name="l18424"></a>18424       <span class="keywordflow">switch</span> (imageid) {
<a name="l18425"></a>18425         cimg_load_pandore_case(2,2,dims[1],1,1,1,uchar);
<a name="l18426"></a>18426         cimg_load_pandore_case(3,2,dims[1],1,1,1,<span class="keywordtype">long</span>);
<a name="l18427"></a>18427         cimg_load_pandore_case(4,2,dims[1],1,1,1,<span class="keywordtype">float</span>);
<a name="l18428"></a>18428         cimg_load_pandore_case(5,3,dims[2],dims[1],1,1,uchar);
<a name="l18429"></a>18429         cimg_load_pandore_case(6,3,dims[2],dims[1],1,1,<span class="keywordtype">long</span>);
<a name="l18430"></a>18430         cimg_load_pandore_case(7,3,dims[2],dims[1],1,1,<span class="keywordtype">float</span>);
<a name="l18431"></a>18431         cimg_load_pandore_case(8,4,dims[3],dims[2],dims[1],1,uchar);
<a name="l18432"></a>18432         cimg_load_pandore_case(9,4,dims[3],dims[2],dims[1],1,<span class="keywordtype">long</span>);
<a name="l18433"></a>18433         cimg_load_pandore_case(10,4,dims[3],dims[2],dims[1],1,<span class="keywordtype">float</span>);
<a name="l18434"></a>18434 
<a name="l18435"></a>18435       <span class="keywordflow">case</span> 11: { <span class="comment">// Region 1D</span>
<a name="l18436"></a>18436         cimg::fread(dims,3,nfile);
<a name="l18437"></a>18437         <span class="keywordflow">if</span> (endian) cimg::endian_swap(dims,3);
<a name="l18438"></a>18438         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dims[1],1,1,1);
<a name="l18439"></a>18439         <span class="keywordflow">if</span> (dims[2]&lt;256) {
<a name="l18440"></a>18440           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18441"></a>18441           cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18442"></a>18442           T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18443"></a>18443           cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18444"></a>18444           buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18445"></a>18445           <span class="keyword">delete</span>[] buffer;
<a name="l18446"></a>18446         } <span class="keywordflow">else</span> {
<a name="l18447"></a>18447           <span class="keywordflow">if</span> (dims[2]&lt;65536) {
<a name="l18448"></a>18448             <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18449"></a>18449             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18450"></a>18450             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18451"></a>18451             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18452"></a>18452             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18453"></a>18453             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18454"></a>18454             <span class="keyword">delete</span>[] buffer;
<a name="l18455"></a>18455           } <span class="keywordflow">else</span> {
<a name="l18456"></a>18456             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18457"></a>18457             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18458"></a>18458             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18459"></a>18459             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18460"></a>18460             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18461"></a>18461             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18462"></a>18462             <span class="keyword">delete</span>[] buffer;
<a name="l18463"></a>18463           }
<a name="l18464"></a>18464         }
<a name="l18465"></a>18465       }
<a name="l18466"></a>18466         <span class="keywordflow">break</span>;
<a name="l18467"></a>18467       <span class="keywordflow">case</span> 12: { <span class="comment">// Region 2D</span>
<a name="l18468"></a>18468         cimg::fread(dims,4,nfile);
<a name="l18469"></a>18469         <span class="keywordflow">if</span> (endian) cimg::endian_swap(dims,4);
<a name="l18470"></a>18470         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dims[2],dims[1],1,1);
<a name="l18471"></a>18471         <span class="keywordflow">if</span> (dims[3]&lt;256) {
<a name="l18472"></a>18472           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18473"></a>18473           cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18474"></a>18474           T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18475"></a>18475           cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18476"></a>18476           buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18477"></a>18477           <span class="keyword">delete</span>[] buffer;
<a name="l18478"></a>18478         } <span class="keywordflow">else</span> {
<a name="l18479"></a>18479           <span class="keywordflow">if</span> (dims[3]&lt;65536) {
<a name="l18480"></a>18480             <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18481"></a>18481             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18482"></a>18482             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18483"></a>18483             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18484"></a>18484             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18485"></a>18485             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18486"></a>18486             <span class="keyword">delete</span>[] buffer;
<a name="l18487"></a>18487           } <span class="keywordflow">else</span> {
<a name="l18488"></a>18488             <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18489"></a>18489             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18490"></a>18490             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18491"></a>18491             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18492"></a>18492             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18493"></a>18493             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18494"></a>18494             <span class="keyword">delete</span>[] buffer;
<a name="l18495"></a>18495           }
<a name="l18496"></a>18496         }
<a name="l18497"></a>18497       }
<a name="l18498"></a>18498         <span class="keywordflow">break</span>;
<a name="l18499"></a>18499       <span class="keywordflow">case</span> 13: { <span class="comment">// Region 3D</span>
<a name="l18500"></a>18500         cimg::fread(dims,5,nfile);
<a name="l18501"></a>18501         <span class="keywordflow">if</span> (endian) cimg::endian_swap(dims,5);
<a name="l18502"></a>18502         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dims[3],dims[2],dims[1],1);
<a name="l18503"></a>18503         <span class="keywordflow">if</span> (dims[4]&lt;256) {
<a name="l18504"></a>18504           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18505"></a>18505           cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18506"></a>18506           T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18507"></a>18507           cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18508"></a>18508           buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18509"></a>18509           <span class="keyword">delete</span>[] buffer;
<a name="l18510"></a>18510         } <span class="keywordflow">else</span> {
<a name="l18511"></a>18511           <span class="keywordflow">if</span> (dims[4]&lt;65536) {
<a name="l18512"></a>18512             <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18513"></a>18513             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18514"></a>18514             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18515"></a>18515             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18516"></a>18516             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18517"></a>18517             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18518"></a>18518             <span class="keyword">delete</span>[] buffer;
<a name="l18519"></a>18519           } <span class="keywordflow">else</span> {
<a name="l18520"></a>18520             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()];
<a name="l18521"></a>18521             cimg::fread(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l18522"></a>18522             <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l18523"></a>18523             T *ptrd = dest.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l18524"></a>18524             cimg_foroff(dest,off) *(ptrd++) = (T)*(buffer++);
<a name="l18525"></a>18525             buffer-=dest.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>();
<a name="l18526"></a>18526             <span class="keyword">delete</span>[] buffer;
<a name="l18527"></a>18527           }
<a name="l18528"></a>18528         }
<a name="l18529"></a>18529       }
<a name="l18530"></a>18530         <span class="keywordflow">break</span>;
<a name="l18531"></a>18531         cimg_load_pandore_case(16,4,dims[2],dims[1],1,3,uchar);
<a name="l18532"></a>18532         cimg_load_pandore_case(17,4,dims[2],dims[1],1,3,<span class="keywordtype">long</span>);
<a name="l18533"></a>18533         cimg_load_pandore_case(18,4,dims[2],dims[1],1,3,<span class="keywordtype">float</span>);
<a name="l18534"></a>18534         cimg_load_pandore_case(19,5,dims[3],dims[2],dims[1],3,uchar);
<a name="l18535"></a>18535         cimg_load_pandore_case(20,5,dims[3],dims[2],dims[1],3,<span class="keywordtype">long</span>);
<a name="l18536"></a>18536         cimg_load_pandore_case(21,5,dims[3],dims[2],dims[1],3,<span class="keywordtype">float</span>);
<a name="l18537"></a>18537         cimg_load_pandore_case(22,2,dims[1],1,1,dims[0],uchar);
<a name="l18538"></a>18538         cimg_load_pandore_case(23,2,dims[1],1,1,dims[0],<span class="keywordtype">long</span>);
<a name="l18539"></a>18539         cimg_load_pandore_case(24,2,dims[1],1,1,dims[0],ulong);
<a name="l18540"></a>18540         cimg_load_pandore_case(25,2,dims[1],1,1,dims[0],<span class="keywordtype">float</span>);
<a name="l18541"></a>18541         cimg_load_pandore_case(26,3,dims[2],dims[1],1,dims[0],uchar);
<a name="l18542"></a>18542         cimg_load_pandore_case(27,3,dims[2],dims[1],1,dims[0],<span class="keywordtype">long</span>);
<a name="l18543"></a>18543         cimg_load_pandore_case(28,3,dims[2],dims[1],1,dims[0],ulong);
<a name="l18544"></a>18544         cimg_load_pandore_case(29,3,dims[2],dims[1],1,dims[0],<span class="keywordtype">float</span>);
<a name="l18545"></a>18545         cimg_load_pandore_case(30,4,dims[3],dims[2],dims[1],dims[0],uchar);
<a name="l18546"></a>18546         cimg_load_pandore_case(31,4,dims[3],dims[2],dims[1],dims[0],<span class="keywordtype">long</span>);
<a name="l18547"></a>18547         cimg_load_pandore_case(32,4,dims[3],dims[2],dims[1],dims[0],ulong);
<a name="l18548"></a>18548         cimg_load_pandore_case(33,4,dims[3],dims[2],dims[1],dims[0],<span class="keywordtype">float</span>);
<a name="l18549"></a>18549       <span class="keywordflow">case</span> 34: <span class="comment">// Points 1D</span>
<a name="l18550"></a>18550         cimg::fread(ptbuf,1,nfile);
<a name="l18551"></a>18551         <span class="keywordflow">if</span> (endian) cimg::endian_swap(ptbuf,1);
<a name="l18552"></a>18552         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(1); dest[0]=(T)ptbuf[0];
<a name="l18553"></a>18553         <span class="keywordflow">break</span>;
<a name="l18554"></a>18554       <span class="keywordflow">case</span> 35: <span class="comment">// Points 2D</span>
<a name="l18555"></a>18555         cimg::fread(ptbuf,2,nfile);
<a name="l18556"></a>18556         <span class="keywordflow">if</span> (endian) cimg::endian_swap(ptbuf,2);
<a name="l18557"></a>18557         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(2); dest[0]=(T)ptbuf[1]; dest[1]=(T)ptbuf[0];
<a name="l18558"></a>18558         <span class="keywordflow">break</span>;
<a name="l18559"></a>18559       <span class="keywordflow">case</span> 36: <span class="comment">// Points 3D</span>
<a name="l18560"></a>18560         cimg::fread(ptbuf,3,nfile);
<a name="l18561"></a>18561         <span class="keywordflow">if</span> (endian) cimg::endian_swap(ptbuf,3);
<a name="l18562"></a>18562         dest.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(3); dest[0]=(T)ptbuf[2]; dest[1]=(T)ptbuf[1]; dest[2]=(T)ptbuf[0];
<a name="l18563"></a>18563         <span class="keywordflow">break</span>;
<a name="l18564"></a>18564       <span class="keywordflow">default</span>:
<a name="l18565"></a>18565         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18566"></a>18566         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_pandore() : File &#39;%s&#39;, cannot read images with ID_type=%u&quot;</span>,
<a name="l18567"></a>18567                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,imageid);
<a name="l18568"></a>18568       }
<a name="l18569"></a>18569       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18570"></a>18570       <span class="keywordflow">return</span> dest;
<a name="l18571"></a>18571     }
<a name="l18572"></a>18572 
<a name="l18574"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3f2c9c193baa14a640777242798301f0">18574</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a3f2c9c193baa14a640777242798301f0" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18575"></a>18575       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(0,filename);
<a name="l18576"></a>18576     }
<a name="l18577"></a>18577 
<a name="l18579"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad9a5fc8140226975ce0ba87ea43e9cf8">18579</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad9a5fc8140226975ce0ba87ea43e9cf8" title="In-place version of get_load_pandore().">load_pandore</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18580"></a>18580       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l18581"></a>18581     }
<a name="l18582"></a>18582 
<a name="l18584"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab7077bc72bc1b109dd7cd76b04802628">18584</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ab7077bc72bc1b109dd7cd76b04802628" title="In-place version of get_load_pandore().">load_pandore</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18585"></a>18585       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7eb5f1206085b6929c455b7f6c46ba50" title="Load an image from a PANDORE-5 file.">get_load_pandore</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18586"></a>18586     }
<a name="l18587"></a>18587 
<a name="l18589"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae9cf619d3ff9e70dfa352216dc67f388">18589</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae9cf619d3ff9e70dfa352216dc67f388" title="Load an image from an ANALYZE7.5/NIFTI file.">get_load_analyze</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0) {
<a name="l18590"></a>18590 
<a name="l18591"></a>18591       <span class="comment">// Open header and data files</span>
<a name="l18592"></a>18592       std::FILE *file_header=0, *file=0;
<a name="l18593"></a>18593       <span class="keywordtype">bool</span> error_file = <span class="keyword">false</span>;
<a name="l18594"></a>18594       <span class="keywordtype">char</span> body[1024];
<a name="l18595"></a>18595       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename,body);
<a name="l18596"></a>18596       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;nii&quot;</span>,3)) file_header = cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18597"></a>18597       <span class="keywordflow">else</span> {
<a name="l18598"></a>18598         <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;hdr&quot;</span>,3) ||
<a name="l18599"></a>18599             !cimg::strncasecmp(ext,<span class="stringliteral">&quot;img&quot;</span>,3)) {
<a name="l18600"></a>18600           std::sprintf(body+cimg::strlen(body),<span class="stringliteral">&quot;.hdr&quot;</span>);
<a name="l18601"></a>18601           file_header = cimg::fopen(body,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18602"></a>18602           <span class="keywordflow">if</span> (!file_header) error_file = <span class="keyword">true</span>;
<a name="l18603"></a>18603           <span class="keywordflow">else</span> {
<a name="l18604"></a>18604             std::sprintf(body+cimg::strlen(body)-3,<span class="stringliteral">&quot;img&quot;</span>);
<a name="l18605"></a>18605             file = cimg::fopen(body,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18606"></a>18606             <span class="keywordflow">if</span> (!file) { cimg::fclose(file_header); error_file = <span class="keyword">true</span>; }
<a name="l18607"></a>18607           }
<a name="l18608"></a>18608         }
<a name="l18609"></a>18609       }
<a name="l18610"></a>18610       <span class="keywordflow">if</span> (error_file) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_analyze() : Filename &#39;%s&#39;, not recognized as an Analyze 7.5 or NIFTI file.&quot;</span>,
<a name="l18611"></a>18611                                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l18612"></a>18612 
<a name="l18613"></a>18613       <span class="comment">// Read header</span>
<a name="l18614"></a>18614       <span class="keywordtype">bool</span> endian = <span class="keyword">false</span>;
<a name="l18615"></a>18615       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> header_size;
<a name="l18616"></a>18616       cimg::fread(&amp;header_size,1,file_header);
<a name="l18617"></a>18617       <span class="keywordflow">if</span> (header_size&gt;=4096) { endian = <span class="keyword">true</span>; cimg::endian_swap(header_size); }
<a name="l18618"></a>18618       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *header = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[header_size];
<a name="l18619"></a>18619       cimg::fread(header+4,header_size-4,file_header);
<a name="l18620"></a>18620       <span class="keywordflow">if</span> (file) cimg::fclose(file_header);
<a name="l18621"></a>18621       <span class="keywordflow">if</span> (endian) {
<a name="l18622"></a>18622         cimg::endian_swap((<span class="keywordtype">short</span>*)(header+40),5);
<a name="l18623"></a>18623         cimg::endian_swap((<span class="keywordtype">short</span>*)(header+70),1);
<a name="l18624"></a>18624         cimg::endian_swap((<span class="keywordtype">short</span>*)(header+72),1);
<a name="l18625"></a>18625         cimg::endian_swap((<span class="keywordtype">float</span>*)(header+76),4);
<a name="l18626"></a>18626         cimg::endian_swap((<span class="keywordtype">float</span>*)(header+112),1);
<a name="l18627"></a>18627       }
<a name="l18628"></a>18628       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *dim = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)(header+40), <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>=1, <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>=1, <a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>=1, <a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>=1;
<a name="l18629"></a>18629       cimg::warn(!dim[0],<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_analyze() : Specified image has zero dimensions.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l18630"></a>18630       cimg::warn(dim[0]&gt;4,<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_analyze() : Number of image dimension is %d, reading only the 4 first dimensions&quot;</span>,
<a name="l18631"></a>18631                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),dim[0]);
<a name="l18632"></a>18632       <span class="keywordflow">if</span> (dim[0]&gt;=1) <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a> = dim[1];
<a name="l18633"></a>18633       <span class="keywordflow">if</span> (dim[0]&gt;=2) <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a> = dim[2];
<a name="l18634"></a>18634       <span class="keywordflow">if</span> (dim[0]&gt;=3) <a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a> = dim[3];
<a name="l18635"></a>18635       <span class="keywordflow">if</span> (dim[0]&gt;=4) <a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a> = dim[4];
<a name="l18636"></a>18636 
<a name="l18637"></a>18637       <span class="keywordtype">float</span> scalefactor = *(<span class="keywordtype">float</span>*)(header+112); <span class="keywordflow">if</span> (scalefactor==0) scalefactor=1;
<a name="l18638"></a>18638       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> datatype = *(<span class="keywordtype">short</span>*)(header+70);
<a name="l18639"></a>18639       <span class="keywordflow">if</span> (voxsize) { <span class="keyword">const</span> <span class="keywordtype">float</span> *vsize = (<span class="keywordtype">float</span>*)(header+76); voxsize[0] = vsize[1]; voxsize[1] = vsize[2]; voxsize[2] = vsize[3]; }
<a name="l18640"></a>18640       <span class="keyword">delete</span>[] header;
<a name="l18641"></a>18641 
<a name="l18642"></a>18642       <span class="comment">// Read pixel data</span>
<a name="l18643"></a>18643       std::FILE *nfile = file?file:file_header;
<a name="l18644"></a>18644       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest(<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>,<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>,<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>,<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>);
<a name="l18645"></a>18645       <span class="keywordflow">switch</span> (datatype) {
<a name="l18646"></a>18646       <span class="keywordflow">case</span> 2: {
<a name="l18647"></a>18647         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv];
<a name="l18648"></a>18648         cimg::fread(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>,nfile);
<a name="l18649"></a>18649         cimg_foroff(dest,off) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off] = (T)(buffer[off]*scalefactor);
<a name="l18650"></a>18650         <span class="keyword">delete</span>[] buffer;
<a name="l18651"></a>18651       } <span class="keywordflow">break</span>;
<a name="l18652"></a>18652       <span class="keywordflow">case</span> 4: {
<a name="l18653"></a>18653         <span class="keywordtype">short</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">short</span>[<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv];
<a name="l18654"></a>18654         cimg::fread(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>,nfile);
<a name="l18655"></a>18655         <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv);
<a name="l18656"></a>18656         cimg_foroff(dest,off) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off] = (T)(buffer[off]*scalefactor);
<a name="l18657"></a>18657         <span class="keyword">delete</span>[] buffer;
<a name="l18658"></a>18658       } <span class="keywordflow">break</span>;
<a name="l18659"></a>18659       <span class="keywordflow">case</span> 8: {
<a name="l18660"></a>18660         <span class="keywordtype">int</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv];
<a name="l18661"></a>18661         cimg::fread(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>,nfile);
<a name="l18662"></a>18662         <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv);
<a name="l18663"></a>18663         cimg_foroff(dest,off) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off] = (T)(buffer[off]*scalefactor);
<a name="l18664"></a>18664         <span class="keyword">delete</span>[] buffer;
<a name="l18665"></a>18665       } <span class="keywordflow">break</span>;
<a name="l18666"></a>18666       <span class="keywordflow">case</span> 16: {
<a name="l18667"></a>18667         <span class="keywordtype">float</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">float</span>[<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv];
<a name="l18668"></a>18668         cimg::fread(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>,nfile);
<a name="l18669"></a>18669         <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv);
<a name="l18670"></a>18670         cimg_foroff(dest,off) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off] = (T)(buffer[off]*scalefactor);
<a name="l18671"></a>18671         <span class="keyword">delete</span>[] buffer;
<a name="l18672"></a>18672       } <span class="keywordflow">break</span>;
<a name="l18673"></a>18673       <span class="keywordflow">case</span> 64: {
<a name="l18674"></a>18674         <span class="keywordtype">double</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv];
<a name="l18675"></a>18675         cimg::fread(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>,nfile);
<a name="l18676"></a>18676         <span class="keywordflow">if</span> (endian) cimg::endian_swap(buffer,<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>*<a class="code" href="structcimg__library_1_1_c_img.html#aba56e96a615d71ed9a71009768fc4b75" title="Return the number of slices of the instance image (size along the Z-axis).">dimz</a>*dimv);
<a name="l18677"></a>18677         cimg_foroff(dest,off) dest.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[off] = (T)(buffer[off]*scalefactor);
<a name="l18678"></a>18678         <span class="keyword">delete</span>[] buffer;
<a name="l18679"></a>18679       } <span class="keywordflow">break</span>;
<a name="l18680"></a>18680       <span class="keywordflow">default</span>:
<a name="l18681"></a>18681         cimg::fclose(nfile);
<a name="l18682"></a>18682         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_analyze() : File &#39;%s, cannot read images with &#39;datatype = %d&#39;&quot;</span>,
<a name="l18683"></a>18683                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,datatype);
<a name="l18684"></a>18684       }
<a name="l18685"></a>18685       cimg::fclose(nfile);
<a name="l18686"></a>18686       <span class="keywordflow">return</span> dest;
<a name="l18687"></a>18687     }
<a name="l18688"></a>18688 
<a name="l18690"></a><a class="code" href="structcimg__library_1_1_c_img.html#a470e0987c10a253737062d45bc363767">18690</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a470e0987c10a253737062d45bc363767" title="In-place version of get_load_analyze().">load_analyze</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize = 0) {
<a name="l18691"></a>18691       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae9cf619d3ff9e70dfa352216dc67f388" title="Load an image from an ANALYZE7.5/NIFTI file.">get_load_analyze</a>(filename,voxsize).swap(*<span class="keyword">this</span>);
<a name="l18692"></a>18692     }
<a name="l18693"></a>18693 
<a name="l18695"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95">18695</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18696"></a>18696       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">CImgList&lt;T&gt;::get_load_parrec</a>(filename).<a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(axe,align);
<a name="l18697"></a>18697     }
<a name="l18698"></a>18698 
<a name="l18700"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac1d1998eb076fee2367bda54fe250234">18700</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac1d1998eb076fee2367bda54fe250234" title="In-place version of get_load_parrec().">load_parrec</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18701"></a>18701       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(filename,axis,align).swap(*<span class="keyword">this</span>);
<a name="l18702"></a>18702     }
<a name="l18703"></a>18703 
<a name="l18705"></a><a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a">18705</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18706"></a>18706       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">CImgList&lt;T&gt;::get_load_cimg</a>(file,filename).<a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(axis,align);
<a name="l18707"></a>18707     }
<a name="l18708"></a>18708 
<a name="l18710"></a><a class="code" href="structcimg__library_1_1_c_img.html#a258bb291c24e6dcc1da1cd60905e9d20">18710</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a258bb291c24e6dcc1da1cd60905e9d20" title="Load an image from a CImg RAW file.">get_load_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18711"></a>18711       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(0,filename,axis,align);
<a name="l18712"></a>18712     }
<a name="l18713"></a>18713 
<a name="l18715"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4d1e8205414d76ca815a11275df6facb">18715</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a4d1e8205414d76ca815a11275df6facb" title="In-place version of get_load_cimg().">load_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18716"></a>18716       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(file,filename,axis,align).swap(*<span class="keyword">this</span>);
<a name="l18717"></a>18717     }
<a name="l18718"></a>18718 
<a name="l18720"></a><a class="code" href="structcimg__library_1_1_c_img.html#a4390296db3af4f3a30a631dd753129d2">18720</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a4390296db3af4f3a30a631dd753129d2" title="In-place version of get_load_cimg().">load_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">char</span> axis=<span class="charliteral">&#39;v&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;p&#39;</span>) {
<a name="l18721"></a>18721       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(filename,axis,align).swap(*<span class="keyword">this</span>);
<a name="l18722"></a>18722     }
<a name="l18723"></a>18723 
<a name="l18726"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad982fff24870aac6b8c55a5564969b5d">18726</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#ad982fff24870aac6b8c55a5564969b5d">get_load_imagemagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18727"></a>18727       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l18728"></a>18728       <span class="keywordtype">char</span> command[1024], filetmp[512];
<a name="l18729"></a>18729       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l18730"></a>18730       std::FILE *file = 0;
<a name="l18731"></a>18731       <span class="keywordflow">do</span> {
<a name="l18732"></a>18732         std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.ppm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l18733"></a>18733         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l18734"></a>18734       } <span class="keywordflow">while</span> (file);
<a name="l18735"></a>18735       std::sprintf(command,<span class="stringliteral">&quot;%s \&quot;%s\&quot; %s&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>(),filename,filetmp);
<a name="l18736"></a>18736       cimg::system(command,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>());
<a name="l18737"></a>18737       <span class="keywordflow">if</span> (!(file = std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))) {
<a name="l18738"></a>18738         cimg::fclose(cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>));
<a name="l18739"></a>18739         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_imagemagick() : Failed to open image &#39;%s&#39;.\n\n&quot;</span>
<a name="l18740"></a>18740                               <span class="stringliteral">&quot;Path of &#39;ImageMagick&#39;s convert&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l18741"></a>18741                               <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;&quot;</span>,
<a name="l18742"></a>18742                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>(),filetmp);
<a name="l18743"></a>18743       } <span class="keywordflow">else</span> cimg::fclose(file);
<a name="l18744"></a>18744       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest = <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">CImg&lt;T&gt;::get_load_pnm</a>(filetmp);
<a name="l18745"></a>18745       std::remove(filetmp);
<a name="l18746"></a>18746       <span class="keywordflow">return</span> dest;
<a name="l18747"></a>18747     }
<a name="l18748"></a>18748 
<a name="l18750"></a><a class="code" href="structcimg__library_1_1_c_img.html#a3fcf726ab135a8f5fba0cbb0acaaa625">18750</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a3fcf726ab135a8f5fba0cbb0acaaa625" title="In-place version of get_load_imagemagick().">load_imagemagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18751"></a>18751       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad982fff24870aac6b8c55a5564969b5d">get_load_imagemagick</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18752"></a>18752     }
<a name="l18753"></a>18753 
<a name="l18756"></a><a class="code" href="structcimg__library_1_1_c_img.html#a494cfc018d563a30fd1ea69097ed0c19">18756</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a494cfc018d563a30fd1ea69097ed0c19">get_load_graphicsmagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18757"></a>18757       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l18758"></a>18758       <span class="keywordtype">char</span> command[1024], filetmp[512];
<a name="l18759"></a>18759       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l18760"></a>18760       std::FILE *file = 0;
<a name="l18761"></a>18761       <span class="keywordflow">do</span> {
<a name="l18762"></a>18762         std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.ppm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l18763"></a>18763         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l18764"></a>18764       } <span class="keywordflow">while</span> (file);
<a name="l18765"></a>18765       std::sprintf(command,<span class="stringliteral">&quot;%s convert \&quot;%s\&quot; %s&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>(),filename,filetmp);
<a name="l18766"></a>18766       cimg::system(command,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>());
<a name="l18767"></a>18767       <span class="keywordflow">if</span> (!(file = std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))) {
<a name="l18768"></a>18768         cimg::fclose(cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>));
<a name="l18769"></a>18769         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_graphicsmagick() : Failed to open image &#39;%s&#39;.\n\n&quot;</span>
<a name="l18770"></a>18770                               <span class="stringliteral">&quot;Path of &#39;GraphicsMagick&#39;s gm&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l18771"></a>18771                               <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;&quot;</span>,
<a name="l18772"></a>18772                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>(),filetmp);
<a name="l18773"></a>18773       } <span class="keywordflow">else</span> cimg::fclose(file);
<a name="l18774"></a>18774       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest = <a class="code" href="structcimg__library_1_1_c_img.html#ae510f9147c4980f4e2eefccba8b2d4c3" title="Load an image from a PNM file.">CImg&lt;T&gt;::get_load_pnm</a>(filetmp);
<a name="l18775"></a>18775       std::remove(filetmp);
<a name="l18776"></a>18776       <span class="keywordflow">return</span> dest;
<a name="l18777"></a>18777     }
<a name="l18778"></a>18778 
<a name="l18780"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac74be1e90df344dcc97370a3a4fe8f2b">18780</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac74be1e90df344dcc97370a3a4fe8f2b" title="In-place version of get_load_graphicsmagick().">load_graphicsmagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18781"></a>18781       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a494cfc018d563a30fd1ea69097ed0c19">get_load_graphicsmagick</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18782"></a>18782     }
<a name="l18783"></a>18783 
<a name="l18786"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">18786</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18787"></a>18787       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res;
<a name="l18788"></a>18788       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> odebug = cimg::exception_mode();
<a name="l18789"></a>18789       cimg::exception_mode() = 0;
<a name="l18790"></a>18790       <span class="keywordflow">try</span> { res.<a class="code" href="structcimg__library_1_1_c_img.html#ad0b95dce78785d8bdd436eaf482356d0" title="Load an image using builtin ImageMagick++ Library (in-place version).">load_magick</a>(filename); }
<a name="l18791"></a>18791       <span class="keywordflow">catch</span> (<a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>&amp;) {
<a name="l18792"></a>18792         <span class="keywordflow">try</span> { res.<a class="code" href="structcimg__library_1_1_c_img.html#a3fcf726ab135a8f5fba0cbb0acaaa625" title="In-place version of get_load_imagemagick().">load_imagemagick</a>(filename); }
<a name="l18793"></a>18793         <span class="keywordflow">catch</span> (<a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>&amp;) {
<a name="l18794"></a>18794           <span class="keywordflow">try</span> { res.<a class="code" href="structcimg__library_1_1_c_img.html#ac74be1e90df344dcc97370a3a4fe8f2b" title="In-place version of get_load_graphicsmagick().">load_graphicsmagick</a>(filename); }
<a name="l18795"></a>18795           <span class="keywordflow">catch</span> (<a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>&amp;) {
<a name="l18796"></a>18796             res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l18797"></a>18797           }
<a name="l18798"></a>18798         }
<a name="l18799"></a>18799       }
<a name="l18800"></a>18800       cimg::exception_mode()=odebug;
<a name="l18801"></a>18801       <span class="keywordflow">if</span> (res.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>())
<a name="l18802"></a>18802         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_other() : Failed to open image &#39;%s&#39;.\n&quot;</span>
<a name="l18803"></a>18803                               <span class="stringliteral">&quot;Check you have either the ImageMagick or GraphicsMagick package installed.&quot;</span>,
<a name="l18804"></a>18804                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l18805"></a>18805       <span class="keywordflow">return</span> res;
<a name="l18806"></a>18806     }
<a name="l18807"></a>18807 
<a name="l18809"></a><a class="code" href="structcimg__library_1_1_c_img.html#a170595a3b1567358f3958601cae432e8">18809</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a170595a3b1567358f3958601cae432e8" title="In-place version of get_load_graphicsmagick().">load_other</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18810"></a>18810       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aa6f1fd75110bfd31c1ac72f912997b7a">get_load_other</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18811"></a>18811     }
<a name="l18812"></a>18812 
<a name="l18814"></a><a class="code" href="structcimg__library_1_1_c_img.html#a9a48fd037190ca8426c1078f4c18cedb">18814</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a9a48fd037190ca8426c1078f4c18cedb" title="Load an image from a Dicom file (need &amp;#39;(X)Medcon&amp;#39; : http://xmedcon.sourceforge.net ).">get_load_dicom</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18815"></a>18815       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l18816"></a>18816       <span class="keywordtype">char</span> command[1024], filetmp[512], body[512];
<a name="l18817"></a>18817       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l18818"></a>18818       cimg::fclose(cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>));
<a name="l18819"></a>18819       std::FILE *file;
<a name="l18820"></a>18820       <span class="keywordflow">do</span> {
<a name="l18821"></a>18821         std::sprintf(filetmp,<span class="stringliteral">&quot;CImg%.4d.hdr&quot;</span>,std::rand()%10000);
<a name="l18822"></a>18822         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l18823"></a>18823       } <span class="keywordflow">while</span> (file);
<a name="l18824"></a>18824       std::sprintf(command,<span class="stringliteral">&quot;%s -w -c anlz -o %s -f %s&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">cimg::medcon_path</a>(),filetmp,filename);
<a name="l18825"></a>18825       cimg::system(command);
<a name="l18826"></a>18826       cimg::filename_split(filetmp,body);
<a name="l18827"></a>18827       std::sprintf(command,<span class="stringliteral">&quot;m000-%s.hdr&quot;</span>,body);
<a name="l18828"></a>18828       file = std::fopen(command,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l18829"></a>18829       <span class="keywordflow">if</span> (!file) {
<a name="l18830"></a>18830         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_dicom() : Failed to open image &#39;%s&#39;.\n\n&quot;</span>
<a name="l18831"></a>18831                               <span class="stringliteral">&quot;Path of &#39;medcon&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l18832"></a>18832                               <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;&quot;</span>,
<a name="l18833"></a>18833                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">cimg::medcon_path</a>(),filetmp);
<a name="l18834"></a>18834       } <span class="keywordflow">else</span> cimg::fclose(file);
<a name="l18835"></a>18835       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> dest = <a class="code" href="structcimg__library_1_1_c_img.html#ae9cf619d3ff9e70dfa352216dc67f388" title="Load an image from an ANALYZE7.5/NIFTI file.">CImg&lt;T&gt;::get_load_analyze</a>(command);
<a name="l18836"></a>18836       std::remove(command);
<a name="l18837"></a>18837       std::sprintf(command,<span class="stringliteral">&quot;m000-%s.img&quot;</span>,body);
<a name="l18838"></a>18838       std::remove(command);
<a name="l18839"></a>18839       <span class="keywordflow">return</span> dest;
<a name="l18840"></a>18840     }
<a name="l18841"></a>18841 
<a name="l18843"></a><a class="code" href="structcimg__library_1_1_c_img.html#a79e63ba3130af9a7e0c1b06226c4cab5">18843</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a79e63ba3130af9a7e0c1b06226c4cab5" title="In-place version of get_load_dicom().">load_dicom</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l18844"></a>18844       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9a48fd037190ca8426c1078f4c18cedb" title="Load an image from a Dicom file (need &amp;#39;(X)Medcon&amp;#39; : http://xmedcon.sourceforge.net ).">get_load_dicom</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l18845"></a>18845     }
<a name="l18846"></a>18846 
<a name="l18848"></a>18848     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l18849"></a><a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900">18849</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors,
<a name="l18850"></a>18850                                 <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l18851"></a>18851       std::FILE *file=cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l18852"></a>18852       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_points=0, nb_triangles=0;
<a name="l18853"></a>18853       <span class="keywordtype">int</span> err;
<a name="l18854"></a>18854       <span class="keywordflow">if</span> ((err = std::fscanf(file,<span class="stringliteral">&quot;OFF%u%u%*[^\n]&quot;</span>,&amp;nb_points,&amp;nb_triangles))!=2) {
<a name="l18855"></a>18855         cimg::fclose(file);
<a name="l18856"></a>18856         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_off() : File &#39;%s&#39; is not a valid OFF file.&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l18857"></a>18857       }
<a name="l18858"></a>18858 
<a name="l18859"></a>18859       <span class="comment">// Read points data</span>
<a name="l18860"></a>18860       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> points(nb_points,3);
<a name="l18861"></a>18861       <span class="keywordtype">float</span> X=0,Y=0,Z=0;
<a name="l18862"></a>18862       cimg_forX(points,l) {
<a name="l18863"></a>18863         <span class="keywordflow">if</span> ((err = std::fscanf(file,<span class="stringliteral">&quot;%f%f%f%*[^\n]&quot;</span>,&amp;X,&amp;Y,&amp;Z))!=3) {
<a name="l18864"></a>18864           cimg::fclose(file);
<a name="l18865"></a>18865           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_off() : File &#39;%s&#39;, cannot read point %u.\n&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,l);
<a name="l18866"></a>18866         }
<a name="l18867"></a>18867         points(l,0) = (T)X; points(l,1) = (T)Y; points(l,2) = (T)Z;
<a name="l18868"></a>18868       }
<a name="l18869"></a>18869 
<a name="l18870"></a>18870       <span class="comment">// Read primitive data</span>
<a name="l18871"></a>18871       primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>();
<a name="l18872"></a>18872       colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>();
<a name="l18873"></a>18873       <span class="keywordtype">bool</span> stopflag = <span class="keyword">false</span>;
<a name="l18874"></a>18874       <span class="keywordflow">while</span> (!stopflag) {
<a name="l18875"></a>18875         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prim=0, i0=0, i1=0, i2=0, i3=0;
<a name="l18876"></a>18876         <span class="keywordtype">char</span> s_colors[256] = {<span class="charliteral">&#39;\0&#39;</span>};
<a name="l18877"></a>18877         <span class="keywordflow">if</span> ((err = std::fscanf(file,<span class="stringliteral">&quot;%u&quot;</span>,&amp;prim))!=1) stopflag=<span class="keyword">true</span>;
<a name="l18878"></a>18878         <span class="keywordflow">else</span> <span class="keywordflow">switch</span> (prim) {
<a name="l18879"></a>18879         <span class="keywordflow">case</span> 3: {
<a name="l18880"></a>18880           <span class="keywordflow">if</span> ((err = std::fscanf(file,<span class="stringliteral">&quot;%u%u%u%255[^\n]&quot;</span>,&amp;i0,&amp;i1,&amp;i2,s_colors))&lt;3) stopflag = <span class="keyword">true</span>;
<a name="l18881"></a>18881           <span class="keywordflow">else</span> {
<a name="l18882"></a>18882             <span class="keywordtype">float</span> c0=0.5, c1=0.5, c2=0.5;
<a name="l18883"></a>18883             std::sscanf(s_colors,<span class="stringliteral">&quot;%f%f%f&quot;</span>,&amp;c0,&amp;c1,&amp;c2);
<a name="l18884"></a>18884             <span class="keywordflow">if</span> (invert_faces) primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i1,i2));
<a name="l18885"></a>18885             <span class="keywordflow">else</span> primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i2,i1));
<a name="l18886"></a>18886             colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tc&gt;::vector</a>((tc)(c0*255),(tc)(c1*255),(tc)(c2*255)));
<a name="l18887"></a>18887           }
<a name="l18888"></a>18888         } <span class="keywordflow">break</span>;
<a name="l18889"></a>18889         <span class="keywordflow">case</span> 4: {
<a name="l18890"></a>18890           <span class="keywordflow">if</span> ((err = std::fscanf(file,<span class="stringliteral">&quot;%u%u%u%u%255[^\n]&quot;</span>,&amp;i0,&amp;i1,&amp;i2,&amp;i3,s_colors))&lt;4) stopflag = <span class="keyword">true</span>;
<a name="l18891"></a>18891           <span class="keywordflow">else</span> {
<a name="l18892"></a>18892             <span class="keywordtype">float</span> c0=0.5, c1=0.5, c2=0.5;
<a name="l18893"></a>18893             std::sscanf(s_colors,<span class="stringliteral">&quot;%f%f%f&quot;</span>,&amp;c0,&amp;c1,&amp;c2);
<a name="l18894"></a>18894             <span class="keywordflow">if</span> (invert_faces) primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i1,i2,i3));
<a name="l18895"></a>18895             <span class="keywordflow">else</span> primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i3,i2,i1));
<a name="l18896"></a>18896             colors.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tc&gt;::vector</a>((tc)(c0*255),(tc)(c1*255),(tc)(c2*255),(tc)(c2*255)));
<a name="l18897"></a>18897           }
<a name="l18898"></a>18898         } <span class="keywordflow">break</span>;
<a name="l18899"></a>18899         <span class="keywordflow">default</span>: stopflag = <span class="keyword">true</span>;
<a name="l18900"></a>18900         }
<a name="l18901"></a>18901       }
<a name="l18902"></a>18902       cimg::fclose(file);
<a name="l18903"></a>18903       cimg::warn(primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>!=nb_triangles,
<a name="l18904"></a>18904                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::load_off() : File &#39;%s&#39; contained %u triangles instead of %u as claimed in the header.&quot;</span>,
<a name="l18905"></a>18905                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,nb_triangles);
<a name="l18906"></a>18906       <span class="keywordflow">return</span> points;
<a name="l18907"></a>18907     }
<a name="l18908"></a>18908 
<a name="l18910"></a>18910     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l18911"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0a20090d6e9a02168c7738e523c4a4c5">18911</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0a20090d6e9a02168c7738e523c4a4c5" title="In-place version of get_load_off().">load_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors, <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l18912"></a>18912       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(filename,primitives,colors,invert_faces).swap(*<span class="keyword">this</span>);
<a name="l18913"></a>18913     }
<a name="l18914"></a>18914 
<a name="l18916"></a>18916 
<a name="l18921"></a><a class="code" href="structcimg__library_1_1_c_img.html#a593d3d4f5eae665e93c3f551b2da3f03">18921</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a593d3d4f5eae665e93c3f551b2da3f03" title="Save the image as a file.">save</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">int</span> number=-1)<span class="keyword"> const </span>{
<a name="l18922"></a>18922       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l18923"></a>18923                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l18924"></a>18924       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l18925"></a>18925                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l18926"></a>18926       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename);
<a name="l18927"></a>18927       <span class="keywordtype">char</span> nfilename[1024];
<a name="l18928"></a>18928       <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> fn = (number&gt;=0)?cimg::filename_number(filename,number,6,nfilename):filename;
<a name="l18929"></a>18929       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;asc&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0347f20f842430c63ddc0ff39fd62ddf" title="Save the image as an ASCII file (ASCII Raw + simple header).">save_ascii</a>(fn);
<a name="l18930"></a>18930       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;dlm&quot;</span>,3) ||
<a name="l18931"></a>18931           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;txt&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a189616455ee879a3372a13b860bab05c" title="Save the image as a DLM file.">save_dlm</a>(fn);
<a name="l18932"></a>18932       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;inr&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1ca63e722e7ad2993bd04c24f29ad9e4" title="Save the image as an INRIMAGE-4 file.">save_inr</a>(fn);
<a name="l18933"></a>18933       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;hdr&quot;</span>,3) ||
<a name="l18934"></a>18934           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;nii&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a29f58c110f5e216e4fa457bbb343aab2" title="Save the image as an ANALYZE7.5 or NIFTI file.">save_analyze</a>(fn);
<a name="l18935"></a>18935       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;dcm&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad442714fe10a5135688f023b2a00cb29" title="Save an image as a Dicom file (need &amp;#39;(X)Medcon&amp;#39; : http://xmedcon.sourceforge.net ).">save_dicom</a>(fn);
<a name="l18936"></a>18936       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;pan&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7930700a82a0939576a91e6c4cf6c248" title="Save the image as a PANDORE-5 file.">save_pandore</a>(fn);
<a name="l18937"></a>18937       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;bmp&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a505479a53dd6ee630d0c8c8a2bd24357" title="Save the image as a BMP file.">save_bmp</a>(fn);
<a name="l18938"></a>18938       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;png&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad9fa47a9f824507ce8feb7d9f6e76b06" title="Save an image to a PNG file.">save_png</a>(fn);
<a name="l18939"></a>18939       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;tif&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac15df3e33a1ec6c37e26329f84ae0e13" title="Save a file in TIFF format.">save_tiff</a>(fn);
<a name="l18940"></a>18940       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;jpg&quot;</span>,3) ||
<a name="l18941"></a>18941           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;jpeg&quot;</span>,4)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aab6eba0352abb4ccfbc03bcb756d4c0b" title="Save a file in JPEG format.">save_jpeg</a>(fn);
<a name="l18942"></a>18942       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;rgba&quot;</span>,4)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a133af6a59ecc79219f1b2f68bee475bb" title="Save the image as a RGBA file.">save_rgba</a>(fn);
<a name="l18943"></a>18943       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;rgb&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a05f2988b7be539403f308b06389f2767" title="Save the image as a RGB file.">save_rgb</a>(fn);
<a name="l18944"></a>18944       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;raw&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae70ac83cf3ce759eb61133e84f2cea24" title="Save the image as a RAW file.">save_raw</a>(fn);
<a name="l18945"></a>18945       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;cimg&quot;</span>,4) || ext[0]==<span class="charliteral">&#39;\0&#39;</span>) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(fn);
<a name="l18946"></a>18946       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;pgm&quot;</span>,3) ||
<a name="l18947"></a>18947           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;ppm&quot;</span>,3) ||
<a name="l18948"></a>18948           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;pnm&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d" title="Save the image as a PNM file.">save_pnm</a>(fn);
<a name="l18949"></a>18949       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;yuv&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(fn,<span class="keyword">true</span>);
<a name="l18950"></a>18950       <span class="keywordflow">return</span> save_other(fn);
<a name="l18951"></a>18951     }
<a name="l18952"></a>18952 
<a name="l18954"></a><a class="code" href="structcimg__library_1_1_c_img.html#a0347f20f842430c63ddc0ff39fd62ddf">18954</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0347f20f842430c63ddc0ff39fd62ddf" title="Save the image as an ASCII file (ASCII Raw + simple header).">save_ascii</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l18955"></a>18955       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_ascii() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l18956"></a>18956                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l18957"></a>18957       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_ascii() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l18958"></a>18958                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l18959"></a>18959       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l18960"></a>18960       std::fprintf(nfile,<span class="stringliteral">&quot;%u %u %u %u\n&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l18961"></a>18961       <span class="keyword">const</span> T* ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l18962"></a>18962       cimg_forYZV(*<span class="keyword">this</span>,y,z,v) {
<a name="l18963"></a>18963         cimg_forX(*<span class="keyword">this</span>,x) std::fprintf(nfile,<span class="stringliteral">&quot;%g &quot;</span>,(<span class="keywordtype">double</span>)*(ptrs++));
<a name="l18964"></a>18964         std::fputc(<span class="charliteral">&#39;\n&#39;</span>,nfile);
<a name="l18965"></a>18965       }
<a name="l18966"></a>18966       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18967"></a>18967       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l18968"></a>18968     }
<a name="l18969"></a>18969 
<a name="l18971"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5c4b4bfa11a6c0fe71460d750db05a27">18971</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5c4b4bfa11a6c0fe71460d750db05a27" title="Save the image as an ASCII file (ASCII Raw + simple header).">save_ascii</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l18972"></a>18972       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0347f20f842430c63ddc0ff39fd62ddf" title="Save the image as an ASCII file (ASCII Raw + simple header).">save_ascii</a>(0,filename);
<a name="l18973"></a>18973     }
<a name="l18974"></a>18974 
<a name="l18976"></a><a class="code" href="structcimg__library_1_1_c_img.html#a189616455ee879a3372a13b860bab05c">18976</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a189616455ee879a3372a13b860bab05c" title="Save the image as a DLM file.">save_dlm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l18977"></a>18977       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dlm() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l18978"></a>18978                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l18979"></a>18979       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dlm() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l18980"></a>18980                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l18981"></a>18981       cimg::warn(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1,
<a name="l18982"></a>18982                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dlm() : Instance image (%u,%u,%u,%u,%p) is volumetric. Pixel values along Z will be unrolled (file &#39;%s&#39;).&quot;</span>,
<a name="l18983"></a>18983                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l18984"></a>18984       cimg::warn(dim&gt;1,
<a name="l18985"></a>18985                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dlm() : Instance image (%u,%u,%u,%u,%p) is multispectral. Pixel values along V will be unrolled (file &#39;%s&#39;).&quot;</span>,
<a name="l18986"></a>18986                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l18987"></a>18987 
<a name="l18988"></a>18988       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l18989"></a>18989       <span class="keyword">const</span> T* ptrs = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l18990"></a>18990       cimg_forYZV(*<span class="keyword">this</span>,y,z,v) {
<a name="l18991"></a>18991         cimg_forX(*<span class="keyword">this</span>,x) std::fprintf(nfile,<span class="stringliteral">&quot;%g%s&quot;</span>,(<span class="keywordtype">double</span>)*(ptrs++),(x==(<span class="keywordtype">int</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>-1)?<span class="stringliteral">&quot;&quot;</span>:<span class="stringliteral">&quot;,&quot;</span>);
<a name="l18992"></a>18992         std::fputc(<span class="charliteral">&#39;\n&#39;</span>,nfile);
<a name="l18993"></a>18993       }
<a name="l18994"></a>18994       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l18995"></a>18995       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l18996"></a>18996     }
<a name="l18997"></a>18997 
<a name="l18999"></a><a class="code" href="structcimg__library_1_1_c_img.html#af33668c7503fcf0a797192012b501725">18999</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af33668c7503fcf0a797192012b501725" title="Save the image as a DLM file.">save_dlm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19000"></a>19000       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a189616455ee879a3372a13b860bab05c" title="Save the image as a DLM file.">save_dlm</a>(0,filename);
<a name="l19001"></a>19001     }
<a name="l19002"></a>19002 
<a name="l19004"></a><a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d">19004</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d" title="Save the image as a PNM file.">save_pnm</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19005"></a>19005       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pnm() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19006"></a>19006                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19007"></a>19007       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pnm() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19008"></a>19008                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19009"></a>19009       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> st(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l19010"></a>19010       cimg::warn(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1,
<a name="l19011"></a>19011                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pnm() : Instance image (%u,%u,%u,%u,%p) is volumetric. Only the first slice will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19012"></a>19012                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19013"></a>19013       cimg::warn(dim&gt;3,
<a name="l19014"></a>19014                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pnm() : Instance image (%u,%u,%u,%u,%p) is multispectral. Only the three first channels will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19015"></a>19015                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19016"></a>19016       <span class="keyword">const</span> <span class="keywordtype">double</span> stmin = st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>, stmax = st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>;
<a name="l19017"></a>19017       cimg::warn(stmin&lt;0 || stmax&gt;65535,<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pnm() : Instance image (%u,%u,%u,%u,%p) has pixel values in [%g,%g]. Probable type overflow (file &#39;%s&#39;).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19018"></a>19018       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19019"></a>19019       <span class="keyword">const</span> T
<a name="l19020"></a>19020         *ptrR = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0),
<a name="l19021"></a>19021         *ptrG = (dim&gt;=2)?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1):ptrR,
<a name="l19022"></a>19022         *ptrB = (dim&gt;=3)?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2):ptrR;
<a name="l19023"></a>19023       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(dim==1?1:3);
<a name="l19024"></a>19024 
<a name="l19025"></a>19025       std::fprintf(nfile,<span class="stringliteral">&quot;P%c\n# CREATOR: CImg : Original size=%ux%ux%ux%u\n%u %u\n%u\n&quot;</span>,
<a name="l19026"></a>19026                    (dim==1?<span class="charliteral">&#39;5&#39;</span>:<span class="charliteral">&#39;6&#39;</span>),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,(st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>)&lt;256?255:65535);
<a name="l19027"></a>19027 
<a name="l19028"></a>19028       <span class="keywordflow">switch</span>(dim) {
<a name="l19029"></a>19029       <span class="keywordflow">case</span> 1: {
<a name="l19030"></a>19030         <span class="keywordflow">if</span> ((st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>)&lt;256) { <span class="comment">// Binary PGM 8 bits</span>
<a name="l19031"></a>19031           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[buf_size], *xptrd = ptrd;
<a name="l19032"></a>19032           cimg_forXY(*<span class="keyword">this</span>,x,y) *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptrR++);
<a name="l19033"></a>19033           cimg::fwrite(ptrd,buf_size,nfile);
<a name="l19034"></a>19034           <span class="keyword">delete</span>[] ptrd;
<a name="l19035"></a>19035         } <span class="keywordflow">else</span> {             <span class="comment">// Binary PGM 16 bits</span>
<a name="l19036"></a>19036           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrd = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[buf_size], *xptrd = ptrd;
<a name="l19037"></a>19037           cimg_forXY(*<span class="keyword">this</span>,x,y) *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(ptrR++);
<a name="l19038"></a>19038           <span class="keywordflow">if</span> (!<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(ptrd,buf_size);
<a name="l19039"></a>19039           cimg::fwrite(ptrd,buf_size,nfile);
<a name="l19040"></a>19040           <span class="keyword">delete</span>[] ptrd;
<a name="l19041"></a>19041         }
<a name="l19042"></a>19042       } <span class="keywordflow">break</span>;
<a name="l19043"></a>19043       <span class="keywordflow">default</span>: {
<a name="l19044"></a>19044         <span class="keywordflow">if</span> ((st.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>)&lt;256) { <span class="comment">// Binary PPM 8 bits</span>
<a name="l19045"></a>19045           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrd = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[buf_size], *xptrd = ptrd;
<a name="l19046"></a>19046           cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l19047"></a>19047             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptrR++);
<a name="l19048"></a>19048             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptrG++);
<a name="l19049"></a>19049             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptrB++);
<a name="l19050"></a>19050           }
<a name="l19051"></a>19051           cimg::fwrite(ptrd,buf_size,nfile);
<a name="l19052"></a>19052           <span class="keyword">delete</span>[] ptrd;
<a name="l19053"></a>19053         } <span class="keywordflow">else</span> {             <span class="comment">// Binary PPM 16 bits</span>
<a name="l19054"></a>19054           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrd = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[buf_size], *xptrd = ptrd;
<a name="l19055"></a>19055           cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l19056"></a>19056             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(ptrR++);
<a name="l19057"></a>19057             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(ptrG++);
<a name="l19058"></a>19058             *(xptrd++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(ptrB++);
<a name="l19059"></a>19059           }
<a name="l19060"></a>19060           <span class="keywordflow">if</span> (!<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(ptrd,buf_size);
<a name="l19061"></a>19061           cimg::fwrite(ptrd,buf_size,nfile);
<a name="l19062"></a>19062           <span class="keyword">delete</span>[] ptrd;
<a name="l19063"></a>19063         }
<a name="l19064"></a>19064       } <span class="keywordflow">break</span>;
<a name="l19065"></a>19065       }
<a name="l19066"></a>19066       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19067"></a>19067       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19068"></a>19068     }
<a name="l19069"></a>19069 
<a name="l19071"></a><a class="code" href="structcimg__library_1_1_c_img.html#aedf6a9b0a3333feee2bf369b9d484935">19071</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedf6a9b0a3333feee2bf369b9d484935" title="Save the image as a PNM file.">save_pnm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19072"></a>19072       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d" title="Save the image as a PNM file.">save_pnm</a>(0,filename);
<a name="l19073"></a>19073     }
<a name="l19074"></a>19074 
<a name="l19076"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad442714fe10a5135688f023b2a00cb29">19076</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad442714fe10a5135688f023b2a00cb29" title="Save an image as a Dicom file (need &amp;#39;(X)Medcon&amp;#39; : http://xmedcon.sourceforge.net ).">save_dicom</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19077"></a>19077       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dicom() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19078"></a>19078                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l19079"></a>19079       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dicom() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19080"></a>19080                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19081"></a>19081       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l19082"></a>19082       <span class="keywordtype">char</span> command[1024], filetmp[512], body[512];
<a name="l19083"></a>19083       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l19084"></a>19084       std::FILE *file;
<a name="l19085"></a>19085       <span class="keywordflow">do</span> {
<a name="l19086"></a>19086         std::sprintf(filetmp,<span class="stringliteral">&quot;CImg%.4d.hdr&quot;</span>,std::rand()%10000);
<a name="l19087"></a>19087         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l19088"></a>19088       } <span class="keywordflow">while</span> (file);
<a name="l19089"></a>19089       <a class="code" href="structcimg__library_1_1_c_img.html#a29f58c110f5e216e4fa457bbb343aab2" title="Save the image as an ANALYZE7.5 or NIFTI file.">save_analyze</a>(filetmp);
<a name="l19090"></a>19090       std::sprintf(command,<span class="stringliteral">&quot;%s -w -c dicom -o %s -f %s&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">cimg::medcon_path</a>(),filename,filetmp);
<a name="l19091"></a>19091       cimg::system(command);
<a name="l19092"></a>19092       std::remove(filetmp);
<a name="l19093"></a>19093       cimg::filename_split(filetmp,body);
<a name="l19094"></a>19094       std::sprintf(filetmp,<span class="stringliteral">&quot;%s.img&quot;</span>,body);
<a name="l19095"></a>19095       std::remove(filetmp);
<a name="l19096"></a>19096       std::sprintf(command,<span class="stringliteral">&quot;m000-%s&quot;</span>,filename);
<a name="l19097"></a>19097       file = std::fopen(command,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l19098"></a>19098       <span class="keywordflow">if</span> (!file) {
<a name="l19099"></a>19099         cimg::fclose(cimg::fopen(filename,<span class="stringliteral">&quot;r&quot;</span>));
<a name="l19100"></a>19100         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_dicom() : Failed to save image &#39;%s&#39;.\n\n&quot;</span>
<a name="l19101"></a>19101                               <span class="stringliteral">&quot;Path of &#39;medcon&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l19102"></a>19102                               <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;&quot;</span>,
<a name="l19103"></a>19103                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a9ab62b36cd320543e0b0ab830252cb10" title="Return path of the XMedcon tool.">cimg::medcon_path</a>(),filetmp);
<a name="l19104"></a>19104       } <span class="keywordflow">else</span> cimg::fclose(file);
<a name="l19105"></a>19105       std::rename(command,filename);
<a name="l19106"></a>19106       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19107"></a>19107     }
<a name="l19108"></a>19108 
<a name="l19110"></a><a class="code" href="structcimg__library_1_1_c_img.html#a29f58c110f5e216e4fa457bbb343aab2">19110</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a29f58c110f5e216e4fa457bbb343aab2" title="Save the image as an ANALYZE7.5 or NIFTI file.">save_analyze</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0)<span class="keyword"> const </span>{
<a name="l19111"></a>19111       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_analyze() : File &#39;%s&#39;, instance image (%u,%u,%u,%u,%p) is empty.&quot;</span>,
<a name="l19112"></a>19112                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l19113"></a>19113       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_analyze() :  Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19114"></a>19114                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19115"></a>19115       std::FILE *file;
<a name="l19116"></a>19116       <span class="keywordtype">char</span> header[348], hname[1024], iname[1024];
<a name="l19117"></a>19117       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename);
<a name="l19118"></a>19118       <span class="keywordtype">short</span> datatype=-1;
<a name="l19119"></a>19119       std::memset(header,0,348);
<a name="l19120"></a>19120       <span class="keywordflow">if</span> (!ext[0]) { std::sprintf(hname,<span class="stringliteral">&quot;%s.hdr&quot;</span>,filename); std::sprintf(iname,<span class="stringliteral">&quot;%s.img&quot;</span>,filename); }
<a name="l19121"></a>19121       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;hdr&quot;</span>,3)) {
<a name="l19122"></a>19122         std::strcpy(hname,filename); std::strcpy(iname,filename); std::sprintf(iname+cimg::strlen(iname)-3,<span class="stringliteral">&quot;img&quot;</span>);
<a name="l19123"></a>19123       }
<a name="l19124"></a>19124       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;img&quot;</span>,3)) {
<a name="l19125"></a>19125         std::strcpy(hname,filename); std::strcpy(iname,filename); std::sprintf(hname+cimg::strlen(iname)-3,<span class="stringliteral">&quot;hdr&quot;</span>);
<a name="l19126"></a>19126       }
<a name="l19127"></a>19127       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;nii&quot;</span>,3)) {
<a name="l19128"></a>19128         std::strcpy(hname,filename); iname[0]=0;
<a name="l19129"></a>19129       }
<a name="l19130"></a>19130       ((<span class="keywordtype">int</span>*)(header))[0] = 348;
<a name="l19131"></a>19131       std::sprintf(header+4,<span class="stringliteral">&quot;CImg&quot;</span>);
<a name="l19132"></a>19132       std::sprintf(header+14,<span class="stringliteral">&quot; &quot;</span>);
<a name="l19133"></a>19133       ((<span class="keywordtype">short</span>*)(header+36))[0] = 4096;
<a name="l19134"></a>19134       ((<span class="keywordtype">char</span>*)(header+38))[0] = 114;
<a name="l19135"></a>19135       ((<span class="keywordtype">short</span>*)(header+40))[0] = 4;
<a name="l19136"></a>19136       ((<span class="keywordtype">short</span>*)(header+40))[1] = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l19137"></a>19137       ((<span class="keywordtype">short</span>*)(header+40))[2] = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l19138"></a>19138       ((<span class="keywordtype">short</span>*)(header+40))[3] = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l19139"></a>19139       ((<span class="keywordtype">short</span>*)(header+40))[4] = dim;
<a name="l19140"></a>19140       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;bool&quot;</span>))           datatype = 2;
<a name="l19141"></a>19141       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned char&quot;</span>))  datatype = 2;
<a name="l19142"></a>19142       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;char&quot;</span>))           datatype = 2;
<a name="l19143"></a>19143       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned short&quot;</span>)) datatype = 4;
<a name="l19144"></a>19144       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;short&quot;</span>))          datatype = 4;
<a name="l19145"></a>19145       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned int&quot;</span>))   datatype = 8;
<a name="l19146"></a>19146       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;int&quot;</span>))            datatype = 8;
<a name="l19147"></a>19147       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned long&quot;</span>))  datatype = 8;
<a name="l19148"></a>19148       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;long&quot;</span>))           datatype = 8;
<a name="l19149"></a>19149       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;float&quot;</span>))          datatype = 16;
<a name="l19150"></a>19150       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;double&quot;</span>))         datatype = 64;
<a name="l19151"></a>19151       <span class="keywordflow">if</span> (datatype&lt;0)
<a name="l19152"></a>19152         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_analyze() : Cannot save image &#39;%s&#39; since pixel type (%s)&quot;</span>
<a name="l19153"></a>19153                               <span class="stringliteral">&quot;is not handled in Analyze7.5 specifications.\n&quot;</span>,
<a name="l19154"></a>19154                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l19155"></a>19155       ((<span class="keywordtype">short</span>*)(header+70))[0] = datatype;
<a name="l19156"></a>19156       ((<span class="keywordtype">short</span>*)(header+72))[0] = <span class="keyword">sizeof</span>(T);
<a name="l19157"></a>19157       ((<span class="keywordtype">float</span>*)(header+112))[0] = 1;
<a name="l19158"></a>19158       ((<span class="keywordtype">float</span>*)(header+76))[0] = 0;
<a name="l19159"></a>19159       <span class="keywordflow">if</span> (voxsize) {
<a name="l19160"></a>19160         ((<span class="keywordtype">float</span>*)(header+76))[1] = voxsize[0];
<a name="l19161"></a>19161         ((<span class="keywordtype">float</span>*)(header+76))[2] = voxsize[1];
<a name="l19162"></a>19162         ((<span class="keywordtype">float</span>*)(header+76))[3] = voxsize[2];
<a name="l19163"></a>19163       } <span class="keywordflow">else</span> ((<span class="keywordtype">float</span>*)(header+76))[1] = ((<span class="keywordtype">float</span>*)(header+76))[2] = ((<span class="keywordtype">float</span>*)(header+76))[3] = 1;
<a name="l19164"></a>19164       file = cimg::fopen(hname,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19165"></a>19165       cimg::fwrite(header,348,file);
<a name="l19166"></a>19166       <span class="keywordflow">if</span> (iname[0]) { cimg::fclose(file); file = cimg::fopen(iname,<span class="stringliteral">&quot;wb&quot;</span>); }
<a name="l19167"></a>19167       cimg::fwrite(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),file);
<a name="l19168"></a>19168       cimg::fclose(file);
<a name="l19169"></a>19169       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19170"></a>19170     }
<a name="l19171"></a>19171 
<a name="l19173"></a><a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4">19173</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19174"></a>19174       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_cimg() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19175"></a>19175                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19176"></a>19176       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_cimg() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19177"></a>19177                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19178"></a>19178       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> tmp(1);
<a name="l19179"></a>19179       tmp[0].width = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l19180"></a>19180       tmp[0].height = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l19181"></a>19181       tmp[0].depth = <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l19182"></a>19182       tmp[0].dim = dim;
<a name="l19183"></a>19183       tmp[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l19184"></a>19184       tmp.<a class="code" href="structcimg__library_1_1_c_img_list.html#af0a1d766b2ad5acff467cddb8d108475" title="Save an image list into a CImg file (RAW binary file + simple header).">save_cimg</a>(file,filename);
<a name="l19185"></a>19185       tmp[0].width = tmp[0].height = tmp[0].depth = tmp[0].dim = 0;
<a name="l19186"></a>19186       tmp[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a> = 0;
<a name="l19187"></a>19187       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19188"></a>19188     }
<a name="l19189"></a>19189 
<a name="l19191"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae2b66c0e3dd50e8b7cd33f97fa4b45cf">19191</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae2b66c0e3dd50e8b7cd33f97fa4b45cf" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19192"></a>19192       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(0,filename);
<a name="l19193"></a>19193     }
<a name="l19194"></a>19194 
<a name="l19196"></a><a class="code" href="structcimg__library_1_1_c_img.html#ae70ac83cf3ce759eb61133e84f2cea24">19196</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ae70ac83cf3ce759eb61133e84f2cea24" title="Save the image as a RAW file.">save_raw</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l19197"></a>19197       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_raw() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19198"></a>19198                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19199"></a>19199       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_raw() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19200"></a>19200                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19201"></a>19201       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19202"></a>19202       <span class="keywordflow">if</span> (!multiplexed) cimg::fwrite(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>(),nfile);
<a name="l19203"></a>19203       <span class="keywordflow">else</span> {
<a name="l19204"></a>19204         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> buf(dim);
<a name="l19205"></a>19205         cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) {
<a name="l19206"></a>19206           cimg_forV(*<span class="keyword">this</span>,k) buf[k] = (*this)(x,y,z,k);
<a name="l19207"></a>19207           cimg::fwrite(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,dim,nfile);
<a name="l19208"></a>19208         }
<a name="l19209"></a>19209       }
<a name="l19210"></a>19210       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19211"></a>19211       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19212"></a>19212     }
<a name="l19213"></a>19213 
<a name="l19215"></a><a class="code" href="structcimg__library_1_1_c_img.html#acd6ec0c7c53733bef57bca68651c8394">19215</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acd6ec0c7c53733bef57bca68651c8394" title="Save the image as a RAW file.">save_raw</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> multiplexed=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l19216"></a>19216       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae70ac83cf3ce759eb61133e84f2cea24" title="Save the image as a RAW file.">save_raw</a>(0,filename,multiplexed);
<a name="l19217"></a>19217     }
<a name="l19218"></a>19218 
<a name="l19220"></a>19220 
<a name="l19226"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6414cc4030892b8ae825a274dec26ab8">19226</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6414cc4030892b8ae825a274dec26ab8" title="Save the image using ImageMagick&amp;#39;s convert.">save_imagemagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quality=100)<span class="keyword"> const </span>{
<a name="l19227"></a>19227       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_imagemagick() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;)&quot;</span>,
<a name="l19228"></a>19228                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l19229"></a>19229       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_imagemagick() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19230"></a>19230                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19231"></a>19231       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l19232"></a>19232       <span class="keywordtype">char</span> command[512],filetmp[512];
<a name="l19233"></a>19233       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l19234"></a>19234       std::FILE *file;
<a name="l19235"></a>19235       <span class="keywordflow">do</span> {
<a name="l19236"></a>19236         <span class="keywordflow">if</span> (dim==1) std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.pgm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l19237"></a>19237         <span class="keywordflow">else</span> std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.ppm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l19238"></a>19238         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l19239"></a>19239       } <span class="keywordflow">while</span> (file);
<a name="l19240"></a>19240       <a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d" title="Save the image as a PNM file.">save_pnm</a>(filetmp);
<a name="l19241"></a>19241       std::sprintf(command,<span class="stringliteral">&quot;%s -quality %u%% %s \&quot;%s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>(),quality,filetmp,filename);
<a name="l19242"></a>19242       cimg::system(command);
<a name="l19243"></a>19243       file = std::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l19244"></a>19244       <span class="keywordflow">if</span> (!file) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_imagemagick() : Failed to save image &#39;%s&#39;.\n\n&quot;</span>
<a name="l19245"></a>19245                                        <span class="stringliteral">&quot;Path of &#39;convert&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l19246"></a>19246                                        <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;\n&quot;</span>,
<a name="l19247"></a>19247                                        <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a66b97c48fa2e598dd3818152cca7e4f0" title="Return path of the ImageMagick&amp;#39;s convert tool.">cimg::imagemagick_path</a>(),filetmp);
<a name="l19248"></a>19248       <span class="keywordflow">if</span> (file) cimg::fclose(file);
<a name="l19249"></a>19249       std::remove(filetmp);
<a name="l19250"></a>19250       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19251"></a>19251     }
<a name="l19252"></a>19252 
<a name="l19254"></a>19254 
<a name="l19260"></a><a class="code" href="structcimg__library_1_1_c_img.html#acd56ecc64c775ee50dfedc4ef9855ab3">19260</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#acd56ecc64c775ee50dfedc4ef9855ab3" title="Save the image using GraphicsMagick&amp;#39;s gm.">save_graphicsmagick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quality=100)<span class="keyword"> const </span>{
<a name="l19261"></a>19261       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_graphicsmagick() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;)&quot;</span>,
<a name="l19262"></a>19262                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l19263"></a>19263       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_graphicsmagick() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19264"></a>19264                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19265"></a>19265       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l19266"></a>19266       <span class="keywordtype">char</span> command[512],filetmp[512];
<a name="l19267"></a>19267       <span class="keywordflow">if</span> (first_time) { std::srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)::time(0)); first_time = <span class="keyword">false</span>; }
<a name="l19268"></a>19268       std::FILE *file;
<a name="l19269"></a>19269       <span class="keywordflow">do</span> {
<a name="l19270"></a>19270         <span class="keywordflow">if</span> (dim==1) std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.pgm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l19271"></a>19271         <span class="keywordflow">else</span> std::sprintf(filetmp,<span class="stringliteral">&quot;%s%sCImg%.4d.ppm&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a411c598d6a44291415a1e2299d2c39b1" title="Return path to store temporary files.">cimg::temporary_path</a>(),cimg_OS==2?<span class="stringliteral">&quot;\\&quot;</span>:<span class="stringliteral">&quot;/&quot;</span>,std::rand()%10000);
<a name="l19272"></a>19272         <span class="keywordflow">if</span> ((file=std::fopen(filetmp,<span class="stringliteral">&quot;rb&quot;</span>))!=0) std::fclose(file);
<a name="l19273"></a>19273       } <span class="keywordflow">while</span> (file);
<a name="l19274"></a>19274       <a class="code" href="structcimg__library_1_1_c_img.html#a5449e3262d461016ac4eb767963a231d" title="Save the image as a PNM file.">save_pnm</a>(filetmp);
<a name="l19275"></a>19275       std::sprintf(command,<span class="stringliteral">&quot;%s -quality %u%% %s \&quot;%s\&quot;&quot;</span>,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>(),quality,filetmp,filename);
<a name="l19276"></a>19276       cimg::system(command);
<a name="l19277"></a>19277       file = std::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l19278"></a>19278       <span class="keywordflow">if</span> (!file) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_graphicsmagick() : Failed to save image &#39;%s&#39;.\n\n&quot;</span>
<a name="l19279"></a>19279                                        <span class="stringliteral">&quot;Path of &#39;gm&#39; : \&quot;%s\&quot;\n&quot;</span>
<a name="l19280"></a>19280                                        <span class="stringliteral">&quot;Path of temporary filename : \&quot;%s\&quot;\n&quot;</span>,
<a name="l19281"></a>19281                                        <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,<a class="code" href="namespacecimg__library_1_1cimg.html#a427f31124296fa11e951bb2536e4e88b" title="Return path of the GraphicsMagick&amp;#39;s gm tool.">cimg::graphicsmagick_path</a>(),filetmp);
<a name="l19282"></a>19282       <span class="keywordflow">if</span> (file) cimg::fclose(file);
<a name="l19283"></a>19283       std::remove(filetmp);
<a name="l19284"></a>19284       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19285"></a>19285     }
<a name="l19286"></a>19286 
<a name="l19287"></a>19287     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; save_other(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quality=100)<span class="keyword"> const </span>{
<a name="l19288"></a>19288       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> odebug = cimg::exception_mode();
<a name="l19289"></a>19289       <span class="keywordtype">bool</span> is_saved = <span class="keyword">true</span>;
<a name="l19290"></a>19290       cimg::exception_mode() = 0;
<a name="l19291"></a>19291       <span class="keywordflow">try</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a91529d80bd21a08ab9314fc132138f9c" title="Save the image using built-in ImageMagick++ library.">save_magick</a>(filename); }
<a name="l19292"></a>19292       <span class="keywordflow">catch</span> (CImgException&amp;) {
<a name="l19293"></a>19293         <span class="keywordflow">try</span> { <a class="code" href="structcimg__library_1_1_c_img.html#a6414cc4030892b8ae825a274dec26ab8" title="Save the image using ImageMagick&amp;#39;s convert.">save_imagemagick</a>(filename,quality); }
<a name="l19294"></a>19294         <span class="keywordflow">catch</span> (CImgException&amp;) {
<a name="l19295"></a>19295           <span class="keywordflow">try</span> { <a class="code" href="structcimg__library_1_1_c_img.html#acd56ecc64c775ee50dfedc4ef9855ab3" title="Save the image using GraphicsMagick&amp;#39;s gm.">save_graphicsmagick</a>(filename,quality); }
<a name="l19296"></a>19296           <span class="keywordflow">catch</span> (CImgException&amp;) {
<a name="l19297"></a>19297             is_saved = <span class="keyword">false</span>;
<a name="l19298"></a>19298           }
<a name="l19299"></a>19299         }
<a name="l19300"></a>19300       }
<a name="l19301"></a>19301       cimg::exception_mode() = odebug;
<a name="l19302"></a>19302       <span class="keywordflow">if</span> (!is_saved) <span class="keywordflow">throw</span> CImgIOException(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_other() : File &#39;%s&#39; cannot be saved.\n&quot;</span>
<a name="l19303"></a>19303                                            <span class="stringliteral">&quot;Check you have either the ImageMagick or GraphicsMagick package installed.&quot;</span>,
<a name="l19304"></a>19304                                            <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l19305"></a>19305       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19306"></a>19306     }
<a name="l19307"></a>19307 
<a name="l19309"></a><a class="code" href="structcimg__library_1_1_c_img.html#a1ca63e722e7ad2993bd04c24f29ad9e4">19309</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a1ca63e722e7ad2993bd04c24f29ad9e4" title="Save the image as an INRIMAGE-4 file.">save_inr</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0)<span class="keyword"> const </span>{
<a name="l19310"></a>19310       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_inr() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19311"></a>19311                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19312"></a>19312       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_inr() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19313"></a>19313                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19314"></a>19314       <span class="keywordtype">int</span> inrpixsize=-1;
<a name="l19315"></a>19315       <span class="keyword">const</span> <span class="keywordtype">char</span> *inrtype = <span class="stringliteral">&quot;unsigned fixed\nPIXSIZE=8 bits\nSCALE=2**0&quot;</span>;
<a name="l19316"></a>19316       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned char&quot;</span>))  { inrtype = <span class="stringliteral">&quot;unsigned fixed\nPIXSIZE=8 bits\nSCALE=2**0&quot;</span>; inrpixsize = 1; }
<a name="l19317"></a>19317       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;char&quot;</span>))           { inrtype = <span class="stringliteral">&quot;fixed\nPIXSIZE=8 bits\nSCALE=2**0&quot;</span>; inrpixsize = 1; }
<a name="l19318"></a>19318       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned short&quot;</span>)) { inrtype = <span class="stringliteral">&quot;unsigned fixed\nPIXSIZE=16 bits\nSCALE=2**0&quot;</span>;inrpixsize = 2; }
<a name="l19319"></a>19319       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;short&quot;</span>))          { inrtype = <span class="stringliteral">&quot;fixed\nPIXSIZE=16 bits\nSCALE=2**0&quot;</span>; inrpixsize = 2; }
<a name="l19320"></a>19320       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;unsigned int&quot;</span>))   { inrtype = <span class="stringliteral">&quot;unsigned fixed\nPIXSIZE=32 bits\nSCALE=2**0&quot;</span>;inrpixsize = 4; }
<a name="l19321"></a>19321       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;int&quot;</span>))            { inrtype = <span class="stringliteral">&quot;fixed\nPIXSIZE=32 bits\nSCALE=2**0&quot;</span>; inrpixsize = 4; }
<a name="l19322"></a>19322       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;float&quot;</span>))          { inrtype = <span class="stringliteral">&quot;float\nPIXSIZE=32 bits&quot;</span>; inrpixsize = 4; }
<a name="l19323"></a>19323       <span class="keywordflow">if</span> (!cimg::strcasecmp(<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<span class="stringliteral">&quot;double&quot;</span>))         { inrtype = <span class="stringliteral">&quot;float\nPIXSIZE=64 bits&quot;</span>; inrpixsize = 8; }
<a name="l19324"></a>19324       <span class="keywordflow">if</span> (inrpixsize&lt;=0) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_inr() : Don&#39;t know how to save images of &#39;%s&#39;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l19325"></a>19325       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19326"></a>19326       <span class="keywordtype">char</span> header[257];
<a name="l19327"></a>19327       <span class="keywordtype">int</span> err = std::sprintf(header,<span class="stringliteral">&quot;#INRIMAGE-4#{\nXDIM=%u\nYDIM=%u\nZDIM=%u\nVDIM=%u\n&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l19328"></a>19328       <span class="keywordflow">if</span> (voxsize) err += std::sprintf(header+err,<span class="stringliteral">&quot;VX=%g\nVY=%g\nVZ=%g\n&quot;</span>,voxsize[0],voxsize[1],voxsize[2]);
<a name="l19329"></a>19329       err += std::sprintf(header+err,<span class="stringliteral">&quot;TYPE=%s\nCPU=%s\n&quot;</span>,inrtype,<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()?<span class="stringliteral">&quot;sun&quot;</span>:<span class="stringliteral">&quot;decm&quot;</span>);
<a name="l19330"></a>19330       std::memset(header+err,<span class="charliteral">&#39;\n&#39;</span>,252-err);
<a name="l19331"></a>19331       std::memcpy(header+252,<span class="stringliteral">&quot;##}\n&quot;</span>,4);
<a name="l19332"></a>19332       cimg::fwrite(header,256,nfile);
<a name="l19333"></a>19333       cimg_forXYZ(*<span class="keyword">this</span>,x,y,z) cimg_forV(*<span class="keyword">this</span>,k) cimg::fwrite(&amp;((*<span class="keyword">this</span>)(x,y,z,k)),1,nfile);
<a name="l19334"></a>19334       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19335"></a>19335       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19336"></a>19336     }
<a name="l19337"></a>19337 
<a name="l19339"></a><a class="code" href="structcimg__library_1_1_c_img.html#ab60873719770da4eb9724711d997d5b3">19339</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ab60873719770da4eb9724711d997d5b3" title="Save the image as an INRIMAGE-4 file.">save_inr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">float</span> *<span class="keyword">const</span> voxsize=0)<span class="keyword"> const </span>{
<a name="l19340"></a>19340       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a1ca63e722e7ad2993bd04c24f29ad9e4" title="Save the image as an INRIMAGE-4 file.">save_inr</a>(0,filename,voxsize);
<a name="l19341"></a>19341     }
<a name="l19342"></a>19342 
<a name="l19343"></a>19343 <span class="preprocessor">#define cimg_save_pandore_case(sy,sz,sv,stype,id) \</span>
<a name="l19344"></a>19344 <span class="preprocessor">   if (!saved &amp;&amp; (sy?(sy==height):true) &amp;&amp; (sz?(sz==depth):true) &amp;&amp; (sv?(sv==dim):true) &amp;&amp; !strcmp(stype,pixel_type())) { \</span>
<a name="l19345"></a>19345 <span class="preprocessor">      unsigned int *iheader = (unsigned int*)(header+12); \</span>
<a name="l19346"></a>19346 <span class="preprocessor">      nbdims = _save_pandore_header_length((*iheader=id),dims,colorspace); \</span>
<a name="l19347"></a>19347 <span class="preprocessor">      cimg::fwrite(header,36,nfile); \</span>
<a name="l19348"></a>19348 <span class="preprocessor">      cimg::fwrite(dims,nbdims,nfile); \</span>
<a name="l19349"></a>19349 <span class="preprocessor">      if (id==2 || id==5 || id==8 || id==16 || id==19 || id==22 || id==26 || id==30) { \</span>
<a name="l19350"></a>19350 <span class="preprocessor">        unsigned char *buffer = new unsigned char[size()]; \</span>
<a name="l19351"></a>19351 <span class="preprocessor">        const T *ptrs = ptr(); \</span>
<a name="l19352"></a>19352 <span class="preprocessor">        cimg_foroff(*this,off) *(buffer++)=(unsigned char)(*(ptrs++)); \</span>
<a name="l19353"></a>19353 <span class="preprocessor">        buffer-=size(); \</span>
<a name="l19354"></a>19354 <span class="preprocessor">        cimg::fwrite(buffer,size(),nfile); \</span>
<a name="l19355"></a>19355 <span class="preprocessor">        delete[] buffer; \</span>
<a name="l19356"></a>19356 <span class="preprocessor">      } \</span>
<a name="l19357"></a>19357 <span class="preprocessor">      if (id==3 || id==6 || id==9 || id==17 || id==20 || id==23 || id==27 || id==31) { \</span>
<a name="l19358"></a>19358 <span class="preprocessor">        unsigned long *buffer = new unsigned long[size()]; \</span>
<a name="l19359"></a>19359 <span class="preprocessor">        const T *ptrs = ptr(); \</span>
<a name="l19360"></a>19360 <span class="preprocessor">        cimg_foroff(*this,off) *(buffer++)=(long)(*(ptrs++)); \</span>
<a name="l19361"></a>19361 <span class="preprocessor">        buffer-=size(); \</span>
<a name="l19362"></a>19362 <span class="preprocessor">        cimg::fwrite(buffer,size(),nfile); \</span>
<a name="l19363"></a>19363 <span class="preprocessor">        delete[] buffer; \</span>
<a name="l19364"></a>19364 <span class="preprocessor">      } \</span>
<a name="l19365"></a>19365 <span class="preprocessor">      if (id==4 || id==7 || id==10 || id==18 || id==21 || id==25 || id==29 || id==33) { \</span>
<a name="l19366"></a>19366 <span class="preprocessor">        float *buffer = new float[size()]; \</span>
<a name="l19367"></a>19367 <span class="preprocessor">        const T *ptrs = ptr(); \</span>
<a name="l19368"></a>19368 <span class="preprocessor">        cimg_foroff(*this,off) *(buffer++)=(float)(*(ptrs++)); \</span>
<a name="l19369"></a>19369 <span class="preprocessor">        buffer-=size(); \</span>
<a name="l19370"></a>19370 <span class="preprocessor">        cimg::fwrite(buffer,size(),nfile); \</span>
<a name="l19371"></a>19371 <span class="preprocessor">        delete[] buffer; \</span>
<a name="l19372"></a>19372 <span class="preprocessor">      } \</span>
<a name="l19373"></a>19373 <span class="preprocessor">      saved = true; \</span>
<a name="l19374"></a>19374 <span class="preprocessor">    }</span>
<a name="l19375"></a>19375 <span class="preprocessor"></span>
<a name="l19376"></a>19376     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _save_pandore_header_length(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *dims,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> colorspace=0)<span class="keyword"> const </span>{
<a name="l19377"></a>19377       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nbdims=0;
<a name="l19378"></a>19378       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==2 || <span class="keywordtype">id</span>==3 || <span class="keywordtype">id</span>==4)    { dims[0]=1; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=2; }
<a name="l19379"></a>19379       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==5 || <span class="keywordtype">id</span>==6 || <span class="keywordtype">id</span>==7)    { dims[0]=1; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=3; }
<a name="l19380"></a>19380       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==8 || <span class="keywordtype">id</span>==9 || <span class="keywordtype">id</span>==10)   { dims[0]=dim; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[3]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=4; }
<a name="l19381"></a>19381       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==16 || <span class="keywordtype">id</span>==17 || <span class="keywordtype">id</span>==18) { dims[0]=3; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; dims[3]=colorspace; nbdims=4; }
<a name="l19382"></a>19382       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==19 || <span class="keywordtype">id</span>==20 || <span class="keywordtype">id</span>==21) { dims[0]=3; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[3]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; dims[4]=colorspace; nbdims=5; }
<a name="l19383"></a>19383       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==22 || <span class="keywordtype">id</span>==23 || <span class="keywordtype">id</span>==25) { dims[0]=dim; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=2; }
<a name="l19384"></a>19384       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==26 || <span class="keywordtype">id</span>==27 || <span class="keywordtype">id</span>==29) { dims[0]=dim; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=3; }
<a name="l19385"></a>19385       <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==30 || <span class="keywordtype">id</span>==31 || <span class="keywordtype">id</span>==33) { dims[0]=dim; dims[1]=<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dims[2]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; dims[3]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; nbdims=4; }
<a name="l19386"></a>19386       <span class="keywordflow">return</span> nbdims;
<a name="l19387"></a>19387     }
<a name="l19388"></a>19388 
<a name="l19390"></a><a class="code" href="structcimg__library_1_1_c_img.html#a7930700a82a0939576a91e6c4cf6c248">19390</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a7930700a82a0939576a91e6c4cf6c248" title="Save the image as a PANDORE-5 file.">save_pandore</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> colorspace=0)<span class="keyword"> const </span>{
<a name="l19391"></a>19391       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pandore() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19392"></a>19392                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19393"></a>19393       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_pandore() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19394"></a>19394                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19395"></a>19395       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19396"></a>19396       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> header[36] = { <span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;E&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;4&#39;</span>,0,0,0,
<a name="l19397"></a>19397                                    0,0,0,0,
<a name="l19398"></a>19398                                    <span class="charliteral">&#39;C&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;g&#39;</span>,0,0,0,0,0,
<a name="l19399"></a>19399                                    <span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;o&#39;</span>,<span class="charliteral">&#39; &#39;</span>,<span class="charliteral">&#39;d&#39;</span>,<span class="charliteral">&#39;a&#39;</span>,<span class="charliteral">&#39;t&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,0,0,0,
<a name="l19400"></a>19400                                    0 };
<a name="l19401"></a>19401       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nbdims,dims[5];
<a name="l19402"></a>19402       <span class="keywordtype">bool</span> saved=<span class="keyword">false</span>;
<a name="l19403"></a>19403       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;unsigned char&quot;</span>,2);
<a name="l19404"></a>19404       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;char&quot;</span>,3);
<a name="l19405"></a>19405       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;short&quot;</span>,3);
<a name="l19406"></a>19406       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;unsigned short&quot;</span>,3);
<a name="l19407"></a>19407       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;unsigned int&quot;</span>,3);
<a name="l19408"></a>19408       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;int&quot;</span>,3);
<a name="l19409"></a>19409       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;unsigned long&quot;</span>,4);
<a name="l19410"></a>19410       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;long&quot;</span>,3);
<a name="l19411"></a>19411       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;float&quot;</span>,4);
<a name="l19412"></a>19412       cimg_save_pandore_case(1,1,1,<span class="stringliteral">&quot;double&quot;</span>,4);
<a name="l19413"></a>19413 
<a name="l19414"></a>19414       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;unsigned char&quot;</span>,5);
<a name="l19415"></a>19415       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;char&quot;</span>,6);
<a name="l19416"></a>19416       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;short&quot;</span>,6);
<a name="l19417"></a>19417       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;unsigned short&quot;</span>,6);
<a name="l19418"></a>19418       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;unsigned int&quot;</span>,6);
<a name="l19419"></a>19419       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;int&quot;</span>,6);
<a name="l19420"></a>19420       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;unsigned long&quot;</span>,7);
<a name="l19421"></a>19421       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;long&quot;</span>,6);
<a name="l19422"></a>19422       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;float&quot;</span>,7);
<a name="l19423"></a>19423       cimg_save_pandore_case(0,1,1,<span class="stringliteral">&quot;double&quot;</span>,7);
<a name="l19424"></a>19424 
<a name="l19425"></a>19425       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;unsigned char&quot;</span>,8);
<a name="l19426"></a>19426       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;char&quot;</span>,9);
<a name="l19427"></a>19427       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;short&quot;</span>,9);
<a name="l19428"></a>19428       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;unsigned short&quot;</span>,9);
<a name="l19429"></a>19429       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;unsigned int&quot;</span>,9);
<a name="l19430"></a>19430       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;int&quot;</span>,9);
<a name="l19431"></a>19431       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;unsigned long&quot;</span>,10);
<a name="l19432"></a>19432       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;long&quot;</span>,9);
<a name="l19433"></a>19433       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;float&quot;</span>,10);
<a name="l19434"></a>19434       cimg_save_pandore_case(0,0,1,<span class="stringliteral">&quot;double&quot;</span>,10);
<a name="l19435"></a>19435 
<a name="l19436"></a>19436       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;unsigned char&quot;</span>,16);
<a name="l19437"></a>19437       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;char&quot;</span>,17);
<a name="l19438"></a>19438       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;short&quot;</span>,17);
<a name="l19439"></a>19439       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;unsigned short&quot;</span>,17);
<a name="l19440"></a>19440       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;unsigned int&quot;</span>,17);
<a name="l19441"></a>19441       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;int&quot;</span>,17);
<a name="l19442"></a>19442       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;unsigned long&quot;</span>,18);
<a name="l19443"></a>19443       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;long&quot;</span>,17);
<a name="l19444"></a>19444       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;float&quot;</span>,18);
<a name="l19445"></a>19445       cimg_save_pandore_case(0,1,3,<span class="stringliteral">&quot;double&quot;</span>,18);
<a name="l19446"></a>19446 
<a name="l19447"></a>19447       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;unsigned char&quot;</span>,19);
<a name="l19448"></a>19448       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;char&quot;</span>,20);
<a name="l19449"></a>19449       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;short&quot;</span>,20);
<a name="l19450"></a>19450       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;unsigned short&quot;</span>,20);
<a name="l19451"></a>19451       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;unsigned int&quot;</span>,20);
<a name="l19452"></a>19452       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;int&quot;</span>,20);
<a name="l19453"></a>19453       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;unsigned long&quot;</span>,21);
<a name="l19454"></a>19454       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;long&quot;</span>,20);
<a name="l19455"></a>19455       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;float&quot;</span>,21);
<a name="l19456"></a>19456       cimg_save_pandore_case(0,0,3,<span class="stringliteral">&quot;double&quot;</span>,21);
<a name="l19457"></a>19457 
<a name="l19458"></a>19458       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;unsigned char&quot;</span>,22);
<a name="l19459"></a>19459       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;char&quot;</span>,23);
<a name="l19460"></a>19460       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;short&quot;</span>,23);
<a name="l19461"></a>19461       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;unsigned short&quot;</span>,23);
<a name="l19462"></a>19462       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;unsigned int&quot;</span>,23);
<a name="l19463"></a>19463       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;int&quot;</span>,23);
<a name="l19464"></a>19464       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;unsigned long&quot;</span>,25);
<a name="l19465"></a>19465       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;long&quot;</span>,23);
<a name="l19466"></a>19466       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;float&quot;</span>,25);
<a name="l19467"></a>19467       cimg_save_pandore_case(1,1,0,<span class="stringliteral">&quot;double&quot;</span>,25);
<a name="l19468"></a>19468 
<a name="l19469"></a>19469       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;unsigned char&quot;</span>,26);
<a name="l19470"></a>19470       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;char&quot;</span>,27);
<a name="l19471"></a>19471       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;short&quot;</span>,27);
<a name="l19472"></a>19472       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;unsigned short&quot;</span>,27);
<a name="l19473"></a>19473       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;unsigned int&quot;</span>,27);
<a name="l19474"></a>19474       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;int&quot;</span>,27);
<a name="l19475"></a>19475       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;unsigned long&quot;</span>,29);
<a name="l19476"></a>19476       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;long&quot;</span>,27);
<a name="l19477"></a>19477       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;float&quot;</span>,29);
<a name="l19478"></a>19478       cimg_save_pandore_case(0,1,0,<span class="stringliteral">&quot;double&quot;</span>,29);
<a name="l19479"></a>19479 
<a name="l19480"></a>19480       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;unsigned char&quot;</span>,30);
<a name="l19481"></a>19481       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;char&quot;</span>,31);
<a name="l19482"></a>19482       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;short&quot;</span>,31);
<a name="l19483"></a>19483       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;unsigned short&quot;</span>,31);
<a name="l19484"></a>19484       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;unsigned int&quot;</span>,31);
<a name="l19485"></a>19485       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;int&quot;</span>,31);
<a name="l19486"></a>19486       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;unsigned long&quot;</span>,33);
<a name="l19487"></a>19487       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;long&quot;</span>,31);
<a name="l19488"></a>19488       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;float&quot;</span>,33);
<a name="l19489"></a>19489       cimg_save_pandore_case(0,0,0,<span class="stringliteral">&quot;double&quot;</span>,33);
<a name="l19490"></a>19490 
<a name="l19491"></a>19491       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19492"></a>19492       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19493"></a>19493     }
<a name="l19494"></a>19494 
<a name="l19496"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8e17508503ac53b2fa7ace2d216bffe5">19496</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8e17508503ac53b2fa7ace2d216bffe5" title="Save the image as a PANDORE-5 file.">save_pandore</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> colorspace=0)<span class="keyword"> const </span>{
<a name="l19497"></a>19497       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7930700a82a0939576a91e6c4cf6c248" title="Save the image as a PANDORE-5 file.">save_pandore</a>(0,filename,colorspace);
<a name="l19498"></a>19498     }
<a name="l19499"></a>19499 
<a name="l19501"></a><a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62">19501</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> rgb2yuv=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l19502"></a>19502       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(file,filename,rgb2yuv);
<a name="l19503"></a>19503       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19504"></a>19504     }
<a name="l19505"></a>19505 
<a name="l19507"></a><a class="code" href="structcimg__library_1_1_c_img.html#aa14c3969f237c6f899b06a3818dc187a">19507</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aa14c3969f237c6f899b06a3818dc187a" title="Save the image as a YUV video sequence file.">save_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">bool</span> rgb2yuv=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l19508"></a>19508       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(0,filename,rgb2yuv);
<a name="l19509"></a>19509     }
<a name="l19510"></a>19510 
<a name="l19512"></a><a class="code" href="structcimg__library_1_1_c_img.html#a505479a53dd6ee630d0c8c8a2bd24357">19512</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a505479a53dd6ee630d0c8c8a2bd24357" title="Save the image as a BMP file.">save_bmp</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19513"></a>19513       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_bmp() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19514"></a>19514                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19515"></a>19515       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_bmp() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19516"></a>19516                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19517"></a>19517       cimg::warn(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1,
<a name="l19518"></a>19518                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_bmp() : Instance image (%u,%u,%u,%u,%p) is volumetric. Only the first slice will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19519"></a>19519                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19520"></a>19520       cimg::warn(dim&gt;3,
<a name="l19521"></a>19521                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_bmp() : Instance image (%u,%u,%u,%u,%p) is multispectral. Only the three first channels will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19522"></a>19522                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19523"></a>19523 
<a name="l19524"></a>19524       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19525"></a>19525       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> header[54]={0}, align_buf[4]={0};
<a name="l19526"></a>19526       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l19527"></a>19527         align     = (4-(3*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)%4)%4,
<a name="l19528"></a>19528         buf_size  = (3*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+align)*<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(),
<a name="l19529"></a>19529         file_size = 54+buf_size;
<a name="l19530"></a>19530       header[0] = <span class="charliteral">&#39;B&#39;</span>; header[1] = <span class="charliteral">&#39;M&#39;</span>;
<a name="l19531"></a>19531       header[0x02]=file_size&amp;0xFF; header[0x03]=(file_size&gt;&gt;8)&amp;0xFF;
<a name="l19532"></a>19532       header[0x04]=(file_size&gt;&gt;16)&amp;0xFF; header[0x05]=(file_size&gt;&gt;24)&amp;0xFF;
<a name="l19533"></a>19533       header[0x0A]=0x36;
<a name="l19534"></a>19534       header[0x0E]=0x28;
<a name="l19535"></a>19535       header[0x12]=<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&amp;0xFF; header[0x13]=(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;&gt;8)&amp;0xFF;
<a name="l19536"></a>19536       header[0x14]=(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;&gt;16)&amp;0xFF; header[0x15]=(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;&gt;24)&amp;0xFF;
<a name="l19537"></a>19537       header[0x16]=<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&amp;0xFF; header[0x17]=(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;&gt;8)&amp;0xFF;
<a name="l19538"></a>19538       header[0x18]=(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;&gt;16)&amp;0xFF; header[0x19]=(<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;&gt;24)&amp;0xFF;
<a name="l19539"></a>19539       header[0x1A]=1;  header[0x1B]=0;
<a name="l19540"></a>19540       header[0x1C]=24; header[0x1D]=0;
<a name="l19541"></a>19541       header[0x22]=buf_size&amp;0xFF; header[0x23]=(buf_size&gt;&gt;8)&amp;0xFF;
<a name="l19542"></a>19542       header[0x24]=(buf_size&gt;&gt;16)&amp;0xFF; header[0x25]=(buf_size&gt;&gt;24)&amp;0xFF;
<a name="l19543"></a>19543       header[0x27]=0x1; header[0x2B]=0x1;
<a name="l19544"></a>19544       cimg::fwrite(header,54,nfile);
<a name="l19545"></a>19545 
<a name="l19546"></a>19546       <span class="keyword">const</span> T
<a name="l19547"></a>19547         *pR = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,0,0),
<a name="l19548"></a>19548         *pG = (dim&gt;=2)?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,0,1):pR,
<a name="l19549"></a>19549         *pB = (dim&gt;=3)?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1,0,2):pR;
<a name="l19550"></a>19550 
<a name="l19551"></a>19551       cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19552"></a>19552         cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19553"></a>19553           std::fputc((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(pB++)),nfile);
<a name="l19554"></a>19554           std::fputc((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(pG++)),nfile);
<a name="l19555"></a>19555           std::fputc((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(pR++)),nfile);
<a name="l19556"></a>19556         }
<a name="l19557"></a>19557         cimg::fwrite(align_buf,align,nfile);
<a name="l19558"></a>19558         pR-=2*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; pG-=2*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; pB-=2*<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l19559"></a>19559       }
<a name="l19560"></a>19560       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19561"></a>19561       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19562"></a>19562     }
<a name="l19563"></a>19563 
<a name="l19565"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad995c489d16a78cbdf6f7f5e9e042c67">19565</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad995c489d16a78cbdf6f7f5e9e042c67" title="Save the image as a BMP file.">save_bmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19566"></a>19566       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a505479a53dd6ee630d0c8c8a2bd24357" title="Save the image as a BMP file.">save_bmp</a>(0,filename);
<a name="l19567"></a>19567     }
<a name="l19568"></a>19568 
<a name="l19570"></a>19570     <span class="comment">// Most of this function has been written by Eric Fausett</span>
<a name="l19583"></a><a class="code" href="structcimg__library_1_1_c_img.html#ad9fa47a9f824507ce8feb7d9f6e76b06">19583</a> <span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ad9fa47a9f824507ce8feb7d9f6e76b06" title="Save an image to a PNG file.">save_png</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19584"></a>19584       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19585"></a>19585                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19586"></a>19586       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19587"></a>19587                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19588"></a>19588       cimg::warn(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1,
<a name="l19589"></a>19589                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : Instance image (%u,%u,%u,%u,%p) is volumetric. Only the first slice will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19590"></a>19590                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19591"></a>19591 <span class="preprocessor">#ifndef cimg_use_png</span>
<a name="l19592"></a>19592 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (!file) <span class="keywordflow">return</span> save_other(filename);
<a name="l19593"></a>19593       <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : Cannot save a PNG image in a *FILE output. Use libpng instead.&quot;</span>,
<a name="l19594"></a>19594                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l19595"></a>19595 <span class="preprocessor">#else</span>
<a name="l19596"></a>19596 <span class="preprocessor"></span>      std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19597"></a>19597 
<a name="l19598"></a>19598       <span class="comment">// Setup PNG structures for write</span>
<a name="l19599"></a>19599       png_voidp user_error_ptr=0;
<a name="l19600"></a>19600       png_error_ptr user_error_fn=0, user_warning_fn=0;
<a name="l19601"></a>19601       png_structp png_ptr = png_create_write_struct(PNG_LIBPNG_VER_STRING,
<a name="l19602"></a>19602                                                     user_error_ptr, user_error_fn, user_warning_fn);
<a name="l19603"></a>19603       <span class="keywordflow">if</span>(!png_ptr){
<a name="l19604"></a>19604         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19605"></a>19605         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : File &#39;%s&#39;, error when initializing &#39;png_ptr&#39; data structure.&quot;</span>,
<a name="l19606"></a>19606                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19607"></a>19607       }
<a name="l19608"></a>19608       png_infop info_ptr = png_create_info_struct(png_ptr);
<a name="l19609"></a>19609       <span class="keywordflow">if</span>(!info_ptr){
<a name="l19610"></a>19610         png_destroy_write_struct(&amp;png_ptr,(png_infopp)0);
<a name="l19611"></a>19611         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19612"></a>19612         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : File &#39;%s&#39;, error when initializing &#39;info_ptr&#39; data structure.&quot;</span>,
<a name="l19613"></a>19613                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19614"></a>19614       }
<a name="l19615"></a>19615       <span class="keywordflow">if</span> (setjmp(png_jmpbuf(png_ptr))){
<a name="l19616"></a>19616         png_destroy_write_struct(&amp;png_ptr, &amp;info_ptr);
<a name="l19617"></a>19617         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19618"></a>19618         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : File &#39;%s&#39;, unknown fatal error.&quot;</span>,
<a name="l19619"></a>19619                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19620"></a>19620       }
<a name="l19621"></a>19621 
<a name="l19622"></a>19622       png_init_io(png_ptr, nfile);
<a name="l19623"></a>19623       png_uint_32 <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = <a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>();
<a name="l19624"></a>19624       png_uint_32 <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = <a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>();
<a name="l19625"></a>19625       <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_stats.html" title="Class used to compute basic statistics on pixel values of a CImg image.">CImgStats</a> stats(*<span class="keyword">this</span>,<span class="keyword">false</span>);
<a name="l19626"></a>19626       <span class="keyword">const</span> <span class="keywordtype">float</span> vmin = (float)stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a2ec4816e565d420f16ed7c60a78fd2ca" title="Minimum of the pixel values.">min</a>, vmax = (<span class="keywordtype">float</span>)stats.<a class="code" href="structcimg__library_1_1_c_img_stats.html#a470bed920ae26c851500ea607631581a" title="Maximum of the pixel values.">max</a>;
<a name="l19627"></a>19627       <span class="keyword">const</span> <span class="keywordtype">int</span> bit_depth = (vmin&lt;0 || vmax&gt;=256)?16:8;
<a name="l19628"></a>19628       <span class="keywordtype">int</span> color_type;
<a name="l19629"></a>19629       <span class="keywordflow">switch</span> (<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()) {
<a name="l19630"></a>19630       <span class="keywordflow">case</span> 1: color_type = PNG_COLOR_TYPE_GRAY; <span class="keywordflow">break</span>;
<a name="l19631"></a>19631       <span class="keywordflow">case</span> 2: color_type = PNG_COLOR_TYPE_GRAY_ALPHA; <span class="keywordflow">break</span>;
<a name="l19632"></a>19632       <span class="keywordflow">case</span> 3: color_type = PNG_COLOR_TYPE_RGB; <span class="keywordflow">break</span>;
<a name="l19633"></a>19633       <span class="keywordflow">default</span>: color_type = PNG_COLOR_TYPE_RGB_ALPHA;
<a name="l19634"></a>19634       }
<a name="l19635"></a>19635       <span class="keyword">const</span> <span class="keywordtype">int</span> interlace_type = PNG_INTERLACE_NONE;
<a name="l19636"></a>19636       <span class="keyword">const</span> <span class="keywordtype">int</span> compression_type = PNG_COMPRESSION_TYPE_DEFAULT;
<a name="l19637"></a>19637       <span class="keyword">const</span> <span class="keywordtype">int</span> filter_method = PNG_FILTER_TYPE_DEFAULT;
<a name="l19638"></a>19638       png_set_IHDR(png_ptr, info_ptr, width, height, bit_depth, color_type, interlace_type,
<a name="l19639"></a>19639                    compression_type, filter_method);
<a name="l19640"></a>19640       png_write_info(png_ptr, info_ptr);
<a name="l19641"></a>19641       <span class="keyword">const</span> <span class="keywordtype">int</span> byte_depth = bit_depth&gt;&gt;3;
<a name="l19642"></a>19642       <span class="keyword">const</span> <span class="keywordtype">int</span> numChan = <a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>()&gt;4?4:<a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>();
<a name="l19643"></a>19643       <span class="keyword">const</span> <span class="keywordtype">int</span> pixel_bit_depth_flag = numChan * (bit_depth-1);
<a name="l19644"></a>19644 
<a name="l19645"></a>19645       <span class="comment">// Allocate Memory for Image Save and Fill pixel data</span>
<a name="l19646"></a>19646       png_bytep *imgData = <span class="keyword">new</span> png_byte*[height];
<a name="l19647"></a>19647       <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row=0; row&lt;height; row++) imgData[row] = <span class="keyword">new</span> png_byte[byte_depth * numChan * width];
<a name="l19648"></a>19648       <span class="keyword">const</span> T *pC0 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0);
<a name="l19649"></a>19649       <span class="keywordflow">switch</span>(pixel_bit_depth_flag) {
<a name="l19650"></a>19650       <span class="keywordflow">case</span> 7 :  { <span class="comment">// Gray 8-bit</span>
<a name="l19651"></a>19651         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19652"></a>19652           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = imgData[y];
<a name="l19653"></a>19653           cimg_forX(*<span class="keyword">this</span>,x) *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC0++);
<a name="l19654"></a>19654         }
<a name="l19655"></a>19655       } <span class="keywordflow">break</span>;
<a name="l19656"></a>19656       <span class="keywordflow">case</span> 14: { <span class="comment">// Gray w/ Alpha 8-bit</span>
<a name="l19657"></a>19657         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19658"></a>19658         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19659"></a>19659           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = imgData[y];
<a name="l19660"></a>19660           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19661"></a>19661             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC0++);
<a name="l19662"></a>19662             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC1++);
<a name="l19663"></a>19663           }
<a name="l19664"></a>19664         }
<a name="l19665"></a>19665       } <span class="keywordflow">break</span>;
<a name="l19666"></a>19666       <span class="keywordflow">case</span> 21:  { <span class="comment">// RGB 8-bit</span>
<a name="l19667"></a>19667         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19668"></a>19668         <span class="keyword">const</span> T *pC2 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l19669"></a>19669         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19670"></a>19670           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = imgData[y];
<a name="l19671"></a>19671           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19672"></a>19672             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC0++);
<a name="l19673"></a>19673             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC1++);
<a name="l19674"></a>19674             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC2++);
<a name="l19675"></a>19675           }
<a name="l19676"></a>19676         }
<a name="l19677"></a>19677       } <span class="keywordflow">break</span>;
<a name="l19678"></a>19678       <span class="keywordflow">case</span> 28: { <span class="comment">// RGB x/ Alpha 8-bit</span>
<a name="l19679"></a>19679         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19680"></a>19680         <span class="keyword">const</span> T *pC2 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l19681"></a>19681         <span class="keyword">const</span> T *pC3 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l19682"></a>19682         cimg_forY(*<span class="keyword">this</span>,y){
<a name="l19683"></a>19683           <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = imgData[y];
<a name="l19684"></a>19684           cimg_forX(*<span class="keyword">this</span>,x){
<a name="l19685"></a>19685             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC0++);
<a name="l19686"></a>19686             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC1++);
<a name="l19687"></a>19687             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC2++);
<a name="l19688"></a>19688             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(pC3++);
<a name="l19689"></a>19689           }
<a name="l19690"></a>19690         }
<a name="l19691"></a>19691       } <span class="keywordflow">break</span>;
<a name="l19692"></a>19692       <span class="keywordflow">case</span> 15: { <span class="comment">// Gray 16-bit</span>
<a name="l19693"></a>19693         cimg_forY(*<span class="keyword">this</span>,y){
<a name="l19694"></a>19694           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*<span class="keyword">&gt;</span>(imgData[y]);
<a name="l19695"></a>19695           cimg_forX(*<span class="keyword">this</span>,x) *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC0++);
<a name="l19696"></a>19696         }
<a name="l19697"></a>19697       } <span class="keywordflow">break</span>;
<a name="l19698"></a>19698       <span class="keywordflow">case</span> 30: { <span class="comment">// Gray w/ Alpha 16-bit</span>
<a name="l19699"></a>19699         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19700"></a>19700         cimg_forY(*<span class="keyword">this</span>,y){
<a name="l19701"></a>19701           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*<span class="keyword">&gt;</span>(imgData[y]);
<a name="l19702"></a>19702           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19703"></a>19703             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC0++);
<a name="l19704"></a>19704             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC1++);
<a name="l19705"></a>19705           }
<a name="l19706"></a>19706         }
<a name="l19707"></a>19707       } <span class="keywordflow">break</span>;
<a name="l19708"></a>19708       <span class="keywordflow">case</span> 45: { <span class="comment">// RGB 16-bit</span>
<a name="l19709"></a>19709         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19710"></a>19710         <span class="keyword">const</span> T *pC2 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l19711"></a>19711         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19712"></a>19712           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*<span class="keyword">&gt;</span>(imgData[y]);
<a name="l19713"></a>19713           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19714"></a>19714             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC0++);
<a name="l19715"></a>19715             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC1++);
<a name="l19716"></a>19716             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC2++);
<a name="l19717"></a>19717           }
<a name="l19718"></a>19718         }
<a name="l19719"></a>19719       } <span class="keywordflow">break</span>;
<a name="l19720"></a>19720       <span class="keywordflow">case</span> 60: { <span class="comment">// RGB w/ Alpha 16-bit</span>
<a name="l19721"></a>19721         <span class="keyword">const</span> T *pC1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1);
<a name="l19722"></a>19722         <span class="keyword">const</span> T *pC2 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l19723"></a>19723         <span class="keyword">const</span> T *pC3 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l19724"></a>19724         cimg_forY(*<span class="keyword">this</span>,y) {
<a name="l19725"></a>19725           <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptrs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*<span class="keyword">&gt;</span>(imgData[y]);
<a name="l19726"></a>19726           cimg_forX(*<span class="keyword">this</span>,x) {
<a name="l19727"></a>19727             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC0++);
<a name="l19728"></a>19728             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC1++);
<a name="l19729"></a>19729             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC2++);
<a name="l19730"></a>19730             *(ptrs++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(pC3++);
<a name="l19731"></a>19731           }
<a name="l19732"></a>19732         }
<a name="l19733"></a>19733       } <span class="keywordflow">break</span>;
<a name="l19734"></a>19734       <span class="keywordflow">default</span>:
<a name="l19735"></a>19735         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19736"></a>19736         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_png() : File &#39;%s&#39;, unknown fatal error.&quot;</span>,
<a name="l19737"></a>19737                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19738"></a>19738         <span class="keywordflow">break</span>;
<a name="l19739"></a>19739       }
<a name="l19740"></a>19740       png_write_image(png_ptr, imgData);
<a name="l19741"></a>19741       png_write_end(png_ptr, info_ptr);
<a name="l19742"></a>19742       png_destroy_write_struct(&amp;png_ptr, &amp;info_ptr);
<a name="l19743"></a>19743 
<a name="l19744"></a>19744       <span class="comment">// Deallocate Image Write Memory</span>
<a name="l19745"></a>19745       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0; n&lt;height; n++) <span class="keyword">delete</span>[] imgData[n];
<a name="l19746"></a>19746       <span class="keyword">delete</span>[] imgData;
<a name="l19747"></a>19747       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19748"></a>19748       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19749"></a>19749 <span class="preprocessor">#endif</span>
<a name="l19750"></a>19750 <span class="preprocessor"></span>    }
<a name="l19751"></a>19751 
<a name="l19753"></a><a class="code" href="structcimg__library_1_1_c_img.html#a8619972ee3d37f3f389a9c2df1b29005">19753</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8619972ee3d37f3f389a9c2df1b29005" title="Save a file in PNG format.">save_png</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19754"></a>19754       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ad9fa47a9f824507ce8feb7d9f6e76b06" title="Save an image to a PNG file.">save_png</a>(0,filename);
<a name="l19755"></a>19755     }
<a name="l19756"></a>19756 
<a name="l19758"></a><a class="code" href="structcimg__library_1_1_c_img.html#ac15df3e33a1ec6c37e26329f84ae0e13">19758</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac15df3e33a1ec6c37e26329f84ae0e13" title="Save a file in TIFF format.">save_tiff</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19759"></a>19759       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_tiff() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19760"></a>19760                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l19761"></a>19761       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_tiff() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19762"></a>19762                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19763"></a>19763 <span class="preprocessor">#ifdef cimg_use_tiff</span>
<a name="l19764"></a>19764 <span class="preprocessor"></span>      uint32 rowsperstrip = (uint32) -1;
<a name="l19765"></a>19765       uint16 spp = <a class="code" href="structcimg__library_1_1_c_img.html#ad30f8300f32a94a80e1e06c84a45de49" title="Return the number of vector channels of the instance image (size along the V-axis).">dimv</a>(), bpp = <span class="keyword">sizeof</span>(T)*8;
<a name="l19766"></a>19766       uint16 photometric;
<a name="l19767"></a>19767       <span class="keywordflow">if</span> (spp==3 || spp==4)
<a name="l19768"></a>19768         photometric = PHOTOMETRIC_RGB;
<a name="l19769"></a>19769           <span class="keywordflow">else</span>
<a name="l19770"></a>19770             photometric =   PHOTOMETRIC_MINISBLACK;
<a name="l19771"></a>19771       uint16 compression = COMPRESSION_NONE;
<a name="l19772"></a>19772       TIFF *out;
<a name="l19773"></a>19773       out = TIFFOpen(filename,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l19774"></a>19774       <span class="keywordflow">if</span> (out) {
<a name="l19775"></a>19775         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; dir++) {
<a name="l19776"></a>19776           TIFFSetField(out, TIFFTAG_IMAGEWIDTH, (uint32)<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>());
<a name="l19777"></a>19777           TIFFSetField(out, TIFFTAG_IMAGELENGTH, (uint32)<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>());
<a name="l19778"></a>19778           TIFFSetField(out, TIFFTAG_ORIENTATION, ORIENTATION_TOPLEFT);
<a name="l19779"></a>19779           TIFFSetField(out, TIFFTAG_SAMPLESPERPIXEL, spp);
<a name="l19780"></a>19780           TIFFSetField(out, TIFFTAG_BITSPERSAMPLE, bpp);
<a name="l19781"></a>19781           TIFFSetField(out, TIFFTAG_PLANARCONFIG, PLANARCONFIG_CONTIG);
<a name="l19782"></a>19782           TIFFSetField(out, TIFFTAG_PHOTOMETRIC, photometric);
<a name="l19783"></a>19783           TIFFSetField(out, TIFFTAG_COMPRESSION, compression);
<a name="l19784"></a>19784           rowsperstrip = TIFFDefaultStripSize(out, rowsperstrip);
<a name="l19785"></a>19785           TIFFSetField(out, TIFFTAG_ROWSPERSTRIP, rowsperstrip);
<a name="l19786"></a>19786           TIFFSetField(out, TIFFTAG_FILLORDER, FILLORDER_MSB2LSB);
<a name="l19787"></a>19787           TIFFSetField(out, TIFFTAG_SOFTWARE, <span class="stringliteral">&quot;CImg&quot;</span>);
<a name="l19788"></a>19788           T *buf =  (T *)_TIFFmalloc(TIFFStripSize(out));
<a name="l19789"></a>19789           <span class="keywordflow">if</span> (buf){
<a name="l19790"></a>19790             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row = 0; row &lt; <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; row+=rowsperstrip) {
<a name="l19791"></a>19791               uint32 nrow = (row+rowsperstrip&gt;height?height-row:rowsperstrip);
<a name="l19792"></a>19792               tstrip_t strip = TIFFComputeStrip(out, row, 0);
<a name="l19793"></a>19793               tsize_t i = 0;
<a name="l19794"></a>19794               <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rr=0; rr&lt;nrow; rr++)
<a name="l19795"></a>19795                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cc=0;cc&lt;<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;cc++)
<a name="l19796"></a>19796                   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv=0;vv&lt;spp;vv++)
<a name="l19797"></a>19797                     buf[i++] = (*<span class="keyword">this</span>)(cc,row+rr,dir,vv);
<a name="l19798"></a>19798               <span class="keywordflow">if</span>(TIFFWriteEncodedStrip(out, strip, buf, i*<span class="keyword">sizeof</span>(T))&lt;0){
<a name="l19799"></a>19799                 <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_tiff() : File &#39;%s&#39;, an error occure while writing a strip.&quot;</span>,
<a name="l19800"></a>19800                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l19801"></a>19801               }
<a name="l19802"></a>19802             }
<a name="l19803"></a>19803             _TIFFfree(buf);
<a name="l19804"></a>19804           }
<a name="l19805"></a>19805           TIFFWriteDirectory(out);
<a name="l19806"></a>19806         }
<a name="l19807"></a>19807         TIFFClose(out);
<a name="l19808"></a>19808       }
<a name="l19809"></a>19809       <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_exception.html" title="Class which is thrown when an error occured during a CImg library function call.">CImgException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_tiff() : File &#39;%s&#39;, error while writing tiff file.&quot;</span>,
<a name="l19810"></a>19810                                <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l19811"></a>19811 <span class="preprocessor">#else</span>
<a name="l19812"></a>19812 <span class="preprocessor"></span>      <span class="keywordflow">return</span> save_other(filename);
<a name="l19813"></a>19813 <span class="preprocessor">#endif</span>
<a name="l19814"></a>19814 <span class="preprocessor"></span>      <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19815"></a>19815     }
<a name="l19816"></a>19816 
<a name="l19818"></a><a class="code" href="structcimg__library_1_1_c_img.html#aab6eba0352abb4ccfbc03bcb756d4c0b">19818</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aab6eba0352abb4ccfbc03bcb756d4c0b" title="Save a file in JPEG format.">save_jpeg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quality=100)<span class="keyword"> const </span>{
<a name="l19819"></a>19819       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_jpeg() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19820"></a>19820                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19821"></a>19821       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_jpeg() : Instance image (%u,%u,%u,%u,%p), specified filename is (null).&quot;</span>,
<a name="l19822"></a>19822                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19823"></a>19823       cimg::warn(<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1,
<a name="l19824"></a>19824                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_jpeg() : Instance image (%u,%u,%u,%u,%p) is volumetric. Only the first slice will be saved (file &#39;%s&#39;).&quot;</span>,
<a name="l19825"></a>19825                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19826"></a>19826 <span class="preprocessor">#ifndef cimg_use_jpeg</span>
<a name="l19827"></a>19827 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (!file) <span class="keywordflow">return</span> save_other(filename,quality);
<a name="l19828"></a>19828       <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_jpeg() : Cannot save a JPEG image in a *FILE output. Use libjpeg instead.&quot;</span>,
<a name="l19829"></a>19829                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l19830"></a>19830 <span class="preprocessor">#else</span>
<a name="l19831"></a>19831 <span class="preprocessor"></span>
<a name="l19832"></a>19832       <span class="comment">// Fill pixel buffer</span>
<a name="l19833"></a>19833       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf;
<a name="l19834"></a>19834       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dimbuf=0;
<a name="l19835"></a>19835       J_COLOR_SPACE colortype=JCS_RGB;
<a name="l19836"></a>19836       <span class="keywordflow">switch</span> (dim) {
<a name="l19837"></a>19837       <span class="keywordflow">case</span> 1: { <span class="comment">// Greyscale images</span>
<a name="l19838"></a>19838         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf2 = buf = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(dimbuf=1)];
<a name="l19839"></a>19839         colortype = JCS_GRAYSCALE;
<a name="l19840"></a>19840         <span class="keyword">const</span> T *ptr_g = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>();
<a name="l19841"></a>19841         cimg_forXY(*<span class="keyword">this</span>,x,y) *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_g++);
<a name="l19842"></a>19842       } <span class="keywordflow">break</span>;
<a name="l19843"></a>19843       <span class="keywordflow">case</span> 2:
<a name="l19844"></a>19844       <span class="keywordflow">case</span> 3: { <span class="comment">// RGB images</span>
<a name="l19845"></a>19845         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf2 = buf = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(dimbuf=3)];
<a name="l19846"></a>19846         <span class="keyword">const</span> T *ptr_r = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *ptr_g = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *ptr_b = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,dim&gt;2?2:0);
<a name="l19847"></a>19847         colortype = JCS_RGB;
<a name="l19848"></a>19848         cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l19849"></a>19849           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_r++);
<a name="l19850"></a>19850           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_g++);
<a name="l19851"></a>19851           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_b++);
<a name="l19852"></a>19852         }
<a name="l19853"></a>19853       } <span class="keywordflow">break</span>;
<a name="l19854"></a>19854       <span class="keywordflow">default</span>: { <span class="comment">// YCMYK images</span>
<a name="l19855"></a>19855         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf2 = buf = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*(dimbuf=4)];
<a name="l19856"></a>19856         <span class="keyword">const</span> T *ptr_r = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *ptr_g = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *ptr_b = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2), *ptr_a = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3);
<a name="l19857"></a>19857         colortype = JCS_CMYK;
<a name="l19858"></a>19858         cimg_forXY(*<span class="keyword">this</span>,x,y) {
<a name="l19859"></a>19859           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_r++);
<a name="l19860"></a>19860           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_g++);
<a name="l19861"></a>19861           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_b++);
<a name="l19862"></a>19862           *(buf2++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*(ptr_a++);
<a name="l19863"></a>19863         }
<a name="l19864"></a>19864       } <span class="keywordflow">break</span>;
<a name="l19865"></a>19865       }
<a name="l19866"></a>19866 
<a name="l19867"></a>19867       <span class="comment">// Call libjpeg functions</span>
<a name="l19868"></a>19868       <span class="keyword">struct </span>jpeg_compress_struct cinfo;
<a name="l19869"></a>19869       <span class="keyword">struct </span>jpeg_error_mgr jerr;
<a name="l19870"></a>19870       cinfo.err = jpeg_std_error(&amp;jerr);
<a name="l19871"></a>19871       jpeg_create_compress(&amp;cinfo);
<a name="l19872"></a>19872       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19873"></a>19873       jpeg_stdio_dest(&amp;cinfo,nfile);
<a name="l19874"></a>19874       cinfo.image_width = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l19875"></a>19875       cinfo.image_height = <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l19876"></a>19876       cinfo.input_components = dimbuf;
<a name="l19877"></a>19877       cinfo.in_color_space = colortype;
<a name="l19878"></a>19878       jpeg_set_defaults(&amp;cinfo);
<a name="l19879"></a>19879       jpeg_set_quality(&amp;cinfo,quality&lt;100?quality:100,TRUE);
<a name="l19880"></a>19880       jpeg_start_compress(&amp;cinfo,TRUE);
<a name="l19881"></a>19881 
<a name="l19882"></a>19882       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_stride = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*dimbuf;
<a name="l19883"></a>19883       JSAMPROW row_pointer[1];
<a name="l19884"></a>19884       <span class="keywordflow">while</span> (cinfo.next_scanline &lt; cinfo.image_height) {
<a name="l19885"></a>19885         row_pointer[0] = &amp;buf[cinfo.next_scanline*row_stride];
<a name="l19886"></a>19886         jpeg_write_scanlines(&amp;cinfo,row_pointer,1);
<a name="l19887"></a>19887       }
<a name="l19888"></a>19888       jpeg_finish_compress(&amp;cinfo);
<a name="l19889"></a>19889 
<a name="l19890"></a>19890       <span class="keyword">delete</span>[] buf;
<a name="l19891"></a>19891       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19892"></a>19892       jpeg_destroy_compress(&amp;cinfo);
<a name="l19893"></a>19893       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19894"></a>19894 <span class="preprocessor">#endif</span>
<a name="l19895"></a>19895 <span class="preprocessor"></span>    }
<a name="l19896"></a>19896 
<a name="l19898"></a><a class="code" href="structcimg__library_1_1_c_img.html#aed351b50d839db942c63e630525c476b">19898</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aed351b50d839db942c63e630525c476b" title="Save a file in JPEG format.">save_jpeg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quality=100)<span class="keyword"> const </span>{
<a name="l19899"></a>19899       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aab6eba0352abb4ccfbc03bcb756d4c0b" title="Save a file in JPEG format.">save_jpeg</a>(0,filename,quality);
<a name="l19900"></a>19900     }
<a name="l19901"></a>19901 
<a name="l19903"></a><a class="code" href="structcimg__library_1_1_c_img.html#a91529d80bd21a08ab9314fc132138f9c">19903</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a91529d80bd21a08ab9314fc132138f9c" title="Save the image using built-in ImageMagick++ library.">save_magick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19904"></a>19904       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_magick() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19905"></a>19905                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19906"></a>19906       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_magick() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19907"></a>19907                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19908"></a>19908 <span class="preprocessor">#ifdef cimg_use_magick</span>
<a name="l19909"></a>19909 <span class="preprocessor"></span>      Magick::Image image(Magick::Geometry(<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>),<span class="stringliteral">&quot;black&quot;</span>);
<a name="l19910"></a>19910       image.type(Magick::TrueColorType);
<a name="l19911"></a>19911       <span class="keyword">const</span> T *rdata = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *gdata = dim&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1):rdata, *bdata = dim&gt;2?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2):gdata;
<a name="l19912"></a>19912       cimg_forXY(*<span class="keyword">this</span>,x,y) image.pixelColor(x,y,Magick::ColorRGB(*(rdata++)/255.0,*(gdata++)/255.0,*(bdata++)/255.0));
<a name="l19913"></a>19913       image.syncPixels();
<a name="l19914"></a>19914       image.write(filename);
<a name="l19915"></a>19915 <span class="preprocessor">#else</span>
<a name="l19916"></a>19916 <span class="preprocessor"></span>      <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_magick() : File &#39;%s&#39;, Magick++ library has not been linked.&quot;</span>,
<a name="l19917"></a>19917                             <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l19918"></a>19918 <span class="preprocessor">#endif</span>
<a name="l19919"></a>19919 <span class="preprocessor"></span>      <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19920"></a>19920     }
<a name="l19921"></a>19921 
<a name="l19923"></a><a class="code" href="structcimg__library_1_1_c_img.html#a133af6a59ecc79219f1b2f68bee475bb">19923</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a133af6a59ecc79219f1b2f68bee475bb" title="Save the image as a RGBA file.">save_rgba</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19924"></a>19924       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgba() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19925"></a>19925                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19926"></a>19926       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgba() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19927"></a>19927                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19928"></a>19928       cimg::warn(dim!=4,
<a name="l19929"></a>19929                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgba() : Instance image (%u,%u,%u,%u,%p) has not exactly 4 channels (file &#39;%s&#39;).&quot;</span>,
<a name="l19930"></a>19930                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19931"></a>19931       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19932"></a>19932       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wh = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l19933"></a>19933       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[4*wh], *nbuffer=buffer;
<a name="l19934"></a>19934       <span class="keyword">const</span> T
<a name="l19935"></a>19935         *ptr1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0),
<a name="l19936"></a>19936         *ptr2 = dim&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1):ptr1,
<a name="l19937"></a>19937         *ptr3 = dim&gt;2?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2):ptr1,
<a name="l19938"></a>19938         *ptr4 = dim&gt;3?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,3):0;
<a name="l19939"></a>19939       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;wh; k++) {
<a name="l19940"></a>19940         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr1++));
<a name="l19941"></a>19941         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr2++));
<a name="l19942"></a>19942         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr3++));
<a name="l19943"></a>19943         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(ptr4?(*(ptr4++)):255);
<a name="l19944"></a>19944       }
<a name="l19945"></a>19945       cimg::fwrite(buffer,4*wh,nfile);
<a name="l19946"></a>19946       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19947"></a>19947       <span class="keyword">delete</span>[] buffer;
<a name="l19948"></a>19948       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19949"></a>19949     }
<a name="l19950"></a>19950 
<a name="l19952"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2d8147748e3dab5dcd010fb2bf46d7ec">19952</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2d8147748e3dab5dcd010fb2bf46d7ec" title="Save the image as a RGBA file.">save_rgba</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19953"></a>19953       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a133af6a59ecc79219f1b2f68bee475bb" title="Save the image as a RGBA file.">save_rgba</a>(0,filename);
<a name="l19954"></a>19954     }
<a name="l19955"></a>19955 
<a name="l19957"></a><a class="code" href="structcimg__library_1_1_c_img.html#a05f2988b7be539403f308b06389f2767">19957</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a05f2988b7be539403f308b06389f2767" title="Save the image as a RGB file.">save_rgb</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l19958"></a>19958       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgb() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l19959"></a>19959                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19960"></a>19960       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgb() : Instance image (%u,%u,%u,%u,%p), specified file is (null).&quot;</span>,
<a name="l19961"></a>19961                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l19962"></a>19962       cimg::warn(dim!=3,
<a name="l19963"></a>19963                  <span class="stringliteral">&quot;CImg&lt;%s&gt;::save_rgb() : Instance image (%u,%u,%u,%u,%p) has not exactly 3 channels (file &#39;%s&#39;).&quot;</span>,
<a name="l19964"></a>19964                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l19965"></a>19965       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l19966"></a>19966       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wh = <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l19967"></a>19967       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[3*wh], *nbuffer=buffer;
<a name="l19968"></a>19968       <span class="keyword">const</span> T
<a name="l19969"></a>19969         *ptr1 = <a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0),
<a name="l19970"></a>19970         *ptr2 = dim&gt;1?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1):ptr1,
<a name="l19971"></a>19971         *ptr3 = dim&gt;2?<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2):ptr1;
<a name="l19972"></a>19972       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;wh; k++) {
<a name="l19973"></a>19973         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr1++));
<a name="l19974"></a>19974         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr2++));
<a name="l19975"></a>19975         *(nbuffer++) = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*(ptr3++));
<a name="l19976"></a>19976       }
<a name="l19977"></a>19977       cimg::fwrite(buffer,3*wh,nfile);
<a name="l19978"></a>19978       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l19979"></a>19979       <span class="keyword">delete</span>[] buffer;
<a name="l19980"></a>19980       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l19981"></a>19981     }
<a name="l19982"></a>19982 
<a name="l19984"></a><a class="code" href="structcimg__library_1_1_c_img.html#a871402e0f41b33b8e560354d858f03bd">19984</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a871402e0f41b33b8e560354d858f03bd" title="Save the image as a RGB file.">save_rgb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l19985"></a>19985       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a05f2988b7be539403f308b06389f2767" title="Save the image as a RGB file.">save_rgb</a>(0,filename);
<a name="l19986"></a>19986     }
<a name="l19987"></a>19987 
<a name="l19989"></a><a class="code" href="structcimg__library_1_1_c_img.html#a04d6bb2563befb71032a6ea2c53ec494">19989</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a> <a class="code" href="structcimg__library_1_1_c_img.html#a04d6bb2563befb71032a6ea2c53ec494" title="Get a 40x38 color logo of a &amp;#39;danger&amp;#39; item.">get_logo40x38</a>() {
<a name="l19990"></a>19990       <span class="keyword">static</span> <span class="keywordtype">bool</span> first_time = <span class="keyword">true</span>;
<a name="l19991"></a>19991       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res(40,38,1,3);
<a name="l19992"></a>19992       <span class="keywordflow">if</span> (first_time) {
<a name="l19993"></a>19993         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptrs = cimg::logo40x38;
<a name="l19994"></a>19994         T *ptr1 = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,0), *ptr2 = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1), *ptr3 = res.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,2);
<a name="l19995"></a>19995         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = 0; off&lt;res.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*res.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;) {
<a name="l19996"></a>19996           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> n = *(ptrs++), r = *(ptrs++), g = *(ptrs++), b = *(ptrs++);
<a name="l19997"></a>19997           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;n; off++,l++) { *(ptr1++) = (T)r; *(ptr2++) = (T)g; *(ptr3++) = (T)b; }
<a name="l19998"></a>19998         }
<a name="l19999"></a>19999         first_time = <span class="keyword">false</span>;
<a name="l20000"></a>20000       }
<a name="l20001"></a>20001       <span class="keywordflow">return</span> res;
<a name="l20002"></a>20002     }
<a name="l20003"></a>20003 
<a name="l20005"></a>20005     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf, <span class="keyword">typename</span> tc&gt;
<a name="l20006"></a><a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42">20006</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l20007"></a>20007                          <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors, <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l20008"></a>20008       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_off() : Instance image (%u,%u,%u,%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l20009"></a>20009                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l20010"></a>20010       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_off() : Specified filename is (null).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l20011"></a>20011       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l20012"></a>20012       std::fprintf(nfile,<span class="stringliteral">&quot;OFF\n%u %u %u\n&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>,3*primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20013"></a>20013       cimg_forX(*<span class="keyword">this</span>,i) std::fprintf(nfile,<span class="stringliteral">&quot;%f %f %f\n&quot;</span>,(<span class="keywordtype">float</span>)((*<span class="keyword">this</span>)(i,0)),(<span class="keywordtype">float</span>)((*<span class="keyword">this</span>)(i,1)),(<span class="keywordtype">float</span>)((*<span class="keyword">this</span>)(i,2)));
<a name="l20014"></a>20014       cimglist_for(primitives,l) {
<a name="l20015"></a>20015         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prim = primitives[l].<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>();
<a name="l20016"></a>20016         <span class="keywordflow">switch</span> (prim) {
<a name="l20017"></a>20017         <span class="keywordflow">case</span> 3: {
<a name="l20018"></a>20018           <span class="keywordflow">if</span> (invert_faces)
<a name="l20019"></a>20019             std::fprintf(nfile,<span class="stringliteral">&quot;3 %u %u %u %f %f %f\n&quot;</span>,
<a name="l20020"></a>20020                          (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,0),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,1),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,2),
<a name="l20021"></a>20021                          (<span class="keywordtype">float</span>)(colors(l,0)/255.0f),(<span class="keywordtype">float</span>)(colors(l,1)/255.0f),(<span class="keywordtype">float</span>)(colors(l,2)/255.0f));
<a name="l20022"></a>20022           <span class="keywordflow">else</span>
<a name="l20023"></a>20023             std::fprintf(nfile,<span class="stringliteral">&quot;3 %u %u %u %f %f %f\n&quot;</span>,
<a name="l20024"></a>20024                          (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,0),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,2),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,1),
<a name="l20025"></a>20025                          (<span class="keywordtype">float</span>)(colors(l,0)/255.0f),(<span class="keywordtype">float</span>)(colors(l,1)/255.0f),(<span class="keywordtype">float</span>)(colors(l,2)/255.0f));
<a name="l20026"></a>20026         } <span class="keywordflow">break</span>;
<a name="l20027"></a>20027         <span class="keywordflow">case</span> 4: {
<a name="l20028"></a>20028           <span class="keywordflow">if</span> (invert_faces)
<a name="l20029"></a>20029             std::fprintf(nfile,<span class="stringliteral">&quot;4 %u %u %u %u %f %f %f\n&quot;</span>,
<a name="l20030"></a>20030                          (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,0),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,1),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,2),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,3),
<a name="l20031"></a>20031                          (<span class="keywordtype">float</span>)(colors(l,0)/255.0f),(<span class="keywordtype">float</span>)(colors(l,1)/255.0f),(<span class="keywordtype">float</span>)(colors(l,2)/255.0f));
<a name="l20032"></a>20032           <span class="keywordflow">else</span>
<a name="l20033"></a>20033             std::fprintf(nfile,<span class="stringliteral">&quot;4 %u %u %u %u %f %f %f\n&quot;</span>,
<a name="l20034"></a>20034                          (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,0),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,3),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,2),(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)primitives(l,1),
<a name="l20035"></a>20035                          (<span class="keywordtype">float</span>)(colors(l,0)/255.0f),(<span class="keywordtype">float</span>)(colors(l,1)/255.0f),(<span class="keywordtype">float</span>)(colors(l,2)/255.0f));
<a name="l20036"></a>20036         } <span class="keywordflow">break</span>;
<a name="l20037"></a>20037         }
<a name="l20038"></a>20038       }
<a name="l20039"></a>20039       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l20040"></a>20040       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20041"></a>20041     }
<a name="l20042"></a>20042 
<a name="l20044"></a>20044     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf, <span class="keyword">typename</span> tc&gt;
<a name="l20045"></a><a class="code" href="structcimg__library_1_1_c_img.html#a6083c4e5d3b7b1ebaa195cbaf8e23302">20045</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l20046"></a>20046                          <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors, <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l20047"></a>20047       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(filename,primitives,colors,invert_faces);
<a name="l20048"></a>20048     }
<a name="l20049"></a>20049 
<a name="l20050"></a>20050   };
<a name="l20051"></a>20051 
<a name="l20052"></a>20052 
<a name="l20053"></a>20053   <span class="comment">/*</span>
<a name="l20054"></a>20054 <span class="comment">   #-----------------------------------------</span>
<a name="l20055"></a>20055 <span class="comment">   #</span>
<a name="l20056"></a>20056 <span class="comment">   #</span>
<a name="l20057"></a>20057 <span class="comment">   #</span>
<a name="l20058"></a>20058 <span class="comment">   # Definition of the CImgList&lt;&gt; structure</span>
<a name="l20059"></a>20059 <span class="comment">   #</span>
<a name="l20060"></a>20060 <span class="comment">   #</span>
<a name="l20061"></a>20061 <span class="comment">   #</span>
<a name="l20062"></a>20062 <span class="comment">   #------------------------------------------</span>
<a name="l20063"></a>20063 <span class="comment">   */</span>
<a name="l20064"></a>20064 
<a name="l20066"></a><a class="code" href="structcimg__library_1_1_c_img_list.html">20066</a>   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> {
<a name="l20067"></a>20067 
<a name="l20069"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e">20069</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size;
<a name="l20070"></a>20070 
<a name="l20072"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a29a33badac3960de364970bbd7294e76">20072</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> allocsize;
<a name="l20073"></a>20073 
<a name="l20075"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78">20075</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20076"></a>20076 
<a name="l20078"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ac4e7d5d973678ecd8250aa7eff9b9c98">20078</a>     <span class="keyword">typedef</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>* <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">iterator</a>;
<a name="l20079"></a>20079 
<a name="l20081"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a9f452dd491a85506dbaca5ea32a636e3">20081</a>     <span class="keyword">typedef</span> <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>* <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">const_iterator</a>;
<a name="l20082"></a>20082 
<a name="l20084"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ab3c229d5b1ee47f7c71cb1499b29e4e4">20084</a>     <span class="keyword">typedef</span> T value_type;
<a name="l20085"></a>20085 
<a name="l20087"></a>20087     <span class="comment">//---------------------------</span>
<a name="l20088"></a>20088     <span class="comment">//</span>
<a name="l20090"></a>20090 <span class="comment"></span>
<a name="l20091"></a>20091     <span class="comment">//---------------------------</span>
<a name="l20092"></a>20092 <span class="preprocessor">#ifdef cimglist_plugin</span>
<a name="l20093"></a>20093 <span class="preprocessor"></span><span class="preprocessor">#include cimglist_plugin</span>
<a name="l20094"></a>20094 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l20095"></a>20095 <span class="preprocessor"></span>
<a name="l20096"></a>20096 
<a name="l20097"></a>20097     <span class="comment">//------------------------------------------</span>
<a name="l20098"></a>20098     <span class="comment">//</span>
<a name="l20100"></a>20100 <span class="comment"></span>
<a name="l20101"></a>20101     <span class="comment">//------------------------------------------</span>
<a name="l20102"></a>20102 
<a name="l20104"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2d39db2f68af51153f623c43afc655a1">20104</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>():
<a name="l20105"></a>20105       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {}
<a name="l20106"></a>20106 
<a name="l20108"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2bb17b7eec1c4b6eaddbb0e2af211dbb">20108</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html#a2bb17b7eec1c4b6eaddbb0e2af211dbb" title="Destructor.">~CImgList</a>() {
<a name="l20109"></a>20109       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20110"></a>20110     }
<a name="l20111"></a>20111 
<a name="l20113"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765">20113</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>() {
<a name="l20114"></a>20114       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20115"></a>20115       size = allocsize = 0;
<a name="l20116"></a>20116       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0;
<a name="l20117"></a>20117       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20118"></a>20118     }
<a name="l20119"></a>20119 
<a name="l20121"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a96954dbde6c6fa7779d6979fb7b253ed">20121</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a96954dbde6c6fa7779d6979fb7b253ed" title="Equivalent to assign() (STL-compliant name).">clear</a>() {
<a name="l20122"></a>20122       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l20123"></a>20123     }
<a name="l20124"></a>20124 
<a name="l20126"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0826aee4aa732c5d293714c8ace2f8fd">20126</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list):
<a name="l20127"></a>20127       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20128"></a>20128       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list);
<a name="l20129"></a>20129     }
<a name="l20130"></a>20130 
<a name="l20131"></a>20131     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; list):
<a name="l20132"></a>20132       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20133"></a>20133       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list);
<a name="l20134"></a>20134     }
<a name="l20135"></a>20135 
<a name="l20137"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a29e4b5b0c2ee7c700d12dc61bb288f48">20137</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared):
<a name="l20138"></a>20138       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20139"></a>20139       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list,shared);
<a name="l20140"></a>20140     }
<a name="l20141"></a>20141 
<a name="l20142"></a>20142     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared):
<a name="l20143"></a>20143       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20144"></a>20144       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list,shared);
<a name="l20145"></a>20145     }
<a name="l20146"></a>20146 
<a name="l20148"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#abd4a749d3480e94b97ea11c99648b68a">20148</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#abd4a749d3480e94b97ea11c99648b68a" title="In-place version of the copy constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20149"></a>20149       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20150"></a>20150       cimglist_for(*<span class="keyword">this</span>,l) (*this)[l].assign(list[l],shared);
<a name="l20151"></a>20151       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20152"></a>20152     }
<a name="l20153"></a>20153 
<a name="l20155"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0f9c6c3ea20c2bb5c1efa312a718072e">20155</a>     <span class="keyword">explicit</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n):
<a name="l20156"></a>20156       size(n) {
<a name="l20157"></a>20157       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>[allocsize=<a class="code" href="namespacecimg__library_1_1cimg.html#a82202bb5c5c52020364951471bb1ae8f" title="Return the nearest power of 2 higher than x.">cimg::nearest_pow2</a>(n)];
<a name="l20158"></a>20158     }
<a name="l20159"></a>20159 
<a name="l20161"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0f24623df6ce55cc7eff19abf90b7131">20161</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a0f24623df6ce55cc7eff19abf90b7131" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) {
<a name="l20162"></a>20162       <span class="keywordflow">if</span> (n) {
<a name="l20163"></a>20163         <span class="keywordflow">if</span> (allocsize&lt;n || allocsize&gt;(n&lt;&lt;2)) {
<a name="l20164"></a>20164           <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20165"></a>20165           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = <span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>[allocsize=<a class="code" href="namespacecimg__library_1_1cimg.html#a82202bb5c5c52020364951471bb1ae8f" title="Return the nearest power of 2 higher than x.">cimg::nearest_pow2</a>(n)];
<a name="l20166"></a>20166         }
<a name="l20167"></a>20167         size = n;
<a name="l20168"></a>20168       } <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l20169"></a>20169       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20170"></a>20170     }
<a name="l20171"></a>20171 
<a name="l20173"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a980a7f9e82d73959a1b2f06241d86171">20173</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=1,
<a name="l20174"></a>20174           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim=1):
<a name="l20175"></a>20175       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20176"></a>20176       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim);
<a name="l20177"></a>20177     }
<a name="l20178"></a>20178 
<a name="l20180"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a364dbd2a5ec37c6a8fe7bb0c987aa349">20180</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>=1,
<a name="l20181"></a>20181                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>=1, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim=1) {
<a name="l20182"></a>20182       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siz = width*<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*dim;
<a name="l20183"></a>20183       <span class="keywordflow">if</span> (n &amp;&amp; siz) { <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n); cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l].assign(width,<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dim); }
<a name="l20184"></a>20184       <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l20185"></a>20185       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20186"></a>20186     }
<a name="l20187"></a>20187 
<a name="l20189"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aaa2b8d484fdb40a8c09a278fde62dd4a">20189</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,
<a name="l20190"></a>20190           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim, <span class="keyword">const</span> T&amp; val):
<a name="l20191"></a>20191       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20192"></a>20192       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,width,height,depth,dim,val);
<a name="l20193"></a>20193     }
<a name="l20194"></a>20194 
<a name="l20196"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a212d98ed848351cf4f23910e717a4878">20196</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,
<a name="l20197"></a>20197                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim,<span class="keyword">const</span> T&amp; val) {
<a name="l20198"></a>20198       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,width,height,depth,dim);
<a name="l20199"></a>20199       cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l].fill(val);
<a name="l20200"></a>20200       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20201"></a>20201     }
<a name="l20202"></a>20202 
<a name="l20204"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#adca9eb5550fdba450571786c433857e3">20204</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20205"></a>20205       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20206"></a>20206       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n,img,shared);
<a name="l20207"></a>20207     }
<a name="l20208"></a>20208 
<a name="l20210"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#af900415279f0c2c7fbb5a877e999c747">20210</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#af900415279f0c2c7fbb5a877e999c747" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20211"></a>20211       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(n);
<a name="l20212"></a>20212       cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l].assign(img,shared);
<a name="l20213"></a>20213       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20214"></a>20214     }
<a name="l20215"></a>20215 
<a name="l20217"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ac03712b04fdab675041e9aa68de5fbcc">20217</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">explicit</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20218"></a>20218       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20219"></a>20219       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img,shared);
<a name="l20220"></a>20220     }
<a name="l20221"></a>20221 
<a name="l20223"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a29a2dc09626def5d0259a2f07a99576f">20223</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a29a2dc09626def5d0259a2f07a99576f" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20224"></a>20224       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(1,img,shared);
<a name="l20225"></a>20225     }
<a name="l20226"></a>20226 
<a name="l20228"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a3c8c35d345ccc07c5f5ad210ec06c19e">20228</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20229"></a>20229       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20230"></a>20230       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,shared);
<a name="l20231"></a>20231     }
<a name="l20232"></a>20232 
<a name="l20234"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a34848bfb2177658d218c4bfe4eb96c7d">20234</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a34848bfb2177658d218c4bfe4eb96c7d" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20235"></a>20235       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(2);
<a name="l20236"></a>20236       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared);
<a name="l20237"></a>20237       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20238"></a>20238     }
<a name="l20239"></a>20239 
<a name="l20241"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a35672e157078227def997fbd0d193fa6">20241</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20242"></a>20242       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20243"></a>20243       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,shared);
<a name="l20244"></a>20244     }
<a name="l20245"></a>20245 
<a name="l20247"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a6b5f18c8eef5b7124ed232368fd7f9f1">20247</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a6b5f18c8eef5b7124ed232368fd7f9f1" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20248"></a>20248       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(3);
<a name="l20249"></a>20249       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared);
<a name="l20250"></a>20250       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20251"></a>20251     }
<a name="l20252"></a>20252 
<a name="l20254"></a>20254     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4&gt;
<a name="l20255"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ac23ad2db00d1b257e354f9fcf33714a6">20255</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20256"></a>20256       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20257"></a>20257       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,shared);
<a name="l20258"></a>20258     }
<a name="l20259"></a>20259 
<a name="l20261"></a>20261     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4&gt;
<a name="l20262"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a61f90e5685eefb5f17d48ca8015088d6">20262</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a61f90e5685eefb5f17d48ca8015088d6" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20263"></a>20263       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(4);
<a name="l20264"></a>20264       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20265"></a>20265       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20266"></a>20266     }
<a name="l20267"></a>20267 
<a name="l20269"></a>20269     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5&gt;
<a name="l20270"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1aad0ea2fe79ae7f5a5685353bb9eb85">20270</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20271"></a>20271       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20272"></a>20272       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,shared);
<a name="l20273"></a>20273     }
<a name="l20274"></a>20274 
<a name="l20276"></a>20276     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5&gt;
<a name="l20277"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aae53c6c2bb8a2633e02e28858b7f95ff">20277</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20278"></a>20278                      <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20279"></a>20279       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(5);
<a name="l20280"></a>20280       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20281"></a>20281       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared);
<a name="l20282"></a>20282       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20283"></a>20283     }
<a name="l20284"></a>20284 
<a name="l20286"></a>20286     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6&gt;
<a name="l20287"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#abccb935b6d0feba77a9a357815329818">20287</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20288"></a>20288              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20289"></a>20289       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20290"></a>20290       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,img6,shared);
<a name="l20291"></a>20291     }
<a name="l20292"></a>20292 
<a name="l20294"></a>20294     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6&gt;
<a name="l20295"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a7d2951eb7dfaa357d8568660d8e554b2">20295</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20296"></a>20296                      <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20297"></a>20297       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(6);
<a name="l20298"></a>20298       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20299"></a>20299       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5].assign(img6,shared);
<a name="l20300"></a>20300       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20301"></a>20301     }
<a name="l20302"></a>20302 
<a name="l20304"></a>20304     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7&gt;
<a name="l20305"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#acf1e35998806708359175c773a3a587b">20305</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20306"></a>20306              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20307"></a>20307       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20308"></a>20308       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,img6,img7,shared);
<a name="l20309"></a>20309     }
<a name="l20310"></a>20310 
<a name="l20312"></a>20312     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7&gt;
<a name="l20313"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a60e9d12ac9fc7c3059614c2d2243bdb8">20313</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20314"></a>20314                      <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20315"></a>20315       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(7);
<a name="l20316"></a>20316       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20317"></a>20317       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5].assign(img6,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6].assign(img7,shared);
<a name="l20318"></a>20318       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20319"></a>20319     }
<a name="l20320"></a>20320 
<a name="l20322"></a>20322     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8&gt;
<a name="l20323"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae0b00db0ea5d0628239efe53a6939107">20323</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20324"></a>20324              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20325"></a>20325       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20326"></a>20326       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,img6,img7,img8,shared);
<a name="l20327"></a>20327     }
<a name="l20328"></a>20328 
<a name="l20330"></a>20330     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8&gt;
<a name="l20331"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a225eb41320c8ea851388dd71e05ebc9b">20331</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20332"></a>20332                      <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20333"></a>20333       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(8);
<a name="l20334"></a>20334       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20335"></a>20335       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5].assign(img6,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6].assign(img7,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7].assign(img8,shared);
<a name="l20336"></a>20336       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20337"></a>20337     }
<a name="l20338"></a>20338 
<a name="l20340"></a>20340     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8, <span class="keyword">typename</span> t9&gt;
<a name="l20341"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a50fbe6797429f5b126efe65136583006">20341</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20342"></a>20342              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t9&gt;</a>&amp; img9, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20343"></a>20343       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20344"></a>20344       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,img6,img7,img8,img9,shared);
<a name="l20345"></a>20345     }
<a name="l20346"></a>20346 
<a name="l20348"></a>20348     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8, <span class="keyword">typename</span> t9&gt;
<a name="l20349"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ac13c200f47d8fdac4b7d257c9d6d79d6">20349</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20350"></a>20350                      <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t9&gt;</a>&amp; img9, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20351"></a>20351       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(9);
<a name="l20352"></a>20352       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20353"></a>20353       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5].assign(img6,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6].assign(img7,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7].assign(img8,shared);
<a name="l20354"></a>20354       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[8].assign(img9,shared);
<a name="l20355"></a>20355       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20356"></a>20356     }
<a name="l20357"></a>20357 
<a name="l20359"></a>20359     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8, <span class="keyword">typename</span> t9, <span class="keyword">typename</span> t10&gt;
<a name="l20360"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a5d483d8137f9b8d3ed079716d2322081">20360</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20361"></a>20361              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t9&gt;</a>&amp; img9, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t10&gt;</a>&amp; img10,
<a name="l20362"></a>20362           <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>):
<a name="l20363"></a>20363       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20364"></a>20364       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(img1,img2,img3,img4,img5,img6,img7,img8,img9,img10,shared);
<a name="l20365"></a>20365     }
<a name="l20366"></a>20366 
<a name="l20368"></a>20368     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t1, <span class="keyword">typename</span> t2, <span class="keyword">typename</span> t3, <span class="keyword">typename</span> t4, <span class="keyword">typename</span> t5, <span class="keyword">typename</span> t6, <span class="keyword">typename</span> t7, <span class="keyword">typename</span> t8, <span class="keyword">typename</span> t9, <span class="keyword">typename</span> t10&gt;
<a name="l20369"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae3ebe1d33c59ac0b69bdc7edb3bc2a23">20369</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t1&gt;</a>&amp; img1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t2&gt;</a>&amp; img2, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t3&gt;</a>&amp; img3, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t4&gt;</a>&amp; img4, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t5&gt;</a>&amp; img5,
<a name="l20370"></a>20370                      <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t6&gt;</a>&amp; img6, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t7&gt;</a>&amp; img7, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t8&gt;</a>&amp; img8, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t9&gt;</a>&amp; img9, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t10&gt;</a>&amp; img10,
<a name="l20371"></a>20371                      <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20372"></a>20372       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(10);
<a name="l20373"></a>20373       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].assign(img1,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1].assign(img2,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[2].assign(img3,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[3].assign(img4,shared);
<a name="l20374"></a>20374       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[4].assign(img5,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[5].assign(img6,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[6].assign(img7,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[7].assign(img8,shared);
<a name="l20375"></a>20375       <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[8].assign(img9,shared); <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[9].assign(img10,shared);
<a name="l20376"></a>20376       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20377"></a>20377     }
<a name="l20378"></a>20378 
<a name="l20380"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae8a75e6724b8c13875dee9713da263ed">20380</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename):
<a name="l20381"></a>20381       size(0),allocsize(0),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>(0) {
<a name="l20382"></a>20382       <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(filename);
<a name="l20383"></a>20383     }
<a name="l20384"></a>20384 
<a name="l20386"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a5735cf139c67a8408e8e7f4622d2e884">20386</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a5735cf139c67a8408e8e7f4622d2e884" title="In-place version of the previous constructor.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l20387"></a>20387       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ac232288147b4167d8daca12e752de20a" title="Load an image from a file.">load</a>(filename);
<a name="l20388"></a>20388     }
<a name="l20389"></a>20389 
<a name="l20391"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ac0a9bcd06776586c0f3663cc1a387c11">20391</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structcimg__library_1_1_c_img_list.html#ac0a9bcd06776586c0f3663cc1a387c11" title="Return a string describing the type of the image pixels in the list (template parameter T)...">pixel_type</a>() {
<a name="l20392"></a>20392       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1cimg_1_1type.html">cimg::type&lt;T&gt;::id</a>();
<a name="l20393"></a>20393     }
<a name="l20394"></a>20394 
<a name="l20396"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4">20396</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()<span class="keyword"> const </span>{
<a name="l20397"></a>20397       <span class="keywordflow">return</span> (!<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> || !size);
<a name="l20398"></a>20398     }
<a name="l20399"></a>20399 
<a name="l20401"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#acdcd745d708556d3dfbbc3bd59a20408">20401</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_list.html#acdcd745d708556d3dfbbc3bd59a20408" title="Return true if the list contains an image with indice k.">contains</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> k)<span class="keyword"> const </span>{
<a name="l20402"></a>20402       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> &amp;&amp; k&lt;size;
<a name="l20403"></a>20403     }
<a name="l20404"></a>20404 
<a name="l20406"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a30c53742a1ac73335a69196072bd12ec">20406</a>     <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img_list.html#a30c53742a1ac73335a69196072bd12ec" title="Return true if the k-th image of the list contains the pixel (x,y,z,v).">contains</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> k, <span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">int</span> y=0, <span class="keyword">const</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l20407"></a>20407       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a4631fac1a1d17e6702c4c5ca4315bcbd" title="Return true if pixel (x,y,z,v) is inside the image boundaries.">contains</a>(k) &amp;&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[k].contains(x,y,z,v);
<a name="l20408"></a>20408     }
<a name="l20409"></a>20409 
<a name="l20410"></a>20410 
<a name="l20411"></a>20411 
<a name="l20413"></a>20413     <span class="comment">//------------------------------</span>
<a name="l20414"></a>20414     <span class="comment">//</span>
<a name="l20416"></a>20416 <span class="comment"></span>
<a name="l20417"></a>20417     <span class="comment">//------------------------------</span>
<a name="l20418"></a>20418 
<a name="l20420"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2687a600ed6e8f21a5e8ba041a2be77b">20420</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a2687a600ed6e8f21a5e8ba041a2be77b" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20421"></a>20421       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list);
<a name="l20422"></a>20422     }
<a name="l20423"></a>20423 
<a name="l20424"></a>20424     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af1cb9c09fa1e6501b8ccb5dbdd32a54f" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; list) {
<a name="l20425"></a>20425       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(list);
<a name="l20426"></a>20426     }
<a name="l20427"></a>20427 
<a name="l20429"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#af0a587bfba5f7240750a22fcf43b4da4">20429</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#af0a587bfba5f7240750a22fcf43b4da4" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20430"></a>20430       cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l]=img;
<a name="l20431"></a>20431       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20432"></a>20432     }
<a name="l20433"></a>20433 
<a name="l20435"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a272c5c22cc764b5fefdbc8538840c47a">20435</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a272c5c22cc764b5fefdbc8538840c47a" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l20436"></a>20436       cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l].fill(val);
<a name="l20437"></a>20437       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20438"></a>20438     }
<a name="l20439"></a>20439 
<a name="l20441"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a700e85091aeb1e05a27dbbb3be76d7ea">20441</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a700e85091aeb1e05a27dbbb3be76d7ea" title="Operator+.">operator+</a>()<span class="keyword"> const </span>{
<a name="l20442"></a>20442       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this);
<a name="l20443"></a>20443     }
<a name="l20444"></a>20444 
<a name="l20446"></a>20446 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l20447"></a>20447 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a72daf1aaba633138c391e292de401552" title="Operator+=;.">operator+=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l20448"></a>20448 <span class="preprocessor">#else</span>
<a name="l20449"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0e668b719573d0c3f1103d1fa968c184">20449</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a0e668b719573d0c3f1103d1fa968c184" title="Operator+=.">operator+=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l20450"></a>20450 <span class="preprocessor">#endif</span>
<a name="l20451"></a>20451 <span class="preprocessor"></span>      cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]+=val;
<a name="l20452"></a>20452       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20453"></a>20453     }
<a name="l20454"></a>20454 
<a name="l20456"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0a87685e477d6354379b7cc2e6b875e8">20456</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a0a87685e477d6354379b7cc2e6b875e8" title="Operator+=.">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20457"></a>20457       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizemax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(size,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20458"></a>20458       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;sizemax; l++) (*<span class="keyword">this</span>)[l]+=list[l];
<a name="l20459"></a>20459       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20460"></a>20460     }
<a name="l20461"></a>20461 
<a name="l20463"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a5313d2aede4ed008786a9acfefa241c5">20463</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a5313d2aede4ed008786a9acfefa241c5" title="Operator++.">operator++</a>() {
<a name="l20464"></a>20464       cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]++;
<a name="l20465"></a>20465       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20466"></a>20466     }
<a name="l20467"></a>20467 
<a name="l20469"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a5b7efc7ecf0d44cad71662a9888b8222">20469</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a5b7efc7ecf0d44cad71662a9888b8222" title="Operator-.">operator-</a>()<span class="keyword"> const </span>{
<a name="l20470"></a>20470       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res(size);
<a name="l20471"></a>20471       cimglist_for(res,l) res[l].<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>(-<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l]);
<a name="l20472"></a>20472       <span class="keywordflow">return</span> res;
<a name="l20473"></a>20473     }
<a name="l20474"></a>20474 
<a name="l20476"></a>20476 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l20477"></a>20477 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#af38ca9949458261c2dcfec52cf355b36" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> T&amp; val) {
<a name="l20478"></a>20478 <span class="preprocessor">#else</span>
<a name="l20479"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae2b9e91f1c2a90c34450999d0e155d4c">20479</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ae2b9e91f1c2a90c34450999d0e155d4c" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l20480"></a>20480 <span class="preprocessor">#endif</span>
<a name="l20481"></a>20481 <span class="preprocessor"></span>      cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]-=val;
<a name="l20482"></a>20482       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20483"></a>20483     }
<a name="l20484"></a>20484 
<a name="l20486"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a3406b6ef148f06ad1434385e01b5386f">20486</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a3406b6ef148f06ad1434385e01b5386f" title="Operator-=.">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20487"></a>20487       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizemax = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">min</a>(size,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20488"></a>20488       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;sizemax; l++) (*<span class="keyword">this</span>)[l]-=list[l];
<a name="l20489"></a>20489       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20490"></a>20490     }
<a name="l20491"></a>20491 
<a name="l20493"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a34a911b24c2b48df34c15042dfa2afd1">20493</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a34a911b24c2b48df34c15042dfa2afd1" title="Operator--.">operator--</a>() {
<a name="l20494"></a>20494       cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]--;
<a name="l20495"></a>20495       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20496"></a>20496     }
<a name="l20497"></a>20497 
<a name="l20499"></a>20499 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l20500"></a>20500 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac792a92308c97086185e652c5469dcfd" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l20501"></a>20501 <span class="preprocessor">#else</span>
<a name="l20502"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1b76541d5f5c71955a5d3b3db93b7ecb">20502</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a1b76541d5f5c71955a5d3b3db93b7ecb" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l20503"></a>20503 <span class="preprocessor">#endif</span>
<a name="l20504"></a>20504 <span class="preprocessor"></span>      cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]*=val;
<a name="l20505"></a>20505       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20506"></a>20506     }
<a name="l20507"></a>20507 
<a name="l20509"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a7162b4453590b3468db0f5c0b0d8738f">20509</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a7162b4453590b3468db0f5c0b0d8738f" title="Operator*=.">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20510"></a>20510       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(size,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20511"></a>20511       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;N; l++) (*<span class="keyword">this</span>)[l]*=list[l];
<a name="l20512"></a>20512       <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l20513"></a>20513     }
<a name="l20514"></a>20514 
<a name="l20516"></a>20516 <span class="preprocessor">#ifdef cimg_use_visualcpp6</span>
<a name="l20517"></a>20517 <span class="preprocessor"></span>    <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a263b5911f1baa72ca1d08cfde5cd8937" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> val) {
<a name="l20518"></a>20518 <span class="preprocessor">#else</span>
<a name="l20519"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#af1e4583962d17a76acfaa12309e0626d">20519</a> <span class="preprocessor"></span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#af1e4583962d17a76acfaa12309e0626d" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> t&amp; val) {
<a name="l20520"></a>20520 <span class="preprocessor">#endif</span>
<a name="l20521"></a>20521 <span class="preprocessor"></span>      cimglist_for(*<span class="keyword">this</span>,l) (*this)[l]/=val;
<a name="l20522"></a>20522       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20523"></a>20523     }
<a name="l20524"></a>20524 
<a name="l20526"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#abf226decc3bc5e97e422211b5ec7a963">20526</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#abf226decc3bc5e97e422211b5ec7a963" title="Operator/=.">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20527"></a>20527       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = <a class="code" href="structcimg__library_1_1_c_img.html#a34e7c2c9e580530258488afa45df57c0" title="Replace the image by the pointwise min operator between *this and img.">cimg::min</a>(size,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l20528"></a>20528       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;N; l++) (*<span class="keyword">this</span>)[l]/=list[l];
<a name="l20529"></a>20529       <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l20530"></a>20530     }
<a name="l20531"></a>20531 
<a name="l20533"></a>20533     <span class="comment">//-------------------------</span>
<a name="l20534"></a>20534     <span class="comment">//</span>
<a name="l20536"></a>20536 <span class="comment"></span>
<a name="l20537"></a>20537     <span class="comment">//-------------------------</span>
<a name="l20538"></a>20538 
<a name="l20540"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a8c2ba62382cab9cdf2adcd46206fbdf0">20540</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a8c2ba62382cab9cdf2adcd46206fbdf0" title="Return a reference to the i-th element of the image list.">operator[]</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20541"></a>20541 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l20542"></a>20542 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (pos&gt;=size) {
<a name="l20543"></a>20543         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::operator[] : bad list position %u, in a list of %u images&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20544"></a>20544         <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20545"></a>20545       }
<a name="l20546"></a>20546 <span class="preprocessor">#endif</span>
<a name="l20547"></a>20547 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos];
<a name="l20548"></a>20548     }
<a name="l20549"></a>20549 
<a name="l20550"></a>20550     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a53ee85b82244ff16acd428e5ad655540" title="Fast access to pixel value for reading or writing, using an offset to the image pixel.">operator[]</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20551"></a>20551 <span class="preprocessor">#if cimg_debug&gt;=3</span>
<a name="l20552"></a>20552 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (pos&gt;=size) {
<a name="l20553"></a>20553         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::operator[] : bad list position %u, in a list of %u images&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20554"></a>20554         <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20555"></a>20555       }
<a name="l20556"></a>20556 <span class="preprocessor">#endif</span>
<a name="l20557"></a>20557 <span class="preprocessor"></span>      <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos];
<a name="l20558"></a>20558     }
<a name="l20559"></a>20559 
<a name="l20561"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a93bd324f0a8532e94c78bef4976b7700">20561</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a93bd324f0a8532e94c78bef4976b7700" title="Equivalent to CImgList&amp;lt;T&amp;gt;::operator[].">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) { <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[pos]; }
<a name="l20562"></a>20562     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[pos]; }
<a name="l20563"></a>20563 
<a name="l20565"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ad69540f40c53fe98c4232a7f25323ff6">20565</a>     T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,
<a name="l20566"></a>20566                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0) {
<a name="l20567"></a>20567       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[pos](x,y,z,v);
<a name="l20568"></a>20568     }
<a name="l20569"></a>20569     <span class="keyword">const</span> T&amp; <a class="code" href="structcimg__library_1_1_c_img.html#ac26d10a2b16190e0f4949a009250d041" title="Fast access to pixel value for reading or writing.">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0,
<a name="l20570"></a>20570                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v=0)<span class="keyword"> const </span>{
<a name="l20571"></a>20571       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[pos](x,y,z,v);
<a name="l20572"></a>20572     }
<a name="l20573"></a>20573 
<a name="l20575"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aa3bc3d47ec85850b2acc5668bfda8005">20575</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#aa3bc3d47ec85850b2acc5668bfda8005" title="Equivalent to CImgList&amp;lt;T&amp;gt;::operator[], with boundary checking.">at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20576"></a>20576       <span class="keywordflow">if</span> (pos&gt;=size)
<a name="l20577"></a>20577         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::at() : bad list position %u, in a list of %u images&quot;</span>,
<a name="l20578"></a>20578                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20579"></a>20579       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos];
<a name="l20580"></a>20580     }
<a name="l20581"></a>20581 
<a name="l20582"></a>20582     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a6548e89af57209fe85dd65a8af7ad43b" title="Return pixel value at a given position. Equivalent to operator().">at</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20583"></a>20583       <span class="keywordflow">if</span> (pos&gt;=size)
<a name="l20584"></a>20584         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::at() : bad list position %u, in a list of %u images&quot;</span>,
<a name="l20585"></a>20585                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20586"></a>20586       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos];
<a name="l20587"></a>20587     }
<a name="l20588"></a>20588 
<a name="l20590"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#af4427aaddc0dd71f674308d931152af5">20590</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#af4427aaddc0dd71f674308d931152af5" title="Returns a reference to last element.">back</a>() {
<a name="l20591"></a>20591       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(size-1);
<a name="l20592"></a>20592     }
<a name="l20593"></a>20593 
<a name="l20594"></a>20594     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a9fe3b98715c7e946498a301a273fa25b" title="Return a reference to the last image value.">back</a>()<span class="keyword"> const </span>{
<a name="l20595"></a>20595       <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(size-1);
<a name="l20596"></a>20596     }
<a name="l20597"></a>20597 
<a name="l20599"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a4fe827ce3da4d8c7242c5779985c06b2">20599</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a4fe827ce3da4d8c7242c5779985c06b2" title="Returns a reference to the first element.">front</a>() {
<a name="l20600"></a>20600       <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20601"></a>20601     }
<a name="l20602"></a>20602 
<a name="l20603"></a>20603     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a8b0a55d72dc695fe935d6a900e469364" title="Return a reference to the first image value.">front</a>()<span class="keyword"> const </span>{
<a name="l20604"></a>20604       <span class="keywordflow">return</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20605"></a>20605     }
<a name="l20606"></a>20606 
<a name="l20608"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a732e8012e8d1625e67d45badf79dad60">20608</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">iterator</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a732e8012e8d1625e67d45badf79dad60" title="Returns an iterator to the beginning of the vector.">begin</a>() {
<a name="l20609"></a>20609       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20610"></a>20610     }
<a name="l20611"></a>20611 
<a name="l20612"></a>20612     <a class="code" href="structcimg__library_1_1_c_img.html#ad444f21017aaa7da6fab45930d3579aa" title="Const iterator type for CImg&amp;lt;T&amp;gt;.">const_iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a949050ed420affec534b8aca29021846" title="Return an iterator to the first image pixel.">begin</a>()<span class="keyword"> const </span>{
<a name="l20613"></a>20613       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20614"></a>20614     }
<a name="l20615"></a>20615 
<a name="l20617"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a41500f2b029007607785b30a50de1f2d">20617</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">iterator</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a41500f2b029007607785b30a50de1f2d" title="Returns an iterator just past the last element.">end</a>() {
<a name="l20618"></a>20618       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + size;
<a name="l20619"></a>20619     }
<a name="l20620"></a>20620 
<a name="l20621"></a>20621     <a class="code" href="structcimg__library_1_1_c_img.html#ad444f21017aaa7da6fab45930d3579aa" title="Const iterator type for CImg&amp;lt;T&amp;gt;.">const_iterator</a> <a class="code" href="structcimg__library_1_1_c_img.html#a2583162076af8bfeed05f8f01d31ae05" title="Return an iterator to the last image pixel.">end</a>()<span class="keyword"> const </span>{
<a name="l20622"></a>20622       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> + size;
<a name="l20623"></a>20623     }
<a name="l20624"></a>20624 
<a name="l20626"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5">20626</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l20627"></a>20627       <span class="keywordflow">if</span> (pos&gt;size)
<a name="l20628"></a>20628         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::insert() : Cannot insert at position %u into a list with %u elements&quot;</span>,
<a name="l20629"></a>20629                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20630"></a>20630       <span class="keywordflow">if</span> (shared)
<a name="l20631"></a>20631         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::insert(): Cannot insert a shared image CImg&lt;%s&gt; into a CImgList&lt;%s&gt;&quot;</span>,
<a name="l20632"></a>20632                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),img.<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l20633"></a>20633       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> *new_data = (++size&gt;allocsize)?<span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>[allocsize?(allocsize&lt;&lt;=1):(allocsize=1)]:0;
<a name="l20634"></a>20634       <span class="keywordflow">if</span> (!size || !<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) { <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = new_data; *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = img; } <span class="keywordflow">else</span> {
<a name="l20635"></a>20635         <span class="keywordflow">if</span> (new_data) {
<a name="l20636"></a>20636           <span class="keywordflow">if</span> (pos) std::memcpy(new_data,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*pos);
<a name="l20637"></a>20637           <span class="keywordflow">if</span> (pos!=size-1) std::memcpy(new_data+pos+1,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size-1-pos));
<a name="l20638"></a>20638           std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,0,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size-1));
<a name="l20639"></a>20639           <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20640"></a>20640           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = new_data;
<a name="l20641"></a>20641         }
<a name="l20642"></a>20642         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos!=size-1) memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos+1,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size-1-pos));
<a name="l20643"></a>20643         <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].width = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].height = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].depth = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].data = 0;
<a name="l20644"></a>20644         <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos] = img;
<a name="l20645"></a>20645       }
<a name="l20646"></a>20646       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20647"></a>20647     }
<a name="l20648"></a>20648 
<a name="l20649"></a>20649    <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; insert(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared) {
<a name="l20650"></a>20650       <span class="keywordflow">if</span> (pos&gt;size)
<a name="l20651"></a>20651         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::insert() : Can&#39;t insert at position %u into a list with %u elements&quot;</span>,
<a name="l20652"></a>20652                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),pos,size);
<a name="l20653"></a>20653       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> *new_data = (++size&gt;allocsize)?<span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>[allocsize?(allocsize&lt;&lt;=1):(allocsize=1)]:0;
<a name="l20654"></a>20654       <span class="keywordflow">if</span> (!size || !<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) {
<a name="l20655"></a>20655         <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = new_data;
<a name="l20656"></a>20656         <span class="keywordflow">if</span> (shared &amp;&amp; !img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l20657"></a>20657           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;width = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;height = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;depth = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l20658"></a>20658           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;is_shared = <span class="keyword">true</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>-&gt;data = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20659"></a>20659         } <span class="keywordflow">else</span> *<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = img;
<a name="l20660"></a>20660       }
<a name="l20661"></a>20661       <span class="keywordflow">else</span> {
<a name="l20662"></a>20662         <span class="keywordflow">if</span> (new_data) {
<a name="l20663"></a>20663           <span class="keywordflow">if</span> (pos) std::memcpy(new_data,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(CImg&lt;T&gt;)*pos);
<a name="l20664"></a>20664           <span class="keywordflow">if</span> (pos!=size-1) std::memcpy(new_data+pos+1,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos,<span class="keyword">sizeof</span>(CImg&lt;T&gt;)*(size-1-pos));
<a name="l20665"></a>20665           std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,0,<span class="keyword">sizeof</span>(CImg&lt;T&gt;)*(size-1));
<a name="l20666"></a>20666           <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20667"></a>20667           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = new_data;
<a name="l20668"></a>20668         }
<a name="l20669"></a>20669         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos!=size-1) memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos+1,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos,<span class="keyword">sizeof</span>(CImg&lt;T&gt;)*(size-1-pos));
<a name="l20670"></a>20670         <span class="keywordflow">if</span> (shared &amp;&amp; !img.<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) {
<a name="l20671"></a>20671           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].width = img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].height = img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].depth = img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].dim = img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l20672"></a>20672           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].is_shared = <span class="keyword">true</span>; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].data = img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20673"></a>20673         } <span class="keywordflow">else</span> {
<a name="l20674"></a>20674           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].width = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].height = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].depth = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].dim = 0; <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].data = 0;
<a name="l20675"></a>20675           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos] = img;
<a name="l20676"></a>20676         }
<a name="l20677"></a>20677       }
<a name="l20678"></a>20678       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20679"></a>20679     }
<a name="l20680"></a>20680 
<a name="l20681"></a>20681    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; CImgList&amp; insert(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20682"></a>20682                 <span class="keywordflow">return</span> insert(img,pos,<span class="keyword">false</span>);
<a name="l20683"></a>20683    }
<a name="l20684"></a>20684 
<a name="l20685"></a>20685     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; CImgList&lt;typename cimg::largest&lt;T,t&gt;::type&gt; get_insert(<span class="keyword">const</span> CImg&lt;t&gt;&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l20686"></a>20686       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20687"></a>20687       <span class="keywordflow">return</span> CImgList&lt;restype&gt;(*this).insert(img,pos,shared);
<a name="l20688"></a>20688     }
<a name="l20689"></a>20689 
<a name="l20691"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a96d682ff9f621eae0143bf2b60ae7289">20691</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a96d682ff9f621eae0143bf2b60ae7289" title="Insert a copy of the image img at the current image list.">insert</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20692"></a>20692       <span class="keywordflow">return</span> insert(img,size);
<a name="l20693"></a>20693     }
<a name="l20694"></a>20694 
<a name="l20695"></a>20695     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l20696"></a>20696       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20697"></a>20697       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).insert(img);
<a name="l20698"></a>20698     }
<a name="l20699"></a>20699 
<a name="l20701"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a83e0807a3f965020865146caaf47aff9">20701</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; operator&lt;&lt;(const CImg&lt;T&gt;&amp; img) {
<a name="l20702"></a>20702       <span class="keywordflow">return</span> insert(img);
<a name="l20703"></a>20703     }
<a name="l20704"></a>20704 
<a name="l20706"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a16c607ca628506d5e360e699cb08fc8e">20706</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a16c607ca628506d5e360e699cb08fc8e" title="Insert n copies of the image img into the current image list, at position pos.">insert</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20707"></a>20707       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert(img,pos);
<a name="l20708"></a>20708       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20709"></a>20709     }
<a name="l20710"></a>20710 
<a name="l20711"></a>20711     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20712"></a>20712       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20713"></a>20713       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(n,img,pos);
<a name="l20714"></a>20714     }
<a name="l20715"></a>20715 
<a name="l20716"></a>20716 
<a name="l20718"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae0dc70456b799f95c264c3558780046d">20718</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ae0dc70456b799f95c264c3558780046d" title="Insert n copies of the image img at the end of the list.">insert</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20719"></a>20719       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert(img);
<a name="l20720"></a>20720       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20721"></a>20721     }
<a name="l20722"></a>20722 
<a name="l20723"></a>20723     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l20724"></a>20724       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20725"></a>20725       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(n,img);
<a name="l20726"></a>20726     }
<a name="l20727"></a>20727 
<a name="l20729"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0dfc3639eeb9283293dbf49fb5df9fd8">20729</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a0dfc3639eeb9283293dbf49fb5df9fd8" title="Insert a copy of the image list list into the current image list, starting from position pos...">insert</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20730"></a>20730       cimglist_for(list,l) insert(list[l],pos+l);
<a name="l20731"></a>20731       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20732"></a>20732     }
<a name="l20733"></a>20733 
<a name="l20734"></a>20734     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; insert(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20735"></a>20735       <span class="keywordflow">if</span> (<span class="keyword">this</span>!=&amp;list) cimglist_for(list,l) insert(list[l],pos+l);
<a name="l20736"></a>20736       else insert(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&lt;T&gt;(list),pos);
<a name="l20737"></a>20737       return *this;
<a name="l20738"></a>20738     }
<a name="l20739"></a>20739 
<a name="l20740"></a>20740     template&lt;typename t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&lt;typename cimg::largest&lt;T,t&gt;::type&gt; get_insert(const <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&lt;t&gt;&amp; list, const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20741"></a>20741       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20742"></a>20742       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).insert(list,pos);
<a name="l20743"></a>20743     }
<a name="l20744"></a>20744 
<a name="l20746"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ace07ba17687a0b83f17090d5d799f319">20746</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ace07ba17687a0b83f17090d5d799f319" title="Append a copy of the image list list at the current image list.">insert</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20747"></a>20747       <span class="keywordflow">return</span> insert(list,size);
<a name="l20748"></a>20748     }
<a name="l20749"></a>20749 
<a name="l20750"></a>20750     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list)<span class="keyword"> const </span>{
<a name="l20751"></a>20751       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20752"></a>20752       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).insert(list);
<a name="l20753"></a>20753     }
<a name="l20754"></a>20754 
<a name="l20756"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aa77e46227581bc60971716a994773091">20756</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#aa77e46227581bc60971716a994773091" title="Insert a copy of the image list list at the current image list.">operator&lt;&lt;</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; list) {
<a name="l20757"></a>20757       <span class="keywordflow">return</span> insert(list);
<a name="l20758"></a>20758     }
<a name="l20759"></a>20759 
<a name="l20761"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2329ffa1657c4376e2360084d44e5446">20761</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a2329ffa1657c4376e2360084d44e5446" title="Insert n copies of the list list at position pos of the current list.">insert</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20762"></a>20762       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert(list,pos);
<a name="l20763"></a>20763       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20764"></a>20764     }
<a name="l20765"></a>20765 
<a name="l20766"></a>20766     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20767"></a>20767       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20768"></a>20768       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(n,list,pos);
<a name="l20769"></a>20769     }
<a name="l20770"></a>20770 
<a name="l20772"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a874bc96d779faaef23becbcaad918e0f">20772</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a874bc96d779faaef23becbcaad918e0f" title="Insert n copies of the list at the end of the current list.">insert</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20773"></a>20773       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert(list);
<a name="l20774"></a>20774       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20775"></a>20775     }
<a name="l20776"></a>20776 
<a name="l20777"></a>20777     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,t&gt;::type</a>&gt; get_insert(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list)<span class="keyword"> const </span>{
<a name="l20778"></a>20778       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,t&gt;::type restype;
<a name="l20779"></a>20779       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(n,list);
<a name="l20780"></a>20780     }
<a name="l20781"></a>20781 
<a name="l20783"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae07a25653338bcc2d39f94ece79bcf43">20783</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ae07a25653338bcc2d39f94ece79bcf43" title="Insert image img at the end of the list.">push_back</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20784"></a>20784       <span class="keywordflow">return</span> insert(img);
<a name="l20785"></a>20785     }
<a name="l20786"></a>20786 
<a name="l20788"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#abf862f4e91637ae01b97ea6e06dda678">20788</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#abf862f4e91637ae01b97ea6e06dda678" title="Insert image img at the front of the list.">push_front</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20789"></a>20789       <span class="keywordflow">return</span> insert(img,0);
<a name="l20790"></a>20790     }
<a name="l20791"></a>20791 
<a name="l20793"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a77f990bd2e68f75b795e39c2fadeb5ea">20793</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a77f990bd2e68f75b795e39c2fadeb5ea" title="Insert list list at the end of the current list.">push_back</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20794"></a>20794       <span class="keywordflow">return</span> insert(list);
<a name="l20795"></a>20795     }
<a name="l20796"></a>20796 
<a name="l20798"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a23886b535cc9394e703f5865e90b1cf0">20798</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a23886b535cc9394e703f5865e90b1cf0" title="Insert list list at the front of the current list.">push_front</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20799"></a>20799       <span class="keywordflow">return</span> insert(list,0);
<a name="l20800"></a>20800     }
<a name="l20801"></a>20801 
<a name="l20803"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#abdf1438800e16255bfa9866c74287bc8">20803</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#abdf1438800e16255bfa9866c74287bc8" title="Insert a shared copy of the image img into the current image list, at position pos.">insert_shared</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20804"></a>20804       <span class="keywordflow">return</span> insert(img,pos,<span class="keyword">true</span>);
<a name="l20805"></a>20805     }
<a name="l20806"></a>20806 
<a name="l20807"></a>20807     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20808"></a>20808       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).insert_shared(img,pos);
<a name="l20809"></a>20809     }
<a name="l20810"></a>20810 
<a name="l20812"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a8bea473da0f3de777e3b7bc05d1f03f4">20812</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a8bea473da0f3de777e3b7bc05d1f03f4" title="Insert a shared copy of the image img at the current image list.">insert_shared</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20813"></a>20813       <span class="keywordflow">return</span> insert_shared(img,size);
<a name="l20814"></a>20814     }
<a name="l20815"></a>20815 
<a name="l20816"></a>20816     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l20817"></a>20817       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).insert_shared(img);
<a name="l20818"></a>20818     }
<a name="l20819"></a>20819 
<a name="l20821"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae072b096ecb9dd9e44484e9f232638a3">20821</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ae072b096ecb9dd9e44484e9f232638a3" title="Insert n shared copies of the image img into the current image list, at position pos.">insert_shared</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20822"></a>20822       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert_shared(img,pos);
<a name="l20823"></a>20823       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20824"></a>20824     }
<a name="l20825"></a>20825 
<a name="l20826"></a>20826     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20827"></a>20827       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#abdf1438800e16255bfa9866c74287bc8" title="Insert a shared copy of the image img into the current image list, at position pos.">insert_shared</a>(n,img,pos);
<a name="l20828"></a>20828     }
<a name="l20829"></a>20829 
<a name="l20831"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a768ef96a5cfa4aa6d18c648ff02bb769">20831</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a768ef96a5cfa4aa6d18c648ff02bb769" title="Insert n shared copies of the image img at the end of the list.">insert_shared</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img) {
<a name="l20832"></a>20832       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert_shared(img);
<a name="l20833"></a>20833       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20834"></a>20834     }
<a name="l20835"></a>20835 
<a name="l20836"></a>20836     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; img)<span class="keyword"> const </span>{
<a name="l20837"></a>20837       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#abdf1438800e16255bfa9866c74287bc8" title="Insert a shared copy of the image img into the current image list, at position pos.">insert_shared</a>(n,img);
<a name="l20838"></a>20838     }
<a name="l20839"></a>20839 
<a name="l20841"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a21a21fb33a6bed35fcf15ea8c5b63700">20841</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a21a21fb33a6bed35fcf15ea8c5b63700" title="Insert a shared copy of all image of the list list into the current image list, starting from positio...">insert_shared</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20842"></a>20842       <span class="keywordflow">if</span> (<span class="keyword">this</span>!=&amp;list) cimglist_for(list,l) insert_shared(list[l],pos+l);
<a name="l20843"></a>20843       <span class="keywordflow">else</span> insert_shared(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(list),pos);
<a name="l20844"></a>20844       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20845"></a>20845     }
<a name="l20846"></a>20846 
<a name="l20847"></a>20847     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20848"></a>20848       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).insert_shared(list,pos);
<a name="l20849"></a>20849     }
<a name="l20850"></a>20850 
<a name="l20852"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1cc1d543c94df97a08312d66c9d83461">20852</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a1cc1d543c94df97a08312d66c9d83461" title="Append a shared copy of the image list list at the current image list.">insert_shared</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20853"></a>20853       <span class="keywordflow">return</span> insert_shared(list,size);
<a name="l20854"></a>20854     }
<a name="l20855"></a>20855 
<a name="l20856"></a>20856     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list)<span class="keyword"> const </span>{
<a name="l20857"></a>20857       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).insert_shared(list);
<a name="l20858"></a>20858     }
<a name="l20859"></a>20859 
<a name="l20861"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a9d2185ce7cb06b8a7bbb60ef9005e578">20861</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a9d2185ce7cb06b8a7bbb60ef9005e578" title="Insert n shared copies of the list list at position pos of the current list.">insert_shared</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20862"></a>20862       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n; i++) insert_shared(list,pos);
<a name="l20863"></a>20863       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20864"></a>20864     }
<a name="l20865"></a>20865 
<a name="l20866"></a>20866     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20867"></a>20867       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#abdf1438800e16255bfa9866c74287bc8" title="Insert a shared copy of the image img into the current image list, at position pos.">insert_shared</a>(n,list,pos);
<a name="l20868"></a>20868     }
<a name="l20869"></a>20869 
<a name="l20871"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a5567001bc3e0317c6595a1a12381f33f">20871</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a5567001bc3e0317c6595a1a12381f33f" title="Insert n shared copies of the list list at the end of the list.">insert_shared</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list) {
<a name="l20872"></a>20872       <span class="keywordflow">return</span> insert_shared(n,list,size);
<a name="l20873"></a>20873     }
<a name="l20874"></a>20874 
<a name="l20875"></a>20875     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_insert_shared(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;t&gt;</a>&amp; list)<span class="keyword"> const </span>{
<a name="l20876"></a>20876       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).insert_shared(n,list);
<a name="l20877"></a>20877     }
<a name="l20878"></a>20878 
<a name="l20880"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a62889566e5960a79df5bc2d7c9a497df">20880</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos) {
<a name="l20881"></a>20881       <span class="keywordflow">if</span> (pos&gt;=size)
<a name="l20882"></a>20882         cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::remove() : Cannot remove an image from a list (%p,%u), at position %u.&quot;</span>,
<a name="l20883"></a>20883                    <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,size,pos);
<a name="l20884"></a>20884       <span class="keywordflow">else</span> {
<a name="l20885"></a>20885         <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[pos].assign();
<a name="l20886"></a>20886         <span class="keywordflow">if</span> (!(--size)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l20887"></a>20887         <span class="keywordflow">if</span> (size&lt;8 || size&gt;(allocsize&gt;&gt;2)) { <span class="comment">// Removing item without reallocation.</span>
<a name="l20888"></a>20888           <span class="keywordflow">if</span> (pos!=size) {
<a name="l20889"></a>20889             std::memmove(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos+1,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size-pos));
<a name="l20890"></a>20890             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> &amp;tmp = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[size];
<a name="l20891"></a>20891             tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a> = tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a> = tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a> = tmp.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a> = 0; tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = 0;
<a name="l20892"></a>20892           }
<a name="l20893"></a>20893         } <span class="keywordflow">else</span> { <span class="comment">// Removing item with reallocation.</span>
<a name="l20894"></a>20894           allocsize&gt;&gt;=2;
<a name="l20895"></a>20895           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> *new_data = <span class="keyword">new</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>[allocsize];
<a name="l20896"></a>20896           <span class="keywordflow">if</span> (pos) std::memcpy(new_data,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*pos);
<a name="l20897"></a>20897           <span class="keywordflow">if</span> (pos!=size) std::memcpy(new_data+pos,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>+pos+1,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size-pos));
<a name="l20898"></a>20898           std::memset(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,0,<span class="keyword">sizeof</span>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>)*(size+1));
<a name="l20899"></a>20899           <span class="keyword">delete</span>[] <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>;
<a name="l20900"></a>20900           <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a> = new_data;
<a name="l20901"></a>20901         }
<a name="l20902"></a>20902       }
<a name="l20903"></a>20903       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20904"></a>20904     }
<a name="l20905"></a>20905 
<a name="l20906"></a>20906     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_remove(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos)<span class="keyword"> const </span>{
<a name="l20907"></a>20907       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).remove(pos);
<a name="l20908"></a>20908     }
<a name="l20909"></a>20909 
<a name="l20911"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a8e152920fa1294c225236a233ff37fee">20911</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a8e152920fa1294c225236a233ff37fee" title="Remove last element of the list;.">pop_back</a>() {
<a name="l20912"></a>20912       <span class="keywordflow">return</span> <span class="keyword">remove</span>(size-1);
<a name="l20913"></a>20913     }
<a name="l20914"></a>20914 
<a name="l20916"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a3a0bc81cd8e38e18f3de9b24f4f8419f">20916</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a3a0bc81cd8e38e18f3de9b24f4f8419f" title="Remove last element of the list;.">operator&gt;&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img) {
<a name="l20917"></a>20917       <span class="keywordflow">if</span> (size) { img.swap((*<span class="keyword">this</span>)[size-1]); <span class="keywordflow">return</span> <span class="keyword">remove</span>(size-1); }
<a name="l20918"></a>20918       cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::operator&gt;&gt;() : List is empty&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l20919"></a>20919       img.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>();
<a name="l20920"></a>20920       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20921"></a>20921     }
<a name="l20922"></a>20922 
<a name="l20924"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a8450a9d39177a13dd1a36460ea7cbda6">20924</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a8450a9d39177a13dd1a36460ea7cbda6" title="Remove first element of the list;.">pop_front</a>() {
<a name="l20925"></a>20925       <span class="keywordflow">return</span> <span class="keyword">remove</span>(0);
<a name="l20926"></a>20926     }
<a name="l20927"></a>20927 
<a name="l20929"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a9d62e109a750ec4ca12b1efe37746efb">20929</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a9d62e109a750ec4ca12b1efe37746efb" title="Remove the element pointed by iterator iter;.">erase</a>(<span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">iterator</a> iter) {
<a name="l20930"></a>20930       <span class="keywordflow">return</span> <span class="keyword">remove</span>(iter-<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l20931"></a>20931     }
<a name="l20932"></a>20932 
<a name="l20934"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aa6c7f18174af128b82297b0e30ffa520">20934</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <span class="keyword">remove</span>() {
<a name="l20935"></a>20935       <span class="keywordflow">if</span> (size) <span class="keywordflow">return</span> <span class="keyword">remove</span>(size-1);
<a name="l20936"></a>20936       <span class="keywordflow">else</span> cimg::warn(<span class="keyword">true</span>,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::remove() : List is empty&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l20937"></a>20937       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20938"></a>20938     }
<a name="l20939"></a>20939 
<a name="l20940"></a>20940     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> get_remove()<span class="keyword"> const </span>{
<a name="l20941"></a>20941       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).remove();
<a name="l20942"></a>20942     }
<a name="l20943"></a>20943 
<a name="l20945"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1a28d1f01c228d3e6acb2c672cf2ec2c">20945</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a1a28d1f01c228d3e6acb2c672cf2ec2c" title="Reverse list order.">reverse</a>() {
<a name="l20946"></a>20946       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;size/2; l++) (*<span class="keyword">this</span>)[l].swap((*<span class="keyword">this</span>)[size-1-l]);
<a name="l20947"></a>20947       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l20948"></a>20948     }
<a name="l20949"></a>20949 
<a name="l20951"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a4b9074fe535eaee11ead1f801c8cd2fd">20951</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a4b9074fe535eaee11ead1f801c8cd2fd" title="Get reversed list.">get_reverse</a>()<span class="keyword"> const </span>{
<a name="l20952"></a>20952       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#a1a28d1f01c228d3e6acb2c672cf2ec2c" title="Reverse list order.">reverse</a>();
<a name="l20953"></a>20953     }
<a name="l20954"></a>20954 
<a name="l20956"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae64b195f47bba8d6e8d283831cd1e918">20956</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#ae64b195f47bba8d6e8d283831cd1e918" title="Get a sub-list.">get_crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i1, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l20957"></a>20957       <span class="keywordflow">if</span> (i0&gt;i1 || i1&gt;=size)
<a name="l20958"></a>20958         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::crop() : Cannot get a sub-list (%u-&gt;%u) from a list of %u images&quot;</span>,
<a name="l20959"></a>20959                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),i0,i1,size);
<a name="l20960"></a>20960       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res(i1-i0+1);
<a name="l20961"></a>20961       cimglist_for(res,l) res[l].<a class="code" href="structcimg__library_1_1_c_img_list.html#a8531064785b0de93f45d78a42c919765" title="In-place version of the default constructor and default destructor.">assign</a>((*<span class="keyword">this</span>)[i0+l],shared);
<a name="l20962"></a>20962       <span class="keywordflow">return</span> res;
<a name="l20963"></a>20963     }
<a name="l20964"></a>20964 
<a name="l20966"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a625b4a9c8940a92a22b43ddd3ea4ee0a">20966</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a625b4a9c8940a92a22b43ddd3ea4ee0a" title="Replace a list by its sublist.">crop</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i1, <span class="keyword">const</span> <span class="keywordtype">bool</span> shared=<span class="keyword">false</span>) {
<a name="l20967"></a>20967       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(i0,i1,shared).swap(*<span class="keyword">this</span>);
<a name="l20968"></a>20968     }
<a name="l20969"></a>20969 
<a name="l20971"></a>20971     <span class="comment">//----------------------------</span>
<a name="l20972"></a>20972     <span class="comment">//</span>
<a name="l20974"></a>20974 <span class="comment"></span>
<a name="l20975"></a>20975     <span class="comment">//----------------------------</span>
<a name="l20976"></a>20976 
<a name="l20978"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ab8d59c92e8f81e85a36c9270921af652">20978</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ab8d59c92e8f81e85a36c9270921af652" title="Compute the Fast Fourier Transform (along the specified axis).">FFT</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe, <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>) {
<a name="l20979"></a>20979       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Instance list (%u,%p) is empty&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l20980"></a>20980       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Real part (%u,%u,%u,%u,%p) is empty&quot;</span>,
<a name="l20981"></a>20981                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].dim,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l20982"></a>20982       cimg::warn(size&gt;2,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Instance list (%u,%p) have more than 2 images&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,data);
<a name="l20983"></a>20983       <span class="keywordflow">if</span> (size==1) insert(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(data[0].width,data[0].height,data[0].depth,data[0].dim,0));
<a name="l20984"></a>20984       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> &amp;Ir = data[0], &amp;Ii = data[1];
<a name="l20985"></a>20985       <span class="keywordflow">if</span> (Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>!=Ii.width || Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>!=Ii.height || Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>!=Ii.depth || Ir.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>!=Ii.dim)
<a name="l20986"></a>20986         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Real part (%u,%u,%u,%u,%p) and imaginary part (%u,%u,%u,%u,%p)&quot;</span>
<a name="l20987"></a>20987                                     <span class="stringliteral">&quot;have different dimensions&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),
<a name="l20988"></a>20988                                     Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,Ir.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,Ii.width,Ii.height,Ii.depth,Ii.dim,Ii.data);
<a name="l20989"></a>20989 
<a name="l20990"></a>20990 <span class="preprocessor">#ifdef cimg_use_fftw3</span>
<a name="l20991"></a>20991 <span class="preprocessor"></span>      fftw_complex *data_in;
<a name="l20992"></a>20992       fftw_plan data_plan;
<a name="l20993"></a>20993 
<a name="l20994"></a>20994       <span class="keywordflow">switch</span> (cimg::uncase(axe)) {
<a name="l20995"></a>20995       <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: {
<a name="l20996"></a>20996         data_in = (fftw_complex*)fftw_malloc(<span class="keyword">sizeof</span>(fftw_complex) * Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l20997"></a>20997         data_plan = fftw_plan_dft_1d(Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, data_in, data_in, <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?FFTW_BACKWARD:FFTW_FORWARD, FFTW_ESTIMATE);
<a name="l20998"></a>20998         cimg_forYZV(Ir,y,z,k) {
<a name="l20999"></a>20999           T *ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,y,z,k), *ptri = Ii.ptr(0,y,z,k);
<a name="l21000"></a>21000           <span class="keywordtype">double</span> *ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21001"></a>21001           cimg_forX(Ir,x) { *(ptrd++) = (<span class="keywordtype">double</span>)*(ptrr++); *(ptrd++) = (<span class="keywordtype">double</span>)*(ptri++); }
<a name="l21002"></a>21002           fftw_execute(data_plan);
<a name="l21003"></a>21003           cimg_forX(Ir,x) { *(--ptri) = (T)*(--ptrd); *(--ptrr) = (T)*(--ptrd); }
<a name="l21004"></a>21004         }
<a name="l21005"></a>21005       } <span class="keywordflow">break</span>;
<a name="l21006"></a>21006 
<a name="l21007"></a>21007       <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: {
<a name="l21008"></a>21008         data_in = (fftw_complex*)fftw_malloc(<span class="keyword">sizeof</span>(fftw_complex) * Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l21009"></a>21009         data_plan = fftw_plan_dft_1d(Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>, data_in, data_in, <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?FFTW_BACKWARD:FFTW_FORWARD, FFTW_ESTIMATE);
<a name="l21010"></a>21010         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l21011"></a>21011         cimg_forXZV(Ir,x,z,k) {
<a name="l21012"></a>21012           T *ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,0,z,k), *ptri = Ii.ptr(x,0,z,k);
<a name="l21013"></a>21013           <span class="keywordtype">double</span> *ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21014"></a>21014           cimg_forY(Ir,y) { *(ptrd++) = (<span class="keywordtype">double</span>)*ptrr; *(ptrd++) = (<span class="keywordtype">double</span>)*ptri; ptrr+=off; ptri+=off; }
<a name="l21015"></a>21015           fftw_execute(data_plan);
<a name="l21016"></a>21016           cimg_forY(Ir,y) { ptrr-=off; ptri-=off; *ptri = (T)*(--ptrd); *ptrr = (T)*(--ptrd); }
<a name="l21017"></a>21017         }
<a name="l21018"></a>21018       } <span class="keywordflow">break</span>;
<a name="l21019"></a>21019 
<a name="l21020"></a>21020       <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: {
<a name="l21021"></a>21021         data_in = (fftw_complex*)fftw_malloc(<span class="keyword">sizeof</span>(fftw_complex) * Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l21022"></a>21022         data_plan = fftw_plan_dft_1d(Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, data_in, data_in, <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?FFTW_BACKWARD:FFTW_FORWARD, FFTW_ESTIMATE);
<a name="l21023"></a>21023         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l21024"></a>21024         cimg_forXYV(Ir,x,y,k) {
<a name="l21025"></a>21025           T *ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,0,k), *ptri = Ii.ptr(x,y,0,k);
<a name="l21026"></a>21026           <span class="keywordtype">double</span> *ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21027"></a>21027           cimg_forZ(Ir,z) { *(ptrd++) = (<span class="keywordtype">double</span>)*ptrr; *(ptrd++) = (<span class="keywordtype">double</span>)*ptri; ptrr+=off; ptri+=off; }
<a name="l21028"></a>21028           fftw_execute(data_plan);
<a name="l21029"></a>21029           cimg_forZ(Ir,z) { ptrr-=off; ptri-=off; *ptri = (T)*(--ptrd); *ptrr = (T)*(--ptrd); }
<a name="l21030"></a>21030         }
<a name="l21031"></a>21031       } <span class="keywordflow">break</span>;
<a name="l21032"></a>21032 
<a name="l21033"></a>21033       <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {
<a name="l21034"></a>21034         data_in = (fftw_complex*)fftw_malloc(<span class="keyword">sizeof</span>(fftw_complex) * Ir.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l21035"></a>21035         data_plan = fftw_plan_dft_1d(Ir.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>, data_in, data_in, <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?FFTW_BACKWARD:FFTW_FORWARD, FFTW_ESTIMATE);
<a name="l21036"></a>21036         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> off = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l21037"></a>21037         cimg_forXYZ(Ir,x,y,z) {
<a name="l21038"></a>21038           T *ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(x,y,z,0), *ptri = Ii.ptr(x,y,z,0);
<a name="l21039"></a>21039           <span class="keywordtype">double</span> *ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21040"></a>21040           cimg_forV(Ir,k) { *(ptrd++) = (<span class="keywordtype">double</span>)*ptrr; *(ptrd++) = (<span class="keywordtype">double</span>)*ptri; ptrr+=off; ptri+=off; }
<a name="l21041"></a>21041           fftw_execute(data_plan);
<a name="l21042"></a>21042           cimg_forV(Ir,k) { ptrr-=off; ptri-=off; *ptri = (T)*(--ptrd); *ptrr = (T)*(--ptrd); }
<a name="l21043"></a>21043         }
<a name="l21044"></a>21044       } <span class="keywordflow">break</span>;
<a name="l21045"></a>21045       }
<a name="l21046"></a>21046 
<a name="l21047"></a>21047       fftw_destroy_plan(data_plan);
<a name="l21048"></a>21048       fftw_free(data_in);
<a name="l21049"></a>21049 <span class="preprocessor">#else</span>
<a name="l21050"></a>21050 <span class="preprocessor"></span>      <span class="keywordflow">switch</span> (cimg::uncase(axe)) {
<a name="l21051"></a>21051       <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: { <span class="comment">// Fourier along X</span>
<a name="l21052"></a>21052         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, N2 = (N&gt;&gt;1);
<a name="l21053"></a>21053         <span class="keywordflow">if</span> (((N-1)&amp;N) &amp;&amp; N!=1) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Dimension of instance image along &#39;x&#39; is %d != 2^N&quot;</span>,
<a name="l21054"></a>21054                                                            <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),N);
<a name="l21055"></a>21055         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0,j=0; i&lt;N2; i++) {
<a name="l21056"></a>21056           <span class="keywordflow">if</span> (j&gt;i) cimg_forYZV(Ir,y,z,v) { cimg::swap(Ir(i,y,z,v),Ir(j,y,z,v)); cimg::swap(Ii(i,y,z,v),Ii(j,y,z,v));
<a name="l21057"></a>21057           <span class="keywordflow">if</span> (j&lt;N2) {
<a name="l21058"></a>21058             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ri = N-1-i, rj = N-1-j;
<a name="l21059"></a>21059             cimg::swap(Ir(ri,y,z,v),Ir(rj,y,z,v)); cimg::swap(Ii(ri,y,z,v),Ii(rj,y,z,v));
<a name="l21060"></a>21060           }}
<a name="l21061"></a>21061           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m=N, n=N2; (j+=n)&gt;=m; j-=m, m=n, n&gt;&gt;=1);
<a name="l21062"></a>21062         }
<a name="l21063"></a>21063         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta=2; delta&lt;=N; delta&lt;&lt;=1) {
<a name="l21064"></a>21064           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta2 = (delta&gt;&gt;1);
<a name="l21065"></a>21065           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;N; i+=delta) {
<a name="l21066"></a>21066             <span class="keywordtype">float</span> wr = 1, wi = 0;
<a name="l21067"></a>21067             <span class="keyword">const</span> <span class="keywordtype">float</span> angle = (float)((<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?+1:-1)*2*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/delta),
<a name="l21068"></a>21068                         ca = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(angle),
<a name="l21069"></a>21069                         sa = (float)std::sin(angle);
<a name="l21070"></a>21070             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;delta2; k++) {
<a name="l21071"></a>21071               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = i + k, nj = j + delta2;
<a name="l21072"></a>21072               cimg_forYZV(Ir,y,z,k) {
<a name="l21073"></a>21073                 T &amp;ir = Ir(j,y,z,k), &amp;ii = Ii(j,y,z,k), &amp;nir = Ir(nj,y,z,k), &amp;nii = Ii(nj,y,z,k);
<a name="l21074"></a>21074                 <span class="keyword">const</span> T tmpr = wr*nir - wi*nii, tmpi = wr*nii + wi*nir;
<a name="l21075"></a>21075                 nir = ir - tmpr; nii = ii - tmpi;
<a name="l21076"></a>21076                 ir += tmpr; ii += tmpi;
<a name="l21077"></a>21077               }
<a name="l21078"></a>21078               <span class="keyword">const</span> <span class="keywordtype">float</span> nwr = wr*ca-wi*sa;
<a name="l21079"></a>21079               wi = wi*ca + wr*sa;
<a name="l21080"></a>21080               wr = nwr;
<a name="l21081"></a>21081             }
<a name="l21082"></a>21082           }
<a name="l21083"></a>21083         }
<a name="l21084"></a>21084         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>) (*this)/=N;
<a name="l21085"></a>21085       } <span class="keywordflow">break</span>;
<a name="l21086"></a>21086 
<a name="l21087"></a>21087       <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: { <span class="comment">// Fourier along Y</span>
<a name="l21088"></a>21088         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>, N2 = (N&gt;&gt;1);
<a name="l21089"></a>21089         <span class="keywordflow">if</span> (((N-1)&amp;N) &amp;&amp; N!=1) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Dimension of instance image(s) along &#39;y&#39; is %d != 2^N&quot;</span>,
<a name="l21090"></a>21090                                                            <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),N);
<a name="l21091"></a>21091         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0,j=0; i&lt;N2; i++) {
<a name="l21092"></a>21092           <span class="keywordflow">if</span> (j&gt;i) cimg_forXZV(Ir,x,z,v) { cimg::swap(Ir(x,i,z,v),Ir(x,j,z,v)); cimg::swap(Ii(x,i,z,v),Ii(x,j,z,v));
<a name="l21093"></a>21093           <span class="keywordflow">if</span> (j&lt;N2) {
<a name="l21094"></a>21094             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ri = N-1-i, rj = N-1-j;
<a name="l21095"></a>21095             cimg::swap(Ir(x,ri,z,v),Ir(x,rj,z,v)); cimg::swap(Ii(x,ri,z,v),Ii(x,rj,z,v));
<a name="l21096"></a>21096           }}
<a name="l21097"></a>21097           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m=N, n=N2; (j+=n)&gt;=m; j-=m, m=n, n&gt;&gt;=1);
<a name="l21098"></a>21098         }
<a name="l21099"></a>21099         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta=2; delta&lt;=N; delta&lt;&lt;=1) {
<a name="l21100"></a>21100           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta2 = (delta&gt;&gt;1);
<a name="l21101"></a>21101           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;N; i+=delta) {
<a name="l21102"></a>21102             <span class="keywordtype">float</span> wr = 1, wi = 0;
<a name="l21103"></a>21103             <span class="keyword">const</span> <span class="keywordtype">float</span> angle = (float)((<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?+1:-1)*2*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/delta),
<a name="l21104"></a>21104                         ca = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(angle), sa = (float)std::sin(angle);
<a name="l21105"></a>21105             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;delta2; k++) {
<a name="l21106"></a>21106               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = i + k, nj = j + delta2;
<a name="l21107"></a>21107               cimg_forXZV(Ir,x,z,k) {
<a name="l21108"></a>21108                 T &amp;ir = Ir(x,j,z,k), &amp;ii = Ii(x,j,z,k), &amp;nir = Ir(x,nj,z,k), &amp;nii = Ii(x,nj,z,k);
<a name="l21109"></a>21109                 <span class="keyword">const</span> T tmpr = wr*nir - wi*nii, tmpi = wr*nii + wi*nir;
<a name="l21110"></a>21110                 nir = ir - tmpr; nii = ii - tmpi;
<a name="l21111"></a>21111                 ir += tmpr; ii += tmpi;
<a name="l21112"></a>21112               }
<a name="l21113"></a>21113               <span class="keyword">const</span> <span class="keywordtype">float</span> nwr = wr*ca-wi*sa;
<a name="l21114"></a>21114               wi = wi*ca + wr*sa;
<a name="l21115"></a>21115               wr = nwr;
<a name="l21116"></a>21116             }
<a name="l21117"></a>21117           }
<a name="l21118"></a>21118         }
<a name="l21119"></a>21119         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>) (*this)/=N;
<a name="l21120"></a>21120       } <span class="keywordflow">break</span>;
<a name="l21121"></a>21121 
<a name="l21122"></a>21122       <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: { <span class="comment">// Fourier along Z</span>
<a name="l21123"></a>21123         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, N2 = (N&gt;&gt;1);
<a name="l21124"></a>21124         <span class="keywordflow">if</span> (((N-1)&amp;N) &amp;&amp; N!=1) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Dimension of instance image(s) along &#39;z&#39; is %d != 2^N&quot;</span>,
<a name="l21125"></a>21125                                                            <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),N);
<a name="l21126"></a>21126         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0,j=0; i&lt;N2; i++) {
<a name="l21127"></a>21127           <span class="keywordflow">if</span> (j&gt;i) cimg_forXYV(Ir,x,y,v) { cimg::swap(Ir(x,y,i,v),Ir(x,y,j,v)); cimg::swap(Ii(x,y,i,v),Ii(x,y,j,v));
<a name="l21128"></a>21128           <span class="keywordflow">if</span> (j&lt;N2) {
<a name="l21129"></a>21129             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ri = N-1-i, rj = N-1-j;
<a name="l21130"></a>21130             cimg::swap(Ir(x,y,ri,v),Ir(x,y,rj,v)); cimg::swap(Ii(x,y,ri,v),Ii(x,y,rj,v));
<a name="l21131"></a>21131           }}
<a name="l21132"></a>21132           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m=N, n=N2; (j+=n)&gt;=m; j-=m, m=n, n&gt;&gt;=1);
<a name="l21133"></a>21133         }
<a name="l21134"></a>21134         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta=2; delta&lt;=N; delta&lt;&lt;=1) {
<a name="l21135"></a>21135           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta2 = (delta&gt;&gt;1);
<a name="l21136"></a>21136           <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;N; i+=delta) {
<a name="l21137"></a>21137             <span class="keywordtype">float</span> wr = 1, wi = 0;
<a name="l21138"></a>21138             <span class="keyword">const</span> <span class="keywordtype">float</span> angle = (float)((<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?+1:-1)*2*<a class="code" href="namespacecimg__library_1_1cimg.html#a205a986e6e5acb39f7598e22a9116060" title="Definition of the mathematical constant PI.">cimg::PI</a>/delta),
<a name="l21139"></a>21139                         ca = (<span class="keywordtype">float</span>)<a class="code" href="structcimg__library_1_1_c_img.html#a3aba6102a17c99c6ec39258f4e69abf8" title="Replace each image pixel by its cosinus.">std::cos</a>(angle), sa = (float)std::sin(angle);
<a name="l21140"></a>21140             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;delta2; k++) {
<a name="l21141"></a>21141               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = i + k, nj = j + delta2;
<a name="l21142"></a>21142               cimg_forXYV(Ir,x,y,k) {
<a name="l21143"></a>21143                 T &amp;ir = Ir(x,y,j,k), &amp;ii = Ii(x,y,j,k), &amp;nir = Ir(x,y,nj,k), &amp;nii = Ii(x,y,nj,k);
<a name="l21144"></a>21144                 <span class="keyword">const</span> T tmpr = wr*nir - wi*nii, tmpi = wr*nii + wi*nir;
<a name="l21145"></a>21145                 nir = ir - tmpr; nii = ii - tmpi;
<a name="l21146"></a>21146                 ir += tmpr; ii += tmpi;
<a name="l21147"></a>21147               }
<a name="l21148"></a>21148               <span class="keyword">const</span> <span class="keywordtype">float</span> nwr = wr*ca-wi*sa;
<a name="l21149"></a>21149               wi = wi*ca + wr*sa;
<a name="l21150"></a>21150               wr = nwr;
<a name="l21151"></a>21151             }
<a name="l21152"></a>21152           }
<a name="l21153"></a>21153         }
<a name="l21154"></a>21154         <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>) (*this)/=N;
<a name="l21155"></a>21155       } <span class="keywordflow">break</span>;
<a name="l21156"></a>21156 
<a name="l21157"></a>21157       <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : unknown axe &#39;%c&#39;, must be &#39;x&#39;,&#39;y&#39; or &#39;z&#39;&quot;</span>);
<a name="l21158"></a>21158       }
<a name="l21159"></a>21159 <span class="preprocessor">#endif</span>
<a name="l21160"></a>21160 <span class="preprocessor"></span>      <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21161"></a>21161     }
<a name="l21162"></a>21162 
<a name="l21164"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a57c9f96955250fae45b78a42c088078a">21164</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html#a57c9f96955250fae45b78a42c088078a" title="Return the Fast Fourier Transform of a complex image (along a specified axis).">get_FFT</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe,<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l21165"></a>21165       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l21166"></a>21166       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).FFT(axe,<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l21167"></a>21167     }
<a name="l21168"></a>21168 
<a name="l21170"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ad5c1d2707b9c37993003b0ff6a3ab752">21170</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ad5c1d2707b9c37993003b0ff6a3ab752" title="Compute the Fast Fourier Transform of a complex image.">FFT</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>) {
<a name="l21171"></a>21171       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Instance list (%u,%p) is empty&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21172"></a>21172       cimg::warn(size&gt;2,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::FFT() : Instance list (%u,%p) have more than 2 images&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21173"></a>21173       <span class="keywordflow">if</span> (size==1) insert(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].dim,0));
<a name="l21174"></a>21174       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> &amp;Ir = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0];
<a name="l21175"></a>21175 
<a name="l21176"></a>21176 <span class="preprocessor">#ifdef cimg_use_fftw3</span>
<a name="l21177"></a>21177 <span class="preprocessor"></span>      <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> &amp;Ii = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[1];
<a name="l21178"></a>21178       fftw_complex *data_in = (fftw_complex*)fftw_malloc(<span class="keyword">sizeof</span>(fftw_complex) * Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l21179"></a>21179       fftw_plan data_plan;
<a name="l21180"></a>21180       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, wh = w*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>, whd = wh*Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l21181"></a>21181       data_plan = fftw_plan_dft_3d(Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>, Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>, data_in, data_in, <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>?FFTW_BACKWARD:FFTW_FORWARD, FFTW_ESTIMATE);
<a name="l21182"></a>21182       cimg_forV(Ir,k) {
<a name="l21183"></a>21183         T *ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k), *ptri = Ii.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k);
<a name="l21184"></a>21184         <span class="keywordtype">double</span> *ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21185"></a>21185         cimg_forX(Ir,x) { cimg_forY(Ir,y) { cimg_forZ(Ir,z)
<a name="l21186"></a>21186           { *(ptrd++) = (<span class="keywordtype">double</span>)*ptrr; *(ptrd++) = (<span class="keywordtype">double</span>)*ptri; ptrr+=wh; ptri+=wh; }
<a name="l21187"></a>21187         ptrr-=whd-w; ptri-=whd-w; }
<a name="l21188"></a>21188         ptrr-=wh-1; ptri-=wh-1; }
<a name="l21189"></a>21189         fftw_execute(data_plan);
<a name="l21190"></a>21190         ptrd = (<span class="keywordtype">double</span>*)data_in;
<a name="l21191"></a>21191         ptrr = Ir.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k), ptri = Ii.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,k);
<a name="l21192"></a>21192         cimg_forX(Ir,x) { cimg_forY(Ir,y) { cimg_forZ(Ir,z)
<a name="l21193"></a>21193           { *ptrr = (T)*(ptrd++); *ptri = (T)*(ptrd++); ptrr+=wh; ptri+=wh; }
<a name="l21194"></a>21194         ptrr-=whd-w; ptri-=whd-w; }
<a name="l21195"></a>21195         ptrr-=wh-1; ptri-=wh-1; }
<a name="l21196"></a>21196       }
<a name="l21197"></a>21197       fftw_destroy_plan(data_plan);
<a name="l21198"></a>21198       fftw_free(data_in);
<a name="l21199"></a>21199 <span class="preprocessor">#else</span>
<a name="l21200"></a>21200 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>&gt;1)  FFT(<span class="charliteral">&#39;z&#39;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l21201"></a>21201       <span class="keywordflow">if</span> (Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>&gt;1) FFT(<span class="charliteral">&#39;y&#39;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l21202"></a>21202       <span class="keywordflow">if</span> (Ir.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>&gt;1)  FFT(<span class="charliteral">&#39;x&#39;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l21203"></a>21203 <span class="preprocessor">#endif</span>
<a name="l21204"></a>21204 <span class="preprocessor"></span>      <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21205"></a>21205     }
<a name="l21206"></a>21206 
<a name="l21208"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aae3a668fecaf3c0f84a87efcd7f02ffc">21208</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;typename cimg::largest&lt;T,float&gt;::type</a>&gt; <a class="code" href="structcimg__library_1_1_c_img_list.html#aae3a668fecaf3c0f84a87efcd7f02ffc" title="Return the Fast Fourier Transform of a complex image.">get_FFT</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l21209"></a>21209       <span class="keyword">typedef</span> <span class="keyword">typename</span> cimg::largest&lt;T,float&gt;::type restype;
<a name="l21210"></a>21210       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;restype&gt;</a>(*this).FFT(<a class="code" href="structcimg__library_1_1_c_img.html#abaeeed53c26e52bb8f518242df202267" title="Inverse the current matrix.">inverse</a>);
<a name="l21211"></a>21211     }
<a name="l21212"></a>21212 
<a name="l21214"></a>21214     <span class="comment">//----------------------------------</span>
<a name="l21215"></a>21215     <span class="comment">//</span>
<a name="l21217"></a>21217 <span class="comment"></span>
<a name="l21218"></a>21218     <span class="comment">//----------------------------------</span>
<a name="l21219"></a>21219 
<a name="l21221"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a903f6445a9f4e2c88af14dfade9a4a98">21221</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a903f6445a9f4e2c88af14dfade9a4a98" title="Print informations about the list on the standard output.">print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* title=0, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> print_flag=1)<span class="keyword"> const </span>{
<a name="l21222"></a>21222       <span class="keywordtype">char</span> tmp[1024];
<a name="l21223"></a>21223       std::fprintf(stderr,<span class="stringliteral">&quot;%-8s(this=%p) : { size=%u, data=%p }\n&quot;</span>,title?title:<span class="stringliteral">&quot;CImgList&quot;</span>,
<a name="l21224"></a>21224                    (<span class="keywordtype">void</span>*)<span class="keyword">this</span>,size,(<span class="keywordtype">void</span>*)<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21225"></a>21225       <span class="keywordflow">if</span> (print_flag&gt;0) cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21226"></a>21226         std::sprintf(tmp,<span class="stringliteral">&quot;%s[%d]&quot;</span>,title?title:<span class="stringliteral">&quot;CImgList&quot;</span>,l);
<a name="l21227"></a>21227         data[l].print(tmp,print_flag);
<a name="l21228"></a>21228       }
<a name="l21229"></a>21229       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21230"></a>21230     }
<a name="l21231"></a>21231 
<a name="l21233"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ad4ab8d29e3eeb9dfba53b9cc0d9f4a6f">21233</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ad4ab8d29e3eeb9dfba53b9cc0d9f4a6f" title="Display informations about the list on the standart output.">print</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> print_flag)<span class="keyword"> const </span>{
<a name="l21234"></a>21234       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a29c40d60c9eac664831cc2b69839ed6d" title="Display informations about the image on the standard error output.">print</a>(0,print_flag);
<a name="l21235"></a>21235     }
<a name="l21236"></a>21236 
<a name="l21238"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1caed2cc618a174e8ab6fb418eee02d9">21238</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a1caed2cc618a174e8ab6fb418eee02d9" title="Load an image list from a file.">get_load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21239"></a>21239       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename);
<a name="l21240"></a>21240       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;cimg&quot;</span>,4) || !ext[0]) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(filename);
<a name="l21241"></a>21241       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;rec&quot;</span>,3) ||
<a name="l21242"></a>21242           !cimg::strncasecmp(ext,<span class="stringliteral">&quot;par&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(filename);
<a name="l21243"></a>21243       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> res(1);
<a name="l21244"></a>21244       res[0].<a class="code" href="structcimg__library_1_1_c_img_list.html#ae2fce076842991a251d7e7137ee98ea8" title="In-place version of load().">load</a>(filename);
<a name="l21245"></a>21245       <span class="keywordflow">return</span> res;
<a name="l21246"></a>21246     }
<a name="l21247"></a>21247 
<a name="l21249"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae2fce076842991a251d7e7137ee98ea8">21249</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ae2fce076842991a251d7e7137ee98ea8" title="In-place version of load().">load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21250"></a>21250       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a33611f3d14a83d92bb29259f14515381" title="Load an image from a file.">get_load</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l21251"></a>21251     }
<a name="l21252"></a>21252 
<a name="l21253"></a>21253 <span class="preprocessor">#define cimg_load_cimg_case(Ts,Tss) \</span>
<a name="l21254"></a>21254 <span class="preprocessor">  if (!loaded &amp;&amp; !cimg::strcasecmp(Ts,tmp2)) for (unsigned int l=0; l&lt;n; l++) { \</span>
<a name="l21255"></a>21255 <span class="preprocessor">      const bool endian = cimg::endian(); \</span>
<a name="l21256"></a>21256 <span class="preprocessor">      j=0; while((i=std::fgetc(nfile))!=&#39;\n&#39;) tmp[j++]=(char)i; tmp[j]=&#39;\0&#39;; \</span>
<a name="l21257"></a>21257 <span class="preprocessor">      std::sscanf(tmp,&quot;%u %u %u %u&quot;,&amp;w,&amp;h,&amp;z,&amp;k);\</span>
<a name="l21258"></a>21258 <span class="preprocessor">      if (w*h*z*k&gt;0) { \</span>
<a name="l21259"></a>21259 <span class="preprocessor">        Tss *buf = new Tss[w*h*z*k]; cimg::fread(buf,w*h*z*k,nfile); \</span>
<a name="l21260"></a>21260 <span class="preprocessor">        if (endian) cimg::endian_swap(buf,w*h*z*k); \</span>
<a name="l21261"></a>21261 <span class="preprocessor">        CImg&lt;T&gt; idest(w,h,z,k); \</span>
<a name="l21262"></a>21262 <span class="preprocessor">        cimg_foroff(idest,off) idest[off] = (T)(buf[off]); idest.swap(res[l]); \</span>
<a name="l21263"></a>21263 <span class="preprocessor">        delete[] buf; \</span>
<a name="l21264"></a>21264 <span class="preprocessor">       } \</span>
<a name="l21265"></a>21265 <span class="preprocessor">      loaded = true; \</span>
<a name="l21266"></a>21266 <span class="preprocessor">    }</span>
<a name="l21267"></a>21267 <span class="preprocessor"></span>
<a name="l21269"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1dc19bf70de1c3e2144d88a51aa135cf">21269</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a1dc19bf70de1c3e2144d88a51aa135cf" title="Load an image list from a file (.raw format).">get_load_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l21270"></a>21270       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uchar;
<a name="l21271"></a>21271       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ushort;
<a name="l21272"></a>21272       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uint;
<a name="l21273"></a>21273       <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ulong;
<a name="l21274"></a>21274       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l21275"></a>21275       <span class="keywordtype">char</span> tmp[256],tmp2[256];
<a name="l21276"></a>21276       <span class="keywordtype">int</span> i;
<a name="l21277"></a>21277       <span class="keywordtype">bool</span> loaded = <span class="keyword">false</span>;
<a name="l21278"></a>21278       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n,j,w,h,z,k,err;
<a name="l21279"></a>21279       j=0; <span class="keywordflow">while</span>((i=std::fgetc(nfile))!=<span class="charliteral">&#39;\n&#39;</span> &amp;&amp; i!=EOF &amp;&amp; j&lt;256) tmp[j++]=i; tmp[j]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l21280"></a>21280       err=std::sscanf(tmp,<span class="stringliteral">&quot;%u%*c%255[A-Za-z ]&quot;</span>,&amp;n,tmp2);
<a name="l21281"></a>21281       <span class="keywordflow">if</span> (err!=2) {
<a name="l21282"></a>21282         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21283"></a>21283         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_cimg() : File &#39;%s&#39;, Unknow CImg RAW header.&quot;</span>,
<a name="l21284"></a>21284                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>);
<a name="l21285"></a>21285       }
<a name="l21286"></a>21286       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res(n);
<a name="l21287"></a>21287       cimg_load_cimg_case(<span class="stringliteral">&quot;bool&quot;</span>,<span class="keywordtype">bool</span>);
<a name="l21288"></a>21288       cimg_load_cimg_case(<span class="stringliteral">&quot;unsigned char&quot;</span>,uchar);
<a name="l21289"></a>21289       cimg_load_cimg_case(<span class="stringliteral">&quot;uchar&quot;</span>,uchar);
<a name="l21290"></a>21290       cimg_load_cimg_case(<span class="stringliteral">&quot;char&quot;</span>,<span class="keywordtype">char</span>);
<a name="l21291"></a>21291       cimg_load_cimg_case(<span class="stringliteral">&quot;unsigned short&quot;</span>,ushort);
<a name="l21292"></a>21292       cimg_load_cimg_case(<span class="stringliteral">&quot;ushort&quot;</span>,ushort);
<a name="l21293"></a>21293       cimg_load_cimg_case(<span class="stringliteral">&quot;short&quot;</span>,<span class="keywordtype">short</span>);
<a name="l21294"></a>21294       cimg_load_cimg_case(<span class="stringliteral">&quot;unsigned int&quot;</span>,uint);
<a name="l21295"></a>21295       cimg_load_cimg_case(<span class="stringliteral">&quot;uint&quot;</span>,uint);
<a name="l21296"></a>21296       cimg_load_cimg_case(<span class="stringliteral">&quot;int&quot;</span>,<span class="keywordtype">int</span>);
<a name="l21297"></a>21297       cimg_load_cimg_case(<span class="stringliteral">&quot;unsigned long&quot;</span>,ulong);
<a name="l21298"></a>21298       cimg_load_cimg_case(<span class="stringliteral">&quot;ulong&quot;</span>,ulong);
<a name="l21299"></a>21299       cimg_load_cimg_case(<span class="stringliteral">&quot;long&quot;</span>,<span class="keywordtype">long</span>);
<a name="l21300"></a>21300       cimg_load_cimg_case(<span class="stringliteral">&quot;float&quot;</span>,<span class="keywordtype">float</span>);
<a name="l21301"></a>21301       cimg_load_cimg_case(<span class="stringliteral">&quot;double&quot;</span>,<span class="keywordtype">double</span>);
<a name="l21302"></a>21302       <span class="keywordflow">if</span> (!loaded) {
<a name="l21303"></a>21303         <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21304"></a>21304         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_cimg() : File &#39;%s&#39;, cannot read images of pixels coded as &#39;%s&#39;.&quot;</span>,
<a name="l21305"></a>21305                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,tmp2);
<a name="l21306"></a>21306       }
<a name="l21307"></a>21307       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21308"></a>21308       <span class="keywordflow">return</span> res;
<a name="l21309"></a>21309     }
<a name="l21310"></a>21310 
<a name="l21312"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae46658b616de758970da7ed386823fc2">21312</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#ae46658b616de758970da7ed386823fc2" title="Load an image list from a file (.raw format).">get_load_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21313"></a>21313       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(0,filename);
<a name="l21314"></a>21314     }
<a name="l21315"></a>21315 
<a name="l21317"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a0faab84e39f84291464191aea2e4836f">21317</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a0faab84e39f84291464191aea2e4836f" title="In-place version of get_load_cimg().">load_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0) {
<a name="l21318"></a>21318       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(file,filename).swap(*<span class="keyword">this</span>);
<a name="l21319"></a>21319     }
<a name="l21320"></a>21320 
<a name="l21322"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2760a04dfde9a68e20a7a391793c5eee">21322</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a2760a04dfde9a68e20a7a391793c5eee" title="In-place version of get_load_cimg().">load_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21323"></a>21323       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a96932bb71719972c24e77ca79b2c1d3a" title="Load an image from a CImg RAW file.">get_load_cimg</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l21324"></a>21324     }
<a name="l21325"></a>21325 
<a name="l21327"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a35ef628a9224432225587787212a7c82">21327</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a35ef628a9224432225587787212a7c82" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21328"></a>21328       <span class="keywordtype">char</span> body[1024], filenamepar[1024], filenamerec[1024];
<a name="l21329"></a>21329       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename,body);
<a name="l21330"></a>21330       <span class="keywordflow">if</span> (!cimg::strncmp(ext,<span class="stringliteral">&quot;par&quot;</span>,3)) { std::strcpy(filenamepar,filename); std::sprintf(filenamerec,<span class="stringliteral">&quot;%s.rec&quot;</span>,body); }
<a name="l21331"></a>21331       <span class="keywordflow">if</span> (!cimg::strncmp(ext,<span class="stringliteral">&quot;PAR&quot;</span>,3)) { std::strcpy(filenamepar,filename); std::sprintf(filenamerec,<span class="stringliteral">&quot;%s.REC&quot;</span>,body); }
<a name="l21332"></a>21332       <span class="keywordflow">if</span> (!cimg::strncmp(ext,<span class="stringliteral">&quot;rec&quot;</span>,3)) { std::strcpy(filenamerec,filename); std::sprintf(filenamepar,<span class="stringliteral">&quot;%s.par&quot;</span>,body); }
<a name="l21333"></a>21333       <span class="keywordflow">if</span> (!cimg::strncmp(ext,<span class="stringliteral">&quot;REC&quot;</span>,3)) { std::strcpy(filenamerec,filename); std::sprintf(filenamepar,<span class="stringliteral">&quot;%s.PAR&quot;</span>,body); }
<a name="l21334"></a>21334       std::FILE *file = cimg::fopen(filenamepar,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l21335"></a>21335 
<a name="l21336"></a>21336       <span class="comment">// Parse header file</span>
<a name="l21337"></a>21337       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;float&gt;</a> st_slices;
<a name="l21338"></a>21338       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;unsigned int&gt;</a> st_global;
<a name="l21339"></a>21339       <span class="keywordtype">int</span> err;
<a name="l21340"></a>21340       <span class="keywordtype">char</span> <a class="code" href="structcimg__library_1_1_c_img.html#a7f3b504730dd9cfcdf1c7b136e97b231" title="Replace the instance image by one of its line.">line</a>[256]={0};
<a name="l21341"></a>21341       <span class="keywordflow">do</span> { err=std::fscanf(file,<span class="stringliteral">&quot;%255[^\n]%*c&quot;</span>,line); } <span class="keywordflow">while</span> (err!=EOF &amp;&amp; (line[0]==<span class="charliteral">&#39;#&#39;</span> || line[0]==<span class="charliteral">&#39;.&#39;</span>));
<a name="l21342"></a>21342       <span class="keywordflow">do</span> {
<a name="l21343"></a>21343         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sn,sizex,sizey,pixsize;
<a name="l21344"></a>21344         <span class="keywordtype">float</span> rs,ri,ss;
<a name="l21345"></a>21345         err=std::fscanf(file,<span class="stringliteral">&quot;%u%*u%*u%*u%*u%*u%*u%u%*u%u%u%g%g%g%*[^\n]&quot;</span>,&amp;sn,&amp;pixsize,&amp;sizex,&amp;sizey,&amp;ri,&amp;rs,&amp;ss);
<a name="l21346"></a>21346         <span class="keywordflow">if</span> (err==7) {
<a name="l21347"></a>21347           st_slices.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;::vector</a>((<span class="keywordtype">float</span>)sn,(<span class="keywordtype">float</span>)pixsize,(<span class="keywordtype">float</span>)sizex,(<span class="keywordtype">float</span>)sizey,ri,rs,ss,0));
<a name="l21348"></a>21348           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i; <span class="keywordflow">for</span> (i=0; i&lt;st_global.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a> &amp;&amp; sn&lt;=st_global[i][2]; i++);
<a name="l21349"></a>21349           <span class="keywordflow">if</span> (i==st_global.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>) st_global.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;::vector</a>(sizex,sizey,sn));
<a name="l21350"></a>21350           <span class="keywordflow">else</span> {
<a name="l21351"></a>21351             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> &amp;vec = st_global[i];
<a name="l21352"></a>21352             <span class="keywordflow">if</span> (sizex&gt;vec[0]) vec[0] = sizex;
<a name="l21353"></a>21353             <span class="keywordflow">if</span> (sizey&gt;vec[1]) vec[1] = sizey;
<a name="l21354"></a>21354             vec[2] = sn;
<a name="l21355"></a>21355           }
<a name="l21356"></a>21356           st_slices[st_slices.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1][7] = (float)i;
<a name="l21357"></a>21357         }
<a name="l21358"></a>21358       } <span class="keywordflow">while</span> (err==7);
<a name="l21359"></a>21359 
<a name="l21360"></a>21360       <span class="comment">// Read data</span>
<a name="l21361"></a>21361       std::FILE *file2 = cimg::fopen(filenamerec,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l21362"></a>21362       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> dest;
<a name="l21363"></a>21363       { cimglist_for(st_global,l) {
<a name="l21364"></a>21364         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a>&amp; vec = st_global[l];
<a name="l21365"></a>21365         dest.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>(vec[0],vec[1],vec[2]));
<a name="l21366"></a>21366       }}
<a name="l21367"></a>21367 
<a name="l21368"></a>21368       cimglist_for(st_slices,l) {
<a name="l21369"></a>21369         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a>&amp; vec = st_slices[l];
<a name="l21370"></a>21370         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l21371"></a>21371           sn = (<span class="keywordtype">unsigned</span> int)vec[0]-1,
<a name="l21372"></a>21372           pixsize = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec[1],
<a name="l21373"></a>21373           sizex = (<span class="keywordtype">unsigned</span> int)vec[2],
<a name="l21374"></a>21374           sizey = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec[3],
<a name="l21375"></a>21375           imn = (<span class="keywordtype">unsigned</span> int)vec[7];
<a name="l21376"></a>21376         <span class="keyword">const</span> <span class="keywordtype">float</span> ri = vec[4], rs = vec[5], ss = vec[6];
<a name="l21377"></a>21377         <span class="keywordflow">switch</span> (pixsize) {
<a name="l21378"></a>21378         <span class="keywordflow">case</span> 8: {
<a name="l21379"></a>21379           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> buf(sizex,sizey);
<a name="l21380"></a>21380           cimg::fread(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey,file2);
<a name="l21381"></a>21381           <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey);
<a name="l21382"></a>21382           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = dest[imn];
<a name="l21383"></a>21383           cimg_forXY(img,x,y) img(x,y,sn) = (T)(( buf(x,y)*rs + ri )/(rs*ss));
<a name="l21384"></a>21384         } <span class="keywordflow">break</span>;
<a name="l21385"></a>21385         <span class="keywordflow">case</span> 16: {
<a name="l21386"></a>21386           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned short&gt;</a> buf(sizex,sizey);
<a name="l21387"></a>21387           cimg::fread(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey,file2);
<a name="l21388"></a>21388           <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey);
<a name="l21389"></a>21389           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = dest[imn];
<a name="l21390"></a>21390           cimg_forXY(img,x,y) img(x,y,sn) = (T)(( buf(x,y)*rs + ri )/(rs*ss));
<a name="l21391"></a>21391         } <span class="keywordflow">break</span>;
<a name="l21392"></a>21392         <span class="keywordflow">case</span> 32: {
<a name="l21393"></a>21393           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned int&gt;</a> buf(sizex,sizey);
<a name="l21394"></a>21394           cimg::fread(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey,file2);
<a name="l21395"></a>21395           <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) cimg::endian_swap(buf.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,sizex*sizey);
<a name="l21396"></a>21396           <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = dest[imn];
<a name="l21397"></a>21397           cimg_forXY(img,x,y) img(x,y,sn) = (T)(( buf(x,y)*rs + ri )/(rs*ss));
<a name="l21398"></a>21398         } <span class="keywordflow">break</span>;
<a name="l21399"></a>21399         <span class="keywordflow">default</span>:
<a name="l21400"></a>21400           cimg::fclose(file);
<a name="l21401"></a>21401           cimg::fclose(file2);
<a name="l21402"></a>21402           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_parrec() : File &#39;%s&#39;, cannot handle image with pixsize = %d bits.&quot;</span>,
<a name="l21403"></a>21403                                 <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename,pixsize);
<a name="l21404"></a>21404           <span class="keywordflow">break</span>;
<a name="l21405"></a>21405         }
<a name="l21406"></a>21406       }
<a name="l21407"></a>21407       cimg::fclose(file);
<a name="l21408"></a>21408       cimg::fclose(file2);
<a name="l21409"></a>21409       <span class="keywordflow">if</span> (!dest.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>)
<a name="l21410"></a>21410         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::load_parrec() : File &#39;%s&#39; does not appear to be a valid PAR-REC file.&quot;</span>,
<a name="l21411"></a>21411                               <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename);
<a name="l21412"></a>21412       <span class="keywordflow">return</span> dest;
<a name="l21413"></a>21413     }
<a name="l21414"></a>21414 
<a name="l21416"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a6efa0324a9075a6a64c3a8a05f454867">21416</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a6efa0324a9075a6a64c3a8a05f454867" title="In-place version of get_load_parrec().">load_parrec</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename) {
<a name="l21417"></a>21417       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ab8fa719a8dba627519d3e899536b7b95" title="Load PAR-REC (Philips) image file.">get_load_parrec</a>(filename).swap(*<span class="keyword">this</span>);
<a name="l21418"></a>21418     }
<a name="l21419"></a>21419 
<a name="l21421"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aaa8f85db981559732ebec48625f39724">21421</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21422"></a>21422                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l21423"></a>21423                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l21424"></a>21424                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb=<span class="keyword">false</span>) {
<a name="l21425"></a>21425       <span class="keywordflow">if</span> (sizex%2 || sizey%2)
<a name="l21426"></a>21426         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39;, image dimensions along X and Y must be even numbers (given are %ux%u)\n&quot;</span>,
<a name="l21427"></a>21427                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,sizex,sizey);
<a name="l21428"></a>21428       <span class="keywordflow">if</span> (!sizex || !sizey)
<a name="l21429"></a>21429         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39;, given image sequence size (%u,%u) is invalid&quot;</span>,
<a name="l21430"></a>21430                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,sizex,sizey);
<a name="l21431"></a>21431       <span class="keywordflow">if</span> (last_frame&gt;0 &amp;&amp; first_frame&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)last_frame)
<a name="l21432"></a>21432         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39;, given first frame %u is posterior to last frame %d.&quot;</span>,
<a name="l21433"></a>21433                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,first_frame,last_frame);
<a name="l21434"></a>21434       <span class="keywordflow">if</span> (!sizex || !sizey)
<a name="l21435"></a>21435         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39;, given frame size (%u,%u) is invalid.&quot;</span>,
<a name="l21436"></a>21436                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,sizex,sizey);
<a name="l21437"></a>21437       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res;
<a name="l21438"></a>21438       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> tmp(sizex,sizey,1,3), UV(sizex/2,sizey/2,1,2);
<a name="l21439"></a>21439       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;rb&quot;</span>);
<a name="l21440"></a>21440       <span class="keywordtype">bool</span> stopflag = <span class="keyword">false</span>;
<a name="l21441"></a>21441       <span class="keywordtype">int</span> err;
<a name="l21442"></a>21442       <span class="keywordflow">if</span> (first_frame) {
<a name="l21443"></a>21443         err = std::fseek(nfile,first_frame*(sizex*sizey + sizex*sizey/2),SEEK_CUR);
<a name="l21444"></a>21444         <span class="keywordflow">if</span> (err) {
<a name="l21445"></a>21445           <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21446"></a>21446           <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_i_o_exception.html">CImgIOException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39; doesn&#39;t contain frame number %u &quot;</span>
<a name="l21447"></a>21447                                 <span class="stringliteral">&quot;(out of range error).&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(FILE*)&quot;</span>,first_frame);
<a name="l21448"></a>21448         }
<a name="l21449"></a>21449       }
<a name="l21450"></a>21450       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frame;
<a name="l21451"></a>21451       <span class="keywordflow">for</span> (frame = first_frame; !stopflag &amp;&amp; (last_frame&lt;0 || frame&lt;=(<span class="keywordtype">unsigned</span> int)last_frame); frame++) {
<a name="l21452"></a>21452         tmp.fill(0);
<a name="l21453"></a>21453         <span class="comment">// TRY to read the luminance, don&#39;t replace by cimg::fread !</span>
<a name="l21454"></a>21454         err = (int)std::fread((<span class="keywordtype">void</span>*)(tmp.ptr()),1,(<span class="keywordtype">size_t</span>)(tmp.width*tmp.height),nfile);
<a name="l21455"></a>21455         <span class="keywordflow">if</span> (err!=(<span class="keywordtype">int</span>)(tmp.width*tmp.height)) {
<a name="l21456"></a>21456           stopflag = <span class="keyword">true</span>;
<a name="l21457"></a>21457           cimg::warn(err&gt;0,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39; contains incomplete data,&quot;</span>
<a name="l21458"></a>21458                      <span class="stringliteral">&quot; or given image dimensions (%u,%u) are incorrect.&quot;</span>,
<a name="l21459"></a>21459                      <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,sizex,sizey);
<a name="l21460"></a>21460         } <span class="keywordflow">else</span> {
<a name="l21461"></a>21461           UV.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(0);
<a name="l21462"></a>21462           <span class="comment">// TRY to read the luminance, don&#39;t replace by cimg::fread !</span>
<a name="l21463"></a>21463           err = (int)std::fread((<span class="keywordtype">void</span>*)(UV.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>()),1,(<span class="keywordtype">size_t</span>)(UV.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>()),nfile);
<a name="l21464"></a>21464           <span class="keywordflow">if</span> (err!=(<span class="keywordtype">int</span>)(UV.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>())) {
<a name="l21465"></a>21465             stopflag = <span class="keyword">true</span>;
<a name="l21466"></a>21466             cimg::warn(err&gt;0,<span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39; contains incomplete data,&quot;</span>
<a name="l21467"></a>21467                        <span class="stringliteral">&quot; or given image dimensions (%u,%u) are incorrect.&quot;</span>,
<a name="l21468"></a>21468                        <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,sizex,sizey);
<a name="l21469"></a>21469           } <span class="keywordflow">else</span> {
<a name="l21470"></a>21470             cimg_forXY(UV,x,y) {
<a name="l21471"></a>21471               <span class="keyword">const</span> <span class="keywordtype">int</span> x2=2*x, y2=2*y;
<a name="l21472"></a>21472               tmp(x2,y2,1) = tmp(x2+1,y2,1) = tmp(x2,y2+1,1) = tmp(x2+1,y2+1,1) = UV(x,y,0);
<a name="l21473"></a>21473               tmp(x2,y2,2) = tmp(x2+1,y2,2) = tmp(x2,y2+1,2) = tmp(x2+1,y2+1,2) = UV(x,y,1);
<a name="l21474"></a>21474             }
<a name="l21475"></a>21475             <span class="keywordflow">if</span> (yuv2rgb) tmp.YCbCrtoRGB();
<a name="l21476"></a>21476             res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(tmp);
<a name="l21477"></a>21477           }
<a name="l21478"></a>21478         }
<a name="l21479"></a>21479       }
<a name="l21480"></a>21480       cimg::warn(stopflag &amp;&amp; last_frame&gt;=0 &amp;&amp; frame!=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)last_frame,
<a name="l21481"></a>21481                  <span class="stringliteral">&quot;CImgList&lt;%s&gt;::load_yuv() : File &#39;%s&#39;, frame %d not reached since only %u frames were found in the file.&quot;</span>,
<a name="l21482"></a>21482                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>,last_frame,frame-1,filename);
<a name="l21483"></a>21483       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21484"></a>21484       <span class="keywordflow">return</span> res;
<a name="l21485"></a>21485     }
<a name="l21486"></a>21486 
<a name="l21488"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a818c284882bee7993cb003e0b5739686">21488</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21489"></a>21489                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l21490"></a>21490                                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l21491"></a>21491                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb=<span class="keyword">false</span>) {
<a name="l21492"></a>21492       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(0,filename,sizex,sizey,first_frame,last_frame,yuv2rgb);
<a name="l21493"></a>21493     }
<a name="l21494"></a>21494 
<a name="l21496"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#affe0c198e2e48c1b12b285f3839b6507">21496</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedcee61e00a196d9fb50d8207f917616" title="Load a YUV image sequence file (in-place).">load_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21497"></a>21497                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey=1,
<a name="l21498"></a>21498                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l21499"></a>21499                        <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb=<span class="keyword">false</span>) {
<a name="l21500"></a>21500       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(file,filename,sizex,sizey,first_frame,last_frame,yuv2rgb).swap(*<span class="keyword">this</span>);
<a name="l21501"></a>21501     }
<a name="l21502"></a>21502 
<a name="l21504"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a4cdbbcd088ae3b804fda7f74176f3600">21504</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aedcee61e00a196d9fb50d8207f917616" title="Load a YUV image sequence file (in-place).">load_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21505"></a>21505                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizex, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizey,
<a name="l21506"></a>21506                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> first_frame=0, <span class="keyword">const</span> <span class="keywordtype">int</span> last_frame=-1,
<a name="l21507"></a>21507                        <span class="keyword">const</span> <span class="keywordtype">bool</span> yuv2rgb=<span class="keyword">false</span>) {
<a name="l21508"></a>21508       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#ae186ed5d00e049a4d7e484906fa8dce5" title="Load a YUV image sequence file.">get_load_yuv</a>(filename,sizex,sizey,first_frame,last_frame,yuv2rgb).swap(*<span class="keyword">this</span>);
<a name="l21509"></a>21509     }
<a name="l21510"></a>21510 
<a name="l21512"></a>21512     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l21513"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ae7b63a914d821432d97b0986231c3246">21513</a>     <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21514"></a>21514                                     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors,
<a name="l21515"></a>21515                                     <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l21516"></a>21516       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">CImg&lt;T&gt;::get_load_off</a>(file,filename,primitives,colors,invert_faces).get_split(<span class="charliteral">&#39;x&#39;</span>);
<a name="l21517"></a>21517     }
<a name="l21518"></a>21518 
<a name="l21520"></a>21520     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l21521"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a714b22ed3853682fc5fc31b2fcf6556c">21521</a>       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21522"></a>21522                                     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors,
<a name="l21523"></a>21523                                       <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l21524"></a>21524       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(0,filename,primitives,colors,invert_faces);
<a name="l21525"></a>21525     }
<a name="l21526"></a>21526 
<a name="l21528"></a>21528     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l21529"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#adc337c2c384a0e2645fdc80583d98845">21529</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0a20090d6e9a02168c7738e523c4a4c5" title="In-place version of get_load_off().">load_off</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors,
<a name="l21530"></a>21530                        <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l21531"></a>21531       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(file,filename,primitives,colors,invert_faces).swap(*<span class="keyword">this</span>);
<a name="l21532"></a>21532     }
<a name="l21533"></a>21533 
<a name="l21535"></a>21535     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf,<span class="keyword">typename</span> tc&gt;
<a name="l21536"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a6a69f80f53e3bfbce58a4114557557ae">21536</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a0a20090d6e9a02168c7738e523c4a4c5" title="In-place version of get_load_off().">load_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors,
<a name="l21537"></a>21537                        <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>) {
<a name="l21538"></a>21538       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed9b8af2ab569c6b1cfbd41b15553900" title="Load OFF files (GeomView 3D object files).">get_load_off</a>(filename,primitives,colors,invert_faces).swap(*<span class="keyword">this</span>);
<a name="l21539"></a>21539     }
<a name="l21540"></a>21540 
<a name="l21542"></a>21542 
<a name="l21545"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a452e4505123dab2b8e4619dfd89dd851">21545</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a452e4505123dab2b8e4619dfd89dd851" title="Save an image list into a file.">save</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l21546"></a>21546       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::save() : Instance list (%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l21547"></a>21547                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename);
<a name="l21548"></a>21548       <span class="keywordflow">if</span> (!filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save() : Instance list (%u,%p), specified filename is (null).&quot;</span>,
<a name="l21549"></a>21549                                                  <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21550"></a>21550       <span class="keyword">const</span> <span class="keywordtype">char</span> *ext = cimg::filename_split(filename);
<a name="l21551"></a>21551       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;cimg&quot;</span>,4) || !ext[0]) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(filename);
<a name="l21552"></a>21552       <span class="keywordflow">if</span> (!cimg::strncasecmp(ext,<span class="stringliteral">&quot;yuv&quot;</span>,3)) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(filename,<span class="keyword">true</span>);
<a name="l21553"></a>21553       <span class="keywordflow">if</span> (size==1) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[0].save(filename,-1);
<a name="l21554"></a>21554       <span class="keywordflow">else</span> cimglist_for(*<span class="keyword">this</span>,l) <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l].save(filename,l);
<a name="l21555"></a>21555       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21556"></a>21556     }
<a name="l21557"></a>21557 
<a name="l21559"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aede555bb2df9d7128286e7605f806e43">21559</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#aede555bb2df9d7128286e7605f806e43" title="Save an image sequence into a YUV file.">save_yuv</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> rgb2yuv=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l21560"></a>21560       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::save_yuv() : Instance list (%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l21561"></a>21561                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l21562"></a>21562       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_yuv() : Instance list (%u,%p), specified file is (null).&quot;</span>,
<a name="l21563"></a>21563                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21564"></a>21564       <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[0].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()%2 || (*<span class="keyword">this</span>)[0].<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()%2)
<a name="l21565"></a>21565         <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::save_yuv() : Image dimensions must be even numbers (current are %ux%u, file &#39;%s&#39;).&quot;</span>,
<a name="l21566"></a>21566                                     <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),(*<span class="keyword">this</span>)[0].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>(),(*<span class="keyword">this</span>)[0].<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>(),filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l21567"></a>21567 
<a name="l21568"></a>21568       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l21569"></a>21569       cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21570"></a>21570         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> YCbCr((*<span class="keyword">this</span>)[l]);
<a name="l21571"></a>21571         <span class="keywordflow">if</span> (rgb2yuv) YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a40bf7f55f1a92f74d51db3b6c8b53e51" title="Convert color pixels from (R,G,B) to (Y,Cb,Cr)_8 (Thanks to Chen Wang).">RGBtoYCbCr</a>();
<a name="l21572"></a>21572         cimg::fwrite(YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(),YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,nfile);
<a name="l21573"></a>21573         cimg::fwrite(YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#ababc8a96d142815637c32afbd9df9e48" title="Return a resized image.">get_resize</a>(YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>/2, YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2,1,3,3).<a class="code" href="structcimg__library_1_1_c_img.html#af19c37d44b9fce37ad7c4a9ad247d1a0" title="Return a pointer to the pixel value located at (x,y,z,v).">ptr</a>(0,0,0,1),
<a name="l21574"></a>21574                      YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*YCbCr.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>/2,nfile);
<a name="l21575"></a>21575       }
<a name="l21576"></a>21576       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21577"></a>21577       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21578"></a>21578     }
<a name="l21579"></a>21579 
<a name="l21581"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a4d22cc80edc4692865409efc38ac406d">21581</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a4d22cc80edc4692865409efc38ac406d" title="Save an image sequence into a YUV file.">save_yuv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0, <span class="keyword">const</span> <span class="keywordtype">bool</span> rgb2yuv=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l21582"></a>21582       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a90f48e7931d33b70a970ba4a93b02c62" title="Save the image as a YUV video sequence file.">save_yuv</a>(0,filename,rgb2yuv);
<a name="l21583"></a>21583     }
<a name="l21584"></a>21584 
<a name="l21586"></a>21586 
<a name="l21591"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#af0a1d766b2ad5acff467cddb8d108475">21591</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#af0a1d766b2ad5acff467cddb8d108475" title="Save an image list into a CImg file (RAW binary file + simple header).">save_cimg</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename=0)<span class="keyword"> const </span>{
<a name="l21592"></a>21592       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_instance_exception.html">CImgInstanceException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::save_cimg() : Instance list (%u,%p) is empty (file &#39;%s&#39;).&quot;</span>,
<a name="l21593"></a>21593                                                   <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,filename?filename:<span class="stringliteral">&quot;(unknown)&quot;</span>);
<a name="l21594"></a>21594       <span class="keywordflow">if</span> (!file &amp;&amp; !filename) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImg&lt;%s&gt;::save_cimg() : Instance list (%u,%p), specified file is (null).&quot;</span>,
<a name="l21595"></a>21595                                                           <a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),size,<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>);
<a name="l21596"></a>21596       std::FILE *<span class="keyword">const</span> nfile = file?file:cimg::fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);
<a name="l21597"></a>21597       std::fprintf(nfile,<span class="stringliteral">&quot;%u %s\n&quot;</span>,size,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>());
<a name="l21598"></a>21598       cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21599"></a>21599         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = <a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>[l];
<a name="l21600"></a>21600         std::fprintf(nfile,<span class="stringliteral">&quot;%u %u %u %u\n&quot;</span>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l21601"></a>21601         <span class="keywordflow">if</span> (img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) {
<a name="l21602"></a>21602           <span class="keywordflow">if</span> (<a class="code" href="namespacecimg__library_1_1cimg.html#ac01790460808876967d2ba371a000cee" title="Return false for little endian CPUs (Intel), true for big endian CPUs (Motorola).">cimg::endian</a>()) {
<a name="l21603"></a>21603             <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> tmp(img);
<a name="l21604"></a>21604             cimg::endian_swap(tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a4f22f4188289724c853ed6a12b0a2e1e" title="Return the total number of pixel values in an image.">size</a>());
<a name="l21605"></a>21605             cimg::fwrite(tmp.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,nfile);
<a name="l21606"></a>21606           } <span class="keywordflow">else</span> cimg::fwrite(img.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>*img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,nfile);
<a name="l21607"></a>21607         }
<a name="l21608"></a>21608       }
<a name="l21609"></a>21609       <span class="keywordflow">if</span> (!file) cimg::fclose(nfile);
<a name="l21610"></a>21610       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21611"></a>21611     }
<a name="l21612"></a>21612 
<a name="l21614"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a9401ecac7b6ea3c3c42038e7bb2b3ff5">21614</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a9401ecac7b6ea3c3c42038e7bb2b3ff5" title="Save an image list into a CImg file (RAW binary file + simple header).">save_cimg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename)<span class="keyword"> const </span>{
<a name="l21615"></a>21615       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a34e0be5beb5d91caa5ae59ee2e039aa4" title="Save the image as a CImg file (Binary RAW + simple header).">save_cimg</a>(0,filename);
<a name="l21616"></a>21616     }
<a name="l21617"></a>21617 
<a name="l21619"></a>21619     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf, <span class="keyword">typename</span> tc&gt;
<a name="l21620"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a1af6b43d79747f976444a8f292074fb4">21620</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(std::FILE *<span class="keyword">const</span> file, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21621"></a>21621                              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors, <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l21622"></a>21622       <a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(<span class="charliteral">&#39;x&#39;</span>).<a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(file,filename,primitives,colors,invert_faces);
<a name="l21623"></a>21623       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21624"></a>21624     }
<a name="l21625"></a>21625 
<a name="l21627"></a>21627     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tf, <span class="keyword">typename</span> tc&gt;
<a name="l21628"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a99fb7ff0b9351e899f8c416bd27240d1">21628</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filename,
<a name="l21629"></a>21629                              <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tc&gt;</a>&amp; colors, <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces=<span class="keyword">false</span>)<span class="keyword"> const </span>{
<a name="l21630"></a>21630       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#a2e6c95bf834f29683d75b0e168df4c42" title="Save OFF files (GeomView 3D object files).">save_off</a>(filename,primitives,colors,invert_faces);
<a name="l21631"></a>21631     }
<a name="l21632"></a>21632 
<a name="l21634"></a>21634 
<a name="l21639"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2e328f768b98559b1d2b9706b1839b31">21639</a>     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a2e328f768b98559b1d2b9706b1839b31" title="Return a single image which is the concatenation of all images of the current CImgList instance...">get_append</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>)<span class="keyword"> const </span>{
<a name="l21640"></a>21640       <span class="keywordflow">if</span> (<a class="code" href="structcimg__library_1_1_c_img.html#a9c9bc7186ce965d46cbb507cde3fb9d5" title="Return true if current image is empty.">is_empty</a>()) <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>();
<a name="l21641"></a>21641       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dx=0,dy=0,dz=0,dv=0,pos=0;
<a name="l21642"></a>21642       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a> res;
<a name="l21643"></a>21643       <span class="keywordflow">switch</span>(cimg::uncase(axe)) {
<a name="l21644"></a>21644       <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: {
<a name="l21645"></a>21645         cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21646"></a>21646           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = (*this)[l];
<a name="l21647"></a>21647           dx += img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l21648"></a>21648           dy = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dy,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l21649"></a>21649           dz = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dz,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l21650"></a>21650           dv = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dv,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l21651"></a>21651         }
<a name="l21652"></a>21652         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0);
<a name="l21653"></a>21653         <span class="keywordflow">switch</span> (cimg::uncase(align)) {
<a name="l21654"></a>21654         <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span> : { cimglist_for(*<span class="keyword">this</span>,ll) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],pos,0,0,0); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>; }} <span class="keywordflow">break</span>;
<a name="l21655"></a>21655         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span> : { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21656"></a>21656               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],pos,dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dv-(*<span class="keyword">this</span>)[ll].dim); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l21657"></a>21657             }} <span class="keywordflow">break</span>;
<a name="l21658"></a>21658         <span class="keywordflow">default</span>  : { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21659"></a>21659               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],pos,(dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)/2,(dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)/2,(dv-(*<span class="keyword">this</span>)[ll].dim)/2);
<a name="l21660"></a>21660               pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>;
<a name="l21661"></a>21661             }} <span class="keywordflow">break</span>;
<a name="l21662"></a>21662         }
<a name="l21663"></a>21663       } <span class="keywordflow">break</span>;
<a name="l21664"></a>21664       <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: {
<a name="l21665"></a>21665         cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21666"></a>21666           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = (*this)[l];
<a name="l21667"></a>21667           dx = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dx,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l21668"></a>21668           dy += img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l21669"></a>21669           dz = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dz,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l21670"></a>21670           dv = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dv,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l21671"></a>21671         }
<a name="l21672"></a>21672         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0);
<a name="l21673"></a>21673         <span class="keywordflow">switch</span> (cimg::uncase(align)) {
<a name="l21674"></a>21674         <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],0,pos,0,0); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>; }} <span class="keywordflow">break</span>;
<a name="l21675"></a>21675         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21676"></a>21676               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,pos,dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,dv-(*<span class="keyword">this</span>)[ll].dim); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l21677"></a>21677             }} <span class="keywordflow">break</span>;
<a name="l21678"></a>21678         <span class="keywordflow">default</span> : { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21679"></a>21679               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],(dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)/2,pos,(dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)/2,(dv-(*<span class="keyword">this</span>)[ll].dim)/2);
<a name="l21680"></a>21680               pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>;
<a name="l21681"></a>21681             }} <span class="keywordflow">break</span>;
<a name="l21682"></a>21682         }
<a name="l21683"></a>21683       } <span class="keywordflow">break</span>;
<a name="l21684"></a>21684       <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: {
<a name="l21685"></a>21685         cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21686"></a>21686           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = (*this)[l];
<a name="l21687"></a>21687           dx = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dx,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l21688"></a>21688           dy = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dy,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l21689"></a>21689           dz += img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l21690"></a>21690           dv = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dv,img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>);
<a name="l21691"></a>21691         }
<a name="l21692"></a>21692         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0);
<a name="l21693"></a>21693         <span class="keywordflow">switch</span> (cimg::uncase(align)) {
<a name="l21694"></a>21694         <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],0,0,pos,0); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>; }} <span class="keywordflow">break</span>;
<a name="l21695"></a>21695         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21696"></a>21696               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,pos,dv-(*<span class="keyword">this</span>)[ll].dim); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l21697"></a>21697             }} <span class="keywordflow">break</span>;
<a name="l21698"></a>21698         <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21699"></a>21699               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],(dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)/2,(dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)/2,pos,(dv-(*<span class="keyword">this</span>)[ll].dim)/2);
<a name="l21700"></a>21700               pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>;
<a name="l21701"></a>21701             }} <span class="keywordflow">break</span>;
<a name="l21702"></a>21702         }
<a name="l21703"></a>21703       } <span class="keywordflow">break</span>;
<a name="l21704"></a>21704       <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {
<a name="l21705"></a>21705         cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21706"></a>21706           <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; img = (*this)[l];
<a name="l21707"></a>21707           dx = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dx,img.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l21708"></a>21708           dy = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dy,img.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>);
<a name="l21709"></a>21709           dz = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(dz,img.<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>);
<a name="l21710"></a>21710           dv += img.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l21711"></a>21711         }
<a name="l21712"></a>21712         res.<a class="code" href="structcimg__library_1_1_c_img.html#a34e498eaf7ce5d83df329953e54f4292" title="In-place version of the default constructor.">assign</a>(dx,dy,dz,dv,0);
<a name="l21713"></a>21713         <span class="keywordflow">switch</span> (cimg::uncase(align)) {
<a name="l21714"></a>21714         <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) { res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],0,0,0,pos); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>; }} <span class="keywordflow">break</span>;
<a name="l21715"></a>21715         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21716"></a>21716               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>,pos); pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l21717"></a>21717             }} <span class="keywordflow">break</span>;
<a name="l21718"></a>21718         <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: { cimglist_for(*<span class="keyword">this</span>,ll) {
<a name="l21719"></a>21719               res.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>((*<span class="keyword">this</span>)[ll],(dx-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)/2,(dy-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)/2,(dz-(*<span class="keyword">this</span>)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#a982d5d1e153477adf7f851106fe8ee3a" title="Variable representing the depth of the instance image (i.e. dimensions along the Z-axis).">depth</a>)/2,pos);
<a name="l21720"></a>21720               pos+=(*this)[ll].<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>;
<a name="l21721"></a>21721             }} <span class="keywordflow">break</span>;
<a name="l21722"></a>21722         }
<a name="l21723"></a>21723       } <span class="keywordflow">break</span>;
<a name="l21724"></a>21724       <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;CImgList&lt;%s&gt;::get_append() : unknow axe &#39;%c&#39;, must be &#39;x&#39;,&#39;y&#39;,&#39;z&#39; or &#39;v&#39;&quot;</span>,<a class="code" href="structcimg__library_1_1_c_img.html#a40381e3f35687e554852725b13eb4fa9" title="Return the type of the pixel values.">pixel_type</a>(),axe);
<a name="l21725"></a>21725       }
<a name="l21726"></a>21726       <span class="keywordflow">return</span> res;
<a name="l21727"></a>21727     }
<a name="l21728"></a>21728 
<a name="l21729"></a>21729     <span class="comment">// Create an auto-cropped font (along the X axis) from a input font \p font.</span>
<a name="l21730"></a>21730     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> get_crop_font()<span class="keyword"> const </span>{
<a name="l21731"></a>21731       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> res;
<a name="l21732"></a>21732       cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21733"></a>21733         <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;T&gt;</a>&amp; letter = (*this)[l];
<a name="l21734"></a>21734         <span class="keywordtype">int</span> xmin = letter.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, xmax = 0;
<a name="l21735"></a>21735         cimg_forXY(letter,x,y) if (letter(x,y)) { <span class="keywordflow">if</span> (x&lt;xmin) xmin=x; <span class="keywordflow">if</span> (x&gt;xmax) xmax=x; }
<a name="l21736"></a>21736         <span class="keywordflow">if</span> (xmin&gt;xmax) res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(CImg&lt;T&gt;(letter.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>,letter.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>,1,letter.<a class="code" href="structcimg__library_1_1_c_img.html#ac9648dfe0a26d58e6e0030a3dbca234e" title="Variable representing the number of channels of the instance image (i.e. dimensions along the V-axis)...">dim</a>,0));
<a name="l21737"></a>21737         <span class="keywordflow">else</span> res.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(letter.<a class="code" href="structcimg__library_1_1_c_img.html#a9adfb440e85e8f92eb6bbd17bdca0236" title="Return a square region of the image, as a new image.">get_crop</a>(xmin,0,xmax,letter.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>-1));
<a name="l21738"></a>21738       }
<a name="l21739"></a>21739       res[<span class="charliteral">&#39; &#39;</span>].resize(res[<span class="charliteral">&#39;f&#39;</span>].<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>);
<a name="l21740"></a>21740       res[<span class="charliteral">&#39; &#39;</span>+256].resize(res[<span class="charliteral">&#39;f&#39;</span>].width);
<a name="l21741"></a>21741       <span class="keywordflow">return</span> res;
<a name="l21742"></a>21742     }
<a name="l21743"></a>21743 
<a name="l21744"></a>21744     CImgList&lt;T&gt;&amp; crop_font() {
<a name="l21745"></a>21745       <span class="keywordflow">return</span> get_crop_font().swap(*<span class="keyword">this</span>);
<a name="l21746"></a>21746     }
<a name="l21747"></a>21747 
<a name="l21748"></a>21748     <span class="keyword">static</span> CImgList&lt;T&gt; get_font(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> font,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h,
<a name="l21749"></a>21749                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> paddingx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> paddingy, <span class="keyword">const</span> <span class="keywordtype">bool</span> variable_size=<span class="keyword">true</span>) {
<a name="l21750"></a>21750       CImgList&lt;T&gt; res = CImgList&lt;T&gt;(256,w,h,1,3).insert(CImgList&lt;T&gt;(256,w,h,1,1));
<a name="l21751"></a>21751       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *ptr = font;
<a name="l21752"></a>21752       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m = 0, val = 0;
<a name="l21753"></a>21753       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y=0; y&lt;h; y++)
<a name="l21754"></a>21754         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x=0; x&lt;256*w; x++) {
<a name="l21755"></a>21755           m&gt;&gt;=1; <span class="keywordflow">if</span> (!m) { m=0x80000000; val = *(ptr++); }
<a name="l21756"></a>21756           CImg&lt;T&gt;&amp; img = res[x/w], &amp;mask = res[x/w+256];
<a name="l21757"></a>21757           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xm = x%w;
<a name="l21758"></a>21758           img(xm,y,0) = img(xm,y,1) = img(xm,y,2) = mask(xm,y,0) = (T)((val&amp;m)?1:0);
<a name="l21759"></a>21759         }
<a name="l21760"></a>21760       <span class="keywordflow">if</span> (variable_size) res.crop_font();
<a name="l21761"></a>21761       <span class="keywordflow">if</span> (paddingx || paddingy) cimglist_for(res,l) res[l].<a class="code" href="structcimg__library_1_1_c_img.html#a84970d569f01fc5f9370d9cc84428903" title="Resize the image.">resize</a>(res[l].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>()+paddingx, res[l].<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>()+paddingy,1,-100,0);
<a name="l21762"></a>21762       return res;
<a name="l21763"></a>21763     }
<a name="l21764"></a>21764 
<a name="l21766"></a>21766 
<a name="l21770"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aea5741eec2dd5c9234d13e14054659db">21770</a>     static <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&lt;T&gt; get_font(const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> font_width, const <span class="keywordtype">bool</span> variable_size=true) {
<a name="l21771"></a>21771       <span class="keywordflow">if</span> (font_width&lt;=11) {
<a name="l21772"></a>21772         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font7x11, nfont7x11;
<a name="l21773"></a>21773         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font7x11.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font7x11 = get_font(cimg::font7x11,7,11,1,0,<span class="keyword">false</span>);
<a name="l21774"></a>21774         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont7x11.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont7x11 = get_font(cimg::font7x11,7,11,1,0,<span class="keyword">true</span>);
<a name="l21775"></a>21775         <span class="keywordflow">return</span> variable_size?nfont7x11:font7x11;
<a name="l21776"></a>21776       }
<a name="l21777"></a>21777       <span class="keywordflow">if</span> (font_width&lt;=13) {
<a name="l21778"></a>21778         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font10x13, nfont10x13;
<a name="l21779"></a>21779         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font10x13.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font10x13 = get_font(cimg::font10x13,10,13,1,0,<span class="keyword">false</span>);
<a name="l21780"></a>21780         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont10x13.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont10x13 = get_font(cimg::font10x13,10,13,1,0,<span class="keyword">true</span>);
<a name="l21781"></a>21781         <span class="keywordflow">return</span> variable_size?nfont10x13:font10x13;
<a name="l21782"></a>21782       }
<a name="l21783"></a>21783       <span class="keywordflow">if</span> (font_width&lt;=17) {
<a name="l21784"></a>21784         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font8x17, nfont8x17;
<a name="l21785"></a>21785         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font8x17.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font8x17 = get_font(cimg::font8x17,8,17,1,0,<span class="keyword">false</span>);
<a name="l21786"></a>21786         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont8x17.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont8x17 = get_font(cimg::font8x17,8,17,1,0,<span class="keyword">true</span>);
<a name="l21787"></a>21787         <span class="keywordflow">return</span> variable_size?nfont8x17:font8x17;
<a name="l21788"></a>21788       }
<a name="l21789"></a>21789       <span class="keywordflow">if</span> (font_width&lt;=19) {
<a name="l21790"></a>21790         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font10x19, nfont10x19;
<a name="l21791"></a>21791         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font10x19.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font10x19 = get_font(cimg::font10x19,10,19,2,0,<span class="keyword">false</span>);
<a name="l21792"></a>21792         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont10x19.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont10x19 = get_font(cimg::font10x19,10,19,2,0,<span class="keyword">true</span>);
<a name="l21793"></a>21793         <span class="keywordflow">return</span> variable_size?nfont10x19:font10x19;
<a name="l21794"></a>21794       }
<a name="l21795"></a>21795       <span class="keywordflow">if</span> (font_width&lt;=24) {
<a name="l21796"></a>21796         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font12x24, nfont12x24;
<a name="l21797"></a>21797         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font12x24.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font12x24 = get_font(cimg::font12x24,12,24,2,0,<span class="keyword">false</span>);
<a name="l21798"></a>21798         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont12x24.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont12x24 = get_font(cimg::font12x24,12,24,2,0,<span class="keyword">true</span>);
<a name="l21799"></a>21799         <span class="keywordflow">return</span> variable_size?nfont12x24:font12x24;
<a name="l21800"></a>21800       }
<a name="l21801"></a>21801       <span class="keywordflow">if</span> (font_width&lt;=32) {
<a name="l21802"></a>21802         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font16x32, nfont16x32;
<a name="l21803"></a>21803         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font16x32.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font16x32 = get_font(cimg::font16x32,16,32,2,0,<span class="keyword">false</span>);
<a name="l21804"></a>21804         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont16x32.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont16x32 = get_font(cimg::font16x32,16,32,2,0,<span class="keyword">true</span>);
<a name="l21805"></a>21805         <span class="keywordflow">return</span> variable_size?nfont16x32:font16x32;
<a name="l21806"></a>21806       }
<a name="l21807"></a>21807       <span class="keywordflow">if</span> (font_width&lt;=38) {
<a name="l21808"></a>21808         <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font19x38, nfont19x38;
<a name="l21809"></a>21809         <span class="keywordflow">if</span> (!variable_size &amp;&amp; font19x38.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font19x38 = get_font(cimg::font19x38,19,38,3,0,<span class="keyword">false</span>);
<a name="l21810"></a>21810         <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont19x38.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont19x38 = get_font(cimg::font19x38,19,38,3,0,<span class="keyword">true</span>);
<a name="l21811"></a>21811         <span class="keywordflow">return</span> variable_size?nfont19x38:font19x38;
<a name="l21812"></a>21812       }
<a name="l21813"></a>21813       <span class="keyword">static</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a> font29x57, nfont29x57;
<a name="l21814"></a>21814       <span class="keywordflow">if</span> (!variable_size &amp;&amp; font29x57.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) font29x57 = get_font(cimg::font29x57,29,57,5,0,<span class="keyword">false</span>);
<a name="l21815"></a>21815       <span class="keywordflow">if</span> (variable_size &amp;&amp; nfont29x57.<a class="code" href="structcimg__library_1_1_c_img_list.html#a71ab7254a085eec7f25fc92145e35fa4" title="Return true if list is empty.">is_empty</a>()) nfont29x57 = get_font(cimg::font29x57,29,57,5,0,<span class="keyword">true</span>);
<a name="l21816"></a>21816       <span class="keywordflow">return</span> variable_size?nfont29x57:font29x57;
<a name="l21817"></a>21817     }
<a name="l21818"></a>21818 
<a name="l21820"></a>21820 
<a name="l21829"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a2614afd15e45653cbeb6d3626c7492b3">21829</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#a2614afd15e45653cbeb6d3626c7492b3" title="Display the current CImgList instance in an existing CImgDisplay window (by reference).">display</a>(<a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a>&amp; disp, <span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>)<span class="keyword"> const </span>{
<a name="l21830"></a>21830       <a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(axe,align).<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(disp);
<a name="l21831"></a>21831       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21832"></a>21832     }
<a name="l21833"></a>21833 
<a name="l21835"></a>21835 
<a name="l21848"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ab70034a7d4598b77f1ba224d6352abcf">21848</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* title,<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>,
<a name="l21849"></a>21849                          <span class="keyword">const</span> <span class="keywordtype">int</span> min_size=128,<span class="keyword">const</span> <span class="keywordtype">int</span> max_size=1024)<span class="keyword"> const </span>{
<a name="l21850"></a>21850       <a class="code" href="structcimg__library_1_1_c_img.html#a17c3656abd8d7e1be4932ee1cddc4692" title="Append an image to another one.">get_append</a>(axe,align).<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(title,min_size,max_size);
<a name="l21851"></a>21851       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21852"></a>21852     }
<a name="l21853"></a>21853 
<a name="l21855"></a>21855 
<a name="l21867"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#aa3cc5a6e7807c7d0ec875813cccd2948">21867</a>     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> axe=<span class="charliteral">&#39;x&#39;</span>,<span class="keyword">const</span> <span class="keywordtype">char</span> align=<span class="charliteral">&#39;c&#39;</span>,
<a name="l21868"></a>21868                          <span class="keyword">const</span> <span class="keywordtype">int</span> min_size=128,<span class="keyword">const</span> <span class="keywordtype">int</span> max_size=1024)<span class="keyword"> const </span>{
<a name="l21869"></a>21869       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(<span class="stringliteral">&quot; &quot;</span>,axe,align,min_size,max_size);
<a name="l21870"></a>21870     }
<a name="l21871"></a>21871 
<a name="l21873"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#ab06fb543286625d3cbde97d46d6030fe">21873</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; <a class="code" href="structcimg__library_1_1_c_img_list.html#ab06fb543286625d3cbde97d46d6030fe" title="Rescale and center 3D object.">resize_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> siz=100, <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>) {
<a name="l21874"></a>21874       <span class="keywordtype">float</span> xm = (float)((*<span class="keyword">this</span>)(0,0)), ym = (float)((*<span class="keyword">this</span>)(0,1)), zm = (float)((*<span class="keyword">this</span>)(0,2)), xM = xm, yM = ym, zM = zm;
<a name="l21875"></a>21875       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=1; p&lt;size; p++) {
<a name="l21876"></a>21876          <span class="keyword">const</span> <span class="keywordtype">float</span> x = (float)((*<span class="keyword">this</span>)(p,0)), y = (float)((*<span class="keyword">this</span>)(p,1)), z = (float)((*<span class="keyword">this</span>)(p,2));
<a name="l21877"></a>21877          <span class="keywordflow">if</span> (x&lt;xm) xm = x;
<a name="l21878"></a>21878          <span class="keywordflow">if</span> (y&lt;ym) ym = y;
<a name="l21879"></a>21879          <span class="keywordflow">if</span> (z&lt;zm) zm = z;
<a name="l21880"></a>21880          <span class="keywordflow">if</span> (x&gt;xM) xM = x;
<a name="l21881"></a>21881          <span class="keywordflow">if</span> (y&gt;yM) yM = y;
<a name="l21882"></a>21882          <span class="keywordflow">if</span> (z&gt;zM) zM = z;
<a name="l21883"></a>21883       }
<a name="l21884"></a>21884       <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l21885"></a>21885         cx = 0.5f*(xm+xM),
<a name="l21886"></a>21886         cy = 0.5f*(ym+yM),
<a name="l21887"></a>21887         cz = 0.5f*(zm+zM),
<a name="l21888"></a>21888         delta = <a class="code" href="namespacecimg__library_1_1cimg.html#afc89cd6246eae867b8dd8219d1db9242" title="Return the maximum between a and b.">cimg::max</a>(xM-xm,yM-ym,zM-zm),
<a name="l21889"></a>21889         ratio = (siz&gt;=0)?siz/delta:-siz/100;
<a name="l21890"></a>21890       <span class="keywordflow">if</span> (centering) cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21891"></a>21891         T &amp;x = (*this)(l,0), &amp;y = (*<span class="keyword">this</span>)(l,1), &amp;z = (*<span class="keyword">this</span>)(l,2);
<a name="l21892"></a>21892         x = (T)((x-cx)*ratio);
<a name="l21893"></a>21893         y = (T)((y-cy)*ratio);
<a name="l21894"></a>21894         z = (T)((z-cz)*ratio);
<a name="l21895"></a>21895       } <span class="keywordflow">else</span> cimglist_for(*<span class="keyword">this</span>,l) {
<a name="l21896"></a>21896         T &amp;x = (*this)(l,0), &amp;y = (*<span class="keyword">this</span>)(l,1), &amp;z = (*<span class="keyword">this</span>)(l,2);
<a name="l21897"></a>21897         x = (T)(cx+(x-cx)*ratio);
<a name="l21898"></a>21898         y = (T)(cy+(y-cy)*ratio);
<a name="l21899"></a>21899         z = (T)(cz+(z-cz)*ratio);
<a name="l21900"></a>21900       }
<a name="l21901"></a>21901       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l21902"></a>21902     }
<a name="l21903"></a>21903 
<a name="l21905"></a><a class="code" href="structcimg__library_1_1_c_img_list.html#a3af9e80e514673d1340fcc34ce7fa3e6">21905</a>     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a> <a class="code" href="structcimg__library_1_1_c_img_list.html#a3af9e80e514673d1340fcc34ce7fa3e6" title="Get a rescaled and centered version of the 3D object.">get_resize_object3d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> siz=100, <span class="keyword">const</span> <span class="keywordtype">bool</span> centering=<span class="keyword">true</span>)<span class="keyword"> const </span>{
<a name="l21906"></a>21906       <span class="keywordflow">return</span> <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;T&gt;</a>(*this).<a class="code" href="structcimg__library_1_1_c_img_list.html#ab06fb543286625d3cbde97d46d6030fe" title="Rescale and center 3D object.">resize_object3d</a>(siz,centering);
<a name="l21907"></a>21907     }
<a name="l21908"></a>21908 
<a name="l21909"></a>21909     <span class="comment">// Swap fields of two CImgList instances.</span>
<a name="l21910"></a>21910     <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; swap(<a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList</a>&amp; list) {
<a name="l21911"></a>21911       cimg::swap(size,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>);
<a name="l21912"></a>21912       cimg::swap(allocsize,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#a29a33badac3960de364970bbd7294e76" title="Allocation size of the list.">allocsize</a>);
<a name="l21913"></a>21913       cimg::swap(<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>,list.<a class="code" href="structcimg__library_1_1_c_img_list.html#a7c484b0bb0c2c5d1d42626d932f85f78" title="Pointer to the first list element.">data</a>);
<a name="l21914"></a>21914       <span class="keywordflow">return</span> list;
<a name="l21915"></a>21915     }
<a name="l21916"></a>21916 
<a name="l21917"></a>21917   };
<a name="l21918"></a>21918 
<a name="l21919"></a>21919   <span class="comment">/*</span>
<a name="l21920"></a>21920 <span class="comment">   #-----------------------------------------</span>
<a name="l21921"></a>21921 <span class="comment">   #</span>
<a name="l21922"></a>21922 <span class="comment">   #</span>
<a name="l21923"></a>21923 <span class="comment">   #</span>
<a name="l21924"></a>21924 <span class="comment">   # Complete previously defined functions</span>
<a name="l21925"></a>21925 <span class="comment">   #</span>
<a name="l21926"></a>21926 <span class="comment">   #</span>
<a name="l21927"></a>21927 <span class="comment">   #</span>
<a name="l21928"></a>21928 <span class="comment">   #------------------------------------------</span>
<a name="l21929"></a>21929 <span class="comment">  */</span>
<a name="l21930"></a>21930 
<a name="l21931"></a>21931 <span class="keyword">namespace </span>cimg {
<a name="l21932"></a>21932 
<a name="l21934"></a>21934 
<a name="l21952"></a>21952   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt;
<a name="l21953"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a9bd2a1e3ffff4538c4f53856e8b28ded">21953</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> dialog(<span class="keyword">const</span> <span class="keywordtype">char</span> *title,<span class="keyword">const</span> <span class="keywordtype">char</span> *msg,
<a name="l21954"></a>21954                     <span class="keyword">const</span> <span class="keywordtype">char</span> *button1_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button2_txt,
<a name="l21955"></a>21955                     <span class="keyword">const</span> <span class="keywordtype">char</span> *button3_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button4_txt,
<a name="l21956"></a>21956                     <span class="keyword">const</span> <span class="keywordtype">char</span> *button5_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button6_txt,
<a name="l21957"></a>21957                     <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; logo, <span class="keyword">const</span> <span class="keywordtype">bool</span> centering = <span class="keyword">false</span>) {
<a name="l21958"></a>21958 <span class="preprocessor">#if cimg_display_type!=0</span>
<a name="l21959"></a>21959 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l21960"></a>21960       black[3]={0,0,0}, white[3]={255,255,255}, gray[3]={200,200,200}, gray2[3]={150,150,150};
<a name="l21961"></a>21961 
<a name="l21962"></a>21962       <span class="comment">// Create buttons and canvas graphics</span>
<a name="l21963"></a>21963       <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;unsigned char&gt;</a> buttons, cbuttons, sbuttons;
<a name="l21964"></a>21964       <span class="keywordflow">if</span> (button1_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button1_txt,0,0,black,gray,13));
<a name="l21965"></a>21965       <span class="keywordflow">if</span> (button2_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button2_txt,0,0,black,gray,13));
<a name="l21966"></a>21966       <span class="keywordflow">if</span> (button3_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button3_txt,0,0,black,gray,13));
<a name="l21967"></a>21967       <span class="keywordflow">if</span> (button4_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button4_txt,0,0,black,gray,13));
<a name="l21968"></a>21968       <span class="keywordflow">if</span> (button5_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button5_txt,0,0,black,gray,13));
<a name="l21969"></a>21969       <span class="keywordflow">if</span> (button6_txt) { buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(button6_txt,0,0,black,gray,13));
<a name="l21970"></a>21970       }}}}}}
<a name="l21971"></a>21971       <span class="keywordflow">if</span> (!buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>) <span class="keywordflow">throw</span> <a class="code" href="structcimg__library_1_1_c_img_argument_exception.html">CImgArgumentException</a>(<span class="stringliteral">&quot;cimg::dialog() : No buttons have been defined. At least one is necessary&quot;</span>);
<a name="l21972"></a>21972 
<a name="l21973"></a>21973       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bw=0, bh=0;
<a name="l21974"></a>21974       cimglist_for(buttons,l) { bw = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(bw,buttons[l].width); bh = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(bh,buttons[l].<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>); }
<a name="l21975"></a>21975       bw+=8; bh+=8;
<a name="l21976"></a>21976       <span class="keywordflow">if</span> (bw&lt;64) bw=64;
<a name="l21977"></a>21977       <span class="keywordflow">if</span> (bw&gt;128) bw=128;
<a name="l21978"></a>21978       <span class="keywordflow">if</span> (bh&lt;24) bh=24;
<a name="l21979"></a>21979       <span class="keywordflow">if</span> (bh&gt;48) bh=48;
<a name="l21980"></a>21980 
<a name="l21981"></a>21981       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> button = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(bw,bh,1,3).
<a name="l21982"></a>21982         <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(0,0,bw-1,bh-1,gray).
<a name="l21983"></a>21983         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,0,bw-1,0,white).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,bh-1,0,0,white).
<a name="l21984"></a>21984         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-1,0,bw-1,bh-1,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-1,bh-1,0,bh-1,black).
<a name="l21985"></a>21985         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(1,bh-2,bw-2,bh-2,gray2).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-2,bh-2,bw-2,1,gray2);
<a name="l21986"></a>21986       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> sbutton = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(bw,bh,1,3).
<a name="l21987"></a>21987         <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(0,0,bw-1,bh-1,gray).
<a name="l21988"></a>21988         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,0,bw-1,0,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-1,0,bw-1,bh-1,black).
<a name="l21989"></a>21989         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-1,bh-1,0,bh-1,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,bh-1,0,0,black).
<a name="l21990"></a>21990         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(1,1,bw-2,1,white).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(1,bh-2,1,1,white).
<a name="l21991"></a>21991         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-2,1,bw-2,bh-2,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-2,bh-2,1,bh-2,black).
<a name="l21992"></a>21992         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(2,bh-3,bw-3,bh-3,gray2).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-3,bh-3,bw-3,2,gray2).
<a name="l21993"></a>21993         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(4,4,bw-5,4,black,0xAAAAAAAA).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-5,4,bw-5,bh-5,black,0xAAAAAAAA).
<a name="l21994"></a>21994         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-5,bh-5,4,bh-5,black,0xAAAAAAAA).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(4,bh-5,4,4,black,0xAAAAAAAA);
<a name="l21995"></a>21995       <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> cbutton = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(bw,bh,1,3).
<a name="l21996"></a>21996         <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(0,0,bw-1,bh-1,black).<a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(1,1,bw-2,bh-2,gray2).<a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(2,2,bw-3,bh-3,gray).
<a name="l21997"></a>21997         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(4,4,bw-5,4,black,0xAAAAAAAA).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-5,4,bw-5,bh-5,black,0xAAAAAAAA).
<a name="l21998"></a>21998         <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(bw-5,bh-5,4,bh-5,black,0xAAAAAAAA).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(4,bh-5,4,4,black,0xAAAAAAAA);
<a name="l21999"></a>21999 
<a name="l22000"></a>22000         cimglist_for(buttons,ll) {
<a name="l22001"></a>22001           cbuttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(cbutton).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(buttons[ll],1+(bw-buttons[ll].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2,1+(bh-buttons[ll].<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2));
<a name="l22002"></a>22002           sbuttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(sbutton).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(buttons[ll],(bw-buttons[ll].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2,(bh-buttons[ll].<a class="code" href="structcimg__library_1_1_c_img.html#aa1e128f9d950b39ed312eb368741970c" title="Return the number of rows of the instance image (size along the Y-axis, i.e image height)...">dimy</a>())/2));
<a name="l22003"></a>22003           buttons[ll] = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(button).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(buttons[ll],(bw-buttons[ll].<a class="code" href="structcimg__library_1_1_c_img.html#abf1a3c383880a20428b2ea9d22f3c06e" title="Return the number of columns of the instance image (size along the X-axis, i.e image width)...">dimx</a>())/2,(bh-buttons[ll].dimy())/2);
<a name="l22004"></a>22004         }
<a name="l22005"></a>22005 
<a name="l22006"></a>22006         <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a> canvas;
<a name="l22007"></a>22007         <span class="keywordflow">if</span> (msg) canvas = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>().<a class="code" href="structcimg__library_1_1_c_img.html#a405d7f71dad66f63bf13cc9485619db1" title="Draw a text into the instance image.">draw_text</a>(msg,0,0,black,gray,13);
<a name="l22008"></a>22008         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l22009"></a>22009           bwall = (buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1)*(12+bw) + bw,
<a name="l22010"></a>22010           w = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(196U,36+logo.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>, 24+bwall),
<a name="l22011"></a>22011           h = <a class="code" href="structcimg__library_1_1_c_img.html#a14fac7e85c0ace918e9f8758c35ab5df" title="Replace the image by the pointwise max operator between *this and img.">cimg::max</a>(96U,36+canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+bh,36+logo.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>+bh),
<a name="l22012"></a>22012           lx = 12 + (canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>?0:((w-24-logo.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>)/2)),
<a name="l22013"></a>22013           ly = (h-12-bh-logo.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)/2,
<a name="l22014"></a>22014           tx = lx+logo.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+12,
<a name="l22015"></a>22015           ty = (h-12-bh-canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a30d575fd18ae525e507315de71b4806a" title="Variable representing the height of the instance image (i.e. dimensions along the Y-axis)...">height</a>)/2,
<a name="l22016"></a>22016           bx = (w-bwall)/2,
<a name="l22017"></a>22017           by = h-12-bh;
<a name="l22018"></a>22018 
<a name="l22019"></a>22019         <span class="keywordflow">if</span> (canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>)
<a name="l22020"></a>22020           canvas = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(w,h,1,3).
<a name="l22021"></a>22021             <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(0,0,w-1,h-1,gray).
<a name="l22022"></a>22022             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,0,w-1,0,white).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,h-1,0,0,white).
<a name="l22023"></a>22023             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(w-1,0,w-1,h-1,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(w-1,h-1,0,h-1,black).
<a name="l22024"></a>22024             <a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(canvas,tx,ty);
<a name="l22025"></a>22025         <span class="keywordflow">else</span>
<a name="l22026"></a>22026           canvas = <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(w,h,1,3).
<a name="l22027"></a>22027             <a class="code" href="structcimg__library_1_1_c_img.html#ad05cf69b3e05554a549aef4d76996739" title="Draw a 4D filled rectangle in the instance image, at coordinates (x0,y0,z0,v0)-(x1,y1,z1,v1).">draw_rectangle</a>(0,0,w-1,h-1,gray).
<a name="l22028"></a>22028             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,0,w-1,0,white).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(0,h-1,0,0,white).
<a name="l22029"></a>22029             <a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(w-1,0,w-1,h-1,black).<a class="code" href="structcimg__library_1_1_c_img.html#ae4c023e05bb47d46dc752cdf1a39e0d1" title="Draw a 2D colored line in the instance image, at coordinates (x0,y0)-(x1,y1).">draw_line</a>(w-1,h-1,0,h-1,black);
<a name="l22030"></a>22030         <span class="keywordflow">if</span> (logo.<a class="code" href="structcimg__library_1_1_c_img.html#a54f252b86f19b2217aef3ec9e1e2e013" title="Pointer to the first pixel of the pixel buffer.">data</a>) canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(logo,lx,ly);
<a name="l22031"></a>22031 
<a name="l22032"></a>22032         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xbuttons[6];
<a name="l22033"></a>22033         cimglist_for(buttons,lll) { xbuttons[lll] = bx+(bw+12)*lll; canvas.<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(buttons[lll],xbuttons[lll],by); }
<a name="l22034"></a>22034 
<a name="l22035"></a>22035         <span class="comment">// Open window and enter events loop</span>
<a name="l22036"></a>22036         <a class="code" href="structcimg__library_1_1_c_img_display.html" title="This class represents a window which can display CImg images and handles mouse and keyboard events...">CImgDisplay</a> disp(canvas,title?title:<span class="stringliteral">&quot; &quot;</span>,0,3,<span class="keyword">false</span>,centering?<span class="keyword">true</span>:<span class="keyword">false</span>);
<a name="l22037"></a>22037         <span class="keywordflow">if</span> (centering) disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#afeec07e38bf1bc2257fd15827ef36e4c" title="Move window.">move</a>((<a class="code" href="structcimg__library_1_1_c_img_display.html#a8365439b21d8cdf9624b2f208b563e83" title="Return the width of the screen resolution.">CImgDisplay::screen_dimx</a>()-disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aeaa3fc85ddcbb5b6737d2b677d295243" title="Return display width.">dimx</a>())/2,
<a name="l22038"></a>22038                                  (<a class="code" href="structcimg__library_1_1_c_img_display.html#ac8b1cad117a01ad3d939892d1314e0d7" title="Return the height of the screen resolution.">CImgDisplay::screen_dimy</a>()-disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a9fb21a66affb6e99ce6d09a2343b143d" title="Return display height.">dimy</a>())/2);
<a name="l22039"></a>22039         <span class="keywordtype">bool</span> stopflag = <span class="keyword">false</span>, refresh = <span class="keyword">false</span>;
<a name="l22040"></a>22040         <span class="keywordtype">int</span> oselected = -1, oclicked = -1, selected = -1, clicked = -1;
<a name="l22041"></a>22041         <span class="keywordflow">while</span> (!disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a> &amp;&amp; !stopflag) {
<a name="l22042"></a>22042           <span class="keywordflow">if</span> (refresh) {
<a name="l22043"></a>22043             <span class="keywordflow">if</span> (clicked&gt;=0) <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(canvas).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(cbuttons[clicked],xbuttons[clicked],by).<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(disp);
<a name="l22044"></a>22044             <span class="keywordflow">else</span> {
<a name="l22045"></a>22045               <span class="keywordflow">if</span> (selected&gt;=0) <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;</a>(canvas).<a class="code" href="structcimg__library_1_1_c_img.html#a80aa4444c73d7608b85168bba7faabe1" title="Draw a sprite image in the instance image, at coordinates (x0,y0,z0,v0).">draw_image</a>(sbuttons[selected],xbuttons[selected],by).<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(disp);
<a name="l22046"></a>22046               <span class="keywordflow">else</span> canvas.<a class="code" href="structcimg__library_1_1_c_img.html#aab8c37b9dc626927623f68759fe83e83" title="Display an image into a CImgDisplay window.">display</a>(disp);
<a name="l22047"></a>22047             }
<a name="l22048"></a>22048             refresh = <span class="keyword">false</span>;
<a name="l22049"></a>22049           }
<a name="l22050"></a>22050           disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a96efe590da16f2e5b4510b2fde423c67" title="Synchronized waiting function. Same as cimg::wait().">wait</a>(15);
<a name="l22051"></a>22051           <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a0e421aa7f1e86c22654af70ae571a789" title="Resized state of the window.">is_resized</a>) disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a25e253a193c8ce726fe3af3fdddb62a5" title="Resize a display window with the size of an image.">resize</a>(disp);
<a name="l22052"></a>22052 
<a name="l22053"></a>22053           <span class="keywordflow">if</span> (disp.button&amp;1)  {
<a name="l22054"></a>22054             oclicked = clicked;
<a name="l22055"></a>22055             clicked = -1;
<a name="l22056"></a>22056             cimglist_for(buttons,l)
<a name="l22057"></a>22057               <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>&gt;=(<span class="keywordtype">int</span>)by &amp;&amp; disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#afaa6caf08e8d0e42f3ca4103ffe77d9a" title="Y-coordinate of the mouse pointer on the display.">mouse_y</a>&lt;(<span class="keywordtype">int</span>)(by+bh) &amp;&amp;
<a name="l22058"></a>22058                   disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>&gt;=(<span class="keywordtype">int</span>)xbuttons[l] &amp;&amp; disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a22c8a3db652fd12f487a7bc226da948c" title="X-coordinate of the mouse pointer on the display.">mouse_x</a>&lt;(<span class="keywordtype">int</span>)(xbuttons[l]+bw)) {
<a name="l22059"></a>22059                 clicked = selected = l;
<a name="l22060"></a>22060                 refresh = <span class="keyword">true</span>;
<a name="l22061"></a>22061               }
<a name="l22062"></a>22062             <span class="keywordflow">if</span> (clicked!=oclicked) refresh = <span class="keyword">true</span>;
<a name="l22063"></a>22063           } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (clicked&gt;=0) stopflag = <span class="keyword">true</span>;
<a name="l22064"></a>22064 
<a name="l22065"></a>22065           <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>) {
<a name="l22066"></a>22066             oselected = selected;
<a name="l22067"></a>22067             <span class="keywordflow">switch</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a>) {
<a name="l22068"></a>22068             <span class="keywordflow">case</span> cimg::keyESC: selected=-1; stopflag=<span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l22069"></a>22069             <span class="keywordflow">case</span> cimg::keyENTER: <span class="keywordflow">if</span> (selected&lt;0) selected=0; stopflag = <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l22070"></a>22070             <span class="keywordflow">case</span> cimg::keyTAB:
<a name="l22071"></a>22071             <span class="keywordflow">case</span> cimg::keyARROWRIGHT:
<a name="l22072"></a>22072             <span class="keywordflow">case</span> cimg::keyARROWDOWN: selected = (selected+1)%buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>; <span class="keywordflow">break</span>;
<a name="l22073"></a>22073             <span class="keywordflow">case</span> cimg::keyARROWLEFT:
<a name="l22074"></a>22074             <span class="keywordflow">case</span> cimg::keyARROWUP: selected = (selected+buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>-1)%buttons.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>; <span class="keywordflow">break</span>;
<a name="l22075"></a>22075             }
<a name="l22076"></a>22076             disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#aaf5139a0c0b55bdc6b129fd3393a6443" title="Key value if pressed.">key</a> = 0;
<a name="l22077"></a>22077             <span class="keywordflow">if</span> (selected!=oselected) refresh = <span class="keyword">true</span>;
<a name="l22078"></a>22078           }
<a name="l22079"></a>22079         }
<a name="l22080"></a>22080         <span class="keywordflow">if</span> (disp.<a class="code" href="structcimg__library_1_1_c_img_display.html#a2a4524f249ef3b6fbfef528f35ab822d" title="Closed state of the window.">is_closed</a>) selected = -1;
<a name="l22081"></a>22081         <span class="keywordflow">return</span> selected;
<a name="l22082"></a>22082 <span class="preprocessor">#else</span>
<a name="l22083"></a>22083 <span class="preprocessor"></span>        std::fprintf(stderr,<span class="stringliteral">&quot;&lt;%s&gt;\n\n%s\n\n&quot;</span>,title,msg);
<a name="l22084"></a>22084         <span class="keywordflow">return</span> -1+0*(int)(button1_txt-button2_txt+button3_txt-button4_txt+button5_txt-button6_txt+logo.<a class="code" href="structcimg__library_1_1_c_img.html#a5fb74a7776210bb99fd6755319ade13f" title="Variable representing the width of the instance image (i.e. dimensions along the X-axis).">width</a>+(<span class="keywordtype">int</span>)centering);
<a name="l22085"></a>22085 <span class="preprocessor">#endif</span>
<a name="l22086"></a>22086 <span class="preprocessor"></span>  }
<a name="l22087"></a>22087 
<a name="l22088"></a>22088   <span class="keyword">inline</span> <span class="keywordtype">int</span> dialog(<span class="keyword">const</span> <span class="keywordtype">char</span> *title,<span class="keyword">const</span> <span class="keywordtype">char</span> *msg,
<a name="l22089"></a>22089                     <span class="keyword">const</span> <span class="keywordtype">char</span> *button1_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button2_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button3_txt,
<a name="l22090"></a>22090                     <span class="keyword">const</span> <span class="keywordtype">char</span> *button4_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button5_txt,<span class="keyword">const</span> <span class="keywordtype">char</span> *button6_txt,
<a name="l22091"></a>22091                     <span class="keyword">const</span> <span class="keywordtype">bool</span> centering) {
<a name="l22092"></a>22092     <span class="keywordflow">return</span> dialog(title,msg,button1_txt,button2_txt,button3_txt,button4_txt,button5_txt,button6_txt,
<a name="l22093"></a>22093                   <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;unsigned char&gt;::get_logo40x38</a>(),centering);
<a name="l22094"></a>22094   }
<a name="l22095"></a>22095 
<a name="l22096"></a>22096 
<a name="l22097"></a>22097   <span class="comment">// Inner routine used by the Marching cube algorithm</span>
<a name="l22098"></a>22098   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> <span class="keywordtype">int</span> _marching_cubes_indice(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> edge, <span class="keyword">const</span> CImg&lt;t&gt;&amp; indices1, <span class="keyword">const</span> CImg&lt;t&gt;&amp; indices2,
<a name="l22099"></a>22099                                                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ny) {
<a name="l22100"></a>22100     <span class="keywordflow">switch</span> (edge) {
<a name="l22101"></a>22101     <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> indices1(x,y,0);
<a name="l22102"></a>22102     <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> indices1(nx,y,1);
<a name="l22103"></a>22103     <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> indices1(x,ny,0);
<a name="l22104"></a>22104     <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> indices1(x,y,1);
<a name="l22105"></a>22105     <span class="keywordflow">case</span> 4: <span class="keywordflow">return</span> indices2(x,y,0);
<a name="l22106"></a>22106     <span class="keywordflow">case</span> 5: <span class="keywordflow">return</span> indices2(nx,y,1);
<a name="l22107"></a>22107     <span class="keywordflow">case</span> 6: <span class="keywordflow">return</span> indices2(x,ny,0);
<a name="l22108"></a>22108     <span class="keywordflow">case</span> 7: <span class="keywordflow">return</span> indices2(x,y,1);
<a name="l22109"></a>22109     <span class="keywordflow">case</span> 8: <span class="keywordflow">return</span> indices1(x,y,2);
<a name="l22110"></a>22110     <span class="keywordflow">case</span> 9: <span class="keywordflow">return</span> indices1(nx,y,2);
<a name="l22111"></a>22111     <span class="keywordflow">case</span> 10: <span class="keywordflow">return</span> indices1(nx,ny,2);
<a name="l22112"></a>22112     <span class="keywordflow">case</span> 11: <span class="keywordflow">return</span> indices1(x,ny,2);
<a name="l22113"></a>22113     }
<a name="l22114"></a>22114     <span class="keywordflow">return</span> 0;
<a name="l22115"></a>22115   }
<a name="l22116"></a>22116 
<a name="l22118"></a>22118   <span class="comment">// This function uses the Marching Cubes Tables published on the web page :</span>
<a name="l22119"></a>22119   <span class="comment">// http://astronomy.swin.edu.au/~pbourke/modelling/polygonise/</span>
<a name="l22120"></a>22120   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tfunc, <span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l22121"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a16302418e97815e8ef7aa90d983dba1f">22121</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img.html#aed4ff0cb25b47ed22666b426398fe602" title="Get a triangulation of an implicit function defined by the instance image.">marching_cubes</a>(<span class="keyword">const</span> tfunc&amp; func, <span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l22122"></a>22122                              <span class="keyword">const</span> <span class="keywordtype">float</span> x0,<span class="keyword">const</span> <span class="keywordtype">float</span> y0,<span class="keyword">const</span> <span class="keywordtype">float</span> z0,
<a name="l22123"></a>22123                              <span class="keyword">const</span> <span class="keywordtype">float</span> x1,<span class="keyword">const</span> <span class="keywordtype">float</span> y1,<span class="keyword">const</span> <span class="keywordtype">float</span> z1,
<a name="l22124"></a>22124                              <span class="keyword">const</span> <span class="keywordtype">float</span> resx,<span class="keyword">const</span> <span class="keywordtype">float</span> resy,<span class="keyword">const</span> <span class="keywordtype">float</span> resz,
<a name="l22125"></a>22125                              <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives,
<a name="l22126"></a>22126                              <span class="keyword">const</span> <span class="keywordtype">bool</span> invert_faces) {
<a name="l22127"></a>22127 
<a name="l22128"></a>22128     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> edges[256]={
<a name="l22129"></a>22129       0x000, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c, 0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00,
<a name="l22130"></a>22130       0x190, 0x99 , 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c, 0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90,
<a name="l22131"></a>22131       0x230, 0x339, 0x33 , 0x13a, 0x636, 0x73f, 0x435, 0x53c, 0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30,
<a name="l22132"></a>22132       0x3a0, 0x2a9, 0x1a3, 0xaa , 0x7a6, 0x6af, 0x5a5, 0x4ac, 0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0,
<a name="l22133"></a>22133       0x460, 0x569, 0x663, 0x76a, 0x66 , 0x16f, 0x265, 0x36c, 0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60,
<a name="l22134"></a>22134       0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff , 0x3f5, 0x2fc, 0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0,
<a name="l22135"></a>22135       0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55 , 0x15c, 0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950,
<a name="l22136"></a>22136       0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc , 0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0,
<a name="l22137"></a>22137       0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc, 0xcc , 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0,
<a name="l22138"></a>22138       0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c, 0x15c, 0x55 , 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650,
<a name="l22139"></a>22139       0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc, 0x2fc, 0x3f5, 0xff , 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,
<a name="l22140"></a>22140       0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c, 0x36c, 0x265, 0x16f, 0x66 , 0x76a, 0x663, 0x569, 0x460,
<a name="l22141"></a>22141       0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac, 0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa , 0x1a3, 0x2a9, 0x3a0,
<a name="l22142"></a>22142       0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c, 0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33 , 0x339, 0x230,
<a name="l22143"></a>22143       0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c, 0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99 , 0x190,
<a name="l22144"></a>22144       0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c, 0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x000 };
<a name="l22145"></a>22145 
<a name="l22146"></a>22146     <span class="keyword">static</span> <span class="keywordtype">int</span> triangles[256][16] =
<a name="l22147"></a>22147       {{-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22148"></a>22148        {0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22149"></a>22149        {1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22150"></a>22150        {9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1},
<a name="l22151"></a>22151        {3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22152"></a>22152        {1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1},
<a name="l22153"></a>22153        {3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1},
<a name="l22154"></a>22154        {3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1}, {9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22155"></a>22155        {4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22156"></a>22156        {0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22157"></a>22157        {1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1},
<a name="l22158"></a>22158        {9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1}, {2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1},
<a name="l22159"></a>22159        {8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1},
<a name="l22160"></a>22160        {9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1}, {4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1},
<a name="l22161"></a>22161        {3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1}, {1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1},
<a name="l22162"></a>22162        {4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1}, {4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1},
<a name="l22163"></a>22163        {9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22164"></a>22164        {0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22165"></a>22165        {1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22166"></a>22166        {5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1}, {2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1},
<a name="l22167"></a>22167        {9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22168"></a>22168        {0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1}, {2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1},
<a name="l22169"></a>22169        {10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1}, {4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1},
<a name="l22170"></a>22170        {5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1}, {5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1},
<a name="l22171"></a>22171        {9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1},
<a name="l22172"></a>22172        {0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1}, {1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22173"></a>22173        {9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1}, {10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1},
<a name="l22174"></a>22174        {8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1}, {2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1},
<a name="l22175"></a>22175        {7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1}, {9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1},
<a name="l22176"></a>22176        {2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1}, {11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22177"></a>22177        {9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1}, {5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1},
<a name="l22178"></a>22178        {11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1}, {11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22179"></a>22179        {10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22180"></a>22180        {9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22181"></a>22181        {1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1},
<a name="l22182"></a>22182        {9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1}, {5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1},
<a name="l22183"></a>22183        {2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22184"></a>22184        {0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1}, {5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1},
<a name="l22185"></a>22185        {6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1},
<a name="l22186"></a>22186        {3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1}, {6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1},
<a name="l22187"></a>22187        {5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1},
<a name="l22188"></a>22188        {1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1}, {10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1},
<a name="l22189"></a>22189        {6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1}, {1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1},
<a name="l22190"></a>22190        {8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1}, {7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1},
<a name="l22191"></a>22191        {3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1}, {5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1},
<a name="l22192"></a>22192        {0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1}, {9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1},
<a name="l22193"></a>22193        {8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1}, {5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1},
<a name="l22194"></a>22194        {0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1}, {6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1},
<a name="l22195"></a>22195        {10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1},
<a name="l22196"></a>22196        {10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1}, {8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1},
<a name="l22197"></a>22197        {1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1}, {3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1},
<a name="l22198"></a>22198        {0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22199"></a>22199        {10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1},
<a name="l22200"></a>22200        {3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1}, {6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1},
<a name="l22201"></a>22201        {9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1}, {8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1},
<a name="l22202"></a>22202        {3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1}, {6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22203"></a>22203        {7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1}, {0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1},
<a name="l22204"></a>22204        {10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1}, {10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1},
<a name="l22205"></a>22205        {1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1}, {2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1},
<a name="l22206"></a>22206        {7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1}, {7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22207"></a>22207        {2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1}, {2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1},
<a name="l22208"></a>22208        {1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1}, {11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1},
<a name="l22209"></a>22209        {8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1}, {0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22210"></a>22210        {7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1}, {7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22211"></a>22211        {7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22212"></a>22212        {0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22213"></a>22213        {10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1},
<a name="l22214"></a>22214        {2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1}, {6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1},
<a name="l22215"></a>22215        {7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1},
<a name="l22216"></a>22216        {2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1}, {1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1},
<a name="l22217"></a>22217        {10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1}, {10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1},
<a name="l22218"></a>22218        {0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1}, {7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1},
<a name="l22219"></a>22219        {6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22220"></a>22220        {8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1}, {9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1},
<a name="l22221"></a>22221        {6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1}, {1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1},
<a name="l22222"></a>22222        {4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1}, {10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1},
<a name="l22223"></a>22223        {8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1}, {0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22224"></a>22224        {1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1}, {1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22225"></a>22225        {8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1}, {10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1},
<a name="l22226"></a>22226        {4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1}, {10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22227"></a>22227        {4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1},
<a name="l22228"></a>22228        {5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1}, {11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1},
<a name="l22229"></a>22229        {9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1}, {6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1},
<a name="l22230"></a>22230        {7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1}, {3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1},
<a name="l22231"></a>22231        {7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1}, {9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1},
<a name="l22232"></a>22232        {3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1}, {6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1},
<a name="l22233"></a>22233        {9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1}, {1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1},
<a name="l22234"></a>22234        {4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1}, {7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1},
<a name="l22235"></a>22235        {6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1}, {3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1},
<a name="l22236"></a>22236        {0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1}, {6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22237"></a>22237        {1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1}, {0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1},
<a name="l22238"></a>22238        {11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1}, {6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1},
<a name="l22239"></a>22239        {5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1}, {9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1},
<a name="l22240"></a>22240        {1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1}, {1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22241"></a>22241        {1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1}, {10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1},
<a name="l22242"></a>22242        {0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22243"></a>22243        {11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1},
<a name="l22244"></a>22244        {5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1}, {10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1},
<a name="l22245"></a>22245        {11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1},
<a name="l22246"></a>22246        {9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1}, {7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1},
<a name="l22247"></a>22247        {2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1}, {8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1},
<a name="l22248"></a>22248        {9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1}, {9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1},
<a name="l22249"></a>22249        {1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1},
<a name="l22250"></a>22250        {9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1}, {9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22251"></a>22251        {5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1}, {5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1},
<a name="l22252"></a>22252        {0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1}, {10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1},
<a name="l22253"></a>22253        {2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1}, {0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1},
<a name="l22254"></a>22254        {0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1}, {9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22255"></a>22255        {2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1}, {5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1},
<a name="l22256"></a>22256        {3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1}, {5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1},
<a name="l22257"></a>22257        {8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1}, {0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22258"></a>22258        {8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1}, {9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22259"></a>22259        {4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1}, {0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1},
<a name="l22260"></a>22260        {1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1}, {3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1},
<a name="l22261"></a>22261        {4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1}, {9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1},
<a name="l22262"></a>22262        {11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1}, {11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1},
<a name="l22263"></a>22263        {2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1}, {9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1},
<a name="l22264"></a>22264        {3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1}, {1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22265"></a>22265        {4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1}, {4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1},
<a name="l22266"></a>22266        {4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22267"></a>22267        {9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1},
<a name="l22268"></a>22268        {0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1}, {3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22269"></a>22269        {1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1}, {3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1},
<a name="l22270"></a>22270        {0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22271"></a>22271        {2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1}, {9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22272"></a>22272        {2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1}, {1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22273"></a>22273        {1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
<a name="l22274"></a>22274        {0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}};
<a name="l22275"></a>22275 
<a name="l22276"></a>22276     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l22277"></a>22277       nx = (<span class="keywordtype">unsigned</span> int)((x1-x0+1)/resx), nxm1 = nx-1,
<a name="l22278"></a>22278       ny = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((y1-y0+1)/resy), nym1 = ny-1,
<a name="l22279"></a>22279       nz = (<span class="keywordtype">unsigned</span> int)((z1-z0+1)/resz), nzm1 = nz-1;
<a name="l22280"></a>22280 
<a name="l22281"></a>22281     <span class="keywordflow">if</span> (!nxm1 || !nym1 || !nzm1) <span class="keywordflow">return</span>;
<a name="l22282"></a>22282 
<a name="l22283"></a>22283     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;int&gt;</a> indices1(nx,ny,1,3,-1), indices2(indices1);
<a name="l22284"></a>22284     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> values1(nx,ny), values2(nx,ny);
<a name="l22285"></a>22285     <span class="keywordtype">float</span> X=0, Y=0, Z=0, nX=0, nY=0, nZ=0;
<a name="l22286"></a>22286 
<a name="l22287"></a>22287     <span class="comment">// Fill the first plane with function values</span>
<a name="l22288"></a>22288     Y=y0;
<a name="l22289"></a>22289     cimg_forY(values1,y) {
<a name="l22290"></a>22290       X = x0;
<a name="l22291"></a>22291       cimg_forX(values1,x) { values1(x,y) = (float)func(X,Y,z0); X+=resx; }
<a name="l22292"></a>22292       Y+=resy;
<a name="l22293"></a>22293     }
<a name="l22294"></a>22294 
<a name="l22295"></a>22295     <span class="comment">// Run Marching Cubes algorithm</span>
<a name="l22296"></a>22296     Z = z0; nZ = Z + resz;
<a name="l22297"></a>22297     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zi=0; zi&lt;nzm1; ++zi, Z=nZ, nZ+=resz) {
<a name="l22298"></a>22298       Y = y0; nY = Y + resy;
<a name="l22299"></a>22299       indices2.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(-1);
<a name="l22300"></a>22300       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> yi=0, nyi=1; yi&lt;nym1; ++yi, ++nyi, Y=nY, nY+=resy) {
<a name="l22301"></a>22301         X = x0; nX = X + resx;
<a name="l22302"></a>22302         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xi=0, nxi=1; xi&lt;nxm1; ++xi, ++nxi, X=nX, nX+=resx) {
<a name="l22303"></a>22303 
<a name="l22304"></a>22304           <span class="comment">// Determine cube configuration</span>
<a name="l22305"></a>22305           <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l22306"></a>22306             val0 = values1(xi,yi), val1 = values1(nxi,yi), val2 = values1(nxi,nyi), val3 = values1(xi,nyi),
<a name="l22307"></a>22307             val4 = values2(xi,yi) = (float)func(X,Y,nZ),
<a name="l22308"></a>22308             val5 = values2(nxi,yi) = (float)func(nX,Y,nZ),
<a name="l22309"></a>22309             val6 = values2(nxi,nyi) = (float)func(nX,nY,nZ),
<a name="l22310"></a>22310             val7 = values2(xi,nyi) = (float)func(X,nY,nZ);
<a name="l22311"></a>22311 
<a name="l22312"></a>22312           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> configuration =
<a name="l22313"></a>22313             (val0&lt;isovalue?1:0)  | (val1&lt;isovalue?2:0)  | (val2&lt;isovalue?4:0)  | (val3&lt;isovalue?8:0) |
<a name="l22314"></a>22314             (val4&lt;isovalue?16:0) | (val5&lt;isovalue?32:0) | (val6&lt;isovalue?64:0) | (val7&lt;isovalue?128:0),
<a name="l22315"></a>22315             edge = edges[configuration];
<a name="l22316"></a>22316 
<a name="l22317"></a>22317           <span class="comment">// Compute intersection points</span>
<a name="l22318"></a>22318           <span class="keywordflow">if</span> (edge) {
<a name="l22319"></a>22319             <span class="keywordflow">if</span> ((edge&amp;1) &amp;&amp; indices1(xi,yi,0)&lt;0) {
<a name="l22320"></a>22320               <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val0)*resx/(val1-val0);
<a name="l22321"></a>22321               indices1(xi,yi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22322"></a>22322               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,Y,Z));
<a name="l22323"></a>22323             }
<a name="l22324"></a>22324             <span class="keywordflow">if</span> ((edge&amp;2) &amp;&amp; indices1(nxi,yi,1)&lt;0) {
<a name="l22325"></a>22325               <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val1)*resy/(val2-val1);
<a name="l22326"></a>22326               indices1(nxi,yi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22327"></a>22327               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(nX,Yi,Z));
<a name="l22328"></a>22328             }
<a name="l22329"></a>22329             <span class="keywordflow">if</span> ((edge&amp;4) &amp;&amp; indices1(xi,nyi,0)&lt;0) {
<a name="l22330"></a>22330               <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val3)*resx/(val2-val3);
<a name="l22331"></a>22331               indices1(xi,nyi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22332"></a>22332               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,nY,Z));
<a name="l22333"></a>22333             }
<a name="l22334"></a>22334             <span class="keywordflow">if</span> ((edge&amp;8) &amp;&amp; indices1(xi,yi,1)&lt;0) {
<a name="l22335"></a>22335               <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val0)*resy/(val3-val0);
<a name="l22336"></a>22336               indices1(xi,yi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22337"></a>22337               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(X,Yi,Z));
<a name="l22338"></a>22338             }
<a name="l22339"></a>22339             <span class="keywordflow">if</span> ((edge&amp;16) &amp;&amp; indices2(xi,yi,0)&lt;0) {
<a name="l22340"></a>22340               <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val4)*resx/(val5-val4);
<a name="l22341"></a>22341               indices2(xi,yi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22342"></a>22342               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,Y,nZ));
<a name="l22343"></a>22343             }
<a name="l22344"></a>22344             <span class="keywordflow">if</span> ((edge&amp;32) &amp;&amp; indices2(nxi,yi,1)&lt;0) {
<a name="l22345"></a>22345               <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val5)*resy/(val6-val5);
<a name="l22346"></a>22346               indices2(nxi,yi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22347"></a>22347               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(nX,Yi,nZ));
<a name="l22348"></a>22348             }
<a name="l22349"></a>22349             <span class="keywordflow">if</span> ((edge&amp;64) &amp;&amp; indices2(xi,nyi,0)&lt;0) {
<a name="l22350"></a>22350               <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val7)*resx/(val6-val7);
<a name="l22351"></a>22351               indices2(xi,nyi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22352"></a>22352               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,nY,nZ));
<a name="l22353"></a>22353             }
<a name="l22354"></a>22354             <span class="keywordflow">if</span> ((edge&amp;128) &amp;&amp; indices2(xi,yi,1)&lt;0)  {
<a name="l22355"></a>22355               <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val4)*resy/(val7-val4);
<a name="l22356"></a>22356               indices2(xi,yi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22357"></a>22357               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(X,Yi,nZ));
<a name="l22358"></a>22358             }
<a name="l22359"></a>22359             <span class="keywordflow">if</span> ((edge&amp;256) &amp;&amp; indices1(xi,yi,2)&lt;0) {
<a name="l22360"></a>22360               <span class="keyword">const</span> <span class="keywordtype">float</span> Zi = Z+ (isovalue-val0)*resz/(val4-val0);
<a name="l22361"></a>22361               indices1(xi,yi,2) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22362"></a>22362               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(X,Y,Zi));
<a name="l22363"></a>22363             }
<a name="l22364"></a>22364             <span class="keywordflow">if</span> ((edge&amp;512) &amp;&amp; indices1(nxi,yi,2)&lt;0)  {
<a name="l22365"></a>22365               <span class="keyword">const</span> <span class="keywordtype">float</span> Zi = Z + (isovalue-val1)*resz/(val5-val1);
<a name="l22366"></a>22366               indices1(nxi,yi,2) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22367"></a>22367               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(nX,Y,Zi));
<a name="l22368"></a>22368             }
<a name="l22369"></a>22369             <span class="keywordflow">if</span> ((edge&amp;1024) &amp;&amp; indices1(nxi,nyi,2)&lt;0) {
<a name="l22370"></a>22370               <span class="keyword">const</span> <span class="keywordtype">float</span> Zi = Z + (isovalue-val2)*resz/(val6-val2);
<a name="l22371"></a>22371               indices1(nxi,nyi,2) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22372"></a>22372               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(nX,nY,Zi));
<a name="l22373"></a>22373             }
<a name="l22374"></a>22374             <span class="keywordflow">if</span> ((edge&amp;2048) &amp;&amp; indices1(xi,nyi,2)&lt;0) {
<a name="l22375"></a>22375               <span class="keyword">const</span> <span class="keywordtype">float</span> Zi = Z + (isovalue-val3)*resz/(val7-val3);
<a name="l22376"></a>22376               indices1(xi,nyi,2) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22377"></a>22377               points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(X,nY,Zi));
<a name="l22378"></a>22378             }
<a name="l22379"></a>22379 
<a name="l22380"></a>22380             <span class="comment">// Create triangles</span>
<a name="l22381"></a>22381             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> *triangle=triangles[configuration]; *triangle!=-1; ) {
<a name="l22382"></a>22382               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p0 = *(triangle++), p1 = *(triangle++), p2 = *(triangle++);
<a name="l22383"></a>22383               <span class="keyword">const</span> tf
<a name="l22384"></a>22384                 i0 = (tf)(_marching_cubes_indice(p0,indices1,indices2,xi,yi,nxi,nyi)),
<a name="l22385"></a>22385                 i1 = (tf)(_marching_cubes_indice(p1,indices1,indices2,xi,yi,nxi,nyi)),
<a name="l22386"></a>22386                 i2 = (tf)(_marching_cubes_indice(p2,indices1,indices2,xi,yi,nxi,nyi));
<a name="l22387"></a>22387               <span class="keywordflow">if</span> (invert_faces) primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i1,i2));
<a name="l22388"></a>22388               <span class="keywordflow">else</span> primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i2,i1));
<a name="l22389"></a>22389             }
<a name="l22390"></a>22390           }
<a name="l22391"></a>22391         }
<a name="l22392"></a>22392       }
<a name="l22393"></a>22393       cimg::swap(values1,values2);
<a name="l22394"></a>22394       cimg::swap(indices1,indices2);
<a name="l22395"></a>22395     }
<a name="l22396"></a>22396   }
<a name="l22397"></a>22397 
<a name="l22398"></a>22398   <span class="comment">// Inner routine used by the Marching square algorithm</span>
<a name="l22399"></a>22399   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> t&gt; <span class="keyword">inline</span> <span class="keywordtype">int</span> _marching_squares_indice(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> edge, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; indices1, <span class="keyword">const</span> <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;t&gt;</a>&amp; indices2,
<a name="l22400"></a>22400                                                            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nx) {
<a name="l22401"></a>22401     <span class="keywordflow">switch</span> (edge) {
<a name="l22402"></a>22402     <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)indices1(x,0);
<a name="l22403"></a>22403     <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)indices1(nx,1);
<a name="l22404"></a>22404     <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)indices2(x,0);
<a name="l22405"></a>22405     <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)indices1(x,1);
<a name="l22406"></a>22406     }
<a name="l22407"></a>22407     <span class="keywordflow">return</span> 0;
<a name="l22408"></a>22408   }
<a name="l22409"></a>22409 
<a name="l22411"></a>22411   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> tfunc, <span class="keyword">typename</span> tp, <span class="keyword">typename</span> tf&gt;
<a name="l22412"></a><a class="code" href="namespacecimg__library_1_1cimg.html#a4b717b5f772d40d4026e42a0b943124d">22412</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structcimg__library_1_1_c_img.html#a0df9232fe93ebb8958532b48f8b2fb9f" title="Get a vectorization of an implicit function defined by the instance image.">marching_squares</a>(<span class="keyword">const</span> tfunc&amp; func, <span class="keyword">const</span> <span class="keywordtype">float</span> isovalue,
<a name="l22413"></a>22413                                <span class="keyword">const</span> <span class="keywordtype">float</span> x0,<span class="keyword">const</span> <span class="keywordtype">float</span> y0,
<a name="l22414"></a>22414                                <span class="keyword">const</span> <span class="keywordtype">float</span> x1,<span class="keyword">const</span> <span class="keywordtype">float</span> y1,
<a name="l22415"></a>22415                                <span class="keyword">const</span> <span class="keywordtype">float</span> resx,<span class="keyword">const</span> <span class="keywordtype">float</span> resy,
<a name="l22416"></a>22416                                <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tp&gt;</a>&amp; points, <a class="code" href="structcimg__library_1_1_c_img_list.html" title="Class representing list of images CImg&amp;lt;T&amp;gt;.">CImgList&lt;tf&gt;</a>&amp; primitives) {
<a name="l22417"></a>22417 
<a name="l22418"></a>22418     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> edges[16]={ 0x0, 0x9, 0x3, 0xa, 0x6, 0xf, 0x5, 0xc, 0xc, 0x5, 0xf, 0x6, 0xa, 0x3, 0x9, 0x0 };
<a name="l22419"></a>22419     <span class="keyword">static</span> <span class="keywordtype">int</span> segments[16][4] = { { -1,-1,-1,-1 }, { 0,3,-1,-1 }, { 0,1,-1,-1 }, { 1,3,-1,-1 },
<a name="l22420"></a>22420                                    { 1,2,-1,-1 },   { 0,1,2,3 },   { 0,2,-1,-1 }, { 2,3,-1,-1 },
<a name="l22421"></a>22421                                    { 2,3,-1,-1 },   { 0,2,-1,-1},  { 0,3,1,2 },   { 1,2,-1,-1 },
<a name="l22422"></a>22422                                    { 1,3,-1,-1 },   { 0,1,-1,-1},  { 0,3,-1,-1},  { -1,-1,-1,-1 } };
<a name="l22423"></a>22423     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l22424"></a>22424       nx = (<span class="keywordtype">unsigned</span> int)((x1-x0+1)/resx), nxm1 = nx-1,
<a name="l22425"></a>22425       ny = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((y1-y0+1)/resy), nym1 = ny-1;
<a name="l22426"></a>22426 
<a name="l22427"></a>22427     <span class="keywordflow">if</span> (!nxm1 || !nym1) <span class="keywordflow">return</span>;
<a name="l22428"></a>22428 
<a name="l22429"></a>22429     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;int&gt;</a> indices1(nx,1,1,2,-1), indices2(nx,1,1,2);
<a name="l22430"></a>22430     <a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;float&gt;</a> values1(nx), values2(nx);
<a name="l22431"></a>22431     <span class="keywordtype">float</span> X = 0, Y = 0, nX = 0, nY = 0;
<a name="l22432"></a>22432 
<a name="l22433"></a>22433     <span class="comment">// Fill first line with values</span>
<a name="l22434"></a>22434     cimg_forX(values1,x) { values1(x) = (float)func(X,Y); X+=resx; }
<a name="l22435"></a>22435 
<a name="l22436"></a>22436     <span class="comment">// Run the marching squares algorithm</span>
<a name="l22437"></a>22437     Y = y0; nY = Y + resy;
<a name="l22438"></a>22438     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> yi=0, nyi=1; yi&lt;nym1; ++yi, ++nyi, Y=nY, nY+=resy) {
<a name="l22439"></a>22439       X = x0; nX = X + resx;
<a name="l22440"></a>22440       indices2.<a class="code" href="structcimg__library_1_1_c_img.html#a22c7685eaf6d61e3e25186f702cc89d0" title="Fill an image by a value val.">fill</a>(-1);
<a name="l22441"></a>22441       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xi=0, nxi=1; xi&lt;nxm1; ++xi, ++nxi, X=nX, nX+=resx) {
<a name="l22442"></a>22442 
<a name="l22443"></a>22443         <span class="comment">// Determine cube configuration</span>
<a name="l22444"></a>22444         <span class="keyword">const</span> <span class="keywordtype">float</span>
<a name="l22445"></a>22445           val0 = values1(xi), val1 = values1(nxi),
<a name="l22446"></a>22446           val2 = values2(nxi) = (float)func(nX,nY),
<a name="l22447"></a>22447           val3 = values2(xi) = (float)func(X,nY);
<a name="l22448"></a>22448 
<a name="l22449"></a>22449         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> configuration = (val0&lt;isovalue?1:0)  | (val1&lt;isovalue?2:0)  | (val2&lt;isovalue?4:0)  | (val3&lt;isovalue?8:0),
<a name="l22450"></a>22450           edge = edges[configuration];
<a name="l22451"></a>22451 
<a name="l22452"></a>22452         <span class="comment">// Compute intersection points</span>
<a name="l22453"></a>22453         <span class="keywordflow">if</span> (edge) {
<a name="l22454"></a>22454           <span class="keywordflow">if</span> ((edge&amp;1) &amp;&amp; indices1(xi,0)&lt;0) {
<a name="l22455"></a>22455             <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val0)*resx/(val1-val0);
<a name="l22456"></a>22456             indices1(xi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22457"></a>22457             points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,Y));
<a name="l22458"></a>22458           }
<a name="l22459"></a>22459           <span class="keywordflow">if</span> ((edge&amp;2) &amp;&amp; indices1(nxi,1)&lt;0) {
<a name="l22460"></a>22460             <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val1)*resy/(val2-val1);
<a name="l22461"></a>22461             indices1(nxi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22462"></a>22462             points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(nX,Yi));
<a name="l22463"></a>22463           }
<a name="l22464"></a>22464           <span class="keywordflow">if</span> ((edge&amp;4) &amp;&amp; indices2(xi,0)&lt;0) {
<a name="l22465"></a>22465             <span class="keyword">const</span> <span class="keywordtype">float</span> Xi = X + (isovalue-val3)*resx/(val2-val3);
<a name="l22466"></a>22466             indices2(xi,0) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22467"></a>22467             points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(Xi,nY));
<a name="l22468"></a>22468           }
<a name="l22469"></a>22469           <span class="keywordflow">if</span> ((edge&amp;8) &amp;&amp; indices1(xi,1)&lt;0) {
<a name="l22470"></a>22470             <span class="keyword">const</span> <span class="keywordtype">float</span> Yi = Y + (isovalue-val0)*resy/(val3-val0);
<a name="l22471"></a>22471             indices1(xi,1) = points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aa445f53f3fc891f1018c570706911a6e" title="Size of the list (number of elements inside).">size</a>;
<a name="l22472"></a>22472             points.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tp&gt;::vector</a>(X,Yi));
<a name="l22473"></a>22473           }
<a name="l22474"></a>22474 
<a name="l22475"></a>22475           <span class="comment">// Create segments</span>
<a name="l22476"></a>22476           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> *segment=segments[configuration]; *segment!=-1; ) {
<a name="l22477"></a>22477             <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p0 = *(segment++), p1 = *(segment++);
<a name="l22478"></a>22478             <span class="keyword">const</span> tf
<a name="l22479"></a>22479               i0 = (tf)(_marching_squares_indice(p0,indices1,indices2,xi,nxi)),
<a name="l22480"></a>22480               i1 = (tf)(_marching_squares_indice(p1,indices1,indices2,xi,nxi));
<a name="l22481"></a>22481             primitives.<a class="code" href="structcimg__library_1_1_c_img_list.html#aedbaab83c480227b6f4729e0d54909c5" title="Insert a copy of the image img into the current image list, at position pos.">insert</a>(<a class="code" href="structcimg__library_1_1_c_img.html" title="Class representing an image (up to 4 dimensions wide), each pixel being of type T.">CImg&lt;tf&gt;::vector</a>(i0,i1));
<a name="l22482"></a>22482           }
<a name="l22483"></a>22483         }
<a name="l22484"></a>22484       }
<a name="l22485"></a>22485       values1.swap(values2);
<a name="l22486"></a>22486       indices1.swap(indices2);
<a name="l22487"></a>22487     }
<a name="l22488"></a>22488   }
<a name="l22489"></a>22489 
<a name="l22490"></a>22490   <span class="comment">// End of cimg:: namespace</span>
<a name="l22491"></a>22491 }
<a name="l22492"></a>22492 
<a name="l22493"></a>22493   <span class="comment">// End of cimg_library:: namespace</span>
<a name="l22494"></a>22494 }
<a name="l22495"></a>22495 
<a name="l22496"></a>22496 <span class="preprocessor">#ifdef std</span>
<a name="l22497"></a>22497 <span class="preprocessor"></span><span class="preprocessor">#undef std</span>
<a name="l22498"></a>22498 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l22499"></a>22499 <span class="preprocessor"></span>
<a name="l22500"></a>22500 <span class="preprocessor">#endif</span>
<a name="l22501"></a>22501 <span class="preprocessor"></span>
<a name="l22502"></a>22502 <span class="comment">// Local Variables:</span>
<a name="l22503"></a>22503 <span class="comment">// mode: c++</span>
<a name="l22504"></a>22504 <span class="comment">// End:</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 5 2011 18:25:06 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
